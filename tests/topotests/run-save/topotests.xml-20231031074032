<?xml version="1.0" encoding="utf-8"?><testsuites><testsuite name="pytest" errors="0" failures="0" skipped="1" tests="8" time="104.612" timestamp="2023-10-31T07:38:48.098770" hostname="cnic"><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_memory_leak" time="8.298"><skipped type="pytest.skip" message="Memory leak test/report is disabled">/home/cnic/frr-pr/tests/topotests/lib/ltemplate.py:197: Memory leak test/report is disabled</skipped><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_check_linux_vrf" time="0.177"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/check_linux_vrf.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/check_linux_vrf.py
Tue Oct 31 07:38:56 2023 (#1) scripts/check_linux_vrf.py:0 COMMAND:r1:ip link show type vrf r1-cust1:cust1: .*UP:pass:VRF cust1 intf up:
COMMAND OUTPUT:4: r1-cust1: &lt;NOARP,MASTER,UP,LOWER_UP&gt; mtu 65575 qdisc noqueue state UP mode DEFAULT group default qlen 1000
    link/ether 06:db:ad:fb:19:d2 brd ff:ff:ff:ff:ff:ff:
R:1    r1     VRF cust1 intf up                                        1    0
Tue Oct 31 07:38:56 2023 (#2) scripts/check_linux_vrf.py:0 COMMAND:r1:ip add show vrf r1-cust1:r..eth4.*UP:pass:VRF cust1 IP intf up:
COMMAND OUTPUT:2: r1-eth4@if2: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r1-cust1 state UP group default qlen 1000
    link/ether 2e:7a:fe:f1:d9:44 brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.168.1.1/24 brd 192.168.1.255 scope global r1-eth4
       valid_lft forever preferred_lft forever
    inet6 fe80::2c7a:feff:fef1:d944/64 scope link 
       valid_lft forever preferred_lft forever:
R:2    r1     VRF cust1 IP intf up                                     1    0
Tue Oct 31 07:38:56 2023 (#3) scripts/check_linux_vrf.py:0 COMMAND:r1:ip add show vrf r1-cust1:192.168:pass:VRF cust1 IP config:
COMMAND OUTPUT:2: r1-eth4@if2: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r1-cust1 state UP group default qlen 1000
    link/ether 2e:7a:fe:f1:d9:44 brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.168.1.1/24 brd 192.168.1.255 scope global r1-eth4
       valid_lft forever preferred_lft forever
    inet6 fe80::2c7a:feff:fef1:d944/64 scope link 
       valid_lft forever preferred_lft forever:
R:3    r1     VRF cust1 IP config                                      1    0
Tue Oct 31 07:38:56 2023 (#4) scripts/check_linux_vrf.py:0 COMMAND:r1:ip route show vrf r1-cust1:192.168...0/24 dev r.-eth:pass:VRF cust1 interface route:
COMMAND OUTPUT:99.0.0.1 nhid 16 via 192.168.1.2 dev r1-eth4 proto bgp metric 20 
192.168.1.0/24 dev r1-eth4 proto kernel scope link src 192.168.1.1:
R:4    r1     VRF cust1 interface route                                1    0
Tue Oct 31 07:38:56 2023 (#5) scripts/check_linux_vrf.py:0 COMMAND:r3:ip link show type vrf r3-cust1:cust1: .*UP:pass:VRF cust1 intf up:
COMMAND OUTPUT:5: r3-cust1: &lt;NOARP,MASTER,UP,LOWER_UP&gt; mtu 65575 qdisc noqueue state UP mode DEFAULT group default qlen 1000
    link/ether be:68:f5:5e:43:14 brd ff:ff:ff:ff:ff:ff:
R:5    r3     VRF cust1 intf up                                        1    0
Tue Oct 31 07:38:56 2023 (#6) scripts/check_linux_vrf.py:0 COMMAND:r3:ip add show vrf r3-cust1:r..eth4.*UP:pass:VRF cust1 IP intf up:
COMMAND OUTPUT:2: r3-eth4@if3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r3-cust1 state UP group default qlen 1000
    link/ether 0e:88:85:59:05:c9 brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.168.1.1/24 brd 192.168.1.255 scope global r3-eth4
       valid_lft forever preferred_lft forever
    inet6 fe80::c88:85ff:fe59:5c9/64 scope link 
       valid_lft forever preferred_lft forever:
R:6    r3     VRF cust1 IP intf up                                     1    0
Tue Oct 31 07:38:56 2023 (#7) scripts/check_linux_vrf.py:0 COMMAND:r3:ip add show vrf r3-cust1:192.168:pass:VRF cust1 IP config:
COMMAND OUTPUT:2: r3-eth4@if3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r3-cust1 state UP group default qlen 1000
    link/ether 0e:88:85:59:05:c9 brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.168.1.1/24 brd 192.168.1.255 scope global r3-eth4
       valid_lft forever preferred_lft forever
    inet6 fe80::c88:85ff:fe59:5c9/64 scope link 
       valid_lft forever preferred_lft forever:
R:7    r3     VRF cust1 IP config                                      1    0
Tue Oct 31 07:38:56 2023 (#8) scripts/check_linux_vrf.py:0 COMMAND:r3:ip route show vrf r3-cust1:192.168...0/24 dev r.-eth:pass:VRF cust1 interface route:
COMMAND OUTPUT:192.168.1.0/24 dev r3-eth4 proto kernel scope link src 192.168.1.1:
R:8    r3     VRF cust1 interface route                                1    0
Tue Oct 31 07:38:56 2023 (#9) scripts/check_linux_vrf.py:0 COMMAND:r4:ip link show type vrf r4-cust1:cust1: .*UP:pass:VRF cust1 intf up:
COMMAND OUTPUT:5: r4-cust1: &lt;NOARP,MASTER,UP,LOWER_UP&gt; mtu 65575 qdisc noqueue state UP mode DEFAULT group default qlen 1000
    link/ether b6:23:6d:5d:70:9e brd ff:ff:ff:ff:ff:ff:
R:9    r4     VRF cust1 intf up                                        1    0
Tue Oct 31 07:38:56 2023 (#10) scripts/check_linux_vrf.py:0 COMMAND:r4:ip add show vrf r4-cust1:r..eth4.*UP:pass:VRF cust1 IP intf up:
COMMAND OUTPUT:2: r4-eth4@if4: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r4-cust1 state UP group default qlen 1000
    link/ether 96:af:3e:0e:5b:47 brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.168.1.1/24 brd 192.168.1.255 scope global r4-eth4
       valid_lft forever preferred_lft forever
    inet6 fe80::94af:3eff:fe0e:5b47/64 scope link 
       valid_lft forever preferred_lft forever:
R:10   r4     VRF cust1 IP intf up                                     1    0
Tue Oct 31 07:38:56 2023 (#11) scripts/check_linux_vrf.py:0 COMMAND:r4:ip add show vrf r4-cust1:192.168:pass:VRF cust1 IP config:
COMMAND OUTPUT:2: r4-eth4@if4: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r4-cust1 state UP group default qlen 1000
    link/ether 96:af:3e:0e:5b:47 brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.168.1.1/24 brd 192.168.1.255 scope global r4-eth4
       valid_lft forever preferred_lft forever
    inet6 fe80::94af:3eff:fe0e:5b47/64 scope link 
       valid_lft forever preferred_lft forever:
R:11   r4     VRF cust1 IP config                                      1    0
Tue Oct 31 07:38:56 2023 (#12) scripts/check_linux_vrf.py:0 COMMAND:r4:ip route show vrf r4-cust1:192.168...0/24 dev r.-eth:pass:VRF cust1 interface route:
COMMAND OUTPUT:192.168.1.0/24 dev r4-eth4 proto kernel scope link src 192.168.1.1:
R:12   r4     VRF cust1 interface route                                1    0
Tue Oct 31 07:38:56 2023 (#13) scripts/check_linux_vrf.py:0 COMMAND:r4:ip link show type vrf r4-cust2:cust2: .*UP:pass:VRF cust2 up:
COMMAND OUTPUT:6: r4-cust2: &lt;NOARP,MASTER,UP,LOWER_UP&gt; mtu 65575 qdisc noqueue state UP mode DEFAULT group default qlen 1000
    link/ether 0e:ae:74:9c:36:36 brd ff:ff:ff:ff:ff:ff:
R:13   r4     VRF cust2 up                                             1    0
Tue Oct 31 07:38:56 2023 (#14) scripts/check_linux_vrf.py:0 COMMAND:r4:ip add show vrf r4-cust2:r..eth5.*UP.* 192.168:pass:VRF cust1 IP config:
COMMAND OUTPUT:3: r4-eth5@if5: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r4-cust2 state UP group default qlen 1000
    link/ether 0a:30:b6:15:e1:bf brd ff:ff:ff:ff:ff:ff link-netnsid 1
    inet 192.168.2.1/24 brd 192.168.2.255 scope global r4-eth5
       valid_lft forever preferred_lft forever
    inet6 fe80::830:b6ff:fe15:e1bf/64 scope link 
       valid_lft forever preferred_lft forever:
R:14   r4     VRF cust1 IP config                                      1    0
Tue Oct 31 07:38:56 2023 (#15) scripts/check_linux_vrf.py:0 COMMAND:r4:ip route show vrf r4-cust2:192.168...0/24 dev r.-eth:pass:VRF cust2 interface route:
COMMAND OUTPUT:192.168.2.0/24 dev r4-eth5 proto kernel scope link src 192.168.2.1:
R:15   r4     VRF cust2 interface route                                1    0
Tue Oct 31 07:38:56 2023 (#16) scripts/check_linux_vrf.py:0 COMMAND:ce1:ip route show:192.168...0/24 dev ce.-eth0:pass:CE interface route:
COMMAND OUTPUT:192.168.1.0/24 dev ce1-eth0 proto kernel scope link src 192.168.1.2:
R:16   ce1    CE interface route                                       1    0
scripts/check_linux_vrf.py:0 WAIT:ce1:ping 192.168.1.1 -c 1: 0. packet loss:wait:CE-&gt;PE ping:10:0.5:
Tue Oct 31 07:38:56 2023 (#17) scripts/check_linux_vrf.py:0 COMMAND:ce1:ping 192.168.1.1 -c 1: 0. packet loss:wait:CE-&gt;PE ping:
COMMAND OUTPUT:PING 192.168.1.1 (192.168.1.1) 56(84) bytes of data.
64 bytes from 192.168.1.1: icmp_seq=1 ttl=64 time=0.024 ms

--- 192.168.1.1 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.024/0.024/0.024/0.000 ms:
R:17   ce1    CE-&gt;PE ping +0.00 secs                                   1    0
Done after 1 loops, time=0.0039272308349609375, Found= 0% packet loss
Tue Oct 31 07:38:56 2023 (#18) scripts/check_linux_vrf.py:0 COMMAND:ce2:ip route show:192.168...0/24 dev ce.-eth0:pass:CE interface route:
COMMAND OUTPUT:192.168.1.0/24 dev ce2-eth0 proto kernel scope link src 192.168.1.2:
R:18   ce2    CE interface route                                       1    0
scripts/check_linux_vrf.py:0 WAIT:ce2:ping 192.168.1.1 -c 1: 0. packet loss:wait:CE-&gt;PE ping:10:0.5:
Tue Oct 31 07:38:56 2023 (#19) scripts/check_linux_vrf.py:0 COMMAND:ce2:ping 192.168.1.1 -c 1: 0. packet loss:wait:CE-&gt;PE ping:
COMMAND OUTPUT:PING 192.168.1.1 (192.168.1.1) 56(84) bytes of data.
64 bytes from 192.168.1.1: icmp_seq=1 ttl=64 time=0.026 ms

--- 192.168.1.1 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.026/0.026/0.026/0.000 ms:
R:19   ce2    CE-&gt;PE ping +0.00 secs                                   1    0
Done after 1 loops, time=0.003851175308227539, Found= 0% packet loss
Tue Oct 31 07:38:56 2023 (#20) scripts/check_linux_vrf.py:0 COMMAND:ce3:ip route show:192.168...0/24 dev ce.-eth0:pass:CE interface route:
COMMAND OUTPUT:192.168.1.0/24 dev ce3-eth0 proto kernel scope link src 192.168.1.2:
R:20   ce3    CE interface route                                       1    0
scripts/check_linux_vrf.py:0 WAIT:ce3:ping 192.168.1.1 -c 1: 0. packet loss:wait:CE-&gt;PE ping:10:0.5:
Tue Oct 31 07:38:56 2023 (#21) scripts/check_linux_vrf.py:0 COMMAND:ce3:ping 192.168.1.1 -c 1: 0. packet loss:wait:CE-&gt;PE ping:
COMMAND OUTPUT:PING 192.168.1.1 (192.168.1.1) 56(84) bytes of data.
64 bytes from 192.168.1.1: icmp_seq=1 ttl=64 time=0.019 ms

--- 192.168.1.1 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.019/0.019/0.019/0.000 ms:
R:21   ce3    CE-&gt;PE ping +0.00 secs                                   1    0
Done after 1 loops, time=0.004039287567138672, Found= 0% packet loss
Tue Oct 31 07:38:56 2023 (#22) scripts/check_linux_vrf.py:0 COMMAND:ce4:ip link show type vrf ce4-cust2:cust2: .*UP:pass:VRF cust2 up:
COMMAND OUTPUT:2: ce4-cust2: &lt;NOARP,MASTER,UP,LOWER_UP&gt; mtu 65575 qdisc noqueue state UP mode DEFAULT group default qlen 1000
    link/ether 02:4b:98:92:fa:37 brd ff:ff:ff:ff:ff:ff:
R:22   ce4    VRF cust2 up                                             1    0
Tue Oct 31 07:38:56 2023 (#23) scripts/check_linux_vrf.py:0 COMMAND:ce4:ip route show vrf ce4-cust2:192.168...0/24 dev ce.-eth0:pass:CE interface route:
COMMAND OUTPUT:192.168.2.0/24 dev ce4-eth0 proto kernel scope link src 192.168.2.2:
R:23   ce4    CE interface route                                       1    0
scripts/check_linux_vrf.py:0 WAIT:ce4:ping 192.168.2.1 -c 1 -I ce4-cust2: 0. packet loss:wait:CE4-&gt;PE4 ping:10:0.5:
Tue Oct 31 07:38:56 2023 (#24) scripts/check_linux_vrf.py:0 COMMAND:ce4:ping 192.168.2.1 -c 1 -I ce4-cust2: 0. packet loss:wait:CE4-&gt;PE4 ping:
COMMAND OUTPUT:ping: Warning: source address might be selected on device other than: ce4-cust2
PING 192.168.2.1 (192.168.2.1) from 192.168.2.2 ce4-cust2: 56(84) bytes of data.
64 bytes from 192.168.2.1: icmp_seq=1 ttl=64 time=0.023 ms

--- 192.168.2.1 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.023/0.023/0.023/0.000 ms:
R:24   ce4    CE4-&gt;PE4 ping +0.00 secs                                 1    0
Done after 1 loops, time=0.004216194152832031, Found= 0% packet loss

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_adjacencies" time="16.757"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/adjacencies.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/adjacencies.py
scripts/adjacencies.py:0 WAIT:ce1:vtysh -c "show bgp summary": 00:0:wait:Adjacencies up:180:0.5:
Tue Oct 31 07:38:56 2023 (#25) scripts/adjacencies.py:0 COMMAND:ce1:vtysh -c "show bgp summary": 00:0:wait:Adjacencies up:
COMMAND OUTPUT:
IPv4 Unicast Summary (VRF default):
BGP router identifier 99.0.0.1, local AS number 5227 vrf-id 0
BGP table version 1
RIB entries 1, using 192 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.1     4       5227         3         4        1    0    0 00:00:01            0        1 N/A

Total number of neighbors 1:
R:25   ce1    Adjacencies up +0.03 secs                                1    0
Done after 1 loops, time=0.03325819969177246, Found= 00:0
scripts/adjacencies.py:0 WAIT:ce2:vtysh -c "show bgp summary": 00:0:wait:Adjacencies up:180:0.5:
Tue Oct 31 07:38:56 2023 (#26) scripts/adjacencies.py:0 COMMAND:ce2:vtysh -c "show bgp summary": 00:0:wait:Adjacencies up:
COMMAND OUTPUT:
IPv4 Unicast Summary (VRF default):
BGP router identifier 99.0.0.2, local AS number 5227 vrf-id 0
BGP table version 1
RIB entries 1, using 192 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.1     4       5227         2         2        0    0    0 00:00:01            0        0 N/A

Total number of neighbors 1:
R:26   ce2    Adjacencies up +0.03 secs                                1    0
Done after 1 loops, time=0.03368091583251953, Found= 00:0
scripts/adjacencies.py:0 WAIT:ce3:vtysh -c "show bgp summary": 00:0:wait:Adjacencies up:180:0.5:
Tue Oct 31 07:38:56 2023 (#27) scripts/adjacencies.py:0 COMMAND:ce3:vtysh -c "show bgp summary": 00:0:wait:Adjacencies up:
COMMAND OUTPUT:
IPv4 Unicast Summary (VRF default):
BGP router identifier 99.0.0.3, local AS number 5227 vrf-id 0
BGP table version 1
RIB entries 1, using 192 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.1     4       5227         2         2        0    0    0 00:00:00            0        0 N/A

Total number of neighbors 1:
R:27   ce3    Adjacencies up +0.03 secs                                1    0
Done after 1 loops, time=0.03257155418395996, Found= 00:0
scripts/adjacencies.py:0 WAIT:ce4:vtysh -c "show bgp vrf all summary": 00:0:wait:Adjacencies up:180:0.5:
Tue Oct 31 07:38:56 2023 (#28) scripts/adjacencies.py:0 COMMAND:ce4:vtysh -c "show bgp vrf all summary": 00:0:wait:Adjacencies up:
COMMAND OUTPUT:
IPv4 Unicast Summary (VRF ce4-cust2):
BGP router identifier 99.0.0.4, local AS number 5228 vrf-id 2
BGP table version 1
RIB entries 1, using 192 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.2.1     4       5228         3         4        0    0    0 00:00:01            0        0 N/A

Total number of neighbors 1:
R:28   ce4    Adjacencies up +0.04 secs                                1    0
Done after 1 loops, time=0.03607654571533203, Found= 00:0
scripts/adjacencies.py:0 WAIT:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:60:0.5:
Tue Oct 31 07:38:56 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:38:57 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:38:57 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:38:58 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:38:58 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:38:59 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:38:59 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:39:00 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:39:00 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:39:01 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:39:01 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:39:02 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:39:02 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:39:03 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:39:03 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:39:04 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:39:04 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:39:05 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:39:05 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:39:06 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:39:06 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:39:07 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:39:07 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:39:08 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:39:08 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:39:09 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:PING 2.2.2.2 (2.2.2.2) 56(84) bytes of data.
64 bytes from 2.2.2.2: icmp_seq=1 ttl=64 time=0.028 ms

--- 2.2.2.2 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.028/0.028/0.028/0.000 ms:
R:29   r1     PE-&gt;P2 (loopback) ping +12.62 secs                       1    0
Done after 26 loops, time=12.618489503860474, Found= 0% packet loss
scripts/adjacencies.py:0 WAIT:r3:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:60:0.5:
Tue Oct 31 07:39:09 2023 (#30) scripts/adjacencies.py:0 COMMAND:r3:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:PING 2.2.2.2 (2.2.2.2) 56(84) bytes of data.
64 bytes from 2.2.2.2: icmp_seq=1 ttl=64 time=0.020 ms

--- 2.2.2.2 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.020/0.020/0.020/0.000 ms:
R:30   r3     PE-&gt;P2 (loopback) ping +0.00 secs                        1    0
Done after 1 loops, time=0.0039560794830322266, Found= 0% packet loss
scripts/adjacencies.py:0 WAIT:r4:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:60:0.5:
Tue Oct 31 07:39:09 2023 (#31) scripts/adjacencies.py:0 COMMAND:r4:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:PING 2.2.2.2 (2.2.2.2) 56(84) bytes of data.
64 bytes from 2.2.2.2: icmp_seq=1 ttl=64 time=0.037 ms

--- 2.2.2.2 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.037/0.037/0.037/0.000 ms:
R:31   r4     PE-&gt;P2 (loopback) ping +0.00 secs                        1    0
Done after 1 loops, time=0.00447845458984375, Found= 0% packet loss
scripts/adjacencies.py:0 WAIT:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:180:0.5:
Tue Oct 31 07:39:09 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 0, using 0 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         2         2        0    0    0 00:00:00            0        0 N/A
4.4.4.4         4       5226         2         2        0    0    0 00:00:00            0        0 N/A

Total number of neighbors 3:
Tue Oct 31 07:39:09 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 0, using 0 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         2         2        0    0    0 00:00:01            0        0 N/A
4.4.4.4         4       5226         2         2        0    0    0 00:00:01            0        0 N/A

Total number of neighbors 3:
Tue Oct 31 07:39:10 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         6        10        5    0    0 00:00:01            5       15 N/A
4.4.4.4         4       5226         7        10        5    0    0 00:00:01           10       15 N/A

Total number of neighbors 3:
Tue Oct 31 07:39:10 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         6        10        5    0    0 00:00:02            5       15 N/A
4.4.4.4         4       5226         7        10        5    0    0 00:00:02           10       15 N/A

Total number of neighbors 3:
Tue Oct 31 07:39:11 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         6        10        5    0    0 00:00:02            5       15 N/A
4.4.4.4         4       5226         7        10        5    0    0 00:00:02           10       15 N/A

Total number of neighbors 3:
Tue Oct 31 07:39:12 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         6        10        5    0    0 00:00:03            5       15 N/A
4.4.4.4         4       5226         7        10        5    0    0 00:00:03           10       15 N/A

Total number of neighbors 3:
Tue Oct 31 07:39:12 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         7        11        5    0    0 00:00:03            5       15 N/A
4.4.4.4         4       5226         8        11        5    0    0 00:00:03           10       15 N/A

Total number of neighbors 3:
Tue Oct 31 07:39:13 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         2         2        0    0    0 00:00:00            0        0 N/A
3.3.3.3         4       5226         7        11        5    0    0 00:00:04            5       15 N/A
4.4.4.4         4       5226         8        11        5    0    0 00:00:04           10       15 N/A

Total number of neighbors 3:
R:32   r2     Core adjacencies up +3.78 secs                           1    0
Done after 8 loops, time=3.777164936065674, Found= 00:00:00            0        0 N/A 3.3.3.3         4       5226         7        11        5    0    0 00:00:04            5       15 N/A 4.4.4.4         4       5226         8        11        5    0    0 00:0
scripts/adjacencies.py:0 WAIT:r1:vtysh -c "show bgp summary": 00:0:wait:Core adjacencies up:180:0.5:
Tue Oct 31 07:39:13 2023 (#33) scripts/adjacencies.py:0 COMMAND:r1:vtysh -c "show bgp summary": 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 1.1.1.1, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 1, using 192 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
2.2.2.2         4       5226         2         2        0    0    0 00:00:00            0        0 N/A

Total number of neighbors 1:
R:33   r1     Core adjacencies up +0.04 secs                           1    0
Done after 1 loops, time=0.0357203483581543, Found= 00:0
scripts/adjacencies.py:0 WAIT:r3:vtysh -c "show bgp summary": 00:0:wait:Core adjacencies up:180:0.5:
Tue Oct 31 07:39:13 2023 (#34) scripts/adjacencies.py:0 COMMAND:r3:vtysh -c "show bgp summary": 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 3.3.3.3, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
2.2.2.2         4       5226        11         7        5    0    0 00:00:04           10        5 N/A

Total number of neighbors 1:
R:34   r3     Core adjacencies up +0.03 secs                           1    0
Done after 1 loops, time=0.03487133979797363, Found= 00:0
scripts/adjacencies.py:0 WAIT:r4:vtysh -c "show bgp summary": 00:0:wait:Core adjacencies up:180:0.5:
Tue Oct 31 07:39:13 2023 (#35) scripts/adjacencies.py:0 COMMAND:r4:vtysh -c "show bgp summary": 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 4.4.4.4, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
2.2.2.2         4       5226        11         9        5    0    0 00:00:04            5       10 N/A

Total number of neighbors 1:
R:35   r4     Core adjacencies up +0.03 secs                           1    0
Done after 1 loops, time=0.0335695743560791, Found= 00:0
Tue Oct 31 07:39:13 2023 (#36) scripts/adjacencies.py:0 COMMAND:r1:vtysh -c "show bgp vrf all summary": 00:0.* 00:0:pass:All adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 1.1.1.1, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 1, using 192 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
2.2.2.2         4       5226         2         2        0    0    0 00:00:00            0        0 N/A

Total number of neighbors 1

IPv4 Unicast Summary (VRF r1-cust1):
BGP router identifier 192.168.1.1, local AS number 5227 vrf-id 4
BGP table version 5
RIB entries 9, using 1728 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.2     4       5227        12         9        5    0    0 00:00:18            5        0 N/A

Total number of neighbors 1:
R:36   r1     All adjacencies up                                       1    0
Tue Oct 31 07:39:13 2023 (#37) scripts/adjacencies.py:0 COMMAND:r3:vtysh -c "show bgp vrf all summary": 00:0.* 00:0:pass:All adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 3.3.3.3, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
2.2.2.2         4       5226        11         7        5    0    0 00:00:04           10        5 N/A

Total number of neighbors 1

IPv4 Unicast Summary (VRF r3-cust1):
BGP router identifier 192.168.1.1, local AS number 5227 vrf-id 5
BGP table version 11
RIB entries 21, using 4032 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.2     4       5227        11        10       11    0    0 00:00:18            5        6 N/A

Total number of neighbors 1:
R:37   r3     All adjacencies up                                       1    0
Tue Oct 31 07:39:13 2023 (#38) scripts/adjacencies.py:0 COMMAND:r4:vtysh -c "show bgp vrf all summary": 00:0.* 00:0.* 00:0:pass:All adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 4.4.4.4, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
2.2.2.2         4       5226        11         9        5    0    0 00:00:04            5       10 N/A

Total number of neighbors 1

IPv4 Unicast Summary (VRF r4-cust1):
BGP router identifier 192.168.1.1, local AS number 5227 vrf-id 5
BGP table version 14
RIB entries 21, using 4032 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.2     4       5227        11        12       14    0    0 00:00:17            5        7 N/A

Total number of neighbors 1

IPv4 Unicast Summary (VRF r4-cust2):
BGP router identifier 192.168.2.1, local AS number 5228 vrf-id 6
BGP table version 14
RIB entries 21, using 4032 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.2.2     4       5228        11        13       14    0    0 00:00:17            5        8 N/A

Total number of neighbors 1:
R:38   r4     All adjacencies up                                       1    0
scripts/adjacencies.py:0 WAIT:r1:ping 3.3.3.3 -c 1: 0. packet loss:wait:PE-&gt;PE3 (loopback) ping:10:0.5:
Tue Oct 31 07:39:13 2023 (#39) scripts/adjacencies.py:0 COMMAND:r1:ping 3.3.3.3 -c 1: 0. packet loss:wait:PE-&gt;PE3 (loopback) ping:
COMMAND OUTPUT:PING 3.3.3.3 (3.3.3.3) 56(84) bytes of data.
64 bytes from 3.3.3.3: icmp_seq=1 ttl=63 time=0.055 ms

--- 3.3.3.3 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.055/0.055/0.055/0.000 ms:
R:39   r1     PE-&gt;PE3 (loopback) ping +0.00 secs                       1    0
Done after 1 loops, time=0.003600597381591797, Found= 0% packet loss
scripts/adjacencies.py:0 WAIT:r1:ping 4.4.4.4 -c 1: 0. packet loss:wait:PE-&gt;PE4 (loopback) ping:10:0.5:
Tue Oct 31 07:39:13 2023 (#40) scripts/adjacencies.py:0 COMMAND:r1:ping 4.4.4.4 -c 1: 0. packet loss:wait:PE-&gt;PE4 (loopback) ping:
COMMAND OUTPUT:PING 4.4.4.4 (4.4.4.4) 56(84) bytes of data.
64 bytes from 4.4.4.4: icmp_seq=1 ttl=63 time=0.059 ms

--- 4.4.4.4 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.059/0.059/0.059/0.000 ms:
R:40   r1     PE-&gt;PE4 (loopback) ping +0.00 secs                       1    0
Done after 1 loops, time=0.0036249160766601562, Found= 0% packet loss
scripts/adjacencies.py:0 WAIT:r4:ping 3.3.3.3 -c 1: 0. packet loss:wait:PE-&gt;PE3 (loopback) ping:10:0.5:
Tue Oct 31 07:39:13 2023 (#41) scripts/adjacencies.py:0 COMMAND:r4:ping 3.3.3.3 -c 1: 0. packet loss:wait:PE-&gt;PE3 (loopback) ping:
COMMAND OUTPUT:PING 3.3.3.3 (3.3.3.3) 56(84) bytes of data.
64 bytes from 3.3.3.3: icmp_seq=1 ttl=64 time=0.018 ms

--- 3.3.3.3 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.018/0.018/0.018/0.000 ms:
R:41   r4     PE-&gt;PE3 (loopback) ping +0.00 secs                       1    0
Done after 1 loops, time=0.0032825469970703125, Found= 0% packet loss

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_notification_check" time="0.305"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/notification_check.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/notification_check.py
Tue Oct 31 07:39:13 2023 (#42) scripts/notification_check.py:0 COMMAND:ce1:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 192.168.1.1, remote AS 5227, local AS 5227, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r1
  BGP version 4, remote router ID 192.168.1.1, local router ID 99.0.0.1
  BGP state = Established, up for 00:00:18
  Last read 00:00:00, Last write 00:00:00
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 Unicast: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 Unicast: advertised and received
    Hostname Capability: advertised (name: ce1,domain name: n/a) received (name: r1,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 Unicast
    End-of-RIB received: IPv4 Unicast
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 Unicast:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: No
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                4          1
    Keepalives:             7          7
    Route Refresh:          0          0
    Capability:             0          0
    Total:                 12          9
  Minimum time between advertisement runs is 0 seconds
  Update source is 192.168.1.2

 For address family: IPv4 Unicast
  Update group 1, subgroup 1
  Packet Queue length 0
  Community attribute sent to this neighbor(all)
  0 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:19,   No AFI/SAFI activated for peer (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 192.168.1.2, Local port: 179
Foreign host: 192.168.1.1, Foreign port: 39303
Nexthop: 192.168.1.2
Nexthop global: fe80::d8da:98ff:fee2:4ea4
Nexthop local: fe80::d8da:98ff:fee2:4ea4
BGP connection: shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 5:
Tue Oct 31 07:39:13 2023 (#42) scripts/notification_check.py:0 COMMAND:ce2:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 192.168.1.1, remote AS 5227, local AS 5227, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r3
  BGP version 4, remote router ID 192.168.1.1, local router ID 99.0.0.2
  BGP state = Established, up for 00:00:18
  Last read 00:00:00, Last write 00:00:03
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 Unicast: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 Unicast: advertised and received
    Hostname Capability: advertised (name: ce2,domain name: n/a) received (name: r3,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 Unicast
    End-of-RIB received: IPv4 Unicast
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 Unicast:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: No
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                4          3
    Keepalives:             6          6
    Route Refresh:          0          0
    Capability:             0          0
    Total:                 11         10
  Minimum time between advertisement runs is 0 seconds
  Update source is 192.168.1.2

 For address family: IPv4 Unicast
  Update group 1, subgroup 1
  Packet Queue length 0
  Community attribute sent to this neighbor(all)
  6 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:18,   No AFI/SAFI activated for peer (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 192.168.1.2, Local port: 179
Foreign host: 192.168.1.1, Foreign port: 35367
Nexthop: 192.168.1.2
Nexthop global: fe80::e8f9:85ff:fe1f:b339
Nexthop local: fe80::e8f9:85ff:fe1f:b339
BGP connection: shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 5:
Tue Oct 31 07:39:13 2023 (#42) scripts/notification_check.py:0 COMMAND:ce3:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 192.168.1.1, remote AS 5227, local AS 5227, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r4
  BGP version 4, remote router ID 192.168.1.1, local router ID 99.0.0.3
  BGP state = Established, up for 00:00:17
  Last read 00:00:00, Last write 00:00:02
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 Unicast: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 Unicast: advertised and received
    Hostname Capability: advertised (name: ce3,domain name: n/a) received (name: r4,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 Unicast
    End-of-RIB received: IPv4 Unicast
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 Unicast:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: No
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                4          5
    Keepalives:             6          6
    Route Refresh:          0          0
    Capability:             0          0
    Total:                 11         12
  Minimum time between advertisement runs is 0 seconds
  Update source is 192.168.1.2

 For address family: IPv4 Unicast
  Update group 1, subgroup 1
  Packet Queue length 0
  Community attribute sent to this neighbor(all)
  7 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:18,   No AFI/SAFI activated for peer (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 192.168.1.2, Local port: 179
Foreign host: 192.168.1.1, Foreign port: 45457
Nexthop: 192.168.1.2
Nexthop global: fe80::f83d:48ff:fec8:c75d
Nexthop local: fe80::f83d:48ff:fec8:c75d
BGP connection: shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 5:
Tue Oct 31 07:39:13 2023 (#42) scripts/notification_check.py:0 COMMAND:r1:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 2.2.2.2, remote AS 5226, local AS 5226, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r2
  BGP version 4, remote router ID 2.2.2.2, local router ID 1.1.1.1
  BGP state = Established, up for 00:00:00
  Last read 00:00:21, Last write never
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 VPN: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 VPN: advertised and received
    Hostname Capability: advertised (name: r1,domain name: n/a) received (name: r2,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: 
    End-of-RIB received: 
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 VPN:
      F bit: False
      End-of-RIB sent: No
      End-of-RIB sent after update: No
      End-of-RIB received: No
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                0          0
    Keepalives:             1          1
    Route Refresh:          0          0
    Capability:             0          0
    Total:                  2          2
  Minimum time between advertisement runs is 0 seconds
  Update source is 1.1.1.1

 For address family: IPv4 VPN
  Update group 2, subgroup 2
  Packet Queue length 0
  Community attribute sent to this neighbor(all)
  0 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:21,   No AFI/SAFI activated for peer (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 1.1.1.1, Local port: 179
Foreign host: 2.2.2.2, Foreign port: 36915
Nexthop: 1.1.1.1
Nexthop global: ::
Nexthop local: ::
BGP connection: non shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 27:
Tue Oct 31 07:39:13 2023 (#42) scripts/notification_check.py:0 COMMAND:r2:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 1.1.1.1, remote AS 5226, local AS 5226, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r1
  BGP version 4, remote router ID 1.1.1.1, local router ID 2.2.2.2
  BGP state = Established, up for 00:00:00
  Last read 00:00:00, Last write 00:00:00
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 VPN: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 VPN: advertised and received
    Hostname Capability: advertised (name: r2,domain name: n/a) received (name: r1,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: 
    End-of-RIB received: 
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 VPN:
      F bit: False
      End-of-RIB sent: No
      End-of-RIB sent after update: No
      End-of-RIB received: No
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                0          0
    Keepalives:             1          1
    Route Refresh:          0          0
    Capability:             0          0
    Total:                  2          2
  Minimum time between advertisement runs is 0 seconds
  Update source is 2.2.2.2

 For address family: IPv4 VPN
  Update group 1, subgroup 2
  Packet Queue length 0
  Route-Reflector Client
  Community attribute sent to this neighbor(all)
  0 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:20,   Waiting for peer OPEN (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 2.2.2.2, Local port: 36915
Foreign host: 1.1.1.1, Foreign port: 179
Nexthop: 2.2.2.2
Nexthop global: ::
Nexthop local: ::
BGP connection: non shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 25

BGP neighbor is 3.3.3.3, remote AS 5226, local AS 5226, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r3
  BGP version 4, remote router ID 3.3.3.3, local router ID 2.2.2.2
  BGP state = Established, up for 00:00:04
  Last read 00:00:01, Last write 00:00:01
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 VPN: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 VPN: advertised and received
    Hostname Capability: advertised (name: r2,domain name: n/a) received (name: r3,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 VPN
    End-of-RIB received: IPv4 VPN
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 VPN:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: Yes
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                8          4
    Keepalives:             2          2
    Route Refresh:          0          0
    Capability:             0          0
    Total:                 11          7
  Minimum time between advertisement runs is 0 seconds
  Update source is 2.2.2.2

 For address family: IPv4 VPN
  Update group 1, subgroup 1
  Packet Queue length 0
  Route-Reflector Client
  Community attribute sent to this neighbor(all)
  5 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:20,   Waiting for peer OPEN (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 2.2.2.2, Local port: 37809
Foreign host: 3.3.3.3, Foreign port: 179
Nexthop: 2.2.2.2
Nexthop global: ::
Nexthop local: ::
BGP connection: non shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 21

BGP neighbor is 4.4.4.4, remote AS 5226, local AS 5226, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r4
  BGP version 4, remote router ID 4.4.4.4, local router ID 2.2.2.2
  BGP state = Established, up for 00:00:04
  Last read 00:00:01, Last write 00:00:01
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 VPN: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 VPN: advertised and received
    Hostname Capability: advertised (name: r2,domain name: n/a) received (name: r4,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 VPN
    End-of-RIB received: IPv4 VPN
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 VPN:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: Yes
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                8          5
    Keepalives:             2          2
    Route Refresh:          0          0
    Capability:             0          0
    Total:                 11          8
  Minimum time between advertisement runs is 0 seconds
  Update source is 2.2.2.2

 For address family: IPv4 VPN
  Update group 1, subgroup 1
  Packet Queue length 0
  Route-Reflector Client
  Community attribute sent to this neighbor(all)
  10 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:20,   Waiting for peer OPEN (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 2.2.2.2, Local port: 41769
Foreign host: 4.4.4.4, Foreign port: 179
Nexthop: 2.2.2.2
Nexthop global: ::
Nexthop local: ::
BGP connection: non shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 5:
Tue Oct 31 07:39:13 2023 (#42) scripts/notification_check.py:0 COMMAND:r3:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 2.2.2.2, remote AS 5226, local AS 5226, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r2
  BGP version 4, remote router ID 2.2.2.2, local router ID 3.3.3.3
  BGP state = Established, up for 00:00:04
  Last read 00:00:01, Last write 00:00:01
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 VPN: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 VPN: advertised and received
    Hostname Capability: advertised (name: r3,domain name: n/a) received (name: r2,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 VPN
    End-of-RIB received: IPv4 VPN
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 VPN:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: Yes
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                4          8
    Keepalives:             2          2
    Route Refresh:          0          0
    Capability:             0          0
    Total:                  7         11
  Minimum time between advertisement runs is 0 seconds
  Update source is 3.3.3.3

 For address family: IPv4 VPN
  Update group 2, subgroup 2
  Packet Queue length 0
  Community attribute sent to this neighbor(all)
  10 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:20,   Waiting for peer OPEN (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 3.3.3.3, Local port: 179
Foreign host: 2.2.2.2, Foreign port: 37809
Nexthop: 3.3.3.3
Nexthop global: ::
Nexthop local: ::
BGP connection: non shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 27:
Tue Oct 31 07:39:13 2023 (#42) scripts/notification_check.py:0 COMMAND:r4:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 2.2.2.2, remote AS 5226, local AS 5226, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r2
  BGP version 4, remote router ID 2.2.2.2, local router ID 4.4.4.4
  BGP state = Established, up for 00:00:04
  Last read 00:00:01, Last write 00:00:01
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 VPN: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 VPN: advertised and received
    Hostname Capability: advertised (name: r4,domain name: n/a) received (name: r2,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 VPN
    End-of-RIB received: IPv4 VPN
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 VPN:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: Yes
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  2          1
    Notifications:          0          0
    Updates:                5          8
    Keepalives:             2          2
    Route Refresh:          0          0
    Capability:             0          0
    Total:                  9         11
  Minimum time between advertisement runs is 0 seconds
  Update source is 4.4.4.4

 For address family: IPv4 VPN
  Update group 3, subgroup 3
  Packet Queue length 0
  Community attribute sent to this neighbor(all)
  5 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:19,   Waiting for peer OPEN (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 4.4.4.4, Local port: 179
Foreign host: 2.2.2.2, Foreign port: 41769
Nexthop: 4.4.4.4
Nexthop global: ::
Nexthop local: ::
BGP connection: non shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 5:

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_check_routes" time="6.698"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/check_routes.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/check_routes.py
Tue Oct 31 07:39:13 2023 (#42) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp  ipv4 unicast":.:None:Get  ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 99.0.0.1, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       99.0.0.1                98    123  32768 i
 *&gt; 5.1.1.0/24       99.0.0.1                98    123  32768 i
 *&gt; 6.0.1.0/24       99.0.0.1                98    123  32768 i
 *&gt; 6.0.2.0/24       99.0.0.1               100    100  32768 i
 *&gt; 99.0.0.1/32      0.0.0.0                  0         32768 i

Displayed  5 routes and 5 total paths:
Tue Oct 31 07:39:13 2023 (#42) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp  ipv4 unicast json":.*:None:Get  ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 5,
 "routerId": "99.0.0.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":4,"metric":98,"locPrf":123,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":5,"metric":98,"locPrf":123,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce1","afi":"ipv4","used":true}]}]
 }  }:
R:42 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '99.0.0.1'}, {'p': '5.1.1.0/24', 'n': '99.0.0.1'}, {'p': '6.0.1.0/24', 'n': '99.0.0.1'}, {'p': '6.0.2.0/24', 'n': '99.0.0.1'}, {'p': '99.0.0.1/32', 'n': '0.0.0.0'}]
R:42   ce1    Cust 1 routes in ce1                                     1    0
Tue Oct 31 07:39:13 2023 (#43) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp  ipv4 unicast":.:None:Get  ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 11, local router ID is 99.0.0.2, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       99.0.0.2               100    100  32768 i
 *&gt; 5.1.1.0/24       99.0.0.2               100    100  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 *&gt; 6.0.1.0/24       99.0.0.2               100    100  32768 i
 *&gt; 6.0.2.0/24       99.0.0.2               100    100  32768 i
 *&gt; 99.0.0.2/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  11 routes and 11 total paths:
Tue Oct 31 07:39:13 2023 (#43) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp  ipv4 unicast json":.*:None:Get  ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 11,
 "routerId": "99.0.0.2",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":4,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":9,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":11,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":5,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":7,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":6,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
 }  }:
R:43 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '99.0.0.2'}, {'p': '5.1.1.0/24', 'n': '99.0.0.2'}, {'p': '6.0.1.0/24', 'n': '99.0.0.2'}, {'p': '6.0.2.0/24', 'n': '99.0.0.2'}, {'p': '99.0.0.2/32', 'n': '0.0.0.0'}]
R:43   ce2    Cust 2 routes in ce1                                     1    0
Tue Oct 31 07:39:13 2023 (#44) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp  ipv4 unicast":.:None:Get  ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 11, local router ID is 99.0.0.3, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.1.1            100    100      0 i
 *&gt;i5.1.1.0/24       192.168.1.1            100    100      0 i
 *&gt; 5.1.2.0/24       99.0.0.3               200     50  32768 i
 *&gt; 5.1.3.0/24       99.0.0.3               200     50  32768 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1            100    100      0 i
 *&gt;                  99.0.0.3               200     50  32768 i
 *&gt; 6.0.2.0/24       99.0.0.3               100    100  32768 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.3/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  11 routes and 12 total paths:
Tue Oct 31 07:39:13 2023 (#44) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp  ipv4 unicast json":.*:None:Get  ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 11,
 "routerId": "99.0.0.3",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":11,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":10,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":5,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":7,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":6,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":6,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":3,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":9,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }:
R:44 PASS: RequireUnicastRoutes [{'p': '5.1.2.0/24', 'n': '99.0.0.3'}, {'p': '5.1.3.0/24', 'n': '99.0.0.3'}, {'p': '6.0.1.0/24', 'n': '99.0.0.3'}, {'p': '6.0.2.0/24', 'n': '99.0.0.3'}, {'p': '99.0.0.3/32', 'n': '0.0.0.0'}]
R:44   ce3    Cust 3 routes in ce1                                     1    0
Tue Oct 31 07:39:13 2023 (#45) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 unicast":.:None:Get vrf ce4-cust2 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 13, local router ID is 99.0.0.4, vrf id 2
Default local pref 100, local AS 5228
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.2.1            100    100      0 i
 *&gt;i5.1.1.0/24       192.168.2.1            100    100      0 i
 *&gt;i5.1.2.0/24       192.168.2.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.2.1            200     50      0 i
 *&gt; 5.4.2.0/24       99.0.0.4               200     50  32768 i
 *&gt; 5.4.3.0/24       99.0.0.4               200     50  32768 i
 *&gt; 6.0.1.0/24       99.0.0.4               200     50  32768 i
 * i                 192.168.2.1            100    100      0 i
 *&gt; 6.0.2.0/24       99.0.0.4               100    100  32768 i
 * i                 192.168.2.1            100    100      0 i
 *&gt;i99.0.0.2/32      192.168.2.1              0    100      0 i
 *&gt;i99.0.0.3/32      192.168.2.1              0    100      0 i
 *&gt; 99.0.0.4/32      0.0.0.0                  0         32768 i

Displayed  11 routes and 13 total paths:
Tue Oct 31 07:39:13 2023 (#45) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 unicast json":.*:None:Get vrf ce4-cust2 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 2,
 "vrfName": "ce4-cust2",
 "tableVersion": 13,
 "routerId": "99.0.0.4",
 "defaultLocPrf": 100,
 "localAS": 5228,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":13,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":12,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":5,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":8,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":9,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":10,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":10,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":11,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce4","afi":"ipv4","used":true}]}]
 }  }:
R:45 PASS: RequireUnicastRoutes [{'p': '5.4.2.0/24', 'n': '99.0.0.4'}, {'p': '5.4.3.0/24', 'n': '99.0.0.4'}, {'p': '6.0.1.0/24', 'n': '99.0.0.4'}, {'p': '6.0.2.0/24', 'n': '99.0.0.4'}, {'p': '99.0.0.4/32', 'n': '0.0.0.0'}]
R:45   ce4    Cust 4 routes in ce1                                     1    0
Tue Oct 31 07:39:13 2023 (#46) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 unicast":.:None:Get vrf r1-cust1 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 192.168.1.1, vrf id 4
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       99.0.0.1                98    123      0 i
 *&gt;i5.1.1.0/24       99.0.0.1                98    123      0 i
 *&gt;i6.0.1.0/24       99.0.0.1                98    123      0 i
 *&gt;i6.0.2.0/24       99.0.0.1               100    100      0 i
 *&gt;i99.0.0.1/32      192.168.1.2              0    100      0 i

Displayed  5 routes and 5 total paths:
Tue Oct 31 07:39:13 2023 (#46) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 unicast json":.*:None:Get vrf r1-cust1 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 4,
 "vrfName": "r1-cust1",
 "tableVersion": 5,
 "routerId": "192.168.1.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.2","hostname":"ce1","afi":"ipv4","used":true}]}]
 }  }:
R:46 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '99.0.0.1'}, {'p': '5.1.1.0/24', 'n': '99.0.0.1'}, {'p': '6.0.1.0/24', 'n': '99.0.0.1'}, {'p': '6.0.2.0/24', 'n': '99.0.0.1'}, {'p': '99.0.0.1/32', 'n': '192.168.1.2'}]
R:46   r1     Customer 1 routes in r1 vrf                              1    0
Tue Oct 31 07:39:14 2023 (#47) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 unicast":.:None:Get vrf r3-cust1 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 11, local router ID is 192.168.1.1, vrf id 5
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       99.0.0.2               100    100      0 i
 *&gt;i5.1.1.0/24       99.0.0.2               100    100      0 i
 *&gt; 5.1.2.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.1.3.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.4.2.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.4.3.0/24       4.4.4.4@0&lt;             200     50      0 i
 *  6.0.1.0/24       4.4.4.4@0&lt;             200     50      0 i
 *                   4.4.4.4@0&lt;             200     50      0 i
 *&gt;i                 99.0.0.2               100    100      0 i
 *  6.0.2.0/24       4.4.4.4@0&lt;             100    100      0 i
 *                   4.4.4.4@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.2               100    100      0 i
 *&gt;i99.0.0.2/32      192.168.1.2              0    100      0 i
 *&gt; 99.0.0.3/32      4.4.4.4@0&lt;               0    100      0 i
 *&gt; 99.0.0.4/32      4.4.4.4@0&lt;               0    100      0 i

Displayed  11 routes and 15 total paths:
Tue Oct 31 07:39:14 2023 (#47) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 unicast json":.*:None:Get vrf r3-cust1 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 5,
 "vrfName": "r3-cust1",
 "tableVersion": 11,
 "routerId": "192.168.1.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":11,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":9,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"IGP Metric","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":7,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":6,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
 }  }:
R:47 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '99.0.0.2'}, {'p': '5.1.1.0/24', 'n': '99.0.0.2'}, {'p': '6.0.1.0/24', 'n': '99.0.0.2'}, {'p': '6.0.2.0/24', 'n': '99.0.0.2'}, {'p': '99.0.0.2/32', 'n': '192.168.1.2'}]
R:47   r3     Customer 1 routes in r3 vrf                              1    0
Tue Oct 31 07:39:14 2023 (#48) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 unicast":.:None:Get vrf r4-cust1 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 14, local router ID is 192.168.1.1, vrf id 5
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.1.0/24       3.3.3.3@0&lt;             100    100      0 i
 *&gt;i5.1.2.0/24       99.0.0.3               200     50      0 i
 *&gt;i5.1.3.0/24       99.0.0.3               200     50      0 i
 *&gt; 5.4.2.0/24       99.0.0.4@6&lt;            200     50      0 i
 *&gt; 5.4.3.0/24       99.0.0.4@6&lt;            200     50      0 i
 *&gt; 6.0.1.0/24       3.3.3.3@0&lt;             100    100      0 i
 *                   99.0.0.4@6&lt;            200     50      0 i
 * i                 99.0.0.3               200     50      0 i
 *  6.0.2.0/24       3.3.3.3@0&lt;             100    100      0 i
 *=                  99.0.0.4@6&lt;            100    100      0 i
 *&gt;i                 99.0.0.3               100    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt;i99.0.0.3/32      192.168.1.2              0    100      0 i
 *&gt; 99.0.0.4/32      192.168.2.2@6&lt;           0    100      0 i

Displayed  11 routes and 15 total paths:
Tue Oct 31 07:39:14 2023 (#48) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 unicast json":.*:None:Get vrf r4-cust1 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 5,
 "vrfName": "r4-cust1",
 "tableVersion": 14,
 "routerId": "192.168.1.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":14,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":12,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":6,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":13,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":13,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":13,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"multipath":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Router ID","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":11,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.2","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"192.168.2.2","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }:
R:48 PASS: RequireUnicastRoutes [{'p': '5.1.2.0/24', 'n': '99.0.0.3'}, {'p': '5.1.3.0/24', 'n': '99.0.0.3'}, {'p': '6.0.1.0/24', 'n': '99.0.0.3'}, {'p': '6.0.2.0/24', 'n': '99.0.0.3'}, {'p': '99.0.0.3/32', 'n': '192.168.1.2'}]
R:48   r4     Customer 1 routes in r4 vrf                              1    0
Tue Oct 31 07:39:14 2023 (#49) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust2 ipv4 unicast":.:None:Get vrf r4-cust2 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 14, local router ID is 192.168.2.1, vrf id 6
Default local pref 100, local AS 5228
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.1.0/24       3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.2.0/24       99.0.0.3@5&lt;            200     50      0 i
 *&gt; 5.1.3.0/24       99.0.0.3@5&lt;            200     50      0 i
 *&gt;i5.4.2.0/24       99.0.0.4               200     50      0 i
 *&gt;i5.4.3.0/24       99.0.0.4               200     50      0 i
 *&gt; 6.0.1.0/24       3.3.3.3@0&lt;             100    100      0 i
 * i                 99.0.0.4               200     50      0 i
 *                   99.0.0.3@5&lt;            200     50      0 i
 *  6.0.2.0/24       3.3.3.3@0&lt;             100    100      0 i
 *=i                 99.0.0.4               100    100      0 i
 *&gt;                  99.0.0.3@5&lt;            100    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt; 99.0.0.3/32      192.168.1.2@5&lt;           0    100      0 i
 *&gt;i99.0.0.4/32      192.168.2.2              0    100      0 i

Displayed  11 routes and 15 total paths:
Tue Oct 31 07:39:14 2023 (#49) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust2 ipv4 unicast json":.*:None:Get vrf r4-cust2 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 6,
 "vrfName": "r4-cust2",
 "tableVersion": 14,
 "routerId": "192.168.2.1",
 "defaultLocPrf": 100,
 "localAS": 5228,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":14,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":12,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":6,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":13,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":13,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":13,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"multipath":true,"pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Router ID","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":11,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"192.168.1.2","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.2","hostname":"ce4","afi":"ipv4","used":true}]}]
 }  }:
R:49 PASS: RequireUnicastRoutes [{'p': '5.4.2.0/24', 'n': '99.0.0.4'}, {'p': '5.4.3.0/24', 'n': '99.0.0.4'}, {'p': '6.0.1.0/24', 'n': '99.0.0.4'}, {'p': '6.0.2.0/24', 'n': '99.0.0.4'}, {'p': '99.0.0.4/32', 'n': '192.168.2.2'}]
R:49   r4     Customer 2 routes in r4 vrf                              1    0
Tue Oct 31 07:39:14 2023 (#50) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp ipv4 uni":No BGP prefixes displayed:pass:Core Unicast SAFI clean:
COMMAND OUTPUT:No BGP prefixes displayed, 0 exist:
R:50   r1     Core Unicast SAFI clean                                  1    0
Tue Oct 31 07:39:14 2023 (#51) scripts/check_routes.py:0 COMMAND:r2:vtysh -c "show bgp ipv4 uni":No BGP prefixes displayed:pass:Core Unicast SAFI clean:
COMMAND OUTPUT:No BGP prefixes displayed, 0 exist:
R:51   r2     Core Unicast SAFI clean                                  1    0
Tue Oct 31 07:39:14 2023 (#52) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp ipv4 uni":No BGP prefixes displayed:pass:Core Unicast SAFI clean:
COMMAND OUTPUT:No BGP prefixes displayed, 0 exist:
R:52   r3     Core Unicast SAFI clean                                  1    0
Tue Oct 31 07:39:14 2023 (#53) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp ipv4 uni":No BGP prefixes displayed:pass:Core Unicast SAFI clean:
COMMAND OUTPUT:No BGP prefixes displayed, 0 exist:
R:53   r4     Core Unicast SAFI clean                                  1    0
Tue Oct 31 07:39:14 2023 (#54) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp ipv4 vpn":Distinguisher:  *10:1.*5.1.0.0/24 *99.0.0.1\b.*5.1.1.0/24 *99.0.0.1\b.*6.0.1.0/24 *99.0.0.1\b.*6.0.2.0/24 *99.0.0.1\b.*99.0.0.1/32 *192.168.1.2\b:pass:vrf-&gt;vpn routes:
COMMAND OUTPUT:BGP table version is 5, local router ID is 1.1.1.1, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt; 5.1.0.0/24       99.0.0.1@4&lt;             98    123      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 5.1.1.0/24       99.0.0.1@4&lt;             98    123      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.1@4&lt;             98    123      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.1@4&lt;            100    100      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 99.0.0.1/32      192.168.1.2@4&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=101 type=bgp, subtype=5
Route Distinguisher: 10:3
 *&gt;i5.1.0.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i99.0.0.2/32      3.3.3.3                  0    100      0 i
    UN=3.3.3.3 EC{52:100} label=103 type=bgp, subtype=0
Route Distinguisher: 10:41
 *&gt;i5.1.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i5.1.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i99.0.0.3/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1041 type=bgp, subtype=0
Route Distinguisher: 10:42
 *&gt;i5.4.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i5.4.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i99.0.0.4/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1042 type=bgp, subtype=0

Displayed  20 routes and 20 total paths:
R:54   r1     vrf-&gt;vpn routes                                          1    0
Tue Oct 31 07:39:14 2023 (#55) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp ipv4 vpn":Distinguisher:  *10:3.*5.1.0.0/24 *99.0.0.2\b.*5.1.1.0/24 *99.0.0.2\b.*6.0.1.0/24 *99.0.0.2\b.*6.0.2.0/24 *99.0.0.2\b.*99.0.0.2/32 *192.168.1.2\b:pass:vrf-&gt;vpn routes:
COMMAND OUTPUT:BGP table version is 5, local router ID is 3.3.3.3, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt;i5.1.0.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       1.1.1.1                100    100      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i99.0.0.1/32      1.1.1.1                  0    100      0 i
    UN=1.1.1.1 EC{52:100} label=101 type=bgp, subtype=0
Route Distinguisher: 10:3
 *&gt; 5.1.0.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 5.1.1.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 99.0.0.2/32      192.168.1.2@5&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=103 type=bgp, subtype=5
Route Distinguisher: 10:41
 *&gt;i5.1.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i5.1.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i99.0.0.3/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1041 type=bgp, subtype=0
Route Distinguisher: 10:42
 *&gt;i5.4.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i5.4.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i99.0.0.4/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1042 type=bgp, subtype=0

Displayed  20 routes and 20 total paths:
R:55   r3     vrf-&gt;vpn routes                                          1    0
Tue Oct 31 07:39:14 2023 (#56) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp ipv4 vpn":.:None:Get VPN RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 4.4.4.4, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt;i5.1.0.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       1.1.1.1                100    100      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i99.0.0.1/32      1.1.1.1                  0    100      0 i
    UN=1.1.1.1 EC{52:100} label=101 type=bgp, subtype=0
Route Distinguisher: 10:3
 *&gt;i5.1.0.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i99.0.0.2/32      3.3.3.3                  0    100      0 i
    UN=3.3.3.3 EC{52:100} label=103 type=bgp, subtype=0
Route Distinguisher: 10:41
 *&gt; 5.1.2.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 5.1.3.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.3@5&lt;            100    100      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 99.0.0.3/32      192.168.1.2@5&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=1041 type=bgp, subtype=5
Route Distinguisher: 10:42
 *&gt; 5.4.2.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 5.4.3.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.4@6&lt;            100    100      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 99.0.0.4/32      192.168.2.2@6&lt;           0    100      0 i
    UN=192.168.2.2 EC{52:100} label=1042 type=bgp, subtype=5

Displayed  20 routes and 20 total paths:
Tue Oct 31 07:39:14 2023 (#56) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp ipv4 vpn json":.*:None:Get VPN RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 5,
 "routerId": "4.4.4.4",
 "defaultLocPrf": 100,
 "localAS": 5226,
 "routes": {  "routeDistinguishers" : { "10:1" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":2,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:3" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:41" : { "5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":5,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"192.168.1.2","hostname":"r4","afi":"ipv4","used":true}]}]
 },  "10:42" : { "5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":5,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"192.168.2.2","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }  }  }:
R:56 PASS: RequireVpnRoutes [{'rd': '10:41', 'p': '5.1.2.0/24', 'n': '99.0.0.3'}, {'rd': '10:41', 'p': '5.1.3.0/24', 'n': '99.0.0.3'}, {'rd': '10:41', 'p': '6.0.1.0/24', 'n': '99.0.0.3'}, {'rd': '10:41', 'p': '6.0.2.0/24', 'n': '99.0.0.3'}, {'rd': '10:41', 'p': '99.0.0.3/32', 'n': '192.168.1.2'}, {'rd': '10:42', 'p': '5.4.2.0/24', 'n': '99.0.0.4'}, {'rd': '10:42', 'p': '5.4.3.0/24', 'n': '99.0.0.4'}, {'rd': '10:42', 'p': '6.0.1.0/24', 'n': '99.0.0.4'}, {'rd': '10:42', 'p': '6.0.2.0/24', 'n': '99.0.0.4'}, {'rd': '10:42', 'p': '99.0.0.4/32', 'n': '192.168.2.2'}]
R:56   r4     vrf-&gt;vpn routes                                          1    0
Tue Oct 31 07:39:14 2023 (#57) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show mpls table": 101 *BGP *r1-cust1:pass:vrf labels:
COMMAND OUTPUT: Inbound Label  Type  Nexthop   Outbound Label  
 -----------------------------------------------
 101            BGP   r1-cust1  -:
R:57   r1     vrf labels                                               1    0
Tue Oct 31 07:39:14 2023 (#58) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show mpls table": 103 *BGP *r3-cust1:pass:vrf labels:
COMMAND OUTPUT: Inbound Label  Type  Nexthop   Outbound Label  
 -----------------------------------------------
 16             LDP   10.0.3.2  implicit-null   
 16             LDP   10.0.2.2  implicit-null   
 17             LDP   10.0.2.4  implicit-null   
 18             LDP   10.0.3.2  implicit-null   
 18             LDP   10.0.2.2  implicit-null   
 19             LDP   10.0.2.2  18              
 19             LDP   10.0.3.2  18              
 103            BGP   r3-cust1  -:
R:58   r3     vrf labels                                               1    0
Tue Oct 31 07:39:14 2023 (#59) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show mpls table": 1041 *BGP *r4-cust1 .*1042 *BGP *r4-cust2:pass:vrf labels:
COMMAND OUTPUT: Inbound Label  Type  Nexthop   Outbound Label  
 -----------------------------------------------
 16             LDP   10.0.2.2  implicit-null   
 17             LDP   10.0.2.3  implicit-null   
 18             LDP   10.0.2.2  implicit-null   
 19             LDP   10.0.2.2  implicit-null   
 19             LDP   10.0.2.3  implicit-null   
 20             LDP   10.0.2.2  18              
 1041           BGP   r4-cust1  -               
 1042           BGP   r4-cust2  -:
R:59   r4     vrf labels                                               1    0
Tue Oct 31 07:39:14 2023 (#60) scripts/check_routes.py:0 COMMAND:r2:vtysh -c "show bgp ipv4 vpn":.:None:Get VPN RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 2.2.2.2, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt;i5.1.0.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       1.1.1.1                100    100      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i99.0.0.1/32      1.1.1.1                  0    100      0 i
    UN=1.1.1.1 EC{52:100} label=101 type=bgp, subtype=0
Route Distinguisher: 10:3
 *&gt;i5.1.0.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i99.0.0.2/32      3.3.3.3                  0    100      0 i
    UN=3.3.3.3 EC{52:100} label=103 type=bgp, subtype=0
Route Distinguisher: 10:41
 *&gt;i5.1.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i5.1.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i99.0.0.3/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1041 type=bgp, subtype=0
Route Distinguisher: 10:42
 *&gt;i5.4.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i5.4.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i99.0.0.4/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1042 type=bgp, subtype=0

Displayed  20 routes and 20 total paths:
Tue Oct 31 07:39:14 2023 (#60) scripts/check_routes.py:0 COMMAND:r2:vtysh -c "show bgp ipv4 vpn json":.*:None:Get VPN RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 5,
 "routerId": "2.2.2.2",
 "defaultLocPrf": 100,
 "localAS": 5226,
 "routes": {  "routeDistinguishers" : { "10:1" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":98,"locPrf":123,"weight":0,"peerId":"1.1.1.1","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"1.1.1.1","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":98,"locPrf":123,"weight":0,"peerId":"1.1.1.1","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"1.1.1.1","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"1.1.1.1","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
 },  "10:3" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":100,"locPrf":100,"weight":0,"peerId":"3.3.3.3","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"3.3.3.3","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"3.3.3.3","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"3.3.3.3","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"3.3.3.3","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r3","afi":"ipv4","used":true}]}]
 },  "10:41" : { "5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":1,"metric":200,"locPrf":50,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":200,"locPrf":50,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
 },  "10:42" : { "5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":2,"metric":200,"locPrf":50,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":1,"metric":200,"locPrf":50,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":5,"metric":100,"locPrf":100,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":4,"metric":0,"locPrf":100,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }  }  }:
R:60 PASS: RequireVpnRoutes [{'rd': '10:1', 'p': '5.1.0.0/24', 'n': '1.1.1.1'}, {'rd': '10:1', 'p': '5.1.0.0/24', 'n': '1.1.1.1'}, {'rd': '10:1', 'p': '99.0.0.1/32', 'n': '1.1.1.1'}, {'rd': '10:3', 'p': '5.1.0.0/24', 'n': '3.3.3.3'}, {'rd': '10:3', 'p': '5.1.0.0/24', 'n': '3.3.3.3'}, {'rd': '10:3', 'p': '99.0.0.2/32', 'n': '3.3.3.3'}, {'rd': '10:41', 'p': '5.1.2.0/24', 'n': '4.4.4.4'}, {'rd': '10:41', 'p': '5.1.3.0/24', 'n': '4.4.4.4'}, {'rd': '10:41', 'p': '99.0.0.3/32', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '5.4.2.0/24', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '5.4.3.0/24', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '99.0.0.4/32', 'n': '4.4.4.4'}]
R:60   r2     Customer routes in provider vpn core                     1    0
Tue Oct 31 07:39:14 2023 (#61) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp ipv4 vpn":.:None:Get VPN RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 1.1.1.1, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt; 5.1.0.0/24       99.0.0.1@4&lt;             98    123      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 5.1.1.0/24       99.0.0.1@4&lt;             98    123      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.1@4&lt;             98    123      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.1@4&lt;            100    100      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 99.0.0.1/32      192.168.1.2@4&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=101 type=bgp, subtype=5
Route Distinguisher: 10:3
 *&gt;i5.1.0.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i99.0.0.2/32      3.3.3.3                  0    100      0 i
    UN=3.3.3.3 EC{52:100} label=103 type=bgp, subtype=0
Route Distinguisher: 10:41
 *&gt;i5.1.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i5.1.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i99.0.0.3/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1041 type=bgp, subtype=0
Route Distinguisher: 10:42
 *&gt;i5.4.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i5.4.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i99.0.0.4/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1042 type=bgp, subtype=0

Displayed  20 routes and 20 total paths:
Tue Oct 31 07:39:14 2023 (#61) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp ipv4 vpn json":.*:None:Get VPN RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 5,
 "routerId": "1.1.1.1",
 "defaultLocPrf": 100,
 "localAS": 5226,
 "routes": {  "routeDistinguishers" : { "10:1" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r1-cust1","nhVrfId":4,"nexthops":[{"ip":"99.0.0.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r1-cust1","nhVrfId":4,"nexthops":[{"ip":"99.0.0.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r1-cust1","nhVrfId":4,"nexthops":[{"ip":"99.0.0.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r1-cust1","nhVrfId":4,"nexthops":[{"ip":"99.0.0.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r1-cust1","nhVrfId":4,"nexthops":[{"ip":"192.168.1.2","hostname":"r1","afi":"ipv4","used":true}]}]
 },  "10:3" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:41" : { "5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":1,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:42" : { "5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":2,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":1,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":5,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":4,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
 }  }  }  }:
R:61 PASS: RequireVpnRoutes [{'rd': '10:3', 'p': '5.1.0.0/24', 'n': '3.3.3.3'}, {'rd': '10:3', 'p': '5.1.1.0/24', 'n': '3.3.3.3'}, {'rd': '10:3', 'p': '99.0.0.2/32', 'n': '3.3.3.3'}, {'rd': '10:41', 'p': '5.1.2.0/24', 'n': '4.4.4.4'}, {'rd': '10:41', 'p': '5.1.3.0/24', 'n': '4.4.4.4'}, {'rd': '10:41', 'p': '99.0.0.3/32', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '5.4.2.0/24', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '5.4.3.0/24', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '99.0.0.4/32', 'n': '4.4.4.4'}]
R:61   r1     Remote Customer routes in R1 vpn                         1    0
Tue Oct 31 07:39:14 2023 (#62) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp ipv4 vpn":.:None:Get VPN RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 3.3.3.3, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt;i5.1.0.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       1.1.1.1                100    100      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i99.0.0.1/32      1.1.1.1                  0    100      0 i
    UN=1.1.1.1 EC{52:100} label=101 type=bgp, subtype=0
Route Distinguisher: 10:3
 *&gt; 5.1.0.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 5.1.1.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 99.0.0.2/32      192.168.1.2@5&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=103 type=bgp, subtype=5
Route Distinguisher: 10:41
 *&gt;i5.1.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i5.1.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i99.0.0.3/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1041 type=bgp, subtype=0
Route Distinguisher: 10:42
 *&gt;i5.4.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i5.4.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i99.0.0.4/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1042 type=bgp, subtype=0

Displayed  20 routes and 20 total paths:
Tue Oct 31 07:39:14 2023 (#62) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp ipv4 vpn json":.*:None:Get VPN RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 5,
 "routerId": "3.3.3.3",
 "defaultLocPrf": 100,
 "localAS": 5226,
 "routes": {  "routeDistinguishers" : { "10:1" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":2,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:3" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r3-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.2","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r3-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.2","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r3-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.2","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r3-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.2","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r3-cust1","nhVrfId":5,"nexthops":[{"ip":"192.168.1.2","hostname":"r3","afi":"ipv4","used":true}]}]
 },  "10:41" : { "5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":1,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:42" : { "5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":2,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":1,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":5,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":4,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
 }  }  }  }:
R:62 PASS: RequireVpnRoutes [{'rd': '10:1', 'p': '5.1.0.0/24', 'n': '1.1.1.1'}, {'rd': '10:1', 'p': '5.1.1.0/24', 'n': '1.1.1.1'}, {'rd': '10:1', 'p': '99.0.0.1/32', 'n': '1.1.1.1'}, {'rd': '10:41', 'p': '5.1.2.0/24', 'n': '4.4.4.4'}, {'rd': '10:41', 'p': '5.1.3.0/24', 'n': '4.4.4.4'}, {'rd': '10:41', 'p': '99.0.0.3/32', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '5.4.2.0/24', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '5.4.3.0/24', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '99.0.0.4/32', 'n': '4.4.4.4'}]
R:62   r3     Remote Customer routes in R3 vpn                         1    0
Tue Oct 31 07:39:14 2023 (#63) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp ipv4 vpn":.:None:Get VPN RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 4.4.4.4, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt;i5.1.0.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       1.1.1.1                100    100      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i99.0.0.1/32      1.1.1.1                  0    100      0 i
    UN=1.1.1.1 EC{52:100} label=101 type=bgp, subtype=0
Route Distinguisher: 10:3
 *&gt;i5.1.0.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i99.0.0.2/32      3.3.3.3                  0    100      0 i
    UN=3.3.3.3 EC{52:100} label=103 type=bgp, subtype=0
Route Distinguisher: 10:41
 *&gt; 5.1.2.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 5.1.3.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.3@5&lt;            100    100      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 99.0.0.3/32      192.168.1.2@5&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=1041 type=bgp, subtype=5
Route Distinguisher: 10:42
 *&gt; 5.4.2.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 5.4.3.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.4@6&lt;            100    100      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 99.0.0.4/32      192.168.2.2@6&lt;           0    100      0 i
    UN=192.168.2.2 EC{52:100} label=1042 type=bgp, subtype=5

Displayed  20 routes and 20 total paths:
Tue Oct 31 07:39:14 2023 (#63) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp ipv4 vpn json":.*:None:Get VPN RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 5,
 "routerId": "4.4.4.4",
 "defaultLocPrf": 100,
 "localAS": 5226,
 "routes": {  "routeDistinguishers" : { "10:1" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":2,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:3" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:41" : { "5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":5,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"192.168.1.2","hostname":"r4","afi":"ipv4","used":true}]}]
 },  "10:42" : { "5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":5,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"192.168.2.2","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }  }  }:
R:63 PASS: RequireVpnRoutes [{'rd': '10:1', 'p': '5.1.0.0/24', 'n': '1.1.1.1'}, {'rd': '10:1', 'p': '5.1.1.0/24', 'n': '1.1.1.1'}, {'rd': '10:1', 'p': '99.0.0.1/32', 'n': '1.1.1.1'}, {'rd': '10:3', 'p': '5.1.0.0/24', 'n': '3.3.3.3'}, {'rd': '10:3', 'p': '5.1.1.0/24', 'n': '3.3.3.3'}, {'rd': '10:3', 'p': '99.0.0.2/32', 'n': '3.3.3.3'}]
R:63   r4     Remote Customer routes in R4 vpn                         1    0
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.0.0/24":2 available, best:wait:Ensure 5.1.0.0 shows up on r1:10:0.5:
Tue Oct 31 07:39:14 2023 (#64) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.0.0/24":2 available, best:wait:Ensure 5.1.0.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.0.0/24, version 3
Paths: (2 available, best #2, vrf r1-cust1)
  Not advertised to any peer
  Imported from 10:3:5.1.0.0/24
  Local
    3.3.3.3 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:39:13 2023
  Local
    99.0.0.1 from 192.168.1.2 (99.0.0.1)
      Origin IGP, metric 98, localpref 123, valid, internal, best (First path received)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:38:58 2023:
R:64   r1     Ensure 5.1.0.0 shows up on r1 +0.03 secs                 1    0
Done after 1 loops, time=0.03395700454711914, Found=2 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.1.0/24":2 available, best:wait:Ensure 5.1.1.0 shows up on r1:10:0.5:
Tue Oct 31 07:39:14 2023 (#65) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.1.0/24":2 available, best:wait:Ensure 5.1.1.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.1.0/24, version 5
Paths: (2 available, best #2, vrf r1-cust1)
  Not advertised to any peer
  Imported from 10:3:5.1.1.0/24
  Local
    3.3.3.3 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:39:13 2023
  Local
    99.0.0.1 from 192.168.1.2 (99.0.0.1)
      Origin IGP, metric 98, localpref 123, valid, internal, best (First path received)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:38:58 2023:
R:65   r1     Ensure 5.1.1.0 shows up on r1 +0.04 secs                 1    0
Done after 1 loops, time=0.03575754165649414, Found=2 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:10:0.5:
Tue Oct 31 07:39:14 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 0
Paths: (1 available, no best path)
  Not advertised to any peer
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:39:13 2023:
Tue Oct 31 07:39:15 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 0
Paths: (1 available, no best path)
  Not advertised to any peer
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:39:14 2023:
Tue Oct 31 07:39:15 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 0
Paths: (1 available, no best path)
  Not advertised to any peer
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:39:14 2023:
Tue Oct 31 07:39:16 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 0
Paths: (1 available, no best path)
  Not advertised to any peer
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:39:14 2023:
Tue Oct 31 07:39:17 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 0
Paths: (1 available, no best path)
  Not advertised to any peer
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:39:14 2023:
Tue Oct 31 07:39:17 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 0
Paths: (1 available, no best path)
  Not advertised to any peer
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:39:14 2023:
Tue Oct 31 07:39:18 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 12
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:39:14 2023:
R:66   r1     Ensure 5.1.2.0 shows up on r1 +3.24 secs                 1    0
Done after 7 loops, time=3.236945152282715, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.3.0/24":1 available, best:wait:Ensure 5.1.3.0 shows up on r1:10:0.5:
Tue Oct 31 07:39:18 2023 (#67) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.3.0/24":1 available, best:wait:Ensure 5.1.3.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.3.0/24, version 9
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:41:5.1.3.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:39:14 2023:
R:67   r1     Ensure 5.1.3.0 shows up on r1 +0.03 secs                 1    0
Done after 1 loops, time=0.03362274169921875, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.4.2.0/24":1 available, best:wait:Ensure 5.4.2.0 shows up on r1:10:0.5:
Tue Oct 31 07:39:18 2023 (#68) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.4.2.0/24":1 available, best:wait:Ensure 5.4.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.4.2.0/24, version 10
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:5.4.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 07:39:14 2023:
R:68   r1     Ensure 5.4.2.0 shows up on r1 +0.03 secs                 1    0
Done after 1 loops, time=0.03354620933532715, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.4.2.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r1:10:0.5:
Tue Oct 31 07:39:18 2023 (#69) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.4.2.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.4.2.0/24, version 10
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:5.4.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 07:39:14 2023:
R:69   r1     Ensure 5.4.3.0 shows up on r1 +0.03 secs                 1    0
Done after 1 loops, time=0.03429436683654785, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 6.0.1.0/24":4 available, best:wait:Ensure 6.0.1.0 shows up on r1:10:0.5:
Tue Oct 31 07:39:18 2023 (#70) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 6.0.1.0/24":4 available, best:wait:Ensure 6.0.1.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 4
Paths: (4 available, best #4, vrf r1-cust1)
  Not advertised to any peer
  Imported from 10:41:6.0.1.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:39:14 2023
  Imported from 10:42:6.0.1.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 07:39:14 2023
  Imported from 10:3:6.0.1.0/24
  Local
    3.3.3.3 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:39:14 2023
  Local
    99.0.0.1 from 192.168.1.2 (99.0.0.1)
      Origin IGP, metric 98, localpref 123, valid, internal, best (Local Pref)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:38:59 2023:
R:70   r1     Ensure 6.0.1.0 shows up on r1 +0.04 secs                 1    0
Done after 1 loops, time=0.03596973419189453, Found=4 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 6.0.2.0/24":4 available, best:wait:Ensure 6.0.2.0 shows up on r1:10:0.5:
Tue Oct 31 07:39:18 2023 (#71) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 6.0.2.0/24":4 available, best:wait:Ensure 6.0.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 2
Paths: (4 available, best #4, vrf r1-cust1)
  Not advertised to any peer
  Imported from 10:42:6.0.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:14
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 07:39:14 2023
  Imported from 10:41:6.0.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:13
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:39:14 2023
  Imported from 10:3:6.0.2.0/24
  Local
    3.3.3.3 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:39:14 2023
  Local
    99.0.0.1 from 192.168.1.2 (99.0.0.1)
      Origin IGP, metric 100, localpref 100, valid, internal, best (IGP Metric)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:11
      Last update: Tue Oct 31 07:38:59 2023:
R:71   r1     Ensure 6.0.2.0 shows up on r1 +0.03 secs                 1    0
Done after 1 loops, time=0.03380751609802246, Found=4 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.1/32":1 available, best:wait:Ensure 99.0.0.1 shows up on r1:10:0.5:
Tue Oct 31 07:39:18 2023 (#72) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.1/32":1 available, best:wait:Ensure 99.0.0.1 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.1/32, version 1
Paths: (1 available, best #1, vrf r1-cust1)
  Not advertised to any peer
  Local
    192.168.1.2 from 192.168.1.2 (99.0.0.1)
      Origin IGP, metric 0, localpref 100, valid, internal, best (First path received)
      Last update: Tue Oct 31 07:38:56 2023:
R:72   r1     Ensure 99.0.0.1 shows up on r1 +0.03 secs                1    0
Done after 1 loops, time=0.03392958641052246, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.2/32":1 available, best:wait:Ensure 99.0.0.2 shows up on r1:10:0.5:
Tue Oct 31 07:39:18 2023 (#73) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.2/32":1 available, best:wait:Ensure 99.0.0.2 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.2/32, version 6
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:3:99.0.0.2/32
  Local
    3.3.3.3 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:39:14 2023:
R:73   r1     Ensure 99.0.0.2 shows up on r1 +0.03 secs                1    0
Done after 1 loops, time=0.03359341621398926, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.3/32":1 available, best:wait:Ensure 99.0.0.3 shows up on r1:10:0.5:
Tue Oct 31 07:39:18 2023 (#74) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.3/32":1 available, best:wait:Ensure 99.0.0.3 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.3/32, version 8
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:41:99.0.0.3/32
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:39:14 2023:
R:74   r1     Ensure 99.0.0.3 shows up on r1 +0.03 secs                1    0
Done after 1 loops, time=0.03320455551147461, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.4/32":1 available, best:wait:Ensure 99.0.0.4 shows up on r1:10:0.5:
Tue Oct 31 07:39:18 2023 (#75) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.4/32":1 available, best:wait:Ensure 99.0.0.4 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.4/32, version 7
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:99.0.0.4/32
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 07:39:14 2023:
R:75   r1     Ensure 99.0.0.4 shows up on r1 +0.03 secs                1    0
Done after 1 loops, time=0.033040761947631836, Found=1 available, best
Tue Oct 31 07:39:18 2023 (#76) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 unicast":.:None:Get vrf r1-cust1 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 12, local router ID is 192.168.1.1, vrf id 4
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *  5.1.0.0/24       3.3.3.3@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.1                98    123      0 i
 *  5.1.1.0/24       3.3.3.3@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.1                98    123      0 i
 *&gt; 5.1.2.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.1.3.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.4.2.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.4.3.0/24       4.4.4.4@0&lt;             200     50      0 i
 *  6.0.1.0/24       4.4.4.4@0&lt;             200     50      0 i
 *                   4.4.4.4@0&lt;             200     50      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.1                98    123      0 i
 *  6.0.2.0/24       4.4.4.4@0&lt;             100    100      0 i
 *                   4.4.4.4@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.1               100    100      0 i
 *&gt;i99.0.0.1/32      192.168.1.2              0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt; 99.0.0.3/32      4.4.4.4@0&lt;               0    100      0 i
 *&gt; 99.0.0.4/32      4.4.4.4@0&lt;               0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 07:39:18 2023 (#76) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 unicast json":.*:None:Get vrf r1-cust1 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 4,
 "vrfName": "r1-cust1",
 "tableVersion": 12,
 "routerId": "192.168.1.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":12,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":9,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":11,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"IGP Metric","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.2","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":6,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":8,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":7,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
 }  }:
R:76 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '5.1.0.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '5.1.1.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '5.1.2.0/24', 'n': '4.4.4.4'}, {'p': '5.1.3.0/24', 'n': '4.4.4.4'}, {'p': '5.4.2.0/24', 'n': '4.4.4.4'}, {'p': '5.4.3.0/24', 'n': '4.4.4.4'}, {'p': '6.0.1.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '4.4.4.4', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '6.0.2.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.2.0/24', 'n': '4.4.4.4', 'bp': False}, {'p': '6.0.2.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '99.0.0.1/32', 'n': '192.168.1.2', 'bp': True}, {'p': '99.0.0.2/32', 'n': '3.3.3.3'}, {'p': '99.0.0.3/32', 'n': '4.4.4.4'}, {'p': '99.0.0.4/32', 'n': '4.4.4.4'}]
R:76   r1     Customer 1 routes in r1 vrf (2)                          1    0
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.0.0/24":2 available, best:wait:Ensure 5.1.0.0 shows up r3:10:0.5:
Tue Oct 31 07:39:18 2023 (#77) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.0.0/24":2 available, best:wait:Ensure 5.1.0.0 shows up r3:
COMMAND OUTPUT:BGP routing table entry for 5.1.0.0/24, version 12
Paths: (2 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:5.1.0.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 98, localpref 123, valid, sourced, local, best (Local Pref)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:39:14 2023
  Local
    99.0.0.2 from 192.168.1.2 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, valid, internal
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:39:00 2023:
R:77   r3     Ensure 5.1.0.0 shows up r3 +0.03 secs                    1    0
Done after 1 loops, time=0.03332829475402832, Found=2 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.1.0/24":2 available, best:wait:Ensure 5.1.1.0 shows up on r3:10:0.5:
Tue Oct 31 07:39:18 2023 (#78) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.1.0/24":2 available, best:wait:Ensure 5.1.1.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 5.1.1.0/24, version 13
Paths: (2 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:5.1.1.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 98, localpref 123, valid, sourced, local, best (Local Pref)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:39:14 2023
  Local
    99.0.0.2 from 192.168.1.2 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, valid, internal
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:39:00 2023:
R:78   r3     Ensure 5.1.1.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.03353595733642578, Found=2 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r3:10:0.5:
Tue Oct 31 07:39:18 2023 (#79) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 11
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:39:10 2023:
R:79   r3     Ensure 5.1.2.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.0329282283782959, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.3.0/24":1 available, best:wait:Ensure 5.1.3.0 shows up on r3:10:0.5:
Tue Oct 31 07:39:18 2023 (#80) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.3.0/24":1 available, best:wait:Ensure 5.1.3.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 5.1.3.0/24, version 8
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:41:5.1.3.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:39:10 2023:
R:80   r3     Ensure 5.1.3.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.033997535705566406, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.4.3.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r3:10:0.5:
Tue Oct 31 07:39:18 2023 (#81) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.4.3.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 5.4.3.0/24, version 10
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:5.4.3.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 07:39:10 2023:
R:81   r3     Ensure 5.4.3.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.03321385383605957, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.4.3.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r3:10:0.5:
Tue Oct 31 07:39:18 2023 (#82) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.4.3.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 5.4.3.0/24, version 10
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:5.4.3.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 07:39:09 2023:
R:82   r3     Ensure 5.4.3.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.033322811126708984, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.4.3.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r3:10:0.5:
Tue Oct 31 07:39:18 2023 (#83) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.4.3.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 5.4.3.0/24, version 10
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:5.4.3.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 07:39:09 2023:
R:83   r3     Ensure 5.4.3.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.033286094665527344, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 6.0.1.0/24":4 available, best:wait:Ensure 6.0.1.0 shows up on r3:10:0.5:
Tue Oct 31 07:39:18 2023 (#84) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 6.0.1.0/24":4 available, best:wait:Ensure 6.0.1.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 14
Paths: (4 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:6.0.1.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 98, localpref 123, valid, sourced, local, best (Local Pref)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:39:13 2023
  Imported from 10:41:6.0.1.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:39:09 2023
  Imported from 10:42:6.0.1.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 07:39:09 2023
  Local
    99.0.0.2 from 192.168.1.2 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, valid, internal
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:38:59 2023:
R:84   r3     Ensure 6.0.1.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.03493213653564453, Found=4 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 6.0.2.0/24":4 available, best:wait:Ensure 6.0.2.0 shows up on r3:10:0.5:
Tue Oct 31 07:39:18 2023 (#85) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 6.0.2.0/24":4 available, best:wait:Ensure 6.0.2.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 2
Paths: (4 available, best #4, vrf r3-cust1)
  Not advertised to any peer
  Imported from 10:1:6.0.2.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:11
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:39:13 2023
  Imported from 10:42:6.0.2.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:14
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 07:39:09 2023
  Imported from 10:41:6.0.2.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:13
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:39:09 2023
  Local
    99.0.0.2 from 192.168.1.2 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, valid, internal, best (IGP Metric)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:12
      Last update: Tue Oct 31 07:38:59 2023:
R:85   r3     Ensure 6.0.2.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.033962249755859375, Found=4 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 99.0.0.1/32":1 available, best:wait:Ensure 99.0.0.1 shows up on r3:10:0.5:
Tue Oct 31 07:39:18 2023 (#86) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 99.0.0.1/32":1 available, best:wait:Ensure 99.0.0.1 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.1/32, version 15
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:99.0.0.1/32
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:39:13 2023:
R:86   r3     Ensure 99.0.0.1 shows up on r3 +0.03 secs                1    0
Done after 1 loops, time=0.03379058837890625, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 99.0.0.3/32":1 available, best:wait:Ensure 99.0.0.3 shows up on r3:10:0.5:
Tue Oct 31 07:39:18 2023 (#87) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 99.0.0.3/32":1 available, best:wait:Ensure 99.0.0.3 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.3/32, version 7
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:41:99.0.0.3/32
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:39:09 2023:
R:87   r3     Ensure 99.0.0.3 shows up on r3 +0.03 secs                1    0
Done after 1 loops, time=0.03307008743286133, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 99.0.0.4/32":1 available, best:wait:Ensure 99.0.0.4 shows up on r3:10:0.5:
Tue Oct 31 07:39:18 2023 (#88) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 99.0.0.4/32":1 available, best:wait:Ensure 99.0.0.4 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.4/32, version 6
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:99.0.0.4/32
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 07:39:09 2023:
R:88   r3     Ensure 99.0.0.4 shows up on r3 +0.03 secs                1    0
Done after 1 loops, time=0.03323793411254883, Found=1 available, best
Tue Oct 31 07:39:18 2023 (#89) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 unicast":.:None:Get vrf r3-cust1 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 15, local router ID is 192.168.1.1, vrf id 5
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 * i                 99.0.0.2               100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 * i                 99.0.0.2               100    100      0 i
 *&gt; 5.1.2.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.1.3.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.4.2.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.4.3.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   4.4.4.4@0&lt;             200     50      0 i
 *                   4.4.4.4@0&lt;             200     50      0 i
 * i                 99.0.0.2               100    100      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   4.4.4.4@0&lt;             100    100      0 i
 *                   4.4.4.4@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.2               100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt;i99.0.0.2/32      192.168.1.2              0    100      0 i
 *&gt; 99.0.0.3/32      4.4.4.4@0&lt;               0    100      0 i
 *&gt; 99.0.0.4/32      4.4.4.4@0&lt;               0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 07:39:18 2023 (#89) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 unicast json":.*:None:Get vrf r3-cust1 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 5,
 "vrfName": "r3-cust1",
 "tableVersion": 15,
 "routerId": "192.168.1.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":12,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":12,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":13,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":13,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":11,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":9,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":14,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":14,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":14,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":14,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"IGP Metric","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":15,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":7,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":6,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
 }  }:
R:89 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '5.1.0.0/24', 'n': '99.0.0.2', 'bp': False}, {'p': '5.1.1.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '99.0.0.2', 'bp': False}, {'p': '5.1.2.0/24', 'n': '4.4.4.4', 'bp': True}, {'p': '5.1.3.0/24', 'n': '4.4.4.4', 'bp': True}, {'p': '5.4.2.0/24', 'n': '4.4.4.4', 'bp': True}, {'p': '5.4.3.0/24', 'n': '4.4.4.4', 'bp': True}, {'p': '6.0.1.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '4.4.4.4', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.2', 'bp': False}, {'p': '6.0.2.0/24', 'n': '1.1.1.1', 'bp': False}, {'p': '6.0.2.0/24', 'n': '4.4.4.4', 'bp': False}, {'p': '6.0.2.0/24', 'n': '99.0.0.2', 'bp': True}, {'p': '99.0.0.1/32', 'n': '1.1.1.1', 'bp': True}, {'p': '99.0.0.3/32', 'n': '4.4.4.4', 'bp': True}, {'p': '99.0.0.4/32', 'n': '4.4.4.4', 'bp': True}]
R:89   r3     Customer 1 routes in r3 vrf (2)                          1    0
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 5.1.0.0/24":2 available, best:wait:Ensure 5.1.0.0 shows up on r4:10:0.5:
Tue Oct 31 07:39:19 2023 (#90) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 5.1.0.0/24":2 available, best:wait:Ensure 5.1.0.0 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 5.1.0.0/24, version 15
Paths: (2 available, best #1, vrf r4-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:5.1.0.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 98, localpref 123, valid, sourced, local, best (Local Pref)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:39:14 2023
  Imported from 10:3:5.1.0.0/24
  Local
    3.3.3.3 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:39:10 2023:
R:90   r4     Ensure 5.1.0.0 shows up on r4 +0.03 secs                 1    0
Done after 1 loops, time=0.03354072570800781, Found=2 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 5.1.1.0/24":2 available, best:wait:Ensure 5.1.1.0 shows up on r4:10:0.5:
Tue Oct 31 07:39:19 2023 (#91) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 5.1.1.0/24":2 available, best:wait:Ensure 5.1.1.0 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 5.1.1.0/24, version 16
Paths: (2 available, best #1, vrf r4-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:5.1.1.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 98, localpref 123, valid, sourced, local, best (Local Pref)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:39:14 2023
  Imported from 10:3:5.1.1.0/24
  Local
    3.3.3.3 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:39:10 2023:
R:91   r4     Ensure 5.1.1.0 shows up on r4 +0.03 secs                 1    0
Done after 1 loops, time=0.03314614295959473, Found=2 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 6.0.1.0/24":4 available, best:wait:Ensure 6.0.1.0 shows up on r4:10:0.5:
Tue Oct 31 07:39:19 2023 (#92) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 6.0.1.0/24":4 available, best:wait:Ensure 6.0.1.0 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 17
Paths: (4 available, best #1, vrf r4-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:6.0.1.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 98, localpref 123, valid, sourced, local, best (Local Pref)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:39:14 2023
  Imported from 10:3:6.0.1.0/24
  Local
    3.3.3.3 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:39:10 2023
  Imported from 10:42:6.0.1.0/24
  Local
    99.0.0.4 from 0.0.0.0 (192.168.1.1) vrf r4-cust2(6) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local
      Community: 0:67
      Extended Community: RT:89:123 RT:52:100
      Large Community: 12:34:56
      Originator: 4.4.4.4
      Last update: Tue Oct 31 07:39:01 2023
  Local
    99.0.0.3 from 192.168.1.2 (99.0.0.3)
      Origin IGP, metric 200, localpref 50, valid, internal
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:39:00 2023:
R:92   r4     Ensure 6.0.1.0 shows up on r4 +0.03 secs                 1    0
Done after 1 loops, time=0.033020734786987305, Found=4 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 6.0.2.0/24":4 available, best:wait:Ensure 6.0.2.0 shows up on r4:10:0.5:
Tue Oct 31 07:39:19 2023 (#93) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 6.0.2.0/24":4 available, best:wait:Ensure 6.0.2.0 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 7
Paths: (4 available, best #4, vrf r4-cust1)
  Not advertised to any peer
  Imported from 10:1:6.0.2.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:11
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:39:14 2023
  Imported from 10:3:6.0.2.0/24
  Local
    3.3.3.3 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:39:10 2023
  Imported from 10:42:6.0.2.0/24
  Local
    99.0.0.4 from 0.0.0.0 (192.168.1.1) vrf r4-cust2(6) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local, multipath
      Community: 0:67
      Extended Community: RT:89:123 RT:52:100
      Large Community: 12:34:14
      Originator: 4.4.4.4
      Last update: Tue Oct 31 07:39:01 2023
  Local
    99.0.0.3 from 192.168.1.2 (99.0.0.3)
      Origin IGP, metric 100, localpref 100, valid, internal, multipath, best (Router ID)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:13
      Last update: Tue Oct 31 07:39:00 2023:
R:93   r4     Ensure 6.0.2.0 shows up on r4 +0.03 secs                 1    0
Done after 1 loops, time=0.03354763984680176, Found=4 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.1/32":1 available, best:wait:Ensure 99.0.0.1 shows up on r4:10:0.5:
Tue Oct 31 07:39:19 2023 (#94) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.1/32":1 available, best:wait:Ensure 99.0.0.1 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.1/32, version 18
Paths: (1 available, best #1, vrf r4-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:99.0.0.1/32
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:39:14 2023:
R:94   r4     Ensure 99.0.0.1 shows up on r4 +0.03 secs                1    0
Done after 1 loops, time=0.03430962562561035, Found=1 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.2/32":1 available, best:wait:Ensure 99.0.0.2 shows up on r4:10:0.5:
Tue Oct 31 07:39:19 2023 (#95) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.2/32":1 available, best:wait:Ensure 99.0.0.2 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.2/32, version 11
Paths: (1 available, best #1, vrf r4-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:3:99.0.0.2/32
  Local
    3.3.3.3 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:39:10 2023:
R:95   r4     Ensure 99.0.0.2 shows up on r4 +0.03 secs                1    0
Done after 1 loops, time=0.03339576721191406, Found=1 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.3/32":1 available, best:wait:Ensure 99.0.0.3 shows up on r4:10:0.5:
Tue Oct 31 07:39:19 2023 (#96) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.3/32":1 available, best:wait:Ensure 99.0.0.3 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.3/32, version 2
Paths: (1 available, best #1, vrf r4-cust1)
  Not advertised to any peer
  Local
    192.168.1.2 from 192.168.1.2 (99.0.0.3)
      Origin IGP, metric 0, localpref 100, valid, internal, best (First path received)
      Last update: Tue Oct 31 07:38:57 2023:
R:96   r4     Ensure 99.0.0.3 shows up on r4 +0.03 secs                1    0
Done after 1 loops, time=0.03301072120666504, Found=1 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.4/32":1 available, best:wait:Ensure 99.0.0.4 shows up on r4:10:0.5:
Tue Oct 31 07:39:19 2023 (#97) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.4/32":1 available, best:wait:Ensure 99.0.0.4 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.4/32, version 1
Paths: (1 available, best #1, vrf r4-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:99.0.0.4/32
  Local
    192.168.2.2 from 0.0.0.0 (192.168.1.1) vrf r4-cust2(6) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 4.4.4.4
      Last update: Tue Oct 31 07:38:57 2023:
R:97   r4     Ensure 99.0.0.4 shows up on r4 +0.03 secs                1    0
Done after 1 loops, time=0.03352069854736328, Found=1 available, best
Tue Oct 31 07:39:19 2023 (#98) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 unicast":.:None:Get vrf r4-cust1 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 18, local router ID is 192.168.1.1, vrf id 5
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt;i5.1.2.0/24       99.0.0.3               200     50      0 i
 *&gt;i5.1.3.0/24       99.0.0.3               200     50      0 i
 *&gt; 5.4.2.0/24       99.0.0.4@6&lt;            200     50      0 i
 *&gt; 5.4.3.0/24       99.0.0.4@6&lt;            200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *                   99.0.0.4@6&lt;            200     50      0 i
 * i                 99.0.0.3               200     50      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *=                  99.0.0.4@6&lt;            100    100      0 i
 *&gt;i                 99.0.0.3               100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt;i99.0.0.3/32      192.168.1.2              0    100      0 i
 *&gt; 99.0.0.4/32      192.168.2.2@6&lt;           0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 07:39:19 2023 (#98) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 unicast json":.*:None:Get vrf r4-cust1 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 5,
 "vrfName": "r4-cust1",
 "tableVersion": 18,
 "routerId": "192.168.1.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":6,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"multipath":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Router ID","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":18,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":11,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.2","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"192.168.2.2","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }:
R:98 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '5.1.0.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '5.1.1.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.4', 'bp': False}, {'p': '6.0.2.0/24', 'n': '1.1.1.1', 'bp': False}, {'p': '6.0.2.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.2.0/24', 'n': '99.0.0.3', 'bp': True}, {'p': '6.0.2.0/24', 'n': '99.0.0.4', 'bp': False}, {'p': '99.0.0.1/32', 'n': '1.1.1.1', 'bp': True}, {'p': '99.0.0.2/32', 'n': '3.3.3.3', 'bp': True}, {'p': '99.0.0.3/32', 'n': '192.168.1.2', 'bp': True}, {'p': '99.0.0.4/32', 'n': '192.168.2.2', 'bp': True}]
R:98   r4     Customer 1 routes in r4 vrf (2)                          1    0
Tue Oct 31 07:39:19 2023 (#99) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust2 ipv4 unicast":.:None:Get vrf r4-cust2 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 18, local router ID is 192.168.2.1, vrf id 6
Default local pref 100, local AS 5228
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.2.0/24       99.0.0.3@5&lt;            200     50      0 i
 *&gt; 5.1.3.0/24       99.0.0.3@5&lt;            200     50      0 i
 *&gt;i5.4.2.0/24       99.0.0.4               200     50      0 i
 *&gt;i5.4.3.0/24       99.0.0.4               200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 * i                 99.0.0.4               200     50      0 i
 *                   99.0.0.3@5&lt;            200     50      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *=i                 99.0.0.4               100    100      0 i
 *&gt;                  99.0.0.3@5&lt;            100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt; 99.0.0.3/32      192.168.1.2@5&lt;           0    100      0 i
 *&gt;i99.0.0.4/32      192.168.2.2              0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 07:39:19 2023 (#99) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust2 ipv4 unicast json":.*:None:Get vrf r4-cust2 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 6,
 "vrfName": "r4-cust2",
 "tableVersion": 18,
 "routerId": "192.168.2.1",
 "defaultLocPrf": 100,
 "localAS": 5228,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":6,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"multipath":true,"pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Router ID","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":18,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":11,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"192.168.1.2","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.2","hostname":"ce4","afi":"ipv4","used":true}]}]
 }  }:
R:99 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '5.1.0.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '5.1.1.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.4', 'bp': False}, {'p': '6.0.2.0/24', 'n': '1.1.1.1', 'bp': False}, {'p': '6.0.2.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.2.0/24', 'n': '99.0.0.3', 'bp': True}, {'p': '6.0.2.0/24', 'n': '99.0.0.4', 'bp': False}, {'p': '99.0.0.1/32', 'n': '1.1.1.1', 'bp': True}, {'p': '99.0.0.2/32', 'n': '3.3.3.3', 'bp': True}, {'p': '99.0.0.3/32', 'n': '192.168.1.2', 'bp': True}, {'p': '99.0.0.4/32', 'n': '192.168.2.2', 'bp': True}]
R:99   r4     Customer 2 routes in r4 vrf (2)                          1    0
scripts/check_routes.py:0 WAIT:ce1:vtysh -c "show bgp ipv4 uni":12 routes and 12:wait:Local and remote routes:10:0.5:
Tue Oct 31 07:39:19 2023 (#100) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni":12 routes and 12:wait:Local and remote routes:
COMMAND OUTPUT:BGP table version is 12, local router ID is 99.0.0.1, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       99.0.0.1                98    123  32768 i
 *&gt; 5.1.1.0/24       99.0.0.1                98    123  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 *&gt; 6.0.1.0/24       99.0.0.1                98    123  32768 i
 *&gt; 6.0.2.0/24       99.0.0.1               100    100  32768 i
 *&gt; 99.0.0.1/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 12 total paths:
R:100  ce1    Local and remote routes +0.03 secs                       1    0
Done after 1 loops, time=0.03436160087585449, Found=12 routes and 12
Tue Oct 31 07:39:19 2023 (#101) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp  ipv4 unicast":.:None:Get  ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 12, local router ID is 99.0.0.1, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       99.0.0.1                98    123  32768 i
 *&gt; 5.1.1.0/24       99.0.0.1                98    123  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 *&gt; 6.0.1.0/24       99.0.0.1                98    123  32768 i
 *&gt; 6.0.2.0/24       99.0.0.1               100    100  32768 i
 *&gt; 99.0.0.1/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 12 total paths:
Tue Oct 31 07:39:19 2023 (#101) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp  ipv4 unicast json":.*:None:Get  ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 12,
 "routerId": "99.0.0.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":4,"metric":98,"locPrf":123,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":9,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":12,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":11,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":5,"metric":98,"locPrf":123,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":6,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":8,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":7,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
 }  }:
R:101 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '5.1.2.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.1.3.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.4.2.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.4.3.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '6.0.2.0/24', 'n': '99.0.0.1', 'bp': True}]
R:101  ce1    Cust 1 routes from remote                                1    0
scripts/check_routes.py:0 WAIT:ce2:vtysh -c "show bgp ipv4 uni":12 routes and 15:wait:Local and remote routes:10:0.5:
Tue Oct 31 07:39:19 2023 (#102) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni":12 routes and 15:wait:Local and remote routes:
COMMAND OUTPUT:BGP table version is 12, local router ID is 99.0.0.2, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 * i5.1.0.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 * i5.1.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 *&gt; 6.0.2.0/24       99.0.0.2               100    100  32768 i
 *&gt;i99.0.0.1/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.2/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 15 total paths:
R:102  ce2    Local and remote routes +0.03 secs                       1    0
Done after 1 loops, time=0.033968448638916016, Found=12 routes and 15
Tue Oct 31 07:39:19 2023 (#103) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp  ipv4 unicast":.:None:Get  ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 12, local router ID is 99.0.0.2, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 * i5.1.0.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 * i5.1.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 *&gt; 6.0.2.0/24       99.0.0.2               100    100  32768 i
 *&gt;i99.0.0.1/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.2/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 15 total paths:
Tue Oct 31 07:39:19 2023 (#103) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp  ipv4 unicast json":.*:None:Get  ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 12,
 "routerId": "99.0.0.2",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":4,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":4,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":9,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":11,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":5,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":5,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":12,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":7,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":6,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
 }  }:
R:103 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '192.168.1.1', 'bp': False}, {'p': '5.1.0.0/24', 'n': '99.0.0.2', 'bp': True}, {'p': '5.1.1.0/24', 'n': '192.168.1.1', 'bp': False}, {'p': '5.1.1.0/24', 'n': '99.0.0.2', 'bp': True}, {'p': '5.1.2.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.1.3.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.4.2.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.4.3.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '192.168.1.1', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.2', 'bp': True}, {'p': '6.0.2.0/24', 'n': '99.0.0.2', 'bp': True}]
R:103  ce2    Cust 1 routes from remote                                1    0
Tue Oct 31 07:39:19 2023 (#104) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni":.:none::
COMMAND OUTPUT:BGP table version is 18, local router ID is 192.168.1.1, vrf id 5
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt;i5.1.2.0/24       99.0.0.3               200     50      0 i
 *&gt;i5.1.3.0/24       99.0.0.3               200     50      0 i
 *&gt; 5.4.2.0/24       99.0.0.4@6&lt;            200     50      0 i
 *&gt; 5.4.3.0/24       99.0.0.4@6&lt;            200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *                   99.0.0.4@6&lt;            200     50      0 i
 * i                 99.0.0.3               200     50      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *=                  99.0.0.4@6&lt;            100    100      0 i
 *&gt;i                 99.0.0.3               100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt;i99.0.0.3/32      192.168.1.2              0    100      0 i
 *&gt; 99.0.0.4/32      192.168.2.2@6&lt;           0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 07:39:19 2023 (#104) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust2 ipv4 uni":.:none::
COMMAND OUTPUT:BGP table version is 18, local router ID is 192.168.2.1, vrf id 6
Default local pref 100, local AS 5228
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.2.0/24       99.0.0.3@5&lt;            200     50      0 i
 *&gt; 5.1.3.0/24       99.0.0.3@5&lt;            200     50      0 i
 *&gt;i5.4.2.0/24       99.0.0.4               200     50      0 i
 *&gt;i5.4.3.0/24       99.0.0.4               200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 * i                 99.0.0.4               200     50      0 i
 *                   99.0.0.3@5&lt;            200     50      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *=i                 99.0.0.4               100    100      0 i
 *&gt;                  99.0.0.3@5&lt;            100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt; 99.0.0.3/32      192.168.1.2@5&lt;           0    100      0 i
 *&gt;i99.0.0.4/32      192.168.2.2              0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 07:39:19 2023 (#104) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp ipv4 vpn":.:none::
COMMAND OUTPUT:BGP table version is 5, local router ID is 4.4.4.4, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt;i5.1.0.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       1.1.1.1                100    100      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i99.0.0.1/32      1.1.1.1                  0    100      0 i
    UN=1.1.1.1 EC{52:100} label=101 type=bgp, subtype=0
Route Distinguisher: 10:3
 *&gt;i5.1.0.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i99.0.0.2/32      3.3.3.3                  0    100      0 i
    UN=3.3.3.3 EC{52:100} label=103 type=bgp, subtype=0
Route Distinguisher: 10:41
 *&gt; 5.1.2.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 5.1.3.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.3@5&lt;            100    100      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 99.0.0.3/32      192.168.1.2@5&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=1041 type=bgp, subtype=5
Route Distinguisher: 10:42
 *&gt; 5.4.2.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 5.4.3.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.4@6&lt;            100    100      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 99.0.0.4/32      192.168.2.2@6&lt;           0    100      0 i
    UN=192.168.2.2 EC{52:100} label=1042 type=bgp, subtype=5

Displayed  20 routes and 20 total paths:
Tue Oct 31 07:39:19 2023 (#104) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show ip route vrf r4-cust1":.:none::
COMMAND OUTPUT:Codes: K - kernel route, C - connected, S - static, R - RIP,
       O - OSPF, I - IS-IS, B - BGP, E - EIGRP, N - NHRP,
       T - Table, v - VNC, V - VNC-Direct, A - Babel, D - SHARP,
       F - PBR, f - OpenFabric,
       &gt; - selected route, * - FIB route, q - queued, r - rejected, b - backup
       t - trapped, o - offload failure

VRF r4-cust1:
B&gt;  5.1.0.0/24 [200/98] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:06
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:06
B&gt;  5.1.1.0/24 [200/98] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:06
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:06
B&gt;  5.1.2.0/24 [200/200] via 99.0.0.3 (recursive), weight 1, 00:00:19
  *                        via 192.168.1.2, r4-eth4, weight 1, 00:00:19
B&gt;  5.1.3.0/24 [200/200] via 99.0.0.3 (recursive), weight 1, 00:00:19
  *                        via 192.168.1.2, r4-eth4, weight 1, 00:00:19
B   5.4.2.0/24 [200/200] via 99.0.0.4 (vrf r4-cust2) inactive, weight 1, 00:00:19
B   5.4.3.0/24 [200/200] via 99.0.0.4 (vrf r4-cust2) inactive, weight 1, 00:00:19
B&gt;  6.0.1.0/24 [200/98] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:06
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:06
B&gt;  6.0.2.0/24 [200/100] via 99.0.0.3 (recursive), weight 1, 00:00:19
  *                        via 192.168.1.2, r4-eth4, weight 1, 00:00:19
                         via 99.0.0.4 (vrf r4-cust2) (recursive), weight 1, 00:00:19
  *                        via 192.168.2.2, r4-eth5 (vrf r4-cust2), weight 1, 00:00:19
B&gt;  99.0.0.1/32 [200/0] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:06
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:06
B&gt;  99.0.0.2/32 [200/0] via 3.3.3.3 (vrf default) (recursive), label 103, weight 1, 00:00:07
  *                       via 10.0.2.3, r4-eth0 (vrf default), label implicit-null/103, weight 1, 00:00:07
B&gt;* 99.0.0.3/32 [200/0] via 192.168.1.2, r4-eth4, weight 1, 00:00:23
B&gt;* 99.0.0.4/32 [200/0] via 192.168.2.2, r4-eth5 (vrf r4-cust2), weight 1, 00:00:23
C&gt;* 192.168.1.0/24 is directly connected, r4-eth4, 00:00:26:
Tue Oct 31 07:39:19 2023 (#104) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show ip route vrf r4-cust2":.:none::
COMMAND OUTPUT:Codes: K - kernel route, C - connected, S - static, R - RIP,
       O - OSPF, I - IS-IS, B - BGP, E - EIGRP, N - NHRP,
       T - Table, v - VNC, V - VNC-Direct, A - Babel, D - SHARP,
       F - PBR, f - OpenFabric,
       &gt; - selected route, * - FIB route, q - queued, r - rejected, b - backup
       t - trapped, o - offload failure

VRF r4-cust2:
B&gt;  5.1.0.0/24 [200/98] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:06
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:06
B&gt;  5.1.1.0/24 [200/98] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:06
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:06
B   5.1.2.0/24 [200/200] via 99.0.0.3 (vrf r4-cust1) inactive, weight 1, 00:00:19
B   5.1.3.0/24 [200/200] via 99.0.0.3 (vrf r4-cust1) inactive, weight 1, 00:00:19
B&gt;  5.4.2.0/24 [200/200] via 99.0.0.4 (recursive), weight 1, 00:00:19
  *                        via 192.168.2.2, r4-eth5, weight 1, 00:00:19
B&gt;  5.4.3.0/24 [200/200] via 99.0.0.4 (recursive), weight 1, 00:00:19
  *                        via 192.168.2.2, r4-eth5, weight 1, 00:00:19
B&gt;  6.0.1.0/24 [200/98] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:06
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:06
B   6.0.2.0/24 [200/100] via 99.0.0.3 (vrf r4-cust1) inactive, weight 1, 00:00:19
                         via 99.0.0.4 inactive, weight 1, 00:00:19
B&gt;  99.0.0.1/32 [200/0] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:06
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:06
B&gt;  99.0.0.2/32 [200/0] via 3.3.3.3 (vrf default) (recursive), label 103, weight 1, 00:00:07
  *                       via 10.0.2.3, r4-eth0 (vrf default), label implicit-null/103, weight 1, 00:00:07
B&gt;* 99.0.0.3/32 [200/0] via 192.168.1.2, r4-eth4 (vrf r4-cust1), weight 1, 00:00:23
B&gt;* 99.0.0.4/32 [200/0] via 192.168.2.2, r4-eth5, weight 1, 00:00:23
C&gt;* 192.168.2.0/24 is directly connected, r4-eth5, 00:00:26:
scripts/check_routes.py:0 WAIT:ce3:vtysh -c "show bgp ipv4 uni":12 routes and 13:wait:Local and remote routes:10:0.5:
Tue Oct 31 07:39:19 2023 (#104) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni":12 routes and 13:wait:Local and remote routes:
COMMAND OUTPUT:BGP table version is 14, local router ID is 99.0.0.3, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.1.1             98    123      0 i
 *&gt;i5.1.1.0/24       192.168.1.1             98    123      0 i
 *&gt; 5.1.2.0/24       99.0.0.3               200     50  32768 i
 *&gt; 5.1.3.0/24       99.0.0.3               200     50  32768 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.3               200     50  32768 i
 *&gt; 6.0.2.0/24       99.0.0.3               100    100  32768 i
 *&gt;i99.0.0.1/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.3/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 13 total paths:
R:104  ce3    Local and remote routes +0.03 secs                       1    0
Done after 1 loops, time=0.03342080116271973, Found=12 routes and 13
Tue Oct 31 07:39:19 2023 (#105) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp  ipv4 unicast":.:None:Get  ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 14, local router ID is 99.0.0.3, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.1.1             98    123      0 i
 *&gt;i5.1.1.0/24       192.168.1.1             98    123      0 i
 *&gt; 5.1.2.0/24       99.0.0.3               200     50  32768 i
 *&gt; 5.1.3.0/24       99.0.0.3               200     50  32768 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.3               200     50  32768 i
 *&gt; 6.0.2.0/24       99.0.0.3               100    100  32768 i
 *&gt;i99.0.0.1/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.3/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 13 total paths:
Tue Oct 31 07:39:19 2023 (#105) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp  ipv4 unicast json":.*:None:Get  ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 14,
 "routerId": "99.0.0.3",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":12,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":13,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":5,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":7,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":6,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":6,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":3,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":14,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":9,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }:
R:105 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.4.2.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.4.3.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '192.168.1.1', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.3', 'bp': True}, {'p': '6.0.2.0/24', 'n': '99.0.0.3', 'bp': True}]
R:105  ce3    Cust 1 routes from remote                                1    0
scripts/check_routes.py:0 WAIT:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 uni":12 routes and 14:wait:Local and remote routes:10:0.5:
Tue Oct 31 07:39:19 2023 (#106) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 uni":12 routes and 14:wait:Local and remote routes:
COMMAND OUTPUT:BGP table version is 16, local router ID is 99.0.0.4, vrf id 2
Default local pref 100, local AS 5228
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.2.1             98    123      0 i
 *&gt;i5.1.1.0/24       192.168.2.1             98    123      0 i
 *&gt;i5.1.2.0/24       192.168.2.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.2.1            200     50      0 i
 *&gt; 5.4.2.0/24       99.0.0.4               200     50  32768 i
 *&gt; 5.4.3.0/24       99.0.0.4               200     50  32768 i
 *&gt; 6.0.1.0/24       99.0.0.4               200     50  32768 i
 * i                 192.168.2.1             98    123      0 i
 *&gt; 6.0.2.0/24       99.0.0.4               100    100  32768 i
 * i                 192.168.2.1            100    100      0 i
 *&gt;i99.0.0.1/32      192.168.2.1              0    100      0 i
 *&gt;i99.0.0.2/32      192.168.2.1              0    100      0 i
 *&gt;i99.0.0.3/32      192.168.2.1              0    100      0 i
 *&gt; 99.0.0.4/32      0.0.0.0                  0         32768 i

Displayed  12 routes and 14 total paths:
R:106  ce4    Local and remote routes +0.03 secs                       1    0
Done after 1 loops, time=0.03328990936279297, Found=12 routes and 14
Tue Oct 31 07:39:19 2023 (#107) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 unicast":.:None:Get vrf ce4-cust2 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 16, local router ID is 99.0.0.4, vrf id 2
Default local pref 100, local AS 5228
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.2.1             98    123      0 i
 *&gt;i5.1.1.0/24       192.168.2.1             98    123      0 i
 *&gt;i5.1.2.0/24       192.168.2.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.2.1            200     50      0 i
 *&gt; 5.4.2.0/24       99.0.0.4               200     50  32768 i
 *&gt; 5.4.3.0/24       99.0.0.4               200     50  32768 i
 *&gt; 6.0.1.0/24       99.0.0.4               200     50  32768 i
 * i                 192.168.2.1             98    123      0 i
 *&gt; 6.0.2.0/24       99.0.0.4               100    100  32768 i
 * i                 192.168.2.1            100    100      0 i
 *&gt;i99.0.0.1/32      192.168.2.1              0    100      0 i
 *&gt;i99.0.0.2/32      192.168.2.1              0    100      0 i
 *&gt;i99.0.0.3/32      192.168.2.1              0    100      0 i
 *&gt; 99.0.0.4/32      0.0.0.0                  0         32768 i

Displayed  12 routes and 14 total paths:
Tue Oct 31 07:39:19 2023 (#107) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 unicast json":.*:None:Get vrf ce4-cust2 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 2,
 "vrfName": "ce4-cust2",
 "tableVersion": 16,
 "routerId": "99.0.0.4",
 "defaultLocPrf": 100,
 "localAS": 5228,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":14,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":15,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":5,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":8,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":9,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":10,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":10,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":16,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":11,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce4","afi":"ipv4","used":true}]}]
 }  }:
R:107 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '192.168.2.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '192.168.2.1', 'bp': True}, {'p': '5.1.2.0/24', 'n': '192.168.2.1', 'bp': True}, {'p': '5.1.3.0/24', 'n': '192.168.2.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '192.168.2.1', 'bp': False}, {'p': '6.0.2.0/24', 'n': '192.168.2.1', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.4', 'bp': True}, {'p': '6.0.2.0/24', 'n': '99.0.0.4', 'bp': True}]
R:107  ce4    Cust 2 routes from remote                                1    0
Tue Oct 31 07:39:19 2023 (#108) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni 6.0.1.0":1 available.*192.168.1.1.*99.0.0.1.*Community: 0:67.*Extended Community: RT:89:123.*Large Community: 12:34:56:pass:Redundant route 1 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 5
Paths: (1 available, best #1, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    99.0.0.1 from 0.0.0.0 (99.0.0.1)
      Origin IGP, metric 98, localpref 123, weight 32768, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:38:59 2023:
R:108  ce1    Redundant route 1 details                                1    0
Tue Oct 31 07:39:20 2023 (#109) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni 6.0.1.0":2 available, best .*192.168.1.1.* Local.* 192.168.1.1 from 192.168.1.1 .192.168.1.1.* Origin IGP, metric 98, localpref 123, valid, internal.* Community: 0:67.* Extended Community: RT:52:100 RT:89:123.* Large Community: 12:34:56:pass:Redundant route 1 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 5
Paths: (2 available, best #2, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    192.168.1.1 from 192.168.1.1 (192.168.1.1)
      Origin IGP, metric 98, localpref 123, valid, internal
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:39:14 2023
  Local
    99.0.0.2 from 0.0.0.0 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (Weight)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:39:00 2023:
R:109  ce2    Redundant route 1 details                                1    0
Tue Oct 31 07:39:20 2023 (#110) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni 6.0.1.0":2 available, best .*192.168.1.1.* Local.* 99.0.0.2 from 0.0.0.0 .99.0.0.2.* Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best .Weight.* Community: 0:67.* Extended Community: RT:89:123.* Large Community: 12:34:56:pass:Redundant route 1 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 5
Paths: (2 available, best #2, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    192.168.1.1 from 192.168.1.1 (192.168.1.1)
      Origin IGP, metric 98, localpref 123, valid, internal
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:39:14 2023
  Local
    99.0.0.2 from 0.0.0.0 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (Weight)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:39:00 2023:
R:110  ce2    Redundant route 1 details                                1    0
Tue Oct 31 07:39:20 2023 (#111) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni 6.0.1.0":2 available, best .* Local.* 99.0.0.3 from 0.0.0.0 .99.0.0.3.* Origin IGP, metric 200, localpref 50, weight 32768, valid, sourced, local, best .Weight.* Community: 0:67.* Extended Community: RT:89:123.* Large Community: 12:34:56:pass:Redundant route 1 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 6
Paths: (2 available, best #2, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    192.168.1.1 from 192.168.1.1 (192.168.1.1)
      Origin IGP, metric 98, localpref 123, valid, internal
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:39:14 2023
  Local
    99.0.0.3 from 0.0.0.0 (99.0.0.3)
      Origin IGP, metric 200, localpref 50, weight 32768, valid, sourced, local, best (Weight)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:39:00 2023:
R:111  ce3    Redundant route 1 details                                1    0
Tue Oct 31 07:39:20 2023 (#112) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni 6.0.1.0":2 available, best .* Local.* 192.168.1.1 from 192.168.1.1 .192.168.1.1.* Origin IGP, metric 98, localpref 123, valid, internal.* Community: 0:67.* Extended Community: RT:52:100 RT:89:123.* Large Community: 12:34:56:pass:Redundant route 1 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 6
Paths: (2 available, best #2, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    192.168.1.1 from 192.168.1.1 (192.168.1.1)
      Origin IGP, metric 98, localpref 123, valid, internal
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:39:14 2023
  Local
    99.0.0.3 from 0.0.0.0 (99.0.0.3)
      Origin IGP, metric 200, localpref 50, weight 32768, valid, sourced, local, best (Weight)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:39:00 2023:
R:112  ce3    Redundant route 1 details                                1    0
Tue Oct 31 07:39:20 2023 (#113) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 6.0.1.0 json":{"paths":[{"aspath":{"string":"Local"},"origin":"IGP","metric":200,"locPrf":50,"weight":32768,"valid":true,"sourced":true,"local":true,"bestpath":{"overall":true,"selectionReason":"Weight"},"community":{"string":"0:67"},"extendedCommunity":{"string":"RT:89:123"},"largeCommunity":{"string":"12:34:56"},"peer":{"peerId":"0.0.0.0","routerId":"99.0.0.4"}},{"aspath":{"string":"Local"},"origin":"IGP","metric":98,"locPrf":123,"valid":true,"community":{"string":"0:67"},"extendedCommunity":{"string":"RT:52:100 RT:89:123"},"largeCommunity":{"string":"12:34:56"},"peer":{"peerId":"192.168.2.1","routerId":"192.168.2.1"}}]}:jsoncmp_pass:Redundant route 1 details:
COMMAND OUTPUT:{
  "prefix":"6.0.1.0/24",
  "version":10,
  "advertisedTo":{
    "192.168.2.1":{
      "hostname":"r4"
    }
  },
  "paths":[
    {
      "aspath":{
        "string":"Local",
        "segments":[
        ],
        "length":0
      },
      "origin":"IGP",
      "metric":200,
      "locPrf":50,
      "weight":32768,
      "valid":true,
      "version":10,
      "sourced":true,
      "local":true,
      "bestpath":{
        "overall":true,
        "selectionReason":"Weight"
      },
      "community":{
        "string":"0:67",
        "list":[
          "0:67"
        ]
      },
      "extendedCommunity":{
        "string":"RT:89:123"
      },
      "largeCommunity":{
        "string":"12:34:56",
        "list":[
          "12:34:56"
        ]
      },
      "lastUpdate":{
        "epoch":1698737941,
        "string":"Tue Oct 31 07:39:01 2023\n"
      },
      "nexthops":[
        {
          "ip":"99.0.0.4",
          "hostname":"ce4",
          "afi":"ipv4",
          "metric":0,
          "accessible":true,
          "used":true
        }
      ],
      "peer":{
        "peerId":"0.0.0.0",
        "routerId":"99.0.0.4"
      }
    },
    {
      "aspath":{
        "string":"Local",
        "segments":[
        ],
        "length":0
      },
      "origin":"IGP",
      "metric":98,
      "locPrf":123,
      "valid":true,
      "version":10,
      "community":{
        "string":"0:67",
        "list":[
          "0:67"
        ]
      },
      "extendedCommunity":{
        "string":"RT:52:100 RT:89:123"
      },
      "largeCommunity":{
        "string":"12:34:56",
        "list":[
          "12:34:56"
        ]
      },
      "lastUpdate":{
        "epoch":1698737954,
        "string":"Tue Oct 31 07:39:14 2023\n"
      },
      "nexthops":[
        {
          "ip":"192.168.2.1",
          "hostname":"r4",
          "afi":"ipv4",
          "metric":0,
          "accessible":true,
          "used":true
        }
      ],
      "peer":{
        "peerId":"192.168.2.1",
        "routerId":"192.168.2.1",
        "hostname":"r4",
        "type":"internal"
      }
    }
  ]
}:
R:113  ce4    Redundant route 1 details                                1    0
Tue Oct 31 07:39:20 2023 (#114) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni 6.0.2.0":1 available, best .*192.168.1.1.* Local.* 99.0.0.1 from 0.0.0.0 .99.0.0.1.* Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best .First path received.* Community: 0:67.* Extended Community: RT:89:123.* Large Community: 12:34:11:pass:Route 2 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 2
Paths: (1 available, best #1, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    99.0.0.1 from 0.0.0.0 (99.0.0.1)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:11
      Last update: Tue Oct 31 07:38:59 2023:
R:114  ce1    Route 2 details                                          1    0
Tue Oct 31 07:39:20 2023 (#115) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni 6.0.2.0":1 available, best .*192.168.1.1.* Local.* 99.0.0.2 from 0.0.0.0 .99.0.0.2.* Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best .First path received.* Community: 0:67.* Extended Community: RT:89:123.* Large Community: 12:34:12:pass:Route 2 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 2
Paths: (1 available, best #1, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    99.0.0.2 from 0.0.0.0 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:12
      Last update: Tue Oct 31 07:39:00 2023:
R:115  ce2    Route 2 details                                          1    0
Tue Oct 31 07:39:20 2023 (#116) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni 6.0.2.0":1 available, best .*192.168.1.1.* Local.* 99.0.0.3 from 0.0.0.0 .99.0.0.3.* Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best .First path received.* Community: 0:67.* Extended Community: RT:89:123.* Large Community: 12:34:13:pass:Route 2 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 3
Paths: (1 available, best #1, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    99.0.0.3 from 0.0.0.0 (99.0.0.3)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:13
      Last update: Tue Oct 31 07:39:00 2023:
R:116  ce3    Route 2 details                                          1    0
Tue Oct 31 07:39:20 2023 (#117) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp  vrf ce4-cust2 ipv4 6.0.2.0":2 available, best .*192.168.2.1.* Local.* 192.168.2.1 from 192.168.2.1 .192.168.2.1.* Origin IGP, metric 100, localpref 100, valid, internal.* Community: 0:67.* Extended Community: RT:52:100 RT:89:123.* Large Community: 12:34:13:pass:Redundant route 2 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 7
Paths: (2 available, best #1, vrf ce4-cust2)
  Advertised to non peer-group peers:
  192.168.2.1
  Local
    99.0.0.4 from 0.0.0.0 (99.0.0.4)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (Weight)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:14
      Last update: Tue Oct 31 07:39:01 2023
  Local
    192.168.2.1 from 192.168.2.1 (192.168.2.1)
      Origin IGP, metric 100, localpref 100, valid, internal
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:13
      Last update: Tue Oct 31 07:39:01 2023:
R:117  ce4    Redundant route 2 details                                1    0
Tue Oct 31 07:39:20 2023 (#118) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp  vrf ce4-cust2 ipv4 6.0.2.0":2 available, best .*192.168.2.1.* Local.* 99.0.0.4 from 0.0.0.0 .99.0.0.4.* Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best .Weight.* Community: 0:67.* Extended Community: RT:89:123.* Large Community: 12:34:14:pass:Redundant route 2 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 7
Paths: (2 available, best #1, vrf ce4-cust2)
  Advertised to non peer-group peers:
  192.168.2.1
  Local
    99.0.0.4 from 0.0.0.0 (99.0.0.4)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (Weight)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:14
      Last update: Tue Oct 31 07:39:01 2023
  Local
    192.168.2.1 from 192.168.2.1 (192.168.2.1)
      Origin IGP, metric 100, localpref 100, valid, internal
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:13
      Last update: Tue Oct 31 07:39:01 2023:
R:118  ce4    Redundant route 2 details                                1    0

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_check_linux_mpls" time="0.135"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/check_linux_mpls.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/check_linux_mpls.py
scripts/check_linux_mpls.py:0 WAIT:r2:ip -M route show:\d*(?= via inet 10.0.2.4 dev r2-eth1):wait:See mpls route to r4:10:0.5:
Tue Oct 31 07:39:20 2023 (#119) scripts/check_linux_mpls.py:0 COMMAND:r2:ip -M route show:\d*(?= via inet 10.0.2.4 dev r2-eth1):wait:See mpls route to r4:
COMMAND OUTPUT:16 via inet 10.0.2.4 dev r2-eth1 proto 193 
17 proto 193 
	nexthop via inet 10.0.3.3 dev r2-eth2 
	nexthop via inet 10.0.2.3 dev r2-eth1 
18 via inet 10.0.1.1 dev r2-eth0 proto 193:
R:119  r2     See mpls route to r4 +0.01 secs                          1    0
Done after 1 loops, time=0.0057468414306640625, Found=16
Tue Oct 31 07:39:20 2023 (#120) scripts/check_linux_mpls.py:0 COMMAND:r2:ip -M route show:.:pass:See 16 as label to r4:
COMMAND OUTPUT:16 via inet 10.0.2.4 dev r2-eth1 proto 193 
17 proto 193 
	nexthop via inet 10.0.3.3 dev r2-eth2 
	nexthop via inet 10.0.2.3 dev r2-eth1 
18 via inet 10.0.1.1 dev r2-eth0 proto 193:
R:120  r2     See 16 as label to r4                                    1    0
scripts/check_linux_mpls.py:0 WAIT:r2:ip -M route show:\d*(?= via inet 10.0.1.1 dev r2-eth0):wait:See mpls route to r1:10:0.5:
Tue Oct 31 07:39:20 2023 (#121) scripts/check_linux_mpls.py:0 COMMAND:r2:ip -M route show:\d*(?= via inet 10.0.1.1 dev r2-eth0):wait:See mpls route to r1:
COMMAND OUTPUT:16 via inet 10.0.2.4 dev r2-eth1 proto 193 
17 proto 193 
	nexthop via inet 10.0.3.3 dev r2-eth2 
	nexthop via inet 10.0.2.3 dev r2-eth1 
18 via inet 10.0.1.1 dev r2-eth0 proto 193:
R:121  r2     See mpls route to r1 +0.00 secs                          1    0
Done after 1 loops, time=0.004996776580810547, Found=18
Tue Oct 31 07:39:20 2023 (#122) scripts/check_linux_mpls.py:0 COMMAND:r2:ip -M route show:.:pass:See 18 as label to r1:
COMMAND OUTPUT:16 via inet 10.0.2.4 dev r2-eth1 proto 193 
17 proto 193 
	nexthop via inet 10.0.3.3 dev r2-eth2 
	nexthop via inet 10.0.2.3 dev r2-eth1 
18 via inet 10.0.1.1 dev r2-eth0 proto 193:
R:122  r2     See 18 as label to r1                                    1    0
Tue Oct 31 07:39:20 2023 (#123) scripts/check_linux_mpls.py:0 COMMAND:r1:ip route show vrf r1-cust1:99.0.0.4:pass:VRF-&gt;MPLS PHP route installed:
COMMAND OUTPUT:5.1.0.0/24 nhid 19 via 192.168.1.2 dev r1-eth4 proto bgp metric 20 
5.1.1.0/24 nhid 19 via 192.168.1.2 dev r1-eth4 proto bgp metric 20 
5.1.2.0/24 nhid 33  encap mpls  16/1041 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
5.1.3.0/24 nhid 33  encap mpls  16/1041 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
5.4.2.0/24 nhid 31  encap mpls  16/1042 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
5.4.3.0/24 nhid 31  encap mpls  16/1042 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
6.0.1.0/24 nhid 19 via 192.168.1.2 dev r1-eth4 proto bgp metric 20 
6.0.2.0/24 nhid 19 via 192.168.1.2 dev r1-eth4 proto bgp metric 20 
99.0.0.1 nhid 16 via 192.168.1.2 dev r1-eth4 proto bgp metric 20 
99.0.0.2 nhid 29  encap mpls  17/103 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
99.0.0.3 nhid 33  encap mpls  16/1041 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
99.0.0.4 nhid 31  encap mpls  16/1042 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
192.168.1.0/24 dev r1-eth4 proto kernel scope link src 192.168.1.1:
R:123  r1     VRF-&gt;MPLS PHP route installed                            1    0
Tue Oct 31 07:39:20 2023 (#124) scripts/check_linux_mpls.py:0 COMMAND:r4:ip route show vrf r4-cust2:99.0.0.1:pass:VRF-&gt;MPLS PHP route installed:
COMMAND OUTPUT:5.1.0.0/24 nhid 49  encap mpls  18/101 via 10.0.2.2 dev r4-eth0 proto bgp metric 20 
5.1.1.0/24 nhid 49  encap mpls  18/101 via 10.0.2.2 dev r4-eth0 proto bgp metric 20 
5.4.2.0/24 nhid 29 via 192.168.2.2 dev r4-eth5 proto bgp metric 20 
5.4.3.0/24 nhid 29 via 192.168.2.2 dev r4-eth5 proto bgp metric 20 
6.0.1.0/24 nhid 49  encap mpls  18/101 via 10.0.2.2 dev r4-eth0 proto bgp metric 20 
99.0.0.1 nhid 49  encap mpls  18/101 via 10.0.2.2 dev r4-eth0 proto bgp metric 20 
99.0.0.2 nhid 46  encap mpls  103 via 10.0.2.3 dev r4-eth0 proto bgp metric 20 
99.0.0.3 nhid 22 via 192.168.1.2 dev r4-eth4 proto bgp metric 20 
99.0.0.4 nhid 20 via 192.168.2.2 dev r4-eth5 proto bgp metric 20 
192.168.2.0/24 dev r4-eth5 proto kernel scope link src 192.168.2.1:
R:124  r4     VRF-&gt;MPLS PHP route installed                            1    0
Tue Oct 31 07:39:20 2023 (#125) scripts/check_linux_mpls.py:0 COMMAND:r1:ip -M route show:101:pass:MPLS-&gt;VRF route installed:
COMMAND OUTPUT:16 via inet 10.0.1.2 dev r1-eth0 proto 193 
17 as to 17 via inet 10.0.1.2 dev r1-eth0 proto 193 
18 as to 16 via inet 10.0.1.2 dev r1-eth0 proto 193 
19 via inet 10.0.1.2 dev r1-eth0 proto 193 
20 via inet 10.0.1.2 dev r1-eth0 proto 193 
101 dev r1-cust1 proto bgp:
R:125  r1     MPLS-&gt;VRF route installed                                1    0
Tue Oct 31 07:39:20 2023 (#126) scripts/check_linux_mpls.py:0 COMMAND:r4:ip -M route show:1041:pass:MPLS-&gt;VRF1 route installed:
COMMAND OUTPUT:16 via inet 10.0.2.2 dev r4-eth0 proto 193 
17 via inet 10.0.2.3 dev r4-eth0 proto 193 
18 via inet 10.0.2.2 dev r4-eth0 proto 193 
19 proto 193 
	nexthop via inet 10.0.2.3 dev r4-eth0 
	nexthop via inet 10.0.2.2 dev r4-eth0 
20 as to 18 via inet 10.0.2.2 dev r4-eth0 proto 193 
1041 dev r4-cust1 proto bgp 
1042 dev r4-cust2 proto bgp:
R:126  r4     MPLS-&gt;VRF1 route installed                               1    0
Tue Oct 31 07:39:20 2023 (#127) scripts/check_linux_mpls.py:0 COMMAND:r4:ip -M route show:1042:pass:MPLS-&gt;VRF2 route installed:
COMMAND OUTPUT:16 via inet 10.0.2.2 dev r4-eth0 proto 193 
17 via inet 10.0.2.3 dev r4-eth0 proto 193 
18 via inet 10.0.2.2 dev r4-eth0 proto 193 
19 proto 193 
	nexthop via inet 10.0.2.3 dev r4-eth0 
	nexthop via inet 10.0.2.2 dev r4-eth0 
20 as to 18 via inet 10.0.2.2 dev r4-eth0 proto 193 
1041 dev r4-cust1 proto bgp 
1042 dev r4-cust2 proto bgp:
R:127  r4     MPLS-&gt;VRF2 route installed                               1    0
scripts/check_linux_mpls.py:0 WAIT:ce1:ping 99.0.0.4 -I 99.0.0.1 -c 1: 0. packet loss:wait:CE-&gt;CE (loopback) ping - l3vpn+zebra case:10:0.5:
Tue Oct 31 07:39:20 2023 (#128) scripts/check_linux_mpls.py:0 COMMAND:ce1:ping 99.0.0.4 -I 99.0.0.1 -c 1: 0. packet loss:wait:CE-&gt;CE (loopback) ping - l3vpn+zebra case:
COMMAND OUTPUT:PING 99.0.0.4 (99.0.0.4) from 99.0.0.1 : 56(84) bytes of data.
64 bytes from 99.0.0.4: icmp_seq=1 ttl=62 time=0.081 ms

--- 99.0.0.4 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.081/0.081/0.081/0.000 ms:
R:128  ce1    CE-&gt;CE (loopback) ping - l3vpn+zebra case +0.00 secs     1    0
Done after 1 loops, time=0.0042781829833984375, Found= 0% packet loss
scripts/check_linux_mpls.py:0 WAIT:ce1:ping 99.0.0.4 -I 99.0.0.1 -c 1: 0. packet loss:wait:CE-&gt;CE (loopback) ping:10:0.5:
Tue Oct 31 07:39:20 2023 (#129) scripts/check_linux_mpls.py:0 COMMAND:ce1:ping 99.0.0.4 -I 99.0.0.1 -c 1: 0. packet loss:wait:CE-&gt;CE (loopback) ping:
COMMAND OUTPUT:PING 99.0.0.4 (99.0.0.4) from 99.0.0.1 : 56(84) bytes of data.
64 bytes from 99.0.0.4: icmp_seq=1 ttl=62 time=0.078 ms

--- 99.0.0.4 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.078/0.078/0.078/0.000 ms:
R:129  ce1    CE-&gt;CE (loopback) ping +0.00 secs                        1    0
Done after 1 loops, time=0.0035750865936279297, Found= 0% packet loss
Tue Oct 31 07:39:20 2023 (#130) scripts/check_linux_mpls.py:0 COMMAND:r3:ip -M route show:103:pass:MPLS-&gt;VRF route installed:
COMMAND OUTPUT:16 proto 193 
	nexthop via inet 10.0.2.2 dev r3-eth0 
	nexthop via inet 10.0.3.2 dev r3-eth1 
17 via inet 10.0.2.4 dev r3-eth0 proto 193 
18 proto 193 
	nexthop via inet 10.0.2.2 dev r3-eth0 
	nexthop via inet 10.0.3.2 dev r3-eth1 
19 proto 193 
	nexthop as to 18 via inet 10.0.3.2 dev r3-eth1 
	nexthop as to 18 via inet 10.0.2.2 dev r3-eth0 
103 dev r3-cust1 proto bgp:
R:130  r3     MPLS-&gt;VRF route installed                                1    0
scripts/check_linux_mpls.py:0 WAIT:ce2:ping 99.0.0.3 -I 99.0.0.2 -c 1: 0. packet loss:wait:CE2-&gt;CE3 (loopback) ping:10:0.5:
Tue Oct 31 07:39:20 2023 (#131) scripts/check_linux_mpls.py:0 COMMAND:ce2:ping 99.0.0.3 -I 99.0.0.2 -c 1: 0. packet loss:wait:CE2-&gt;CE3 (loopback) ping:
COMMAND OUTPUT:PING 99.0.0.3 (99.0.0.3) from 99.0.0.2 : 56(84) bytes of data.
64 bytes from 99.0.0.3: icmp_seq=1 ttl=62 time=0.044 ms

--- 99.0.0.3 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.044/0.044/0.044/0.000 ms:
R:131  ce2    CE2-&gt;CE3 (loopback) ping +0.00 secs                      1    0
Done after 1 loops, time=0.003408670425415039, Found= 0% packet loss
scripts/check_linux_mpls.py:0 WAIT:ce3:ping 99.0.0.4 -I 99.0.0.3 -c 1: 0. packet loss:wait:CE3-&gt;CE4 (loopback) ping:10:0.5:
Tue Oct 31 07:39:20 2023 (#132) scripts/check_linux_mpls.py:0 COMMAND:ce3:ping 99.0.0.4 -I 99.0.0.3 -c 1: 0. packet loss:wait:CE3-&gt;CE4 (loopback) ping:
COMMAND OUTPUT:PING 99.0.0.4 (99.0.0.4) from 99.0.0.3 : 56(84) bytes of data.
64 bytes from 99.0.0.4: icmp_seq=1 ttl=63 time=0.045 ms

--- 99.0.0.4 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.045/0.045/0.045/0.000 ms:
R:132  ce3    CE3-&gt;CE4 (loopback) ping +0.00 secs                      1    0
Done after 1 loops, time=0.0036971569061279297, Found= 0% packet loss

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_check_scale_up" time="30.604"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/scale_up.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/scale_up.py
Tue Oct 31 07:39:20 2023 (#133) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5196 KiB
  Holding block headers: 224 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4327 KiB
  Free small blocks:     4176 bytes
  Free ordinary blocks:  869 KiB
  Ordinary blocks:       11
  Small blocks:          89
  Holding blocks:        28
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        6     24         144        6       160
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4955    356856
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        6    128         816        6       816
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       12 variable       960       12       960
POSIX sync primitives         :       12 variable       592       12       592
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      952 variable     46384      952     46384
Hash Bucket                   :     1037     32       41624     1039     41704
Hash Index                    :      476 variable    134144      476    134144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       41     40        1688       44      1808
Link Node                     :      524     24       12640      593     14328
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        5    144         760       14      2144
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        8 variable    189888       29    370608
Stream FIFO                   :        9     64         648       11       792
Route table                   :       13     56         728       13       728
Route node                    :       30 variable      3664       30      3664
Thread                        :       30    160        5040       30      5040
Thread master                 :       28 variable 117500320       28 117500320
Thread Poll Info              :       14 8388608  117497632       14 117497632
Thread stats                  :       30     96        3136       30      3136
Typed-hash bucket             :       11 variable       696       11       696
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368760    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        7  24608      172312        7    172312
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       14     14224
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        5    144         760       12      1824
Nexthop Group Connected       :        4     40         160        4       160
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :       14    152        2128       14      2128
RIB destination               :       17     88        1528       17      1528
WQ wrapper                    :        0    120           0        7       840
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        4   3584       14368        4     14368

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7488 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  6918 KiB
  Free small blocks:     1920 bytes
  Free ordinary blocks:  570 KiB
  Ordinary blocks:       7
  Small blocks:          52
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2508     32      100640     2508    100640
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       52     40        2160       58      2416
Link Node                     :      355     24        8568      548     13296
Temporary memory              :       38 variable      1600       48      6080
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       29   1032       29928       29     29928
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        3    120         360        3       360
Route map name                :       12 variable       288       14       336
Route map index               :        3    152         456        3       456
Route map rule                :       21     40         856       21       856
Route map rule str            :       21 variable       504       21       504
Route map compiled            :       24 variable       576       24       576
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        3     16          72        3        72
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      106     56        6000      106      6000
Route node                    :        6    120         720        6       720
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       21     96        2216       21      2216
Typed-hash bucket             :       12 variable      1776       12      1776
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966984    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       112
BGP attribute                 :        6    328        1968        6      1968
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :       35    192        7048       35      7048
BGP route                     :       12    136        1648       12      1648
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         760        5       760
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0        4       288
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :        5     96         536        5       536
community                     :        4     40         160        5       200
community val                 :        4 variable        96        5       120
community str                 :        1   8192        8200        1      8200
extcommunity                  :        4     40         160        4       160
extcommunity val              :        4 variable        96        4        96
extcommunity str              :        4 variable       368        4       368
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        40
BGP nexthop                   :        1    184         200        1       200
BGP own address               :        2     64         144        2       144
BGP redistribution            :        1     24          24        1        24
Large Community               :        5     40         200        6       240
Large Community display string:        2     35          80        2        80
Large Community value         :        5     12         120        6       144
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for sharpd:
System allocator statistics:
  Total heap allocated:  1320 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1263 KiB
  Free small blocks:     1424 bytes
  Free ordinary blocks:  57 KiB
  Ordinary blocks:       2
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1490     72      107280     1493    107496
Command Token Text            :     1144 variable     38160     1146     38232
Command Token Help            :     1144 variable     27472     1146     27520
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      405 variable      9720      407      9768
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       10      8         240       11       280
Graph Node                    :     1722     32       68976     1724     69056
Hash                          :      218 variable     10544      218     10544
Hash Bucket                   :      301     32       12104      301     12104
Hash Index                    :      109 variable     33080      110     33600
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       15     40         648       20       864
Link Node                     :      126     24        3040      176      4272
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      139   1192      165688      139    165688
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        3     56         168        3       168
Stream                        :        2  23728       47472        2     47472
Thread                        :        5    160         840        5       840
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        6     96         624        6       624
Typed-hash bucket             :        1 variable        40        1        40
Vector                        :     3467     24       83384     3470     83456
Vector index                  :     3467 variable    111672     3470    111968
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        4     48         224        4       224
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem sharpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 07:39:20 2023 (#133) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5200 KiB
  Holding block headers: 224 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4328 KiB
  Free small blocks:     3632 bytes
  Free ordinary blocks:  872 KiB
  Ordinary blocks:       10
  Small blocks:          84
  Holding blocks:        28
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        6     24         144        6       144
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4955    356856
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        6    128         816        6       816
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       12 variable       960       12       960
POSIX sync primitives         :       12 variable       592       12       592
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      952 variable     46368      952     46368
Hash Bucket                   :     1037     32       41624     1039     41704
Hash Index                    :      476 variable    134144      476    134144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       41     40        1688       44      1808
Link Node                     :      524     24       12640      593     14328
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        5    144         760       13      1976
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        8 variable    189888       29    337872
Stream FIFO                   :        9     64         648       11       792
Route table                   :       13     56         728       13       728
Route node                    :       30 variable      3680       30      3680
Thread                        :       30    160        5040       30      5040
Thread master                 :       28 variable 117500320       28 117500320
Thread Poll Info              :       14 8388608  117497632       14 117497632
Thread stats                  :       30     96        3136       30      3136
Typed-hash bucket             :       11 variable       696       11       696
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368744    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        7  24608      172312        7    172312
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       14     14224
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        5    144         760       11      1672
Nexthop Group Connected       :        4     40         160        4       160
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :       14    152        2144       14      2144
RIB destination               :       17     88        1544       17      1544
WQ wrapper                    :        0    120           0        6       720
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        4   3584       14368        4     14368

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7484 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  6916 KiB
  Free small blocks:     1824 bytes
  Free ordinary blocks:  568 KiB
  Ordinary blocks:       11
  Small blocks:          52
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2509     32      100696     2509    100696
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       52     40        2128       58      2368
Link Node                     :      355     24        8568      548     13264
Temporary memory              :       38 variable      1600       48      6080
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       29   1032       29928       29     29928
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        3    120         360        3       360
Route map name                :       12 variable       288       14       336
Route map index               :        3    152         472        3       472
Route map rule                :       21     40         872       21       872
Route map rule str            :       21 variable       504       21       504
Route map compiled            :       24 variable       576       24       576
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        3     16          72        3        72
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      106     56        6000      106      6000
Route node                    :        6    120         736        6       736
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       21     96        2200       21      2200
Typed-hash bucket             :       12 variable      1760       12      1760
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966984    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       112
BGP attribute                 :        7    328        2296        7      2296
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :       35    192        7032       35      7032
BGP route                     :       15    136        2040       15      2040
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         760        5       760
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0        4       288
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :        5     96         536        5       536
community                     :        4     40         176        5       216
community val                 :        4 variable        96        5       120
community str                 :        1   8192        8200        1      8200
extcommunity                  :        4     40         160        5       200
extcommunity val              :        4 variable        96        5       120
extcommunity str              :        4 variable       352        4       352
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        56
BGP nexthop                   :        1    184         184        1       184
BGP own address               :        2     64         144        2       144
BGP redistribution            :        1     24          24        1        24
Large Community               :        5     40         200        6       240
Large Community display string:        2     35          96        2        96
Large Community value         :        5     12         120        6       144
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for sharpd:
System allocator statistics:
  Total heap allocated:  1320 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1263 KiB
  Free small blocks:     1392 bytes
  Free ordinary blocks:  57 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1490     72      107280     1493    107496
Command Token Text            :     1144 variable     38160     1146     38232
Command Token Help            :     1144 variable     27472     1146     27520
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      405 variable      9720      407      9768
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       10      8         240       11       280
Graph Node                    :     1722     32       68976     1724     69056
Hash                          :      218 variable     10544      218     10544
Hash Bucket                   :      301     32       12104      301     12104
Hash Index                    :      109 variable     33080      110     33600
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       15     40         648       20       864
Link Node                     :      126     24        3040      176      4272
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      139   1192      165688      139    165688
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        3     56         168        3       168
Stream                        :        2  23728       47472        2     47472
Thread                        :        5    160         840        5       840
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        6     96         624        6       624
Typed-hash bucket             :        1 variable        40        1        40
Vector                        :     3467     24       83384     3470     83456
Vector index                  :     3467 variable    111672     3470    111968
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        4     48         224        4       224
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem sharpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 07:39:20 2023 (#133) scripts/scale_up.py:0 COMMAND:ce3:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1456 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  4924 KiB
  Holding block headers: 192 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4206 KiB
  Free small blocks:     3792 bytes
  Free ordinary blocks:  718 KiB
  Ordinary blocks:       10
  Small blocks:          84
  Holding blocks:        24
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        5     24         120        5       136
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4955    356872
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        5    128         680        5       680
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       10 variable       800       10       800
POSIX sync primitives         :       10 variable       496       10       496
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      746 variable     36448      746     36448
Hash Bucket                   :     1032     32       41424     1034     41504
Hash Index                    :      373 variable    107144      373    107144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       40     40        1664       43      1800
Link Node                     :      418     24       10096      487     11808
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        5    144         760       11      1672
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        6 variable    142416       27    290288
Stream FIFO                   :        7     64         504       10       720
Route table                   :       13     56         728       13       728
Route node                    :       30 variable      3664       30      3664
Thread                        :       27    160        4536       27      4536
Thread master                 :       24 variable 100714560       24 100714560
Thread Poll Info              :       12 8388608  100712256       12 100712256
Thread stats                  :       27     96        2824       27      2824
Typed-hash bucket             :       11 variable       696       11       696
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368760    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        2      8          48        2        48
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        6  24608      147696        6    147696
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       14     14224
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        5    144         760        9      1368
Nexthop Group Connected       :        4     40         160        4       160
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :       14    152        2128       16      2432
RIB destination               :       17     88        1544       17      1544
WQ wrapper                    :        0    120           0        6       720
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        3   3584       10776        3     10776

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7464 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  6895 KiB
  Free small blocks:     1984 bytes
  Free ordinary blocks:  569 KiB
  Ordinary blocks:       12
  Small blocks:          52
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120        2      8256
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2496     32      100128     2497    100168
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       49     40        2008       55      2248
Link Node                     :      352     24        8496      545     13288
Temporary memory              :       31 variable      1208       41      5688
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       20   1032       20640       20     20640
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        2    120         240        2       240
Route map name                :        9 variable       216       11       264
Route map index               :        2    152         320        2       320
Route map rule                :       14     40         560       14       560
Route map rule str            :       14 variable       336       14       336
Route map compiled            :       16 variable       384       16       384
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        2     16          48        2        48
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      104     56        5888      104      5888
Route node                    :        4    120         480        4       480
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       21     96        2248       21      2248
Typed-hash bucket             :       10 variable      1712       10      1712
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       112
BGP attribute                 :        7    328        2296        8      2624
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :       35    192        7032       35      7032
BGP route                     :       13    136        1768       13      1768
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         776        5       776
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0        4       288
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :        5     96         536        5       536
community                     :        3     40         136        4       176
community val                 :        3 variable        72        4        96
community str                 :        1   8192        8200        1      8200
extcommunity                  :        3     40         120        4       160
extcommunity val              :        3 variable        72        4        96
extcommunity str              :        3 variable       280        3       280
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        40
BGP nexthop                   :        1    184         184        1       184
BGP own address               :        2     64         144        2       144
Large Community               :        4     40         160        5       200
Large Community display string:        2     35          80        2        80
Large Community value         :        4     12          96        5       120
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1456 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109064     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 07:39:20 2023 (#133) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1780 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  152 KiB
  Ordinary blocks:       5
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117896
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       488
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       16     45280
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1664       16      1664
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5708 KiB
  Holding block headers: 288 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4607 KiB
  Free small blocks:     4048 bytes
  Free ordinary blocks:  1101 KiB
  Ordinary blocks:       17
  Small blocks:          86
  Holding blocks:        36
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         192        8       192
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356624     4955    356856
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231584     5785    231784
Hash                          :     1372 variable     66704     1372     66704
Hash Bucket                   :     1088     32       43680     1092     43856
Hash Index                    :      686 variable    188816      687    188952
Hook entry                    :        9     48         504        9       504
Interface                     :        4    272        1120        4      1120
Intf Desc                     :        2      7          48        2        48
Connected                     :        5     48         280        5       280
Link List                     :       61     40        2488       65      2648
Link Node                     :      750     24       18096      822     19872
Temporary memory              :        4 variable        96        7       344
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       35    144        5320       53      8056
Nexthop label                 :       21 variable       504       39       936
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        56
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        3   1032        3096        3      3096
Prefix                        :        5     56         280        5       280
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832       39    599080
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       25     56        1400       25      1400
Route node                    :       71 variable      8696       71      8696
ASCII table                   :        0 variable         0       14       544
Thread                        :       37    160        6216       37      6216
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       18 variable      1216       18      1216
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368728    11634    369056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        6       144
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        4    608        2464        4      2464
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       22     22352
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        6     80         544        6       544
MPLS nexthop object           :        6     48         368       11       648
Nexthop Group Entry           :       25    144        3800       28      4256
Nexthop Group Connected       :       24     40         960       24       960
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :       34    152        5168       34      5168
RIB destination               :       35     88        3112       35      3112
WQ wrapper                    :        0 variable         0       10    226960
RIB table info                :        8     24         192        8       192
Zebra VRF table               :        8     56         448        8       448
Nexthop tracking object       :        5    248        1240        5      1240
ZEBRA VRF                     :        2   5072       10160        2     10160
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        2     80         176        2       176
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2463 KiB
  Free small blocks:     1664 bytes
  Free ordinary blocks:  101 KiB
  Ordinary blocks:       5
  Small blocks:          45
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     4296     72      309392     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      824     32       33088      824     33088
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         280        5       280
Informational Link Parameters :        0    120           0        1       120
Link List                     :       62     40        2528       78      3168
Link Node                     :      195     24        4696      241      5856
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        1   1032        1032        1      1032
Prefix                        :        5     56         280        5       280
Privilege information         :        3 variable       136        3       136
Stream                        :        6 variable    160608        9    165208
Route table                   :      148     56        8384      150      8496
Route node                    :       38    120        4576       42      5056
Thread                        :       16    160        2704       16      2704
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       22     96        2304       22      2304
Typed-hash bucket             :       13 variable       776       15       840
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        2    304         624        2       624
OSPF neighbor                 :        3   1520        4584        3      4584
OSPF route                    :       11     64         792       13       936
OSPF LSA                      :        7    128         952        9      1240
OSPF LSA data                 :        7 variable       376        9       472
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        1     24          24        4        96
OSPF FIFO queue               :        2     24          48        2        48
OSPF vertex                   :        0     80           0        7       632
OSPF vertex parent            :        0     32           0        6       240
OSPF nexthop                  :        0      8           0       11       264
OSPF path                     :       11     48         616       13       728
OSPF if info                  :        4     40         160        4       160
OSPF if params                :        4    120         480        4       480
OSPF MPLS parameters          :        4    248         992        4       992
OSPF Extended parameters      :        4    136         544        4       544
OSPF opaque function table    :        6    112         736        6       736
OSPF External route table     :        1     16          24        1        24
OSPF Redistriute              :        1     32          40        1        40

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1584 KiB
  Free small blocks:     1456 bytes
  Free ordinary blocks:  92 KiB
  Ordinary blocks:       5
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156304
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         296        5       296
Link List                     :       17     40         712       22       912
Link Node                     :      142     24        3472      195      4792
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        5     56         296        5       296
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1040       10      1040
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163896     5182    164128
VRF                           :        2    216         432        2       432
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7860 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  7360 KiB
  Free small blocks:     1936 bytes
  Free ordinary blocks:  500 KiB
  Ordinary blocks:       15
  Small blocks:          52
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       112
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937928
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      627 variable     30776      627     30776
Hash Bucket                   :     2506     32      100576     2509    100696
Hash Index                    :      314 variable    480432      314    480432
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         328        5       328
Link List                     :       65     40        2680       73      3016
Link Node                     :      382     24        9232      623     15128
Temporary memory              :       41 variable      3704       46      4688
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        5    144         760        6       912
Nexthop label                 :        3      8          72        3        72
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        5     56         296        5       296
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        8 variable    393408       10    491760
Skip List                     :       13     56         744       14       800
Skip Node                     :       28 variable      2784       29      2952
Skiplist Counters             :       13     68         936       14      1008
Socket union                  :        6    112         720        9      1080
Stream                        :        9 variable    425896       21    491960
Stream FIFO                   :        8     64         576       10       720
Route table                   :      170     56        9584      170      9584
Thread                        :       22    160        3696       22      3696
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       23     96        2440       23      2440
Typed-hash bucket             :       13 variable      2424       13      2424
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966984    30687    967176
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
VTY output buffer             :        0 variable         0        1      1288
Work queue                    :        4    144         608        5       760
Work queue item               :        0     24           0        2        48
Work queue name string        :        4 variable        96        5       120
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        2     24          48        2        48
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        4     16          96        4        96
Mac Hash Entry Intf String    :        4 variable        96        5       120
BGP instance                  :       10 variable     21584       10     21584
BGP listen socket details     :        6 variable       672        6       672
BGP peer                      :        6  20864      125232        7    146104
BGP peer hostname             :       10 variable       240       12       288
BGP peer af                   :        2     80         176        4       352
BGP update group              :        2    104         208        2       208
BGP update subgroup           :        2    240         496        2       496
BGP packet                    :        2     56         112        3       184
BGP attribute                 :       26    328        8544       26      8544
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :      157     56        8904      157      8904
BGP node                      :       70    192       14000       70     14000
BGP route                     :       55    136        7480       55      7480
BGP ancillary route info      :       50    432       22000       50     22000
BGP connected                 :        3      4          72        3        72
BGP adv attr                  :        0     24           0        3        72
BGP adv                       :        0     64           0        7       504
BGP synchronise               :        2     48         112        2       112
BGP adj out                   :       12     96        1248       12      1248
community                     :        1     40          40        2        80
community val                 :        1      4          24        2        48
community str                 :        1   8192        8200        1      8200
extcommunity                  :        6     40         240        7       280
extcommunity val              :        6 variable       144        7       168
extcommunity str              :        4 variable       416        5       552
community-list handler        :        1    120         136        1       136
Cluster list                  :        1     24          24        1        24
Cluster list val              :        1      4          24        1        24
BGP Process queue             :        0     32           0        2        80
BGP nexthop                   :        5    184         920        5       920
BGP own address               :        3     64         216        3       216
Large Community               :        5     40         200        5       200
Large Community display string:        5     35         216        5       216
Large Community value         :        5     12         120        5       120
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        2     34          80        2        80
BGP Martian Addr Intf String  :        3 variable        72        3        72
BGP PBR Context               :        2     32          80        2        80
BGP interface context         :        4      4          96        4        96
BGP EVPN instance information :        2     56         112        2       112
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :       15     40         600       15       600
RFAPI IT Extra                :       13     40         520       13       520

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1370 KiB
  Free small blocks:     1360 bytes
  Free ordinary blocks:  94 KiB
  Ordinary blocks:       2
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      290     32       11648      290     11648
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         296        5       296
Link List                     :       17     40         728       22       928
Link Node                     :      128     24        3104      178      4320
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        5     56         280        5       280
Stream                        :        3 variable     63896        4     80320
Route table                   :        8     56         448        8       448
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        72        1        72
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :       10 variable       720       10       720:
Tue Oct 31 07:39:20 2023 (#133) scripts/scale_up.py:0 COMMAND:r2:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1796 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  168 KiB
  Ordinary blocks:       5
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       80      2048
Temporary memory              :        4 variable        96       20     61696
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1664       16      1664
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5740 KiB
  Holding block headers: 288 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4595 KiB
  Free small blocks:     2928 bytes
  Free ordinary blocks:  1145 KiB
  Ordinary blocks:       15
  Small blocks:          75
  Holding blocks:        36
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         208        8       224
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356624     4955    356840
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1296       16      1296
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231584     5785    231784
Hash                          :     1364 variable     66224     1364     66224
Hash Bucket                   :     1085     32       43592     1085     43592
Hash Index                    :      682 variable    188544      683    188680
Hook entry                    :        8     48         448        8       448
Interface                     :        4    272        1120        4      1120
Intf Desc                     :        3      7          72        3        72
Connected                     :        7     48         392        7       392
Link List                     :       60     40        2480       63      2600
Link Node                     :      748     24       18096      814     19696
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       31    144        4712       37      5624
Nexthop label                 :       14      8         336       16       384
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        4   1032        4128        4      4128
Prefix                        :        7     56         392        7       392
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832       38    582656
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       15     56         840       15       840
Route node                    :       42 variable      5104       42      5104
Thread                        :       38    160        6384       38      6384
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       14 variable       864       14       864
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279448    11634    279648
Vector index                  :    11625 variable    368776    11634    369104
VRF                           :        1    216         216        1       216
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        3        72
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        4    608        2464        4      2464
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       24     24384
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        3     80         264        3       264
MPLS nexthop object           :        4     48         240        6       352
Nexthop Group Entry           :       24    144        3680       25      3832
Nexthop Group Connected       :       27     40        1112       30      1232
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :       24    152        3648       24      3648
RIB destination               :       17     88        1512       17      1512
WQ wrapper                    :        0 variable         0       12    181568
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        3    248         744        3       744
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        4     80         352        4       352
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2495 KiB
  Free small blocks:     1584 bytes
  Free ordinary blocks:  69 KiB
  Ordinary blocks:       11
  Small blocks:          45
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     4296     72      309392     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      826     32       33184      826     33184
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Informational Link Parameters :        0    120           0        1       120
Link List                     :       80     40        3248      101      4104
Link Node                     :      214     24        5152      257      6232
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        3   1032        3096        3      3096
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Stream                        :        9 variable    160888       14    168480
Route table                   :      316     56       17904      318     18016
Route node                    :       62    120        7488       81      9768
Thread                        :       32    160        5376       32      5376
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       23     96        2408       23      2408
Typed-hash bucket             :       19 variable      1144       27      1440
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        4    304        1248        4      1248
OSPF neighbor                 :        8   1520       12224        8     12224
OSPF route                    :       18     64        1312       24      1744
OSPF LSA                      :        7    128         952       11      1512
OSPF LSA data                 :        7 variable       376       11       616
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        4     24          96        9       216
OSPF FIFO queue               :        4     24          96        4        96
OSPF vertex                   :        0     80           0        7       616
OSPF vertex parent            :        0     32           0        7       280
OSPF nexthop                  :        0      8           0       14       336
OSPF path                     :       22     48        1232       28      1568
OSPF if info                  :        4     40         160        4       160
OSPF if params                :        5    120         600        5       600
OSPF MPLS parameters          :        4    248         992        4       992
OSPF Extended parameters      :        4    136         544        4       544
OSPF opaque function table    :        6    112         736        6       736

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1584 KiB
  Free small blocks:     1536 bytes
  Free ordinary blocks:  92 KiB
  Ordinary blocks:       5
  Small blocks:          43
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156304
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Link List                     :       17     40         712       22       912
Link Node                     :      144     24        3520      199      4888
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1056       10      1056
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163880     5182    164128
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7636 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  7127 KiB
  Free small blocks:     2032 bytes
  Free ordinary blocks:  509 KiB
  Ordinary blocks:       12
  Small blocks:          53
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      577 variable     28328      579     28424
Hash Bucket                   :     2495     32      100152     2505    100552
Hash Index                    :      289 variable    434984      290    437040
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Link List                     :       53     40        2168       59      2408
Link Node                     :      357     24        8616      547     13288
Temporary memory              :       45 variable      4232       48      4688
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        4    144         624        6       928
Nexthop label                 :        4      8          96        4        96
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        8 variable    393408       10    491776
Skip List                     :       14     56         800       15       872
Skip Node                     :       34 variable      3152       35      3320
Skiplist Counters             :       14     68        1008       15      1080
Socket union                  :        9    112        1080        9      1080
Stream                        :        7 variable    293720       23    427856
Stream FIFO                   :        8     64         576       10       720
Route table                   :      104     56        5888      104      5888
Thread                        :       22    160        3696       22      3696
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       22     96        2320       22      2320
Typed-hash bucket             :       11 variable      2200       11      2200
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966984    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        3     24          72        3        72
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        4     16          96        4        96
Mac Hash Entry Intf String    :        4 variable        96        5       120
BGP instance                  :        6 variable     10816        6     10816
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        5  20864      104360        6    125232
BGP peer hostname             :        9 variable       216       10       240
BGP peer af                   :        3     80         264        5       440
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        2       496
BGP packet                    :        1     56          56        8       448
BGP attribute                 :       20    328        6560       20      6560
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       91     56        5144       91      5144
BGP node                      :       50    192       10000       50     10000
BGP route                     :       40    136        5456       40      5456
BGP ancillary route info      :       40    432       17600       40     17600
BGP connected                 :        4      4          96        4        96
BGP adv attr                  :        0     24           0       10       240
BGP adv                       :        0     64           0       20      1456
BGP synchronise               :        1     48          56        2       112
BGP adj out                   :       20     96        2128       40      4256
community                     :        1     40          56        2        96
community val                 :        1      4          24        2        48
community str                 :        1   8192        8200        1      8200
extcommunity                  :        2     40          80        3       120
extcommunity val              :        2 variable        48        3        72
extcommunity str              :        2 variable       208        3       360
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        40
BGP nexthop                   :        3    184         552        3       552
BGP own address               :        4     64         288        4       288
Large Community               :        5     40         200        5       200
Large Community display string:        5     35         216        5       216
Large Community value         :        5     12         120        5       120
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        3     34         120        3       120
BGP Martian Addr Intf String  :        4 variable        96        4        96
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        4      4          96        4        96
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :       20     40         800       20       800
RFAPI IT Extra                :       15     40         600       15       600

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1369 KiB
  Free small blocks:     1376 bytes
  Free ordinary blocks:  95 KiB
  Ordinary blocks:       2
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Link List                     :       17     40         728       22       928
Link Node                     :      130     24        3152      182      4448
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        7     56         392        7       392
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        72        1        72
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 07:39:20 2023 (#133) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1796 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  168 KiB
  Ordinary blocks:       5
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       80      2048
Temporary memory              :        4 variable        96       20     61696
MGMTD Frontend session        :        1     40          40        1        56
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1664       16      1664
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  6020 KiB
  Holding block headers: 288 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4624 KiB
  Free small blocks:     4352 bytes
  Free ordinary blocks:  1396 KiB
  Ordinary blocks:       17
  Small blocks:          88
  Holding blocks:        36
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         208        8       208
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356624     4955    356840
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :     1372 variable     66640     1372     66640
Hash Bucket                   :     1112     32       44656     1114     44736
Hash Index                    :      686 variable    189344      687    189608
Hook entry                    :       11     48         616       11       616
Interface                     :        5    272        1400        5      1400
Intf Desc                     :        3      7          72        3        72
Connected                     :        7     48         392        8       448
Link List                     :       68     40        2816       72      2992
Link Node                     :      754     24       18240      826     20000
Temporary memory              :        4 variable        96        7       696
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       56    144        8528       73     11112
Nexthop label                 :       35 variable       840       52      1264
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        56
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        4   1032        4128        4      4128
Prefix                        :        7     56         392        8       448
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832       55    916200
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       26     56        1456       26      1456
Route node                    :       76 variable      9280       76      9280
ASCII table                   :        0 variable         0       49      2056
Thread                        :       39    160        6552       39      6552
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3880       37      3880
Typed-hash bucket             :       19 variable      1320       19      1320
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279448    11634    279664
Vector index                  :    11625 variable    368728    11634    369056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        5       120
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        5    608        3080        5      3080
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       27     27432
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        5     80         472        5       472
MPLS nexthop object           :        8     48         448       15       840
Nexthop Group Entry           :       37    144        5624       39      5928
Nexthop Group Connected       :       48     40        1920       48      1920
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :       38    152        5776       41      6232
RIB destination               :       36     88        3200       36      3200
WQ wrapper                    :        0 variable         0       20    453920
RIB table info                :        8     24         192        8       192
Zebra VRF table               :        8     56         448        8       448
Nexthop tracking object       :        5    248        1256        5      1256
ZEBRA VRF                     :        2   5072       10160        2     10160
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        4     80         368        4       368
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2484 KiB
  Free small blocks:     1600 bytes
  Free ordinary blocks:  80 KiB
  Ordinary blocks:       6
  Small blocks:          44
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     4296     72      309392     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      826     32       33168      826     33168
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         392        7       392
Informational Link Parameters :        0    120           0        1       136
Link List                     :       77     40        3128       96      3936
Link Node                     :      214     24        5152      257      6264
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Stream                        :        8 variable    160816       11    165368
Route table                   :      251     56       14216      253     14328
Route node                    :       54    120        6496       64      7696
Thread                        :       26    160        4368       26      4368
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       23     96        2424       23      2424
Typed-hash bucket             :       17 variable      1016       21      1176
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        3    304         936        3       936
OSPF neighbor                 :        6   1520        9168        6      9168
OSPF route                    :       16     64        1152       21      1512
OSPF LSA                      :        7    128         952       10      1360
OSPF LSA data                 :        7 variable       376       10       544
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        3     24          72        6       144
OSPF FIFO queue               :        3     24          72        3        72
OSPF vertex                   :        0     80           0        7       616
OSPF vertex parent            :        0     32           0        9       360
OSPF nexthop                  :        0      8           0       16       384
OSPF path                     :       22     48        1232       27      1512
OSPF if info                  :        5     40         200        5       200
OSPF if params                :        6    120         720        6       720
OSPF MPLS parameters          :        5    248        1240        5      1240
OSPF Extended parameters      :        5    136         680        5       680
OSPF opaque function table    :        6    112         736        6       736
OSPF External route table     :        1     16          24        1        24
OSPF Redistriute              :        1     32          40        1        40

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1585 KiB
  Free small blocks:     1536 bytes
  Free ordinary blocks:  91 KiB
  Ordinary blocks:       5
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156288
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         392        7       392
Link List                     :       19     40         792       24       992
Link Node                     :      144     24        3520      199      4872
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1040       10      1040
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124408     5182    124560
Vector index                  :     5175 variable    163880     5182    164128
VRF                           :        2    216         448        2       448
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7860 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  7364 KiB
  Free small blocks:     1888 bytes
  Free ordinary blocks:  496 KiB
  Ordinary blocks:       12
  Small blocks:          53
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       128
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      627 variable     30776      627     30776
Hash Bucket                   :     2509     32      100680     2511    100760
Hash Index                    :      314 variable    480432      314    480432
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         424        7       424
Link List                     :       69     40        2840       77      3160
Link Node                     :      386     24        9344      627     15224
Temporary memory              :       41 variable      3688       46      4688
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        7    144        1064        7      1064
Nexthop label                 :        5      8         120        5       120
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         408        7       408
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        8 variable    393408       10    491760
Skip List                     :       13     56         744       14       800
Skip Node                     :       28 variable      2784       29      2952
Skiplist Counters             :       13     68         936       14      1008
Socket union                  :        6    112         736        9      1096
Stream                        :        9 variable    425896       18    491960
Stream FIFO                   :        8     64         576       10       720
Route table                   :      170     56        9584      170      9584
Thread                        :       22    160        3696       22      3696
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       23     96        2456       23      2456
Typed-hash bucket             :       13 variable      2456       13      2456
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
VTY output buffer             :        0 variable         0        1      1288
Work queue                    :        4    144         608        5       760
Work queue item               :        0     24           0        2        48
Work queue name string        :        4 variable        96        5       120
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        2     24          48        2        48
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        5     16         120        5       120
Mac Hash Entry Intf String    :        5 variable       120        6       144
BGP instance                  :       10 variable     21584       10     21584
BGP listen socket details     :        6 variable       672        6       672
BGP peer                      :        6  20864      125232        7    146104
BGP peer hostname             :       10 variable       240       12       288
BGP peer af                   :        2     80         176        4       352
BGP update group              :        2    104         208        2       208
BGP update subgroup           :        2    240         496        2       496
BGP packet                    :        2     56         112        3       168
BGP attribute                 :       27    328        8872       27      8872
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :      157     56        8904      157      8904
BGP node                      :       72    192       14400       72     14400
BGP route                     :       55    136        7496       55      7496
BGP ancillary route info      :       50    432       22000       50     22000
BGP connected                 :        4      4          96        4        96
BGP adv attr                  :        0     24           0        3        72
BGP adv                       :        0     64           0        6       432
BGP synchronise               :        2     48         128        2       128
BGP adj out                   :       15     96        1576       15      1576
community                     :        1     40          40        2        96
community val                 :        1      4          24        2        48
community str                 :        1   8192        8200        1      8200
extcommunity                  :        6     40         240        7       296
extcommunity val              :        6 variable       144        7       168
extcommunity str              :        4 variable       432        5       584
community-list handler        :        1    120         136        1       136
Cluster list                  :        1     24          24        1        24
Cluster list val              :        1      4          24        1        24
BGP Process queue             :        0     32           0        2        80
BGP nexthop                   :        5    184         920        5       920
BGP own address               :        4     64         288        4       288
Large Community               :        5     40         216        5       216
Large Community display string:        5     35         216        5       216
Large Community value         :        5     12         120        5       120
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        2     34          80        2        80
BGP Martian Addr Intf String  :        4 variable        96        4        96
BGP PBR Context               :        2     32          80        2        80
BGP interface context         :        5      4         120        5       120
BGP EVPN instance information :        2     56         112        2       112
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :       15     40         600       15       600
RFAPI IT Extra                :       13     40         536       13       536

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1371 KiB
  Free small blocks:     1344 bytes
  Free ordinary blocks:  93 KiB
  Ordinary blocks:       2
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      290     32       11648      290     11648
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         392        7       392
Link List                     :       19     40         808       24      1008
Link Node                     :      130     24        3152      182      4416
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        7     56         392        7       392
Stream                        :        3 variable     63896        4     80320
Route table                   :        8     56         448        8       448
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        72        1        72
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :       10 variable       720       10       720:
Tue Oct 31 07:39:20 2023 (#133) scripts/scale_up.py:0 COMMAND:r4:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1796 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1424 bytes
  Free ordinary blocks:  168 KiB
  Ordinary blocks:       4
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11920       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       80      2064
Temporary memory              :        4 variable        96       20     61696
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5868 KiB
  Holding block headers: 288 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4642 KiB
  Free small blocks:     3888 bytes
  Free ordinary blocks:  1226 KiB
  Ordinary blocks:       19
  Small blocks:          84
  Holding blocks:        36
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         192        8       192
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356656     4958    357088
Command Token Text            :     3541 variable    117896     3547    118056
Command Token Help            :     3541 variable     85048     3547     85192
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     1198 variable     28752     1202     28848
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1296       16      1296
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231632     5785    231832
Hash                          :     1380 variable     67008     1380     67008
Hash Bucket                   :     1112     32       44752     1114     44832
Hash Index                    :      690 variable    189136      691    189272
Hook entry                    :       14     48         784       14       784
Interface                     :        6    272        1680        6      1680
Intf Desc                     :        3      7          72        3        72
Connected                     :        7     48         392        8       448
Link List                     :       76     40        3152       83      3432
Link Node                     :      760     24       18384      878     21296
Temporary memory              :        4 variable        96        7       696
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       55    144        8392       73     11128
Nexthop label                 :       22 variable       528       40       960
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        56
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        4   1032        4128        4      4128
Prefix                        :        7     56         392        8       448
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832       39    599080
Stream FIFO                   :       13     64         936       16      1152
Route table                   :       37     56        2072       37      2072
Route node                    :      110 variable     13456      110     13456
ASCII table                   :        0 variable         0       49      2056
Thread                        :       40    160        6720       40      6720
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       24 variable      1792       24      1792
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279400    11634    279616
Vector index                  :    11625 variable    368776    11634    369088
VRF                           :        3    216         648        3       648
VRF bit-map                   :       11      8         264       11       264
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        6       144
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        6    608        3696        6      3696
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       30     30480
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        7     80         616        7       616
MPLS nexthop object           :        8     48         448       14       784
Nexthop Group Entry           :       37    144        5624       44      6688
Nexthop Group Connected       :       44     40        1872       44      1872
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :       52    152        7936       58      8848
RIB destination               :       55     88        4888       55      4888
WQ wrapper                    :        0 variable         0       14    272352
RIB table info                :       12     24         288       12       288
Zebra VRF table               :       12     56         672       12       672
Nexthop tracking object       :        7    248        1736        7      1736
ZEBRA VRF                     :        3   5072       15240        3     15240
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        4     80         352        4       352
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2474 KiB
  Free small blocks:     1680 bytes
  Free ordinary blocks:  90 KiB
  Ordinary blocks:       7
  Small blocks:          45
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     4296     72      309392     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      825     32       33128      825     33128
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Informational Link Parameters :        0    120           0        1       120
Link List                     :       76     40        3088       98      3984
Link Node                     :      210     24        5056      253      6232
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        1   1032        1032        1      1032
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Stream                        :        7 variable    160728       11    166904
Route table                   :      185     56       10440      187     10584
Route node                    :       50    120        6032       63      7592
Thread                        :       20    160        3360       20      3360
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       23     96        2392       23      2392
Typed-hash bucket             :       15 variable       952       20      1136
Skiplist overflow             :        0     16           0        1        24
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        3    216         648        3       648
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        2    304         624        2       624
OSPF neighbor                 :        4   1520        6112        4      6112
OSPF route                    :       16     64        1152       23      1656
OSPF LSA                      :        7    128         952       16      2192
OSPF LSA data                 :        7 variable       376       16       768
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        2     24          48        6       144
OSPF FIFO queue               :        2     24          48        2        48
OSPF vertex                   :        0     80           0        7       632
OSPF vertex parent            :        0     32           0        7       280
OSPF nexthop                  :        0      8           0       13       312
OSPF path                     :       18     48        1008       25      1416
OSPF if info                  :        6     40         240        6       240
OSPF if params                :        7    120         840        7       840
OSPF MPLS parameters          :        6    248        1488        6      1488
OSPF Extended parameters      :        6    136         816        6       816
OSPF opaque function table    :        6    112         736        6       736
OSPF External route table     :        1     16          24        1        24
OSPF Redistriute              :        1     32          40        1        40

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1585 KiB
  Free small blocks:     1520 bytes
  Free ordinary blocks:  91 KiB
  Ordinary blocks:       5
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156088     2170    156288
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Link List                     :       21     40         872       26      1072
Link Node                     :      144     24        3520      199      4888
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1040       10      1040
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163896     5182    164128
VRF                           :        3    216         664        3       664
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  8344 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  7834 KiB
  Free small blocks:     1936 bytes
  Free ordinary blocks:  510 KiB
  Ordinary blocks:       16
  Small blocks:          52
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       112
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      677 variable     33224      677     33224
Hash Bucket                   :     2531     32      101560     2535    101720
Hash Index                    :      339 variable    525880      339    525880
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Link List                     :       85     40        3480       93      3816
Link Node                     :      417     24       10056      658     16016
Temporary memory              :       31 variable      2328       36      4688
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        7    144        1080        7      1080
Nexthop label                 :        3      8          72        3        72
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Ring buffer                   :       12 variable    590112       14    688464
Skip List                     :        8     56         464        9       520
Skip Node                     :       18 variable      1744       19      1912
Skiplist Counters             :        8     68         576        9       648
Socket union                  :        9    112        1080       12      1440
Stream                        :       11 variable    558072       20    624368
Stream FIFO                   :       12     64         864       14      1008
Route table                   :      236     56       13312      236     13312
Thread                        :       30    160        5040       30      5040
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       24     96        2544       24      2544
Typed-hash bucket             :       15 variable      2712       15      2712
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966984    30687    967176
VRF                           :        3    216         648        3       648
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
VTY output buffer             :        0 variable         0        1      1304
Work queue                    :        5    144         760        6       912
Work queue item               :        0     24           0        3        72
Work queue name string        :        5 variable       120        6       144
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        3     24          72        3        72
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        6     16         160        6       160
Mac Hash Entry Intf String    :        6 variable       144        7       168
BGP instance                  :       16 variable     32400       16     32400
BGP listen socket details     :       10 variable      1008       10      1008
BGP peer                      :        9  20864      187848       10    208720
BGP peer hostname             :       15 variable       360       17       408
BGP peer af                   :        3     80         280        5       456
BGP update group              :        3    104         312        3       312
BGP update subgroup           :        3    240         744        3       744
BGP packet                    :        3     56         168        4       240
BGP attribute                 :       41    328       13464       41     13464
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :      223     56       12600      223     12600
BGP node                      :       94    192       18816       94     18816
BGP route                     :       70    136        9520       70      9520
BGP ancillary route info      :       60    432       26400       60     26400
BGP connected                 :        4      4          96        4        96
BGP adv attr                  :        0     24           0        4        96
BGP adv                       :        0     64           0       10       720
BGP synchronise               :        3     48         168        3       168
BGP adj out                   :       27     96        2808       27      2808
BGP multipath info            :        8     48         448        8       448
community                     :        1     40          40        2        96
community val                 :        1      4          24        2        48
community str                 :        1   8192        8200        1      8200
extcommunity                  :        8     40         320        9       376
extcommunity val              :        8 variable       192        9       216
extcommunity str              :        4 variable       416        5       568
community-list handler        :        1    120         136        1       136
Cluster list                  :        1     24          24        1        24
Cluster list val              :        1      4          24        1        24
BGP Process queue             :        0     32           0        3       120
BGP nexthop                   :        7    184        1304        7      1304
BGP own address               :        4     64         288        4       288
Large Community               :        5     40         216        5       216
Large Community display string:        5     35         200        5       200
Large Community value         :        5     12         120        5       120
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        3     34         120        3       120
BGP Martian Addr Intf String  :        4 variable        96        4        96
BGP PBR Context               :        3     32         120        3       120
BGP interface context         :        6      4         144        6       144
BGP EVPN instance information :        3     56         168        3       168
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :       10     40         400       10       400
RFAPI IT Extra                :        8     40         320        8       320

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1372 KiB
  Free small blocks:     1360 bytes
  Free ordinary blocks:  92 KiB
  Ordinary blocks:       2
  Small blocks:          38
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3       104
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      293     32       11768      293     11768
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Link List                     :       21     40         904       26      1088
Link Node                     :      130     24        3152      182      4432
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        7     56         392        7       392
Stream                        :        3 variable     63896        4     80320
Route table                   :       12     56         672       12       672
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable       136        1       136
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109080     3332    109360
VRF                           :        3    216         648        3       648
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :       15 variable      1080       15      1080:
Tue Oct 31 07:39:20 2023 (#133) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show mem":qmem sharpd:none:check if sharpd running:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1472 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5196 KiB
  Holding block headers: 224 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4327 KiB
  Free small blocks:     4128 bytes
  Free ordinary blocks:  869 KiB
  Ordinary blocks:       11
  Small blocks:          88
  Holding blocks:        28
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        6     24         144        6       160
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4955    356856
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        6    128         816        6       816
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       12 variable       960       12       960
POSIX sync primitives         :       12 variable       592       12       592
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      952 variable     46384      952     46384
Hash Bucket                   :     1037     32       41624     1039     41704
Hash Index                    :      476 variable    134144      476    134144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       41     40        1704       44      1824
Link Node                     :      524     24       12640      593     14328
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        5    144         760       14      2144
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        8 variable    189888       29    370608
Stream FIFO                   :        9     64         648       11       792
Route table                   :       13     56         728       13       728
Route node                    :       30 variable      3664       30      3664
Thread                        :       30    160        5040       30      5040
Thread master                 :       28 variable 117500320       28 117500320
Thread Poll Info              :       14 8388608  117497632       14 117497632
Thread stats                  :       30     96        3136       30      3136
Typed-hash bucket             :       11 variable       696       11       696
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368744    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        7  24608      172312        7    172312
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       14     14224
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        5    144         760       12      1824
Nexthop Group Connected       :        4     40         160        4       160
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :       14    152        2128       14      2128
RIB destination               :       17     88        1528       17      1528
WQ wrapper                    :        0    120           0        7       840
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        4   3584       14368        4     14368

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7488 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  6918 KiB
  Free small blocks:     1872 bytes
  Free ordinary blocks:  570 KiB
  Ordinary blocks:       7
  Small blocks:          52
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2508     32      100640     2508    100640
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       52     40        2160       58      2416
Link Node                     :      355     24        8568      548     13296
Temporary memory              :       38 variable      1600       48      6080
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       29   1032       29928       29     29928
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        3    120         360        3       360
Route map name                :       12 variable       288       14       336
Route map index               :        3    152         456        3       456
Route map rule                :       21     40         856       21       856
Route map rule str            :       21 variable       504       21       504
Route map compiled            :       24 variable       576       24       576
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        3     16          72        3        72
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      106     56        6000      106      6000
Route node                    :        6    120         720        6       720
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       21     96        2216       21      2216
Typed-hash bucket             :       12 variable      1776       12      1776
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       112
BGP attribute                 :        6    328        1968        6      1968
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :       35    192        7048       35      7048
BGP route                     :       12    136        1648       12      1648
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         760        5       760
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0        4       288
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :        5     96         536        5       536
community                     :        4     40         160        5       200
community val                 :        4 variable        96        5       120
community str                 :        1   8192        8200        1      8200
extcommunity                  :        4     40         160        4       160
extcommunity val              :        4 variable        96        4        96
extcommunity str              :        4 variable       368        4       368
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        40
BGP nexthop                   :        1    184         200        1       200
BGP own address               :        2     64         144        2       144
BGP redistribution            :        1     24          24        1        24
Large Community               :        5     40         200        6       240
Large Community display string:        2     35          80        2        80
Large Community value         :        5     12         120        6       144
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for sharpd:
System allocator statistics:
  Total heap allocated:  1320 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1263 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  57 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1490     72      107280     1493    107496
Command Token Text            :     1144 variable     38160     1146     38232
Command Token Help            :     1144 variable     27472     1146     27520
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      405 variable      9720      407      9768
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       10      8         240       11       280
Graph Node                    :     1722     32       68976     1724     69056
Hash                          :      218 variable     10544      218     10544
Hash Bucket                   :      301     32       12104      301     12104
Hash Index                    :      109 variable     33080      110     33600
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       15     40         648       20       864
Link Node                     :      126     24        3040      176      4272
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      139   1192      165688      139    165688
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        3     56         168        3       168
Stream                        :        2  23728       47472        2     47472
Thread                        :        5    160         840        5       840
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        6     96         624        6       624
Typed-hash bucket             :        1 variable        40        1        40
Vector                        :     3467     24       83384     3470     83456
Vector index                  :     3467 variable    111688     3470    111968
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        4     48         224        4       224
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem sharpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 07:39:20 2023 (#133) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "sharp install routes 10.0.0.0 nexthop 99.0.0.1 50000"::pass:Adding 50000 routes:
COMMAND OUTPUT:&lt;no output&gt;:
R:133  ce1    Adding 50000 routes                                      1    0
Tue Oct 31 07:39:20 2023 (#134) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "sharp install routes 10.0.0.0 nexthop 99.0.0.2 50000"::pass:Adding 50000 routes:
COMMAND OUTPUT:&lt;no output&gt;:
R:134  ce2    Adding 50000 routes                                      1    0
scripts/scale_up.py:0 WAIT:ce1:vtysh -c "show ip route summ" | grep "sharp" | cut -d " " -f 33:50000:wait:See all sharp routes in rib on ce1:100.0:10:
Tue Oct 31 07:39:20 2023 (#135) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show ip route summ" | grep "sharp" | cut -d " " -f 33:50000:wait:See all sharp routes in rib on ce1:
COMMAND OUTPUT:532:
Tue Oct 31 07:39:31 2023 (#135) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show ip route summ" | grep "sharp" | cut -d " " -f 33:50000:wait:See all sharp routes in rib on ce1:
COMMAND OUTPUT:37796:
Tue Oct 31 07:39:41 2023 (#135) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show ip route summ" | grep "sharp" | cut -d " " -f 33:50000:wait:See all sharp routes in rib on ce1:
COMMAND OUTPUT:50000:
R:135  ce1    See all sharp routes in rib on ce1 +20.20 secs           1    0
Done after 3 loops, time=20.200594663619995, Found=50000
scripts/scale_up.py:0 WAIT:ce2:vtysh -c "show ip route summ" | grep "sharp" | cut -d " " -f 33:50000:wait:See all sharp routes in rib on ce2:100.0:10:
Tue Oct 31 07:39:41 2023 (#136) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show ip route summ" | grep "sharp" | cut -d " " -f 33:50000:wait:See all sharp routes in rib on ce2:
COMMAND OUTPUT:50000:
R:136  ce2    See all sharp routes in rib on ce2 +0.06 secs            1    0
Done after 1 loops, time=0.056246280670166016, Found=50000
scripts/scale_up.py:0 WAIT:ce1:vtysh -c "show bgp ipv4 uni 10.0.195.79":Last update::wait:RXed last route, 10.0.195.79:100.0:10:
Tue Oct 31 07:39:41 2023 (#137) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni 10.0.195.79":Last update::wait:RXed last route, 10.0.195.79:
COMMAND OUTPUT:BGP routing table entry for 10.0.195.79/32, version 68675
Paths: (1 available, best #1, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    99.0.0.1 from 0.0.0.0 (99.0.0.1)
      Origin incomplete, metric 200, localpref 200, weight 32768, valid, sourced, best (First path received)
      Community: 0:65
      Extended Community: RT:80:987
      Large Community: 90:12:34
      Last update: Tue Oct 31 07:39:33 2023:
R:137  ce1    RXed last route, 10.0.195.79 +0.04 secs                  1    0
Done after 1 loops, time=0.03541111946105957, Found=Last update:
scripts/scale_up.py:0 WAIT:ce1:vtysh -c "show bgp ipv4 uni" | grep -c 10\.\*/32:50000:wait:See all sharp routes in BGP:100.0:10:
Tue Oct 31 07:39:41 2023 (#138) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni" | grep -c 10\.\*/32:50000:wait:See all sharp routes in BGP:
COMMAND OUTPUT:50000:
R:138  ce1    See all sharp routes in BGP +0.10 secs                   1    0
Done after 1 loops, time=0.10304856300354004, Found=50000
scripts/scale_up.py:0 WAIT:ce2:vtysh -c "show bgp ipv4 uni 10.0.195.79":Last update::wait:RXed last route, 10.0.195.79:100.0:10:
Tue Oct 31 07:39:41 2023 (#139) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni 10.0.195.79":Last update::wait:RXed last route, 10.0.195.79:
COMMAND OUTPUT:BGP routing table entry for 10.0.195.79/32, version 51503
Paths: (1 available, best #1, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    99.0.0.2 from 0.0.0.0 (99.0.0.2)
      Origin incomplete, metric 200, localpref 200, weight 32768, valid, sourced, best (First path received)
      Community: 0:66
      Extended Community: RT:70:456
      Large Community: 78:90:12
      Last update: Tue Oct 31 07:39:34 2023:
R:139  ce2    RXed last route, 10.0.195.79 +0.03 secs                  1    0
Done after 1 loops, time=0.03417682647705078, Found=Last update:
scripts/scale_up.py:0 WAIT:ce2:vtysh -c "show bgp ipv4 uni" | grep -c 10\.\*/32:50000:wait:See all sharp routes in BGP:100.0:10:
Tue Oct 31 07:39:41 2023 (#140) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni" | grep -c 10\.\*/32:50000:wait:See all sharp routes in BGP:
COMMAND OUTPUT:50000:
R:140  ce2    See all sharp routes in BGP +0.10 secs                   1    0
Done after 1 loops, time=0.10337948799133301, Found=50000
scripts/scale_up.py:0 WAIT:ce3:vtysh -c "show bgp ipv4 uni 10.0.195.79":Last update::wait:RXed last route, 10.0.195.79:100.0:10:
Tue Oct 31 07:39:41 2023 (#141) scripts/scale_up.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni 10.0.195.79":Last update::wait:RXed last route, 10.0.195.79:
COMMAND OUTPUT:BGP routing table entry for 10.0.195.79/32, version 56553
Paths: (1 available, best #1, table default)
  Not advertised to any peer
  Local
    192.168.1.1 from 192.168.1.1 (192.168.1.1)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:66
      Extended Community: RT:52:100 RT:70:456
      Large Community: 78:90:12
      Last update: Tue Oct 31 07:39:34 2023:
R:141  ce3    RXed last route, 10.0.195.79 +0.04 secs                  1    0
Done after 1 loops, time=0.035912513732910156, Found=Last update:
scripts/scale_up.py:0 WAIT:ce3:vtysh -c "show bgp ipv4 uni" | grep -c 10\.\*/32:50000:wait:See all sharp routes in BGP:100.0:10:
Tue Oct 31 07:39:41 2023 (#142) scripts/scale_up.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni" | grep -c 10\.\*/32:50000:wait:See all sharp routes in BGP:
COMMAND OUTPUT:50000:
R:142  ce3    See all sharp routes in BGP +0.11 secs                   1    0
Done after 1 loops, time=0.11261677742004395, Found=50000
scripts/scale_up.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 10.0.195.79":99.0.0.1:wait:RXed -&gt; 10.0.195.79 from CE1:100.0:10:
Tue Oct 31 07:39:41 2023 (#143) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 10.0.195.79":99.0.0.1:wait:RXed -&gt; 10.0.195.79 from CE1:
COMMAND OUTPUT:BGP routing table entry for 10.0.195.79/32, version 70495
Paths: (2 available, best #2, vrf r1-cust1)
  Not advertised to any peer
  Imported from 10:3:10.0.195.79/32
  Local
    3.3.3.3 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin incomplete, metric 200, localpref 200, valid, sourced, local
      Community: 0:66
      Extended Community: RT:52:100 RT:70:456
      Large Community: 78:90:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:39:34 2023
  Local
    99.0.0.1 from 192.168.1.2 (99.0.0.1)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (IGP Metric)
      Community: 0:65
      Extended Community: RT:80:987
      Large Community: 90:12:34
      Last update: Tue Oct 31 07:39:33 2023:
R:143  r1     RXed -&gt; 10.0.195.79 from CE1 +0.04 secs                  1    0
Done after 1 loops, time=0.037621498107910156, Found=99.0.0.1
scripts/scale_up.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 10.0.195.79":99.0.0.2:wait:RXed -&gt; 10.0.195.79 from CE2:100.0:10:
Tue Oct 31 07:39:41 2023 (#144) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 10.0.195.79":99.0.0.2:wait:RXed -&gt; 10.0.195.79 from CE2:
COMMAND OUTPUT:BGP routing table entry for 10.0.195.79/32, version 51770
Paths: (2 available, best #1, vrf r3-cust1)
  Not advertised to any peer
  Local
    99.0.0.2 from 192.168.1.2 (99.0.0.2)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (IGP Metric)
      Community: 0:66
      Extended Community: RT:70:456
      Large Community: 78:90:12
      Last update: Tue Oct 31 07:39:34 2023
  Imported from 10:1:10.0.195.79/32
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin incomplete, metric 200, localpref 200, valid, sourced, local
      Community: 0:65
      Extended Community: RT:52:100 RT:80:987
      Large Community: 90:12:34
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:39:33 2023:
R:144  r3     RXed -&gt; 10.0.195.79 from CE2 +0.04 secs                  1    0
Done after 1 loops, time=0.037171125411987305, Found=99.0.0.2
scripts/scale_up.py:0 WAIT:r1:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":99.0.0.1:wait:see VPN safi -&gt; 10.0.195.79 from CE1:10:0.5:
Tue Oct 31 07:39:41 2023 (#145) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":99.0.0.1:wait:see VPN safi -&gt; 10.0.195.79 from CE1:
COMMAND OUTPUT:BGP routing table entry for 10:1:10.0.195.79/32, version 48818
not allocated
Paths: (1 available, best #1)
  Advertised to non peer-group peers:
  2.2.2.2
  Local
    99.0.0.1 from 0.0.0.0 (1.1.1.1) vrf r1-cust1(4) announce-nh-self
      Origin incomplete, metric 200, localpref 200, valid, sourced, local, best (First path received)
      Community: 0:65
      Extended Community: RT:80:987 RT:52:100
      Large Community: 90:12:34
      Originator: 1.1.1.1
      Remote label: 101
      Last update: Tue Oct 31 07:39:32 2023
BGP routing table entry for 10:3:10.0.195.79/32, version 49708
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    3.3.3.3 (metric 20) from 2.2.2.2 (3.3.3.3)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:66
      Extended Community: RT:52:100 RT:70:456
      Large Community: 78:90:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:39:33 2023:
R:145  r1     see VPN safi -&gt; 10.0.195.79 from CE1 +0.03 secs          1    0
Done after 1 loops, time=0.034497737884521484, Found=99.0.0.1
scripts/scale_up.py:0 WAIT:r3:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":99.0.0.2:wait:see VPN safi -&gt; 10.0.195.79 from CE2:10:0.5:
Tue Oct 31 07:39:41 2023 (#146) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":99.0.0.2:wait:see VPN safi -&gt; 10.0.195.79 from CE2:
COMMAND OUTPUT:BGP routing table entry for 10:1:10.0.195.79/32, version 48819
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    1.1.1.1 (metric 20) from 2.2.2.2 (1.1.1.1)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:65
      Extended Community: RT:52:100 RT:80:987
      Large Community: 90:12:34
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:39:32 2023
BGP routing table entry for 10:3:10.0.195.79/32, version 49708
not allocated
Paths: (1 available, best #1)
  Advertised to non peer-group peers:
  2.2.2.2
  Local
    99.0.0.2 from 0.0.0.0 (3.3.3.3) vrf r3-cust1(5) announce-nh-self
      Origin incomplete, metric 200, localpref 200, valid, sourced, local, best (First path received)
      Community: 0:66
      Extended Community: RT:70:456 RT:52:100
      Large Community: 78:90:12
      Originator: 3.3.3.3
      Remote label: 103
      Last update: Tue Oct 31 07:39:33 2023:
R:146  r3     see VPN safi -&gt; 10.0.195.79 from CE2 +0.03 secs          1    0
Done after 1 loops, time=0.034854888916015625, Found=99.0.0.2
scripts/scale_up.py:0 WAIT:r3:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":1.1.1.1:wait:see VPN safi -&gt; 10.0.195.79 from CE1:10:0.5:
Tue Oct 31 07:39:41 2023 (#147) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":1.1.1.1:wait:see VPN safi -&gt; 10.0.195.79 from CE1:
COMMAND OUTPUT:BGP routing table entry for 10:1:10.0.195.79/32, version 48819
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    1.1.1.1 (metric 20) from 2.2.2.2 (1.1.1.1)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:65
      Extended Community: RT:52:100 RT:80:987
      Large Community: 90:12:34
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:39:32 2023
BGP routing table entry for 10:3:10.0.195.79/32, version 49708
not allocated
Paths: (1 available, best #1)
  Advertised to non peer-group peers:
  2.2.2.2
  Local
    99.0.0.2 from 0.0.0.0 (3.3.3.3) vrf r3-cust1(5) announce-nh-self
      Origin incomplete, metric 200, localpref 200, valid, sourced, local, best (First path received)
      Community: 0:66
      Extended Community: RT:70:456 RT:52:100
      Large Community: 78:90:12
      Originator: 3.3.3.3
      Remote label: 103
      Last update: Tue Oct 31 07:39:33 2023:
R:147  r3     see VPN safi -&gt; 10.0.195.79 from CE1 +0.04 secs          1    0
Done after 1 loops, time=0.03546333312988281, Found=1.1.1.1
scripts/scale_up.py:0 WAIT:r1:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":3.3.3.3:wait:see VPN safi -&gt; 10.0.195.79 from CE2:10:0.5:
Tue Oct 31 07:39:41 2023 (#148) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":3.3.3.3:wait:see VPN safi -&gt; 10.0.195.79 from CE2:
COMMAND OUTPUT:BGP routing table entry for 10:1:10.0.195.79/32, version 48818
not allocated
Paths: (1 available, best #1)
  Advertised to non peer-group peers:
  2.2.2.2
  Local
    99.0.0.1 from 0.0.0.0 (1.1.1.1) vrf r1-cust1(4) announce-nh-self
      Origin incomplete, metric 200, localpref 200, valid, sourced, local, best (First path received)
      Community: 0:65
      Extended Community: RT:80:987 RT:52:100
      Large Community: 90:12:34
      Originator: 1.1.1.1
      Remote label: 101
      Last update: Tue Oct 31 07:39:32 2023
BGP routing table entry for 10:3:10.0.195.79/32, version 49708
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    3.3.3.3 (metric 20) from 2.2.2.2 (3.3.3.3)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:66
      Extended Community: RT:52:100 RT:70:456
      Large Community: 78:90:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:39:33 2023:
R:148  r1     see VPN safi -&gt; 10.0.195.79 from CE2 +0.04 secs          1    0
Done after 1 loops, time=0.03549528121948242, Found=3.3.3.3
scripts/scale_up.py:0 WAIT:r4:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":1.1.1.1:wait:see VPN safi -&gt; 10.0.195.79 from CE1:10:0.5:
Tue Oct 31 07:39:41 2023 (#149) scripts/scale_up.py:0 COMMAND:r4:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":1.1.1.1:wait:see VPN safi -&gt; 10.0.195.79 from CE1:
COMMAND OUTPUT:BGP routing table entry for 10:1:10.0.195.79/32, version 48819
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    1.1.1.1 (metric 20) from 2.2.2.2 (1.1.1.1)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:65
      Extended Community: RT:52:100 RT:80:987
      Large Community: 90:12:34
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:39:32 2023
BGP routing table entry for 10:3:10.0.195.79/32, version 49708
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    3.3.3.3 (metric 10) from 2.2.2.2 (3.3.3.3)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:66
      Extended Community: RT:52:100 RT:70:456
      Large Community: 78:90:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:39:33 2023:
R:149  r4     see VPN safi -&gt; 10.0.195.79 from CE1 +0.03 secs          1    0
Done after 1 loops, time=0.03464102745056152, Found=1.1.1.1
scripts/scale_up.py:0 WAIT:r4:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":3.3.3.3:wait:see VPN safi -&gt; 10.0.195.79 from CE2:10:0.5:
Tue Oct 31 07:39:41 2023 (#150) scripts/scale_up.py:0 COMMAND:r4:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":3.3.3.3:wait:see VPN safi -&gt; 10.0.195.79 from CE2:
COMMAND OUTPUT:BGP routing table entry for 10:1:10.0.195.79/32, version 48819
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    1.1.1.1 (metric 20) from 2.2.2.2 (1.1.1.1)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:65
      Extended Community: RT:52:100 RT:80:987
      Large Community: 90:12:34
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:39:32 2023
BGP routing table entry for 10:3:10.0.195.79/32, version 49708
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    3.3.3.3 (metric 10) from 2.2.2.2 (3.3.3.3)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:66
      Extended Community: RT:52:100 RT:70:456
      Large Community: 78:90:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:39:33 2023:
R:150  r4     see VPN safi -&gt; 10.0.195.79 from CE2 +0.04 secs          1    0
Done after 1 loops, time=0.035535573959350586, Found=3.3.3.3
scripts/scale_up.py:0 WAIT:ce1:ip route get 10.0.195.79:dev:wait:Route to 10.0.195.79 available:100.0:10:
Tue Oct 31 07:39:41 2023 (#151) scripts/scale_up.py:0 COMMAND:ce1:ip route get 10.0.195.79:dev:wait:Route to 10.0.195.79 available:
COMMAND OUTPUT:10.0.195.79 dev lo src 99.0.0.1 uid 0 
    cache &lt;local&gt;:
R:151  ce1    Route to 10.0.195.79 available +0.00 secs                1    0
Done after 1 loops, time=0.004969358444213867, Found=dev
scripts/scale_up.py:0 WAIT:ce1:ip route show | grep -c \^10\.:50000:wait:See 50000 linux routes:100.0:10:
Tue Oct 31 07:39:41 2023 (#152) scripts/scale_up.py:0 COMMAND:ce1:ip route show | grep -c \^10\.:50000:wait:See 50000 linux routes:
COMMAND OUTPUT:50000:
R:152  ce1    See 50000 linux routes +1.41 secs                        1    0
Done after 1 loops, time=1.4135892391204834, Found=50000
scripts/scale_up.py:0 WAIT:ce2:ip route get 10.0.195.79:dev:wait:Route to 10.0.195.79 available:100.0:10:
Tue Oct 31 07:39:43 2023 (#153) scripts/scale_up.py:0 COMMAND:ce2:ip route get 10.0.195.79:dev:wait:Route to 10.0.195.79 available:
COMMAND OUTPUT:10.0.195.79 dev lo src 99.0.0.2 uid 0 
    cache &lt;local&gt;:
R:153  ce2    Route to 10.0.195.79 available +0.00 secs                1    0
Done after 1 loops, time=0.004574298858642578, Found=dev
scripts/scale_up.py:0 WAIT:ce2:ip route show | grep -c \^10\.:50000:wait:See 50000 linux routes:100.0:10:
Tue Oct 31 07:39:43 2023 (#154) scripts/scale_up.py:0 COMMAND:ce2:ip route show | grep -c \^10\.:50000:wait:See 50000 linux routes:
COMMAND OUTPUT:50000:
R:154  ce2    See 50000 linux routes +1.39 secs                        1    0
Done after 1 loops, time=1.3898377418518066, Found=50000
scripts/scale_up.py:0 WAIT:ce3:ip route get 10.0.195.79:dev:wait:Route to 10.0.195.79 available:100.0:10:
Tue Oct 31 07:39:44 2023 (#155) scripts/scale_up.py:0 COMMAND:ce3:ip route get 10.0.195.79:dev:wait:Route to 10.0.195.79 available:
COMMAND OUTPUT:10.0.195.79 via 192.168.1.1 dev ce3-eth0 src 192.168.1.2 uid 0 
    cache:
R:155  ce3    Route to 10.0.195.79 available +0.00 secs                1    0
Done after 1 loops, time=0.0036361217498779297, Found=dev
scripts/scale_up.py:0 WAIT:ce3:ip route show | grep -c \^10\.:50000:wait:See 50000 linux routes:100.0:10:
Tue Oct 31 07:39:44 2023 (#156) scripts/scale_up.py:0 COMMAND:ce3:ip route show | grep -c \^10\.:50000:wait:See 50000 linux routes:
COMMAND OUTPUT:50000:
R:156  ce3    See 50000 linux routes +1.40 secs                        1    0
Done after 1 loops, time=1.4032776355743408, Found=50000
scripts/scale_up.py:0 WAIT:r1:ip route get vrf r1-cust1 10.0.195.79:dev:wait:VRF route available:100.0:10:
Tue Oct 31 07:39:46 2023 (#157) scripts/scale_up.py:0 COMMAND:r1:ip route get vrf r1-cust1 10.0.195.79:dev:wait:VRF route available:
COMMAND OUTPUT:10.0.195.79 via 192.168.1.2 dev r1-eth4 table 10 src 192.168.1.1 uid 0 
    cache:
R:157  r1     VRF route available +0.00 secs                           1    0
Done after 1 loops, time=0.003857135772705078, Found=dev
scripts/scale_up.py:0 WAIT:r1:ip route show vrf r1-cust1 | grep -c \^10\.:50000:wait:See 50000 linux routes:100.0:10:
Tue Oct 31 07:39:46 2023 (#158) scripts/scale_up.py:0 COMMAND:r1:ip route show vrf r1-cust1 | grep -c \^10\.:50000:wait:See 50000 linux routes:
COMMAND OUTPUT:50000:
R:158  r1     See 50000 linux routes +1.39 secs                        1    0
Done after 1 loops, time=1.3933029174804688, Found=50000
scripts/scale_up.py:0 WAIT:r3:ip route get vrf r3-cust1 10.0.195.79:dev:wait:VRF route available:100.0:10:
Tue Oct 31 07:39:47 2023 (#159) scripts/scale_up.py:0 COMMAND:r3:ip route get vrf r3-cust1 10.0.195.79:dev:wait:VRF route available:
COMMAND OUTPUT:10.0.195.79 via 192.168.1.2 dev r3-eth4 table 10 src 192.168.1.1 uid 0 
    cache:
R:159  r3     VRF route available +0.00 secs                           1    0
Done after 1 loops, time=0.0032935142517089844, Found=dev
scripts/scale_up.py:0 WAIT:r3:ip route show vrf r3-cust1 | grep -c \^10\.:50000:wait:See 50000 linux routes:100.0:10:
Tue Oct 31 07:39:47 2023 (#160) scripts/scale_up.py:0 COMMAND:r3:ip route show vrf r3-cust1 | grep -c \^10\.:50000:wait:See 50000 linux routes:
COMMAND OUTPUT:50000:
R:160  r3     See 50000 linux routes +1.39 secs                        1    0
Done after 1 loops, time=1.387314796447754, Found=50000
scripts/scale_up.py:0 WAIT:r4:ip route get vrf r4-cust1 10.0.195.79:dev:wait:VRF route available:100.0:10:
Tue Oct 31 07:39:48 2023 (#161) scripts/scale_up.py:0 COMMAND:r4:ip route get vrf r4-cust1 10.0.195.79:dev:wait:VRF route available:
COMMAND OUTPUT:10.0.195.79 via 10.0.2.3 dev r4-eth0 table 10 src 10.0.2.4 uid 0 
    cache:
R:161  r4     VRF route available +0.00 secs                           1    0
Done after 1 loops, time=0.004002809524536133, Found=dev
scripts/scale_up.py:0 WAIT:r4:ip route show vrf r4-cust1 | grep -c \^10\.:50000:wait:See 50000 linux routes:100.0:10:
Tue Oct 31 07:39:48 2023 (#162) scripts/scale_up.py:0 COMMAND:r4:ip route show vrf r4-cust1 | grep -c \^10\.:50000:wait:See 50000 linux routes:
COMMAND OUTPUT:50000:
R:162  r4     See 50000 linux routes +1.41 secs                        1    0
Done after 1 loops, time=1.4092426300048828, Found=50000
Tue Oct 31 07:39:50 2023 (#163) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  32 MiB
  Holding block headers: 225 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  29 MiB
  Free small blocks:     2352 bytes
  Free ordinary blocks:  3447 KiB
  Ordinary blocks:       52501
  Small blocks:          70
  Holding blocks:        29
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        6     24         144        6       160
Buffer data                   :        1   4120        4120       27    111240
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4956    356992
Command Token Text            :     3541 variable    117880     3545    117960
Command Token Help            :     3541 variable     85048     3545     85144
Command Argument              :        2 variable        48        6       144
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        6    128         816        6       816
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       12 variable       960       12       960
POSIX sync primitives         :       12 variable       592       12       592
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      952 variable     46384      952     46384
Hash Bucket                   :     1039     32       41704     1043     41864
Hash Index                    :      476 variable    134144      476    134144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       41     40        1704       47      2008
Link Node                     :      524     24       12640    49267   1182584
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        6    144         912    27309   4150968
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        8 variable    189888    10008  46000600
Stream FIFO                   :        9     64         648       12       864
Route table                   :       13     56         728       13       728
Route node                    :   100030 variable  12003696   100030  12003696
Thread                        :       30    160        5040       30      5040
Thread master                 :       28 variable 117500320       28 117500320
Thread Poll Info              :       14 8388608  117497632       14 117497632
Thread stats                  :       30     96        3136       30      3136
Typed-hash bucket             :       11 variable   1053088       11   1053088
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368744    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        7  24608      172312        7    172312
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0      497    504968
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        6    144         912    27007   4105064
Nexthop Group Connected       :        5     40         200        5       200
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :    50014    152     7602160    57814   8787760
RIB destination               :    50017     88     4401592    50017   4401592
WQ wrapper                    :        0    120           0    27000   3240016
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        4   3584       14368        4     14368

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  40 MiB
  Holding block headers: 97 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  39 MiB
  Free small blocks:     1856 bytes
  Free ordinary blocks:  1093 KiB
  Ordinary blocks:       10242
  Small blocks:          54
  Holding blocks:        13
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120      782   3221840
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2512     32      100816     2516    101008
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       52     40        2160       58      2416
Link Node                     :      355     24        8568      548     13296
Temporary memory              :       38 variable      1600       48      6080
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       29   1032       29928       29     29928
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        3    120         360        3       360
Route map name                :       12 variable       288       14       336
Route map index               :        3    152         456        3       456
Route map rule                :       21     40         856       21       856
Route map rule str            :       21 variable       504       21       504
Route map compiled            :       24 variable       576       24       576
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        3     16          72        3        72
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      106     56        6000      106      6000
Route node                    :        6    120         720        6       720
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       22     96        2320       22      2320
Typed-hash bucket             :       12 variable   1054152       12   1054152
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       128
BGP attribute                 :        7    328        2296        8      2624
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :   100035    192    20007048   100035  20007048
BGP route                     :    50012    136     6801712    50012   6801712
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         760        5       760
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0     6449    464488
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :    50005     96     5200600    50005   5200600
community                     :        5     40         216        7       312
community val                 :        5 variable       120        7       168
community str                 :        2   8192       16400        3     24600
extcommunity                  :        4     40         160        6       256
extcommunity val              :        4 variable        96        6       144
extcommunity str              :        4 variable       368        5       504
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        56
BGP nexthop                   :        1    184         200        1       200
BGP own address               :        2     64         144        2       144
BGP redistribution            :        1     24          24        1        24
Large Community               :        6     40         256        8       368
Large Community display string:        3     35         120        4       176
Large Community value         :        6     12         144        8       192
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for sharpd:
System allocator statistics:
  Total heap allocated:  1320 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1264 KiB
  Free small blocks:     1392 bytes
  Free ordinary blocks:  56 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     1490     72      107280     1496    107712
Command Token Text            :     1144 variable     38160     1149     38328
Command Token Help            :     1144 variable     27472     1149     27592
Command Argument              :        2 variable        48        8       192
Command Argument Name         :      405 variable      9720      409      9816
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       10      8         240       11       280
Graph Node                    :     1722     32       68976     1724     69056
Hash                          :      218 variable     10544      218     10544
Hash Bucket                   :      302     32       12144      302     12144
Hash Index                    :      109 variable     33080      110     33600
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       15     40         648       24      1008
Link Node                     :      126     24        3040      182      4416
Temporary memory              :        4 variable        96        9       296
Northbound Node               :      139   1192      165688      139    165688
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        3     56         168        3       168
Stream                        :        2  23728       47472        2     47472
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        7     96         728        7       728
Typed-hash bucket             :        1 variable        40        1        40
Vector                        :     3467     24       83384     3470     83456
Vector index                  :     3467 variable    111688     3470    111968
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        4     48         224        4       224
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem sharpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1376 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 07:39:50 2023 (#163) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show thread cpu":.:pass:BGPd heap: 7488 KiB --&gt; 40 MiB (0.6502 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.002         1        2         2        3         3         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.006         1        6         6        6         6         0         0          0  R      mgmt_be_adapter_read
    1          0.040         1       40        40       40        40         0         0          0  R      mgmt_be_conn_accept
    0          0.310         1      310       310      311       311         0         0          0     E   frr_config_read_in
    0          0.318        40        7        20        8        21         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.043        39        1         2        1         2         0         0          0   W     mgmt_fe_adapter_write
    0          0.035        39        0         2        1         3         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.515        21       24        57       25        59         0         0          0  R      vtysh_accept
    0          0.038         1       38        38       38        38         0         0          0    T    mgmt_be_adapter_conn_init
    0          0.048         1       48        48       49        49         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.011         1       11        11       12        12         0         0          0  R      mgmt_fe_conn_accept
    1          0.191        40        4        19        5        20         0         0          0  R      mgmt_fe_adapter_read
    1          0.112        39        2         5        3         6         0         0          0  R      mgmt_fe_client_read
    0          2.035        50       40       128       41       128         0         0          0  R      vtysh_read
    0          0.104        40        2        10        3        10         0         0          0   W     mgmt_fe_client_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.808       315       12       310       12       311         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.446        21       21       103       22       105         0         0          0  R      vtysh_accept
    1          0.438         4      109       119      110       120         0         0          0  R      zserv_accept
    0        101.235      7338       13      1547       14      1548         0         0          0     E   zserv_process_messages
    0        333.945       476      701      3427      799      4013         0         0          0     E   rib_process_dplane_results
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route
    0        186.489     11959       15     11011       16     11011         0         0          0    TE   work_queue_run
    0          0.068         2       34        50       35        51         0         0          0    T    if_zebra_speed_update
    0         26.816        53      505      8241      507      8241         0         0          0  R      vtysh_read
    1          0.062         4       15        27       30        84         0         0          0  R      kernel_read
    0          0.991         1      991       991      992       992         0         0          0     E   frr_config_read_in


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.068         3       22        60       23        61         0         0          0  R      dplane_incoming_read
    0       1614.311       651     2479     13559    18857   1018048         0         0          0     E   dplane_thread_loop
    0          0.135         1      135       135      135       135         0         0          0     E   dplane_incoming_request


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.004         1        4         4        5         5         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.043         2       21        38       27        48         0         0          0   W     zserv_write
    1          0.044         1       44        44       45        45         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         69.432     17226        4       617        5       860         0         0          0   W     zserv_write
    1        102.146      9904       10      1276       10      1277         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.011         1       11        11       12        12         0         0          0   W     zserv_write
    1          0.013         1       13        13       14        14         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         98.732     16798        5       633        7      1106         0         0          0   W     zserv_write
    1        100.079        51     1962      2293     1963      2294         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    8       2635.511     64499       40     13559      208   1018048         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         17.207       147      117      2018      120      2018         0         0          0    T    (bgp_generate_updgrp_packets)
    0          1.188        48       24       138       25       139         0         0          0   W     vtysh_write
    0         38.158        92      414      5309      417      5310         0         0          0     E   bgp_process_packet
    0         16.216         1    16216     16216    16216     16216         0         0          0     E   frr_config_read_in
    0        209.221       103     2031     13011     2150     16914         0         0          0    T    work_queue_run
    0          0.034         6        5         8        6         8         0         0          0    T    update_group_refresh_default_originate_route_map
    0          0.002         2        1         1        1         2         0         0          0    T    (bgp_routeadv_timer)
    0          0.118         1      118       118      118       118         0         0          0    T    bgp_route_map_update_timer
    2          0.074         1       74        74       75        75         0         0          0  R      bgp_accept
    0         65.099        61     1067     61044     1067     61045         0         0          0  R      vtysh_read
    0          0.016         1       16        16       17        17         0         0          0    T    subgroup_coalesce_timer
    2        243.017     51682        4       401        6      1574         0         0          0  R      zclient_read
    1          0.411        21       19        51       20        53         0         0          0  R      vtysh_accept
    0          0.055         2       27        44       28        45         0         0          0     E   zclient_connect
    0          0.067         2       33        45       82       141         0         0          0     E   bgp_event


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          3.438        83       41        85       42        87         0         0          0   W     bgp_process_writes
    1          2.290        92       24        58       25        59         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6        596.611     52345       11     61044       13     61045         0         0          0  RWTEX  TOTAL

Thread statistics for sharpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.040         1       40        40       41        41         0         0          0     E   frr_config_read_in
    0          0.050         1       50        50       51        51         0         0          0     E   zclient_connect
    0         60.600         7     8657     10559     8657     10561         0         0          0   W     zclient_flush_data
    0         12.257        51      240     10091      240     10091         0         0          0  R      vtysh_read
    1        120.518     51672        2        28        3      1137         0         0          0  R      zclient_read
    1          0.367        21       17        39       18        40         0         0          0  R      vtysh_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2        193.832     51753        3     10559        4     10561         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.006         1        6         6        6         6         0         0          0   W     mgmt_be_client_write
    1          0.067        17        3        13        4        13         0         0          0  R      zclient_read
    0          0.058         1       58        58       59        59         0         0          0     E   zclient_connect
    0          1.960        50       39       136       39       136         0         0          0  R      vtysh_read
    1          0.370        21       17        41       18        44         0         0          0  R      vtysh_accept
    0          0.055         1       55        55       56        56         0         0          0    T    mgmt_be_client_conn_timeout


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.516        91       27       136       28       136         0         0          0  RWTEX  TOTAL:
R:163  ce1    BGPd heap: 7488 KiB --&gt; 40 MiB (0.6502 KiB/vpn route)    1    0
Tue Oct 31 07:39:50 2023 (#164) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show thread cpu":.:pass:Zebra heap: 5196 KiB --&gt; 32 MiB (0.5361 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.002         1        2         2        3         3         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.006         1        6         6        6         6         0         0          0  R      mgmt_be_adapter_read
    1          0.040         1       40        40       40        40         0         0          0  R      mgmt_be_conn_accept
    0          0.310         1      310       310      311       311         0         0          0     E   frr_config_read_in
    0          0.326        42        7        20        8        21         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.045        41        1         2        1         2         0         0          0   W     mgmt_fe_adapter_write
    0          0.036        41        0         2        1         3         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.529        22       24        57       24        59         0         0          0  R      vtysh_accept
    0          0.038         1       38        38       38        38         0         0          0    T    mgmt_be_adapter_conn_init
    0          0.048         1       48        48       49        49         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.011         1       11        11       12        12         0         0          0  R      mgmt_fe_conn_accept
    1          0.198        42        4        19        5        20         0         0          0  R      mgmt_fe_adapter_read
    1          0.116        41        2         5        3         6         0         0          0  R      mgmt_fe_client_read
    0          2.148        53       40       128       41       128         0         0          0  R      vtysh_read
    0          0.107        42        2        10        3        10         0         0          0   W     mgmt_fe_client_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.960       331       11       310       12       311         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.455        22       20       103       21       105         0         0          0  R      vtysh_accept
    1          0.438         4      109       119      110       120         0         0          0  R      zserv_accept
    0        101.235      7338       13      1547       14      1548         0         0          0     E   zserv_process_messages
    0        333.945       476      701      3427      799      4013         0         0          0     E   rib_process_dplane_results
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route
    0        186.489     11959       15     11011       16     11011         0         0          0    TE   work_queue_run
    0          0.068         2       34        50       35        51         0         0          0    T    if_zebra_speed_update
    0         26.963        56      481      8241      482      8241         0         0          0  R      vtysh_read
    1          0.062         4       15        27       30        84         0         0          0  R      kernel_read
    0          0.991         1      991       991      992       992         0         0          0     E   frr_config_read_in


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.068         3       22        60       23        61         0         0          0  R      dplane_incoming_read
    0       1614.311       651     2479     13559    18857   1018048         0         0          0     E   dplane_thread_loop
    0          0.135         1      135       135      135       135         0         0          0     E   dplane_incoming_request


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.004         1        4         4        5         5         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.043         2       21        38       27        48         0         0          0   W     zserv_write
    1          0.044         1       44        44       45        45         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         69.432     17226        4       617        5       860         0         0          0   W     zserv_write
    1        102.146      9904       10      1276       10      1277         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.011         1       11        11       12        12         0         0          0   W     zserv_write
    1          0.013         1       13        13       14        14         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         98.732     16798        5       633        7      1106         0         0          0   W     zserv_write
    1        100.079        51     1962      2293     1963      2294         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    8       2635.667     64503       40     13559      208   1018048         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         17.207       147      117      2018      120      2018         0         0          0    T    (bgp_generate_updgrp_packets)
    0          1.188        48       24       138       25       139         0         0          0   W     vtysh_write
    0         38.158        92      414      5309      417      5310         0         0          0     E   bgp_process_packet
    0         16.216         1    16216     16216    16216     16216         0         0          0     E   frr_config_read_in
    0        209.221       103     2031     13011     2150     16914         0         0          0    T    work_queue_run
    0          0.034         6        5         8        6         8         0         0          0    T    update_group_refresh_default_originate_route_map
    0          0.002         2        1         1        1         2         0         0          0    T    (bgp_routeadv_timer)
    0          0.118         1      118       118      118       118         0         0          0    T    bgp_route_map_update_timer
    2          0.074         1       74        74       75        75         0         0          0  R      bgp_accept
    0         65.224        64     1019     61044     1019     61045         0         0          0  R      vtysh_read
    0          0.016         1       16        16       17        17         0         0          0    T    subgroup_coalesce_timer
    2        243.017     51682        4       401        6      1574         0         0          0  R      zclient_read
    1          0.421        22       19        51       19        53         0         0          0  R      vtysh_accept
    0          0.055         2       27        44       28        45         0         0          0     E   zclient_connect
    0          0.067         2       33        45       82       141         0         0          0     E   bgp_event


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          3.438        83       41        85       42        87         0         0          0   W     bgp_process_writes
    1          2.290        92       24        58       25        59         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6        596.746     52349       11     61044       13     61045         0         0          0  RWTEX  TOTAL

Thread statistics for sharpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.040         1       40        40       41        41         0         0          0     E   frr_config_read_in
    0          0.050         1       50        50       51        51         0         0          0     E   zclient_connect
    0         60.600         7     8657     10559     8657     10561         0         0          0   W     zclient_flush_data
    0         12.347        54      228     10091      229     10091         0         0          0  R      vtysh_read
    1        120.518     51672        2        28        3      1137         0         0          0  R      zclient_read
    1          0.376        22       17        39       17        40         0         0          0  R      vtysh_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2        193.931     51757        3     10559        4     10561         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.006         1        6         6        6         6         0         0          0   W     mgmt_be_client_write
    1          0.067        17        3        13        4        13         0         0          0  R      zclient_read
    0          0.058         1       58        58       59        59         0         0          0     E   zclient_connect
    0          2.063        53       38       136       39       136         0         0          0  R      vtysh_read
    1          0.379        22       17        41       18        44         0         0          0  R      vtysh_accept
    0          0.055         1       55        55       56        56         0         0          0    T    mgmt_be_client_conn_timeout


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.628        95       27       136       28       136         0         0          0  RWTEX  TOTAL:
R:164  ce1    Zebra heap: 5196 KiB --&gt; 32 MiB (0.5361 KiB/vpn route)   1    0
Tue Oct 31 07:39:50 2023 (#165) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  39 MiB
  Holding block headers: 225 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  29 MiB
  Free small blocks:     4976 bytes
  Free ordinary blocks:  10726 KiB
  Ordinary blocks:       38875
  Small blocks:          103
  Holding blocks:        29
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        6     24         144        6       144
Buffer data                   :        1   4120        4120       14     57680
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4956    356928
Command Token Text            :     3541 variable    117880     3545    117960
Command Token Help            :     3541 variable     85048     3545     85144
Command Argument              :        2 variable        48        6       144
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        6    128         816        6       816
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       12 variable       960       12       960
POSIX sync primitives         :       12 variable       592       12       592
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      952 variable     46368      952     46368
Hash Bucket                   :     1039     32       41704     1043     41864
Hash Index                    :      476 variable    134144      476    134144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       41     40        1704       47      1992
Link Node                     :      524     24       12640    48186   1156848
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        6    144         912    11209   1703768
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        56
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        8 variable    189888    16131  21250840
Stream FIFO                   :        9     64         648       12       864
Route table                   :       13     56         728       13       728
Route node                    :   100030 variable  12003776   100030  12003776
Thread                        :       30    160        5040       30      5040
Thread master                 :       28 variable 117500320       28 117500320
Thread Poll Info              :       14 8388608  117497632       14 117497632
Thread stats                  :       30     96        3136       30      3136
Typed-hash bucket             :       11 variable   1053088       11   1053088
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368744    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        7  24608      172312        7    172312
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0      577    586232
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        6    144         912    11007   1673064
Nexthop Group Connected       :        5     40         200        5       200
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :    50014    152     7602160    53198   8086144
RIB destination               :    50017     88     4402040    50017   4402040
WQ wrapper                    :        0    120           0    11000   1320000
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        4   3584       14368        4     14368

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  40 MiB
  Holding block headers: 97 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  39 MiB
  Free small blocks:     2032 bytes
  Free ordinary blocks:  1056 KiB
  Ordinary blocks:       5694
  Small blocks:          52
  Holding blocks:        13
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120      782   3221840
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2513     32      100872     2517    101064
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       52     40        2128       58      2384
Link Node                     :      355     24        8584      548     14592
Temporary memory              :       38 variable      1600       48      6080
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       29   1032       29928       29     29928
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        3    120         360        3       360
Route map name                :       12 variable       288       14       336
Route map index               :        3    152         472        3       472
Route map rule                :       21     40         872       21       872
Route map rule str            :       21 variable       504       21       504
Route map compiled            :       24 variable       576       24       576
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        3     16          72        3        72
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      106     56        6000      106      6000
Route node                    :        6    120         736        6       736
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       22     96        2304       22      2304
Typed-hash bucket             :       12 variable   1054152       12   1054152
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       128
BGP attribute                 :        8    328        2624        9      2952
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :   100035    192    20007048   100035  20007048
BGP route                     :    50015    136     6802088    52061   7080344
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         760        5       760
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0     3660    263600
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :    50005     96     5200584    50005   5200584
community                     :        5     40         232        7       312
community val                 :        5 variable       120        7       168
community str                 :        2   8192       16400        3     24600
extcommunity                  :        4     40         160        6       272
extcommunity val              :        4 variable        96        6       144
extcommunity str              :        4 variable       352        5       488
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        56
BGP nexthop                   :        1    184         184        1       184
BGP own address               :        2     64         144        2       144
BGP redistribution            :        1     24          24        1        24
Large Community               :        6     40         240        8       336
Large Community display string:        3     35         152        4       192
Large Community value         :        6     12         144        8       192
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for sharpd:
System allocator statistics:
  Total heap allocated:  1320 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1264 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  56 KiB
  Ordinary blocks:       3
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     1490     72      107280     1496    107712
Command Token Text            :     1144 variable     38160     1149     38328
Command Token Help            :     1144 variable     27472     1149     27592
Command Argument              :        2 variable        48        8       192
Command Argument Name         :      405 variable      9720      409      9816
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       10      8         240       11       280
Graph Node                    :     1722     32       68976     1724     69056
Hash                          :      218 variable     10544      218     10544
Hash Bucket                   :      302     32       12144      302     12144
Hash Index                    :      109 variable     33080      110     33600
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       15     40         664       24      1008
Link Node                     :      126     24        3040      182      4400
Temporary memory              :        4 variable        96        9       296
Northbound Node               :      139   1192      165688      139    165688
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        3     56         168        3       168
Stream                        :        2  23728       47472        2     47472
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        7     96         728        7       728
Typed-hash bucket             :        1 variable        40        1        40
Vector                        :     3467     24       83384     3470     83456
Vector index                  :     3467 variable    111672     3470    111968
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        4     48         224        4       224
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem sharpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 07:39:50 2023 (#165) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show thread cpu":.:pass:BGPd heap: 7484 KiB --&gt; 40 MiB (0.6503 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.006         1        6         6        6         6         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          0.310         1      310       310      310       310         0         0          0     E   frr_config_read_in
    1          0.441        19       23        62       24        64         0         0          0  R      vtysh_accept
    1          0.064         1       64        64       64        64         0         0          0  R      mgmt_be_conn_accept
    0          1.777        45       39       120       39       120         0         0          0  R      vtysh_read
    0          0.284        36        7        23        8        23         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.041         1       41        41       42        42         0         0          0    T    mgmt_fe_client_conn_timeout
    0          0.037        35        1         2        1         2         0         0          0   W     mgmt_fe_adapter_write
    0          0.026         1       26        26       26        26         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.012         1       12        12       12        12         0         0          0  R      mgmt_fe_conn_accept
    1          0.011         1       11        11       12        12         0         0          0  R      mgmt_be_adapter_read
    0          0.090        36        2        10        3        11         0         0          0   W     mgmt_fe_client_write
    0          0.028        35        0         4        1         4         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.161        36        4         8        4         8         0         0          0  R      mgmt_fe_adapter_read
    1          0.102        35        2         9        3        10         0         0          0  R      mgmt_fe_client_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.390       284       11       310       12       310         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.469         4      117       135      118       136         0         0          0  R      zserv_accept
    1          0.438        19       23       134       23       135         0         0          0  R      vtysh_accept
    0        176.148     12457       14     10346       15     10346         0         0          0    TE   work_queue_run
    0        504.467       435     1159      7551     1362      8594         0         0          0     E   rib_process_dplane_results
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route
    0          1.020         1     1020      1020     1020      1020         0         0          0     E   frr_config_read_in
    1          0.046         4       11        18       12        19         0         0          0  R      kernel_read
    0          0.125         2       62       103       64       106         0         0          0    T    if_zebra_speed_update
    0         68.197       343      198      1499      201      1877         0         0          0     E   zserv_process_messages
    0         23.369        46      508     20021      508     20027         0         0          0  R      vtysh_read


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0       1684.949       665     2533     13914    19371   1021047         0         0          0     E   dplane_thread_loop
    1          0.066         3       22        59       22        59         0         0          0  R      dplane_incoming_read
    0          0.142         1      142       142      142       142         0         0          0     E   dplane_incoming_request


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.011         1       11        11       12        12         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.031         2       15        28       19        35         0         0          0   W     zserv_write
    1          0.054         1       54        54       55        55         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        138.186     18353        7       790        9      1041         0         0          0   W     zserv_write
    1         11.419       467       24       133       25       133         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.010         1       10        10       10        10         0         0          0   W     zserv_write
    1          0.022         1       22        22       23        23         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        153.861     19974        7       386       10     11179         0         0          0   W     zserv_write
    1         96.869        51     1899      2217     1953      3024         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    8       2859.902     52832       54     20021      270   1021047         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.451        19       23        98       24        98         0         0          0  R      vtysh_accept
    0          0.038         6        6        10        7        11         0         0          0    T    update_group_refresh_default_originate_route_map
    0         65.004        57     1140     61172     1141     61182         0         0          0  R      vtysh_read
    0          0.063         2       31        48       33        50         0         0          0     E   zclient_connect
    0          1.236        48       25       143       26       143         0         0          0   W     vtysh_write
    0          0.002         2        1         1        1         1         0         0          0    T    (bgp_routeadv_timer)
    0         16.097         1    16097     16097    16097     16097         0         0          0     E   frr_config_read_in
    0        167.519        68     2463     61352     3070     70868         0         0          0    T    work_queue_run
    2        256.302     50223        5      4074        6      4084         0         0          0  R      zclient_read
    0         17.250       146      118      1177      129      2140         0         0          0    T    (bgp_generate_updgrp_packets)
    0          4.589        32      143      3444      152      3444         0         0          0     E   bgp_process_packet
    0          0.079         2       39        54       70       115         0         0          0     E   bgp_event
    0          0.014         1       14        14       15        15         0         0          0    T    subgroup_coalesce_timer
    0          0.128         1      128       128      129       129         0         0          0    T    bgp_route_map_update_timer
    2          0.114         1      114       114      115       115         0         0          0  R      bgp_accept


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.793        33       24        68       24        69         0         0          0  R      bgp_process_reads
    0          3.452        83       41        98       42        99         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6        533.131     50725       10     61352       12     70868         0         0          0  RWTEX  TOTAL

Thread statistics for sharpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.308        19       16        28       17        29         0         0          0  R      vtysh_accept
    0          0.032         1       32        32       33        33         0         0          0     E   frr_config_read_in
    1        113.830     50213        2       174        2       174         0         0          0  R      zclient_read
    0         58.609         6     9768     12424    10267     13624         0         0          0   W     zclient_flush_data
    0         12.970        46      281     11348      282     11348         0         0          0  R      vtysh_read
    0          0.047         1       47        47       48        48         0         0          0     E   zclient_connect


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2        185.796     50286        3     12424        4     13624         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.085         1       85        85       86        86         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.010         1       10        10       10        10         0         0          0   W     mgmt_be_client_write
    1          0.311        19       16        30       17        31         0         0          0  R      vtysh_accept
    0          0.061         1       61        61       62        62         0         0          0     E   zclient_connect
    1          0.064        17        3        13        4        13         0         0          0  R      zclient_read
    0          1.673        45       37       143       37       143         0         0          0  R      vtysh_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.204        84       26       143       26       143         0         0          0  RWTEX  TOTAL:
R:165  ce2    BGPd heap: 7484 KiB --&gt; 40 MiB (0.6503 KiB/vpn route)    1    0
Tue Oct 31 07:39:50 2023 (#166) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show thread cpu":.:pass:Zebra heap: 5200 KiB --&gt; 39 MiB (0.676 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.006         1        6         6        6         6         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          0.310         1      310       310      310       310         0         0          0     E   frr_config_read_in
    1          0.452        20       22        62       23        64         0         0          0  R      vtysh_accept
    1          0.064         1       64        64       64        64         0         0          0  R      mgmt_be_conn_accept
    0          1.884        48       39       120       39       120         0         0          0  R      vtysh_read
    0          0.291        38        7        23        8        23         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.041         1       41        41       42        42         0         0          0    T    mgmt_fe_client_conn_timeout
    0          0.039        37        1         2        1         2         0         0          0   W     mgmt_fe_adapter_write
    0          0.026         1       26        26       26        26         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.012         1       12        12       12        12         0         0          0  R      mgmt_fe_conn_accept
    1          0.011         1       11        11       12        12         0         0          0  R      mgmt_be_adapter_read
    0          0.092        38        2        10        2        11         0         0          0   W     mgmt_fe_client_write
    0          0.028        37        0         4        1         4         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.167        38        4         8        4         8         0         0          0  R      mgmt_fe_adapter_read
    1          0.106        37        2         9        3        10         0         0          0  R      mgmt_fe_client_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.529       300       11       310       12       310         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.469         4      117       135      118       136         0         0          0  R      zserv_accept
    1          0.447        20       22       134       23       135         0         0          0  R      vtysh_accept
    0        176.148     12457       14     10346       15     10346         0         0          0    TE   work_queue_run
    0        504.467       435     1159      7551     1362      8594         0         0          0     E   rib_process_dplane_results
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route
    0          1.020         1     1020      1020     1020      1020         0         0          0     E   frr_config_read_in
    1          0.046         4       11        18       12        19         0         0          0  R      kernel_read
    0          0.125         2       62       103       64       106         0         0          0    T    if_zebra_speed_update
    0         68.197       343      198      1499      201      1877         0         0          0     E   zserv_process_messages
    0         23.501        49      479     20021      480     20027         0         0          0  R      vtysh_read


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0       1684.949       665     2533     13914    19371   1021047         0         0          0     E   dplane_thread_loop
    1          0.066         3       22        59       22        59         0         0          0  R      dplane_incoming_read
    0          0.142         1      142       142      142       142         0         0          0     E   dplane_incoming_request


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.011         1       11        11       12        12         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.031         2       15        28       19        35         0         0          0   W     zserv_write
    1          0.054         1       54        54       55        55         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        138.186     18353        7       790        9      1041         0         0          0   W     zserv_write
    1         11.419       467       24       133       25       133         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.010         1       10        10       10        10         0         0          0   W     zserv_write
    1          0.022         1       22        22       23        23         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        153.861     19974        7       386       10     11179         0         0          0   W     zserv_write
    1         96.869        51     1899      2217     1953      3024         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    8       2860.043     52836       54     20021      270   1021047         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.461        20       23        98       23        98         0         0          0  R      vtysh_accept
    0          0.038         6        6        10        7        11         0         0          0    T    update_group_refresh_default_originate_route_map
    0         65.121        60     1085     61172     1086     61182         0         0          0  R      vtysh_read
    0          0.063         2       31        48       33        50         0         0          0     E   zclient_connect
    0          1.236        48       25       143       26       143         0         0          0   W     vtysh_write
    0          0.002         2        1         1        1         1         0         0          0    T    (bgp_routeadv_timer)
    0         16.097         1    16097     16097    16097     16097         0         0          0     E   frr_config_read_in
    0        167.519        68     2463     61352     3070     70868         0         0          0    T    work_queue_run
    2        256.302     50223        5      4074        6      4084         0         0          0  R      zclient_read
    0         17.250       146      118      1177      129      2140         0         0          0    T    (bgp_generate_updgrp_packets)
    0          4.589        32      143      3444      152      3444         0         0          0     E   bgp_process_packet
    0          0.079         2       39        54       70       115         0         0          0     E   bgp_event
    0          0.014         1       14        14       15        15         0         0          0    T    subgroup_coalesce_timer
    0          0.128         1      128       128      129       129         0         0          0    T    bgp_route_map_update_timer
    2          0.114         1      114       114      115       115         0         0          0  R      bgp_accept


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.793        33       24        68       24        69         0         0          0  R      bgp_process_reads
    0          3.452        83       41        98       42        99         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6        533.258     50729       10     61352       12     70868         0         0          0  RWTEX  TOTAL

Thread statistics for sharpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.318        20       15        28       16        29         0         0          0  R      vtysh_accept
    0          0.032         1       32        32       33        33         0         0          0     E   frr_config_read_in
    1        113.830     50213        2       174        2       174         0         0          0  R      zclient_read
    0         58.609         6     9768     12424    10267     13624         0         0          0   W     zclient_flush_data
    0         13.066        49      266     11348      267     11348         0         0          0  R      vtysh_read
    0          0.047         1       47        47       48        48         0         0          0     E   zclient_connect


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2        185.902     50290        3     12424        4     13624         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.085         1       85        85       86        86         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.010         1       10        10       10        10         0         0          0   W     mgmt_be_client_write
    1          0.326        20       16        30       17        31         0         0          0  R      vtysh_accept
    0          0.061         1       61        61       62        62         0         0          0     E   zclient_connect
    1          0.064        17        3        13        4        13         0         0          0  R      zclient_read
    0          1.804        48       37       143       38       143         0         0          0  R      vtysh_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.350        88       26       143       27       143         0         0          0  RWTEX  TOTAL:
R:166  ce2    Zebra heap: 5200 KiB --&gt; 39 MiB (0.676 KiB/vpn route)    1    0
Tue Oct 31 07:39:50 2023 (#167) scripts/scale_up.py:0 COMMAND:ce3:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1456 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  34 MiB
  Holding block headers: 193 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  29 MiB
  Free small blocks:     141 KiB
  Free ordinary blocks:  5466 KiB
  Ordinary blocks:       41149
  Small blocks:          1551
  Holding blocks:        25
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        5     24         120        5       136
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4955    356872
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        5    128         680        5       680
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       10 variable       800       10       800
POSIX sync primitives         :       10 variable       496       10       496
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      746 variable     36448      746     36448
Hash Bucket                   :     1032     32       41424     1034     41504
Hash Index                    :      373 variable    107144      373    107144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       40     40        1664       43      1800
Link Node                     :      418     24       10096    15328    368000
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        5    144         760     9915   1507080
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        6 variable    142416     1488    290288
Stream FIFO                   :        7     64         504       10       720
Route table                   :       13     56         728       13       728
Route node                    :   100030 variable  12003744   100030  12003744
Thread                        :       27    160        4536       27      4536
Thread master                 :       24 variable 100714560       24 100714560
Thread Poll Info              :       12 8388608  100712256       12 100712256
Thread stats                  :       27     96        2824       27      2824
Typed-hash bucket             :       11 variable   1053088       11   1053088
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368744    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        2      8          48        2        48
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        6  24608      147696        6    147696
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0      497    504952
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        5    144         760     9613   1461176
Nexthop Group Connected       :        4     40         160        4       160
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :    50014    152     7602144    54135   8228536
RIB destination               :    50017     88     4401608    50017   4401608
WQ wrapper                    :        0    120           0     9607   1152840
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        3   3584       10776        3     10776

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  34 MiB
  Holding block headers: 97 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  33 MiB
  Free small blocks:     1872 bytes
  Free ordinary blocks:  479 KiB
  Ordinary blocks:       6
  Small blocks:          52
  Holding blocks:        13
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120      782   3221840
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2502     32      100400     2505    100536
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       49     40        2008       55      2264
Link Node                     :      352     24        8496      545     13288
Temporary memory              :       31 variable      1208       41      5688
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       20   1032       20640       20     20640
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        2    120         240        2       240
Route map name                :        9 variable       216       11       264
Route map index               :        2    152         320        2       320
Route map rule                :       14     40         560       14       560
Route map rule str            :       14 variable       336       14       336
Route map compiled            :       16 variable       384       16       384
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        2     16          48        2        48
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      104     56        5888      104      5888
Route node                    :        4    120         480        4       480
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       23     96        2472       23      2472
Typed-hash bucket             :       10 variable   1054104       10   1054104
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       112
BGP attribute                 :        8    328        2624        9      2952
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :   100035    192    20007032   100035  20007032
BGP route                     :    50013    136     6801848    50013   6801848
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         776        5       776
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0        4       288
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :        5     96         536        5       536
community                     :        4     40         176        6       256
community val                 :        4 variable        96        6       144
community str                 :        2   8192       16400        3     24600
extcommunity                  :        4     40         160        6       240
extcommunity val              :        4 variable        96        6       144
extcommunity str              :        4 variable       416        5       552
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        56
BGP nexthop                   :        1    184         184        1       184
BGP own address               :        2     64         144        2       144
Large Community               :        5     40         216        7       296
Large Community display string:        3     35         120        4       160
Large Community value         :        5     12         120        7       168
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1424 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109064     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 07:39:50 2023 (#167) scripts/scale_up.py:0 COMMAND:ce3:vtysh -c "show thread cpu":.:pass:BGPd heap: 7464 KiB --&gt; 34 MiB (0.5307 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.036         1       36        36       37        37         0         0          0  R      mgmt_be_conn_accept
    0          0.015         1       15        15       16        16         0         0          0    T    mgmt_be_adapter_conn_init
    0          0.045         1       45        45       46        46         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.380        17       22        53       23        54         0         0          0  R      vtysh_accept
    0          0.354         1      354       354      355       355         0         0          0     E   frr_config_read_in
    0          1.627        41       39       124       40       124         0         0          0  R      vtysh_read
    1          0.142        32        4        11        4        11         0         0          0  R      mgmt_fe_adapter_read
    0          0.004         1        4         4        5         5         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.007         1        7         7        8         8         0         0          0  R      mgmt_be_adapter_read
    0          0.256        32        8        43        8        44         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.078        32        2         9        2         9         0         0          0   W     mgmt_fe_client_write
    0          0.035        31        1         2        1         2         0         0          0   W     mgmt_fe_adapter_write
    1          0.092        31        2         9        3         9         0         0          0  R      mgmt_fe_client_read
    1          0.012         1       12        12       12        12         0         0          0  R      mgmt_fe_conn_accept
    0          0.030        31        0         6        1         6         0         0          0    T    mgmt_fe_client_proc_msgbufs


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.113       254       12       354       12       355         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         62.758       533      117       233      118       233         0         0          0     E   rib_process_dplane_results
    1          0.305        17       17        60       18        61         0         0          0  R      vtysh_accept
    0          0.126         2       63       105       64       107         0         0          0    T    if_zebra_speed_update
    0         87.111      5624       15      1853       16      1854         0         0          0     E   zserv_process_messages
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route
    1          0.341         3      113       123      114       124         0         0          0  R      zserv_accept
    0          4.234        41      103      2639      104      2660         0         0          0  R      vtysh_read
    1          0.055         4       13        27       14        28         0         0          0  R      kernel_read
    0          1.013         1     1013      1013     1013      1013         0         0          0     E   frr_config_read_in
    0        162.449     12471       13     10130       13     10141         0         0          0    T    work_queue_run


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.136         1      136       136      137       137         0         0          0     E   dplane_incoming_request
    1          0.066         3       22        59       22        59         0         0          0  R      dplane_incoming_read
    0       1652.567       547     3021     12476    23171   1020635         0         0          0     E   dplane_thread_loop


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.025         1       25        25       25        25         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.038         1       38        38       39        39         0         0          0  R      zserv_read
    0          0.027         2       13        23       14        24         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1        153.380      6380       24      2017       24      2018         0         0          0  R      zserv_read
    0          0.122         4       30        91       31        92         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.030         1       30        30       38        38         0         0          0  R      zserv_read
    0          0.011         1       11        11       12        12         0         0          0   W     zserv_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    7       2124.797     25638       82     12476      513   1020635         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.111         6       18        36      200      1105         0         0          0   W     zclient_flush_data
    0          1.266        48       26       139       26       139         0         0          0   W     vtysh_write
    0        281.530        57     4939    127640     6791    152301         0         0          0    T    work_queue_run
    0          0.056         2       28        44       29        45         0         0          0     E   zclient_connect
    0          0.087        27        3        34        3        34         0         0          0    T    (bgp_generate_updgrp_packets)
    0          0.059         6        9        18       11        20         0         0          0    T    update_group_refresh_default_originate_route_map
    0          8.507         1     8507      8507     8508      8508         0         0          0     E   frr_config_read_in
    0         64.004        53     1207     60389     1209     60445         0         0          0  R      vtysh_read
    0          0.033         1       33        33       34        34         0         0          0    T    subgroup_coalesce_timer
    0          0.002         2        1         1        1         1         0         0          0    T    (bgp_routeadv_timer)
    0          0.072         1       72        72       73        73         0         0          0    T    bgp_route_map_update_timer
    0          0.078         2       39        53       85       145         0         0          0     E   bgp_event
    0        100.736        76     1325     12680     1459     12680         0         0          0     E   bgp_process_packet
    2          0.106         1      106       106      107       107         0         0          0  R      bgp_accept
    1          0.319        17       18        27       20        40         0         0          0  R      vtysh_accept
    2          0.106        27        3        14        4        15         0         0          0  R      zclient_read


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          1.827        75       24        81       25        81         0         0          0  R      bgp_process_reads
    0          1.213        23       52       129       53       129         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6        460.112       425     1082    127640     1358    152301         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.066         1       66        66       67        67         0         0          0     E   zclient_connect
    0          1.757        41       42       151       43       151         0         0          0  R      vtysh_read
    0          0.007         1        7         7        7         7         0         0          0   W     mgmt_be_client_write
    0          0.055         1       55        55       55        55         0         0          0    T    mgmt_be_client_conn_timeout
    1          0.362        17       21        51       22        53         0         0          0  R      vtysh_accept
    1          0.080        17        4        17        5        18         0         0          0  R      zclient_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.327        78       29       151       30       151         0         0          0  RWTEX  TOTAL:
R:167  ce3    BGPd heap: 7464 KiB --&gt; 34 MiB (0.5307 KiB/vpn route)    1    0
Tue Oct 31 07:39:50 2023 (#168) scripts/scale_up.py:0 COMMAND:ce3:vtysh -c "show thread cpu":.:pass:Zebra heap: 4924 KiB --&gt; 34 MiB (0.5815 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.036         1       36        36       37        37         0         0          0  R      mgmt_be_conn_accept
    0          0.015         1       15        15       16        16         0         0          0    T    mgmt_be_adapter_conn_init
    0          0.045         1       45        45       46        46         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.390        18       21        53       22        54         0         0          0  R      vtysh_accept
    0          0.354         1      354       354      355       355         0         0          0     E   frr_config_read_in
    0          1.740        44       39       124       40       124         0         0          0  R      vtysh_read
    1          0.148        34        4        11        4        11         0         0          0  R      mgmt_fe_adapter_read
    0          0.004         1        4         4        5         5         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.007         1        7         7        8         8         0         0          0  R      mgmt_be_adapter_read
    0          0.263        34        7        43        8        44         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.080        34        2         9        2         9         0         0          0   W     mgmt_fe_client_write
    0          0.037        33        1         2        1         2         0         0          0   W     mgmt_fe_adapter_write
    1          0.097        33        2         9        3         9         0         0          0  R      mgmt_fe_client_read
    1          0.012         1       12        12       12        12         0         0          0  R      mgmt_fe_conn_accept
    0          0.030        33        0         6        1         6         0         0          0    T    mgmt_fe_client_proc_msgbufs


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.258       270       12       354       12       355         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         62.758       533      117       233      118       233         0         0          0     E   rib_process_dplane_results
    1          0.314        18       17        60       18        61         0         0          0  R      vtysh_accept
    0          0.126         2       63       105       64       107         0         0          0    T    if_zebra_speed_update
    0         87.111      5624       15      1853       16      1854         0         0          0     E   zserv_process_messages
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route
    1          0.341         3      113       123      114       124         0         0          0  R      zserv_accept
    0          4.380        44       99      2639      100      2660         0         0          0  R      vtysh_read
    1          0.055         4       13        27       14        28         0         0          0  R      kernel_read
    0          1.013         1     1013      1013     1013      1013         0         0          0     E   frr_config_read_in
    0        162.449     12471       13     10130       13     10141         0         0          0    T    work_queue_run


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.136         1      136       136      137       137         0         0          0     E   dplane_incoming_request
    1          0.066         3       22        59       22        59         0         0          0  R      dplane_incoming_read
    0       1652.567       547     3021     12476    23171   1020635         0         0          0     E   dplane_thread_loop


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.025         1       25        25       25        25         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.038         1       38        38       39        39         0         0          0  R      zserv_read
    0          0.027         2       13        23       14        24         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1        153.380      6380       24      2017       24      2018         0         0          0  R      zserv_read
    0          0.122         4       30        91       31        92         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.030         1       30        30       38        38         0         0          0  R      zserv_read
    0          0.011         1       11        11       12        12         0         0          0   W     zserv_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    7       2124.952     25642       82     12476      513   1020635         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.111         6       18        36      200      1105         0         0          0   W     zclient_flush_data
    0          1.266        48       26       139       26       139         0         0          0   W     vtysh_write
    0        281.530        57     4939    127640     6791    152301         0         0          0    T    work_queue_run
    0          0.056         2       28        44       29        45         0         0          0     E   zclient_connect
    0          0.087        27        3        34        3        34         0         0          0    T    (bgp_generate_updgrp_packets)
    0          0.059         6        9        18       11        20         0         0          0    T    update_group_refresh_default_originate_route_map
    0          8.507         1     8507      8507     8508      8508         0         0          0     E   frr_config_read_in
    0         64.119        56     1144     60389     1146     60445         0         0          0  R      vtysh_read
    0          0.033         1       33        33       34        34         0         0          0    T    subgroup_coalesce_timer
    0          0.002         2        1         1        1         1         0         0          0    T    (bgp_routeadv_timer)
    0          0.072         1       72        72       73        73         0         0          0    T    bgp_route_map_update_timer
    0          0.078         2       39        53       85       145         0         0          0     E   bgp_event
    0        100.736        76     1325     12680     1459     12680         0         0          0     E   bgp_process_packet
    2          0.106         1      106       106      107       107         0         0          0  R      bgp_accept
    1          0.327        18       18        27       19        40         0         0          0  R      vtysh_accept
    2          0.106        27        3        14        4        15         0         0          0  R      zclient_read


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          1.827        75       24        81       25        81         0         0          0  R      bgp_process_reads
    0          1.213        23       52       129       53       129         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6        460.235       429     1072    127640     1346    152301         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.066         1       66        66       67        67         0         0          0     E   zclient_connect
    0          1.854        44       42       151       42       151         0         0          0  R      vtysh_read
    0          0.007         1        7         7        7         7         0         0          0   W     mgmt_be_client_write
    0          0.055         1       55        55       55        55         0         0          0    T    mgmt_be_client_conn_timeout
    1          0.371        18       20        51       21        53         0         0          0  R      vtysh_accept
    1          0.080        17        4        17        5        18         0         0          0  R      zclient_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.433        82       29       151       30       151         0         0          0  RWTEX  TOTAL:
R:168  ce3    Zebra heap: 4924 KiB --&gt; 34 MiB (0.5815 KiB/vpn route)   1    0
Tue Oct 31 07:39:50 2023 (#169) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1780 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  152 KiB
  Ordinary blocks:       5
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117896
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       488
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       16     45280
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1664       16      1664
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  33 MiB
  Holding block headers: 289 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  29 MiB
  Free small blocks:     100 KiB
  Free ordinary blocks:  3745 KiB
  Ordinary blocks:       47161
  Small blocks:          1113
  Holding blocks:        37
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         192        8       192
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356624     4955    356856
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231584     5785    231784
Hash                          :     1372 variable     66704     1372     66704
Hash Bucket                   :     1088     32       43680     1092     43872
Hash Index                    :      686 variable    188816      687    188952
Hook entry                    :        9     48         504        9       504
Interface                     :        4    272        1120        4      1120
Intf Desc                     :        2      7          48        2        48
Connected                     :        5     48         280        5       280
Link List                     :       61     40        2488       65      2648
Link Node                     :      750     24       18096     8993    215928
Temporary memory              :        4 variable        96        7       344
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       35    144        5320     7965   1210680
Nexthop label                 :       21 variable       504     3924     94208
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        56
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        3   1032        3096        3      3096
Prefix                        :        5     56         280        5       280
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832     1046    599080
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       25     56        1400       25      1400
Route node                    :   100071 variable  12008712   100071  12008712
ASCII table                   :        0 variable         0       14       544
Thread                        :       37    160        6216       37      6216
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       18 variable   1053608       18   1053608
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368728    11634    369056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        6       144
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        4    608        2464        4      2464
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0      511    519176
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        6     80         544        6       544
MPLS nexthop object           :        6     48         368       11       648
Nexthop Group Entry           :       25    144        3800     7534   1145168
Nexthop Group Connected       :       24     40         960       24       960
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :    50034    152     7605168    50034   7605168
RIB destination               :    50035     88     4403192    50035   4403192
WQ wrapper                    :        0 variable         0     7508    900960
RIB table info                :        8     24         192        8       192
Zebra VRF table               :        8     56         448        8       448
Nexthop tracking object       :        5    248        1240        5      1240
ZEBRA VRF                     :        2   5072       10160        2     10160
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        2     80         176        2       176
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2463 KiB
  Free small blocks:     1664 bytes
  Free ordinary blocks:  101 KiB
  Ordinary blocks:       5
  Small blocks:          44
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     4296     72      309392     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      824     32       33088      824     33088
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         280        5       280
Informational Link Parameters :        0    120           0        1       120
Link List                     :       62     40        2528       78      3168
Link Node                     :      195     24        4696      241      5888
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        1   1032        1032        1      1032
Prefix                        :        5     56         280        5       280
Privilege information         :        3 variable       136        3       136
Stream                        :        6 variable    160608        9    165208
Route table                   :      148     56        8384      150      8496
Route node                    :       38    120        4576       42      5056
Thread                        :       16    160        2704       16      2704
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       22     96        2304       22      2304
Typed-hash bucket             :       13 variable       776       15       840
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        2    304         624        2       624
OSPF neighbor                 :        3   1520        4584        3      4584
OSPF route                    :       11     64         792       13       936
OSPF LSA                      :        7    128         952        9      1240
OSPF LSA data                 :        7 variable       376        9       472
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        1     24          24        4        96
OSPF FIFO queue               :        2     24          48        2        48
OSPF vertex                   :        0     80           0        7       632
OSPF vertex parent            :        0     32           0        6       240
OSPF nexthop                  :        0      8           0       11       264
OSPF path                     :       11     48         616       13       728
OSPF if info                  :        4     40         160        4       160
OSPF if params                :        4    120         480        4       480
OSPF MPLS parameters          :        4    248         992        4       992
OSPF Extended parameters      :        4    136         544        4       544
OSPF opaque function table    :        6    112         736        6       736
OSPF External route table     :        1     16          24        1        24
OSPF Redistriute              :        1     32          40        1        40

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1584 KiB
  Free small blocks:     1456 bytes
  Free ordinary blocks:  92 KiB
  Ordinary blocks:       5
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156304
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         296        5       296
Link List                     :       17     40         712       22       912
Link Node                     :      142     24        3472      195      4792
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        5     56         296        5       296
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1040       10      1040
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163880     5182    164128
VRF                           :        2    216         432        2       432
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  230 MiB
  Holding block headers: 100 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  228 MiB
  Free small blocks:     1856 bytes
  Free ordinary blocks:  2490 KiB
  Ordinary blocks:       62317
  Small blocks:          54
  Holding blocks:        16
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       112
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937928
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      627 variable     30776      627     30776
Hash Bucket                   :     2519     32      101144     2521    101224
Hash Index                    :      314 variable    480432      314    480432
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         328        5       328
Link List                     :       65     40        2680       73      3016
Link Node                     :      382     24        9232      623     15128
Temporary memory              :   100041 variable  13603736   100046  13603936
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        5    144         760        6       912
Nexthop label                 :        3      8          72        3        72
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        5     56         296        5       296
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        8 variable    393408       10    491760
Skip List                     :    50013     56     2964536    50014   2964592
Skip Node                     :   100028 variable  10410960   100029  10411128
Skiplist Counters             :    50013     68     3600936    50014   3601008
Socket union                  :        6    112         720        9      1080
Stream                        :        9 variable    425896       21    666528
Stream FIFO                   :        8     64         576       10       720
Route table                   :      170     56        9584      170      9584
Thread                        :       24    160        4032       24      4032
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       23     96        2440       23      2440
Typed-hash bucket             :       13 variable   4212248       13   4212248
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966984    30687    967176
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
VTY output buffer             :        0 variable         0        1      1288
Work queue                    :        4    144         608        5       760
Work queue item               :        0     24           0        2        48
Work queue name string        :        4 variable        96        5       120
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        2     24          48        2        48
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        4     16          96        4        96
Mac Hash Entry Intf String    :        4 variable        96        5       120
BGP instance                  :       10 variable     21584       10     21584
BGP listen socket details     :        6 variable       672        6       672
BGP peer                      :        6  20864      125232        7    146104
BGP peer hostname             :       10 variable       240       12       288
BGP peer af                   :        2     80         176        4       352
BGP update group              :        2    104         208        2       208
BGP update subgroup           :        2    240         496        2       496
BGP packet                    :        2     56         112        3       216
BGP attribute                 :       32    328       10512       32     10512
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :      157     56        8904      157      8904
BGP node                      :   300070    192    60014080   300070  60014080
BGP route                     :   250055    136    34008040   250055  34008040
BGP ancillary route info      :   200050    432    88022048   200050  88022048
BGP connected                 :        3      4          72        3        72
BGP adv attr                  :        0     24           0        3        72
BGP adv                       :        0     64           0     7804    561888
BGP synchronise               :        2     48         112        2       112
BGP adj out                   :    50012     96     5201456    50012   5201456
community                     :        3     40         120        4       176
community val                 :        3      4          72        4        96
community str                 :        3   8192       24600        3     24600
extcommunity                  :        9     40         408       10       464
extcommunity val              :        9 variable       216       10       240
extcommunity str              :        7 variable       760        8       912
community-list handler        :        1    120         136        1       136
Cluster list                  :        1     24          24        1        24
Cluster list val              :        1      4          24        1        24
BGP Process queue             :        0     32           0        2        96
BGP nexthop                   :        5    184         920        5       920
BGP own address               :        3     64         216        3       216
Large Community               :        7     40         280        8       320
Large Community display string:        7     35         328        7       328
Large Community value         :        7     12         168        8       192
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        2     34          80        2        80
BGP Martian Addr Intf String  :        3 variable        72        3        72
BGP PBR Context               :        2     32          80        2        80
BGP interface context         :        4      4          96        4        96
BGP EVPN instance information :        2     56         112        2       112
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :    50015     40     2007784    50015   2007784
RFAPI IT Extra                :    50013     40     2010296    50013   2010296

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1370 KiB
  Free small blocks:     1392 bytes
  Free ordinary blocks:  94 KiB
  Ordinary blocks:       1
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103192     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      290     32       11648      290     11648
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         296        5       296
Link List                     :       17     40         728       22       928
Link Node                     :      128     24        3104      178      4320
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        5     56         280        5       280
Stream                        :        3 variable     63896        4     80320
Route table                   :        8     56         448        8       448
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        72        1        72
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109064     3332    109360
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :       10 variable       720       10       720:
Tue Oct 31 07:39:50 2023 (#169) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show thread cpu":.:pass:BGPd heap: 7860 KiB --&gt; 230 MiB (4.4428 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.050        73        0         4        1         4         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          0.164        74        2        11        2        11         0         0          0   W     mgmt_fe_client_write
    0          0.028         1       28        28       29        29         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.006         1        6         6        6         6         0         0          0  R      mgmt_be_adapter_read
    0          0.476        74        6        37        6        38         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.044         1       44        44       45        45         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.221        73        3        19        3        19         0         0          0  R      mgmt_fe_client_read
    0          0.391         1      391       391      392       392         0         0          0     E   frr_config_read_in
    1          0.039         1       39        39       39        39         0         0          0  R      mgmt_be_conn_accept
    1          0.013         1       13        13       13        13         0         0          0  R      mgmt_fe_conn_accept
    1          0.763        38       20        69       20        70         0         0          0  R      vtysh_accept
    1          0.303        74        4        12        4        12         0         0          0  R      mgmt_fe_adapter_read
    0          0.008         1        8         8        9         9         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          2.943        83       35       147       36       148         0         0          0  R      vtysh_read
    0          0.080        73        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          5.529       569        9       391       10       392         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.086         7       12        23       13        24         0         0          0  R      kernel_read
    0        194.894     13091       14      8070       15      8070         0         0          0    T    work_queue_run
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route
    1          0.649         6      108       116      108       117         0         0          0  R      zserv_accept
    0          0.290         5       58       102       59       103         0         0          0    T    if_zebra_speed_update
    0          7.269        84       86      4612       87      4628         0         0          0  R      vtysh_read
    0          1.326         1     1326      1326     1327      1327         0         0          0     E   frr_config_read_in
    0        111.931     13939        8      1430        8      3479         0         0          0     E   zserv_process_messages
    0         87.443       582      150       550      150       550         0         0          0     E   rib_process_dplane_results
    1          0.563        38       14        65       15        66         0         0          0  R      vtysh_accept


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.181         1      181       181      196       196         0         0          0     E   dplane_incoming_request
    1          0.134         6       22        65       23        66         0         0          0  R      dplane_incoming_read
    0       1632.806       612     2667     12504    21770   1020557         0         0          0     E   dplane_thread_loop


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.017         4        4         6        5         8         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.111         6       18        32       22        47         0         0          0   W     zserv_write
    1          0.052         2       26        30       27        31         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.108         6       18        32       21        41         0         0          0   W     zserv_write
    1          0.340        16       21        43       22        44         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.158        14       11        27       12        27         0         0          0   W     zserv_write
    1        228.134     17637       12      1894       13      1894         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.051         4       12        19       13        19         0         0          0   W     zserv_write
    1          0.018         1       18        18       19        19         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.181        11       16        40       19        60         0         0          0   W     zserv_write
    1          0.166         5       33        58       34        59         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.044         3       14        17       14        17         0         0          0   W     zserv_write
    1          0.074         3       24        34       25        35         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10       2267.029     46085       49     12504      303   1020557         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.003         1        3         3        4         4         0         0          0    T    (ospf_wait_timer)
    1          0.018         5        3         7        4         9         0         0          0    T    ospf_lsa_refresh_walker
    1          0.020         9        2         7        2         8         0         0          0    T    (ospf_ls_upd_timer)
    0          0.617         1      617       617      618       618         0         0          0     E   frr_config_read_in
    1          0.003         9        0         1        1         2         0         0          0    T    (ospf_ls_req_timer)
    0          0.199        63        3        34        3        35         0         0          0     EX  ospf_nsm_event
    0          2.368        83       28       118       29       119         0         0          0  R      vtysh_read
    0          0.009         4        2         4        2         4         0         0          0     E   ospf_ls_upd_send_queue_event
    1          0.179        42        4        24        4        24         0         0          0  R      zclient_read
    1          0.120        48        2         8        3         9         0         0          0    T    (ospf_ls_ack_timer)
    0          0.144         7       20        51       38       171         0         0          0    T    ospf_spf_calculate_schedule_worker
    1          0.595        38       15        49       16        50         0         0          0  R      ospf_read
    1          0.699        38       18        30       19        33         0         0          0  R      vtysh_accept
    0          0.063         1       63        63       64        64         0         0          0     E   zclient_connect
    0          0.008         3        2         4        4         6         0         0          0    T    ospf_ase_calculate_timer
    1          0.274        30        9        20        9        21         0         0          0    T    (ospf_hello_timer)
    0          1.272        39       32        74       33        74         0         0          0   W     ospf_write
    1          0.008         1        8         8        9         9         0         0          0    T    ospf_lsa_maxage_walker
    0          0.110         4       27        46       27        46         0         0          0     E   ospf_ism_event


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    9          6.709       426       15       617       16       618         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.297         1      297       297      297       297         0         0          0     E   frr_config_read_in
    0          0.042         1       42        42       43        43         0         0          0     E   zclient_connect
    0          2.660        83       32       110       32       110         0         0          0  R      vtysh_read
    0          0.182        48        3        19        4        19         0         0          0   W     iev-&gt;handler_write
    0          0.008         1        8         8        9         9         0         0          0     E   ldp_config_fork_apply
    1          0.516        38       13        52       14        54         0         0          0  R      vtysh_accept
    2          0.177         8       22        49       22        50         0         0          0  R      iev_ldpe-&gt;handler_read
    1          0.211        43        4        22        5        23         0         0          0  R      zclient_read
    2          0.106         6       17        36       17        36         0         0          0  R      iev_lde-&gt;handler_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.199       229       18       297       18       297         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.079        10        7        13        8        16         0         0          0    T    update_group_refresh_default_originate_route_map
    4          0.114         1      114       114      115       115         0         0          0  R      bgp_accept
    0          0.026         1       26        26       27        27         0         0          0    T    (bgp_start_timer)
    0          0.000         1        0         0        1         1         0         0          0    T    update_subgroup_merge_check_thread_cb
    0        518.113       167     3102     41819     3116     41818         0         0          0     E   bgp_process_packet
    0          1.551         1     1551      1551     1566      1566         0         0          0     E   frr_config_read_in
    0          0.362         9       40        61       66       121         0         0          0     E   bgp_event
    0         29.938       286      104      2736      105      2736         0         0          0    T    (bgp_generate_updgrp_packets)
    0         10.070       115       87      3291       88      3292         0         0          0  R      vtysh_read
    1          0.567        38       14        40       15        41         0         0          0  R      vtysh_accept
    0        392.437       170     2308     21689     2699     24044         0         0          0    T    work_queue_run
    0          0.016         1       16        16       18        18         0         0          0   W     bgp_connect_check
    0          0.042         2       21        26       22        26         0         0          0    T    subgroup_coalesce_timer
    0          0.065         2       32        51       33        53         0         0          0     E   zclient_connect
    2          0.467        63        7       141        7       141         0         0          0  R      zclient_read
    0          0.007         4        1         3        2         3         0         0          0    T    (bgp_routeadv_timer)


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          6.767       159       42       103       43       103         0         0          0   W     bgp_process_writes
    2          4.146       184       22        58       23        61         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    9        964.767      1214      794     41819      852     41818         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.490        38       12        27       13        27         0         0          0  R      vtysh_accept
    0          2.419        83       29       128       29       129         0         0          0  R      vtysh_read
    0          0.068         1       68        68       69        69         0         0          0     E   zclient_connect
    0          0.006         1        6         6        7         7         0         0          0   W     mgmt_be_client_write
    1          0.176        36        4        27        5        28         0         0          0  R      zclient_read
    0          0.059         1       59        59       60        60         0         0          0    T    mgmt_be_client_conn_timeout


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          3.218       160       20       128       20       129         0         0          0  RWTEX  TOTAL:
R:169  r1     BGPd heap: 7860 KiB --&gt; 230 MiB (4.4428 KiB/vpn route)   1    0
Tue Oct 31 07:39:50 2023 (#170) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show thread cpu":.:pass:Zebra heap: 5708 KiB --&gt; 33 MiB (0.5458 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.051        75        0         4        1         4         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          0.168        76        2        11        2        11         0         0          0   W     mgmt_fe_client_write
    0          0.028         1       28        28       29        29         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.006         1        6         6        6         6         0         0          0  R      mgmt_be_adapter_read
    0          0.491        76        6        37        6        38         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.044         1       44        44       45        45         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.227        75        3        19        3        19         0         0          0  R      mgmt_fe_client_read
    0          0.391         1      391       391      392       392         0         0          0     E   frr_config_read_in
    1          0.039         1       39        39       39        39         0         0          0  R      mgmt_be_conn_accept
    1          0.013         1       13        13       13        13         0         0          0  R      mgmt_fe_conn_accept
    1          0.780        39       20        69       20        70         0         0          0  R      vtysh_accept
    1          0.310        76        4        12        4        12         0         0          0  R      mgmt_fe_adapter_read
    0          0.008         1        8         8        9         9         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          3.064        86       35       147       36       148         0         0          0  R      vtysh_read
    0          0.082        75        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          5.702       585        9       391       10       392         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.086         7       12        23       13        24         0         0          0  R      kernel_read
    0        194.894     13091       14      8070       15      8070         0         0          0    T    work_queue_run
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route
    1          0.649         6      108       116      108       117         0         0          0  R      zserv_accept
    0          0.290         5       58       102       59       103         0         0          0    T    if_zebra_speed_update
    0          7.454        87       85      4612       86      4628         0         0          0  R      vtysh_read
    0          1.326         1     1326      1326     1327      1327         0         0          0     E   frr_config_read_in
    0        111.931     13939        8      1430        8      3479         0         0          0     E   zserv_process_messages
    0         87.443       582      150       550      150       550         0         0          0     E   rib_process_dplane_results
    1          0.585        39       15        65       15        66         0         0          0  R      vtysh_accept


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.181         1      181       181      196       196         0         0          0     E   dplane_incoming_request
    1          0.134         6       22        65       23        66         0         0          0  R      dplane_incoming_read
    0       1632.806       612     2667     12504    21770   1020557         0         0          0     E   dplane_thread_loop


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.017         4        4         6        5         8         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.111         6       18        32       22        47         0         0          0   W     zserv_write
    1          0.052         2       26        30       27        31         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.108         6       18        32       21        41         0         0          0   W     zserv_write
    1          0.340        16       21        43       22        44         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.158        14       11        27       12        27         0         0          0   W     zserv_write
    1        228.134     17637       12      1894       13      1894         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.051         4       12        19       13        19         0         0          0   W     zserv_write
    1          0.018         1       18        18       19        19         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.181        11       16        40       19        60         0         0          0   W     zserv_write
    1          0.166         5       33        58       34        59         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.044         3       14        17       14        17         0         0          0   W     zserv_write
    1          0.074         3       24        34       25        35         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10       2267.236     46089       49     12504      303   1020557         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.003         1        3         3        4         4         0         0          0    T    (ospf_wait_timer)
    1          0.018         5        3         7        4         9         0         0          0    T    ospf_lsa_refresh_walker
    1          0.020         9        2         7        2         8         0         0          0    T    (ospf_ls_upd_timer)
    0          0.617         1      617       617      618       618         0         0          0     E   frr_config_read_in
    1          0.003         9        0         1        1         2         0         0          0    T    (ospf_ls_req_timer)
    0          0.199        63        3        34        3        35         0         0          0     EX  ospf_nsm_event
    0          2.497        86       29       118       29       119         0         0          0  R      vtysh_read
    0          0.009         4        2         4        2         4         0         0          0     E   ospf_ls_upd_send_queue_event
    1          0.179        42        4        24        4        24         0         0          0  R      zclient_read
    1          0.120        48        2         8        3         9         0         0          0    T    (ospf_ls_ack_timer)
    0          0.144         7       20        51       38       171         0         0          0    T    ospf_spf_calculate_schedule_worker
    1          0.595        38       15        49       16        50         0         0          0  R      ospf_read
    1          0.720        39       18        30       19        33         0         0          0  R      vtysh_accept
    0          0.063         1       63        63       64        64         0         0          0     E   zclient_connect
    0          0.008         3        2         4        4         6         0         0          0    T    ospf_ase_calculate_timer
    1          0.274        30        9        20        9        21         0         0          0    T    (ospf_hello_timer)
    0          1.272        39       32        74       33        74         0         0          0   W     ospf_write
    1          0.008         1        8         8        9         9         0         0          0    T    ospf_lsa_maxage_walker
    0          0.110         4       27        46       27        46         0         0          0     E   ospf_ism_event


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    9          6.859       430       15       617       16       618         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.297         1      297       297      297       297         0         0          0     E   frr_config_read_in
    0          0.042         1       42        42       43        43         0         0          0     E   zclient_connect
    0          2.769        86       32       110       32       110         0         0          0  R      vtysh_read
    0          0.182        48        3        19        4        19         0         0          0   W     iev-&gt;handler_write
    0          0.008         1        8         8        9         9         0         0          0     E   ldp_config_fork_apply
    1          0.529        39       13        52       14        54         0         0          0  R      vtysh_accept
    2          0.177         8       22        49       22        50         0         0          0  R      iev_ldpe-&gt;handler_read
    1          0.211        43        4        22        5        23         0         0          0  R      zclient_read
    2          0.106         6       17        36       17        36         0         0          0  R      iev_lde-&gt;handler_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.321       233       18       297       19       297         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.079        10        7        13        8        16         0         0          0    T    update_group_refresh_default_originate_route_map
    4          0.114         1      114       114      115       115         0         0          0  R      bgp_accept
    0          0.026         1       26        26       27        27         0         0          0    T    (bgp_start_timer)
    0          0.000         1        0         0        1         1         0         0          0    T    update_subgroup_merge_check_thread_cb
    0        518.113       167     3102     41819     3116     41818         0         0          0     E   bgp_process_packet
    0          1.551         1     1551      1551     1566      1566         0         0          0     E   frr_config_read_in
    0          0.362         9       40        61       66       121         0         0          0     E   bgp_event
    0         29.938       286      104      2736      105      2736         0         0          0    T    (bgp_generate_updgrp_packets)
    0         10.204       118       86      3291       87      3292         0         0          0  R      vtysh_read
    1          0.581        39       14        40       15        41         0         0          0  R      vtysh_accept
    0        392.437       170     2308     21689     2699     24044         0         0          0    T    work_queue_run
    0          0.016         1       16        16       18        18         0         0          0   W     bgp_connect_check
    0          0.042         2       21        26       22        26         0         0          0    T    subgroup_coalesce_timer
    0          0.065         2       32        51       33        53         0         0          0     E   zclient_connect
    2          0.467        63        7       141        7       141         0         0          0  R      zclient_read
    0          0.007         4        1         3        2         3         0         0          0    T    (bgp_routeadv_timer)


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          6.767       159       42       103       43       103         0         0          0   W     bgp_process_writes
    2          4.146       184       22        58       23        61         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    9        964.915      1218      792     41819      849     41818         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.500        39       12        27       13        27         0         0          0  R      vtysh_accept
    0          2.526        86       29       128       30       129         0         0          0  R      vtysh_read
    0          0.068         1       68        68       69        69         0         0          0     E   zclient_connect
    0          0.006         1        6         6        7         7         0         0          0   W     mgmt_be_client_write
    1          0.176        36        4        27        5        28         0         0          0  R      zclient_read
    0          0.059         1       59        59       60        60         0         0          0    T    mgmt_be_client_conn_timeout


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          3.335       164       20       128       21       129         0         0          0  RWTEX  TOTAL:
R:170  r1     Zebra heap: 5708 KiB --&gt; 33 MiB (0.5458 KiB/vpn route)   1    0
Tue Oct 31 07:39:50 2023 (#171) scripts/scale_up.py:0 COMMAND:r2:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1796 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1392 bytes
  Free ordinary blocks:  168 KiB
  Ordinary blocks:       6
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       80      2048
Temporary memory              :        4 variable        96       20     61696
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1664       16      1664
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5740 KiB
  Holding block headers: 288 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4595 KiB
  Free small blocks:     3008 bytes
  Free ordinary blocks:  1145 KiB
  Ordinary blocks:       15
  Small blocks:          75
  Holding blocks:        36
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         208        8       224
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356624     4955    356840
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1296       16      1296
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231584     5785    231784
Hash                          :     1364 variable     66224     1364     66224
Hash Bucket                   :     1085     32       43592     1085     43592
Hash Index                    :      682 variable    188544      683    188680
Hook entry                    :        8     48         448        8       448
Interface                     :        4    272        1120        4      1120
Intf Desc                     :        3      7          72        3        72
Connected                     :        7     48         392        7       392
Link List                     :       60     40        2480       63      2616
Link Node                     :      748     24       18096      814     19728
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       31    144        4712       37      5624
Nexthop label                 :       14      8         336       16       384
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        4   1032        4128        4      4128
Prefix                        :        7     56         392        7       392
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832       38    582656
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       15     56         840       15       840
Route node                    :       42 variable      5104       42      5104
Thread                        :       38    160        6384       38      6384
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       14 variable       864       14       864
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368792    11634    369104
VRF                           :        1    216         216        1       216
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        3        72
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        4    608        2464        4      2464
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       24     24384
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        3     80         264        3       264
MPLS nexthop object           :        4     48         240        6       352
Nexthop Group Entry           :       24    144        3680       25      3832
Nexthop Group Connected       :       27     40        1112       30      1232
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :       24    152        3648       24      3648
RIB destination               :       17     88        1512       17      1512
WQ wrapper                    :        0 variable         0       12    181568
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        3    248         744        3       744
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        4     80         352        4       352
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2495 KiB
  Free small blocks:     1600 bytes
  Free ordinary blocks:  69 KiB
  Ordinary blocks:       11
  Small blocks:          45
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     4296     72      309392     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      826     32       33184      826     33184
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Informational Link Parameters :        0    120           0        1       120
Link List                     :       80     40        3248      101      4104
Link Node                     :      214     24        5152      257      6248
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        3   1032        3096        3      3096
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Stream                        :        9 variable    160888       14    168480
Route table                   :      316     56       17904      318     18016
Route node                    :       62    120        7488       81      9768
Thread                        :       32    160        5376       32      5376
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       23     96        2408       23      2408
Typed-hash bucket             :       19 variable      1144       27      1440
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        4    304        1248        4      1248
OSPF neighbor                 :        8   1520       12224        8     12224
OSPF route                    :       18     64        1312       24      1744
OSPF LSA                      :        7    128         952       11      1512
OSPF LSA data                 :        7 variable       376       11       616
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        4     24          96        9       216
OSPF FIFO queue               :        4     24          96        4        96
OSPF vertex                   :        0     80           0        7       616
OSPF vertex parent            :        0     32           0        7       280
OSPF nexthop                  :        0      8           0       14       336
OSPF path                     :       22     48        1232       28      1568
OSPF if info                  :        4     40         160        4       160
OSPF if params                :        5    120         600        5       600
OSPF MPLS parameters          :        4    248         992        4       992
OSPF Extended parameters      :        4    136         544        4       544
OSPF opaque function table    :        6    112         736        6       736

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1584 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  92 KiB
  Ordinary blocks:       5
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156304
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Link List                     :       17     40         712       22       912
Link Node                     :      144     24        3520      199      4888
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1056       10      1056
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163880     5182    164128
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  215 MiB
  Holding block headers: 99 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  211 MiB
  Free small blocks:     1856 bytes
  Free ordinary blocks:  4108 KiB
  Ordinary blocks:       108965
  Small blocks:          54
  Holding blocks:        15
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      577 variable     28328      579     28424
Hash Bucket                   :     2505     32      100584     2507    100680
Hash Index                    :      289 variable    434984      290    437040
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Link List                     :       53     40        2168       59      2408
Link Node                     :      357     24        8616      547     13288
Temporary memory              :   100045 variable  13604248   100046  13604288
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        4    144         624        6       928
Nexthop label                 :        4      8          96        4        96
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        8 variable    393408       10    491776
Skip List                     :    50014     56     2949968    50015   2950040
Skip Node                     :   150034 variable  12425840   150035  12426008
Skiplist Counters             :    50014     68     3601008    50015   3601080
Socket union                  :        9    112        1080        9      1080
Stream                        :        7 variable    293720       23    644248
Stream FIFO                   :        8     64         576       10       720
Route table                   :      104     56        5888      104      5888
Thread                        :       24    160        4032       24      4032
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       22     96        2320       22      2320
Typed-hash bucket             :       11 variable   3159632       11   3159632
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        2        48
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        3     24          72        3        72
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        4     16          96        4        96
Mac Hash Entry Intf String    :        4 variable        96        5       120
BGP instance                  :        6 variable     10816        6     10816
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        5  20864      104360        6    125232
BGP peer hostname             :        9 variable       216       10       240
BGP peer af                   :        3     80         264        5       440
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        2       496
BGP packet                    :        1     56          72        8       448
BGP attribute                 :       24    328        7872       24      7872
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       91     56        5144       91      5144
BGP node                      :   200050    192    40010032   200050  40010032
BGP route                     :   200040    136    27205744   200040  27205744
BGP ancillary route info      :   200040    432    88017648   200040  88017648
BGP connected                 :        4      4          96        4        96
BGP adv attr                  :        0     24           0       10       240
BGP adv                       :        0     64           0    10912    785664
BGP synchronise               :        1     48          56        2       112
BGP adj out                   :   100020     96    10402576   100020  10402576
community                     :        3     40         136        4       176
community val                 :        3      4          72        4        96
community str                 :        3   8192       24600        3     24600
extcommunity                  :        4     40         176        5       216
extcommunity val              :        4 variable        96        5       120
extcommunity str              :        4 variable       480        4       480
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        2        80
BGP nexthop                   :        3    184         552        3       552
BGP own address               :        4     64         288        4       288
Large Community               :        7     40         296        8       336
Large Community display string:        7     35         312        7       312
Large Community value         :        7     12         168        8       192
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        3     34         120        3       120
BGP Martian Addr Intf String  :        4 variable        96        4        96
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        4      4          96        4        96
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :   100020     40     4001296   100020   4001296
RFAPI IT Extra                :    50015     40     2006952    50015   2006952

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1369 KiB
  Free small blocks:     1392 bytes
  Free ordinary blocks:  95 KiB
  Ordinary blocks:       2
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Link List                     :       17     40         728       22       928
Link Node                     :      130     24        3152      182      4448
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        7     56         392        7       392
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        72        1        72
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 07:39:50 2023 (#171) scripts/scale_up.py:0 COMMAND:r2:vtysh -c "show thread cpu":.:pass:BGPd heap: 7636 KiB --&gt; 215 MiB (4.1473 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.038         1       38        38       39        39         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.011         1       11        11       10        10         0         0          0  R      mgmt_fe_conn_accept
    0          0.381         1      381       381      382       382         0         0          0     E   frr_config_read_in
    0          1.588        41       38       131       39       132         0         0          0  R      vtysh_read
    0          0.026         1       26        26       26        26         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.160        32        5        10        5        10         0         0          0  R      mgmt_fe_adapter_read
    1          0.041         1       41        41       41        41         0         0          0  R      mgmt_be_conn_accept
    0          0.031        31        1         3        1         3         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.095        31        3         6        3         7         0         0          0  R      mgmt_fe_client_read
    1          0.474        17       27        78       29        80         0         0          0  R      vtysh_accept
    0          0.032        31        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    0          0.004         1        4         4        4         4         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          0.098        32        3        10        3        11         0         0          0   W     mgmt_fe_client_write
    1          0.006         1        6         6        6         6         0         0          0  R      mgmt_be_adapter_read
    0          0.304        32        9        28       10        29         0         0          0    T    mgmt_fe_adapter_proc_msgbufs


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.289       254       12       381       13       382         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route
    0          1.810        41       44       167       44       168         0         0          0  R      vtysh_read
    1          0.111        11       10        30       10        30         0         0          0  R      kernel_read
    0          0.192         4       48        79       48        80         0         0          0    T    if_zebra_speed_update
    0          1.657         1     1657      1657     1658      1658         0         0          0     E   frr_config_read_in
    0          0.420        16       26        77       90       470         0         0          0    T    work_queue_run
    0          1.158        53       21        92       27       203         0         0          0     E   zserv_process_messages
    1          0.281        17       16        36       17        37         0         0          0  R      vtysh_accept
    1          0.695         6      115       141      116       142         0         0          0  R      zserv_accept
    0          0.406        37       10        62       11        62         0         0          0     E   rib_process_dplane_results


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          4.507        48       93       248       95       248         0         0          0     E   dplane_thread_loop
    0          0.132         1      132       132      133       133         0         0          0     E   dplane_incoming_request
    1          0.120         6       20        72       25        73         0         0          0  R      dplane_incoming_read


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.028         5        5         8        6         9         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.059         4       14        32       17        39         0         0          0   W     zserv_write
    1          0.034         1       34        34       35        35         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.061         6       10        23       10        24         0         0          0   W     zserv_write
    1          0.689        30       22        51       23        52         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.147        11       13        28       13        29         0         0          0   W     zserv_write
    1          0.397        11       36        86       37        88         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.019         2        9        13        9        13         0         0          0   W     zserv_write
    1          0.026         1       26        26       27        27         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.144        12       12        28       13        31         0         0          0   W     zserv_write
    1          0.197         8       24        37       25        38         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.043         3       14        17       14        17         0         0          0   W     zserv_write
    1          0.069         3       23        31       27        44         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10         13.405       339       39      1657       44      1658         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.792         1      792       792      792       792         0         0          0     E   frr_config_read_in
    0          0.249        11       22        80       23        80         0         0          0     E   ospf_ism_event
    0          3.069        60       51       129       53       129         0         0          0   W     ospf_write
    4          0.074        36        2        16        2        17         0         0          0    T    (ospf_ls_upd_timer)
    0          0.001         1        1         1        2         2         0         0          0     E   ospf_ls_ack_send_event
    1          0.155        47        3        16        3        17         0         0          0  R      zclient_read
    0          1.730        41       42       135       42       135         0         0          0  R      vtysh_read
    0          0.007         3        2         3        3         4         0         0          0    T    (ospf_wait_timer)
    0          0.050        24        2         7        2         7         0         0          0     E   ospf_ls_upd_send_queue_event
    0          0.012         4        3         7        3         8         0         0          0    T    ospf_ase_calculate_timer
    1          0.014         5        2         4        3         5         0         0          0    T    ospf_lsa_refresh_walker
    1          0.008         1        8         8        9         9         0         0          0    T    ospf_lsa_maxage_walker
    0          0.582       249        2        33        2        34         0         0          0     EX  ospf_nsm_event
    3          0.069       141        0         5        1         6         0         0          0    T    (ospf_ls_ack_timer)
    1          0.351        17       20        37       21        38         0         0          0  R      vtysh_accept
    4          0.004        36        0         1        0         2         0         0          0    T    (ospf_ls_req_timer)
    0          0.223         8       27        46       46       109         0         0          0    T    ospf_spf_calculate_schedule_worker
    0          0.061         1       61        61       62        62         0         0          0     E   zclient_connect
    3          0.291        87        3        19        3        20         0         0          0    T    (ospf_hello_timer)
    1          2.040       129       15        62       16        63         0         0          0  R      ospf_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   19          9.782       902       10       792       11       792         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          1.495        41       36       110       37       111         0         0          0  R      vtysh_read
    2          0.186        11       16        40       20        70         0         0          0  R      iev_lde-&gt;handler_read
    0          0.009         1        9         9       10        10         0         0          0     E   ldp_config_fork_apply
    1          0.228        47        4        30        5        31         0         0          0  R      zclient_read
    0          0.042         1       42        42       43        43         0         0          0     E   zclient_connect
    0          0.318         1      318       318      318       318         0         0          0     E   frr_config_read_in
    2          0.548        22       24        65       25        66         0         0          0  R      iev_ldpe-&gt;handler_read
    1          0.324        17       19        38       20        41         0         0          0  R      vtysh_accept
    0          0.197        53        3        20        4        21         0         0          0   W     iev-&gt;handler_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.347       194       17       318       18       318         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        546.451       147     3717     75502     3764     81900         0         0          0     E   bgp_process_packet
    0          0.069         2       34        36       35        37         0         0          0    T    subgroup_coalesce_timer
    0          0.532        12       44        93       75       156         0         0          0     E   bgp_event
    0         38.397       450       85      3902       98      3998         0         0          0    T    (bgp_generate_updgrp_packets)
    0          0.049         3       16        33       18        39         0         0          0    T    (bgp_start_timer)
    0          0.006         3        2         2        2         3         0         0          0   W     bgp_connect_check
    0        166.382        67     2483     18660     2692     18661         0         0          0    T    work_queue_run
    0          1.416         1     1416      1416     1417      1417         0         0          0     E   frr_config_read_in
    0          9.490        53      179      6335      179      6346         0         0          0  R      vtysh_read
    0          0.005         6        0         1        1         2         0         0          0    T    (bgp_routeadv_timer)
    2          0.070         1       70        70       70        70         0         0          0  R      bgp_accept
    1          0.298        17       17        27       18        28         0         0          0  R      vtysh_accept
    2          0.280        58        4        31        5        31         0         0          0  R      zclient_read
    0          0.058         2       29        45       30        46         0         0          0     E   zclient_connect
    0          0.031         4        7        10        8        12         0         0          0    T    update_group_refresh_default_originate_route_map


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         10.637       244       43       200       44       200         0         0          0   W     bgp_process_writes
    3          3.354       169       19        75       20        77         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    8        777.525      1239      627     75502      649     81900         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.100        32        3        12        3        13         0         0          0  R      zclient_read
    1          0.267        17       15        35       16        36         0         0          0  R      vtysh_accept
    0          1.495        41       36       137       37       138         0         0          0  R      vtysh_read
    0          0.058         1       58        58       59        59         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.079         1       79        79       80        80         0         0          0     E   zclient_connect
    0          0.005         1        5         5        5         5         0         0          0   W     mgmt_be_client_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.004        93       21       137       22       138         0         0          0  RWTEX  TOTAL:
R:171  r2     BGPd heap: 7636 KiB --&gt; 215 MiB (4.1473 KiB/vpn route)   1    0
Tue Oct 31 07:39:50 2023 (#172) scripts/scale_up.py:0 COMMAND:r2:vtysh -c "show thread cpu":.:pass:Zebra heap: 5740 KiB --&gt; 5740 KiB (0.0 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.038         1       38        38       39        39         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.011         1       11        11       10        10         0         0          0  R      mgmt_fe_conn_accept
    0          0.381         1      381       381      382       382         0         0          0     E   frr_config_read_in
    0          1.698        44       38       131       39       132         0         0          0  R      vtysh_read
    0          0.026         1       26        26       26        26         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.170        34        5        10        5        10         0         0          0  R      mgmt_fe_adapter_read
    1          0.041         1       41        41       41        41         0         0          0  R      mgmt_be_conn_accept
    0          0.034        33        1         3        1         3         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.101        33        3         6        3         7         0         0          0  R      mgmt_fe_client_read
    1          0.507        18       28        78       29        80         0         0          0  R      vtysh_accept
    0          0.034        33        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    0          0.004         1        4         4        4         4         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          0.104        34        3        10        3        11         0         0          0   W     mgmt_fe_client_write
    1          0.006         1        6         6        6         6         0         0          0  R      mgmt_be_adapter_read
    0          0.323        34        9        28       10        29         0         0          0    T    mgmt_fe_adapter_proc_msgbufs


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.478       270       12       381       13       382         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route
    0          1.957        44       44       167       45       168         0         0          0  R      vtysh_read
    1          0.111        11       10        30       10        30         0         0          0  R      kernel_read
    0          0.192         4       48        79       48        80         0         0          0    T    if_zebra_speed_update
    0          1.657         1     1657      1657     1658      1658         0         0          0     E   frr_config_read_in
    0          0.420        16       26        77       90       470         0         0          0    T    work_queue_run
    0          1.158        53       21        92       27       203         0         0          0     E   zserv_process_messages
    1          0.290        18       16        36       17        37         0         0          0  R      vtysh_accept
    1          0.695         6      115       141      116       142         0         0          0  R      zserv_accept
    0          0.406        37       10        62       11        62         0         0          0     E   rib_process_dplane_results


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          4.507        48       93       248       95       248         0         0          0     E   dplane_thread_loop
    0          0.132         1      132       132      133       133         0         0          0     E   dplane_incoming_request
    1          0.120         6       20        72       25        73         0         0          0  R      dplane_incoming_read


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.028         5        5         8        6         9         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.059         4       14        32       17        39         0         0          0   W     zserv_write
    1          0.034         1       34        34       35        35         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.061         6       10        23       10        24         0         0          0   W     zserv_write
    1          0.689        30       22        51       23        52         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.147        11       13        28       13        29         0         0          0   W     zserv_write
    1          0.397        11       36        86       37        88         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.019         2        9        13        9        13         0         0          0   W     zserv_write
    1          0.026         1       26        26       27        27         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.144        12       12        28       13        31         0         0          0   W     zserv_write
    1          0.197         8       24        37       25        38         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.043         3       14        17       14        17         0         0          0   W     zserv_write
    1          0.069         3       23        31       27        44         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10         13.561       343       39      1657       44      1658         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.792         1      792       792      792       792         0         0          0     E   frr_config_read_in
    0          0.249        11       22        80       23        80         0         0          0     E   ospf_ism_event
    0          3.069        60       51       129       53       129         0         0          0   W     ospf_write
    4          0.074        36        2        16        2        17         0         0          0    T    (ospf_ls_upd_timer)
    0          0.001         1        1         1        2         2         0         0          0     E   ospf_ls_ack_send_event
    1          0.155        47        3        16        3        17         0         0          0  R      zclient_read
    0          1.857        44       42       135       42       135         0         0          0  R      vtysh_read
    0          0.007         3        2         3        3         4         0         0          0    T    (ospf_wait_timer)
    0          0.050        24        2         7        2         7         0         0          0     E   ospf_ls_upd_send_queue_event
    0          0.012         4        3         7        3         8         0         0          0    T    ospf_ase_calculate_timer
    1          0.014         5        2         4        3         5         0         0          0    T    ospf_lsa_refresh_walker
    1          0.008         1        8         8        9         9         0         0          0    T    ospf_lsa_maxage_walker
    0          0.582       249        2        33        2        34         0         0          0     EX  ospf_nsm_event
    3          0.069       141        0         5        1         6         0         0          0    T    (ospf_ls_ack_timer)
    1          0.362        18       20        37       21        38         0         0          0  R      vtysh_accept
    4          0.004        36        0         1        0         2         0         0          0    T    (ospf_ls_req_timer)
    0          0.223         8       27        46       46       109         0         0          0    T    ospf_spf_calculate_schedule_worker
    0          0.061         1       61        61       62        62         0         0          0     E   zclient_connect
    3          0.291        87        3        19        3        20         0         0          0    T    (ospf_hello_timer)
    1          2.040       129       15        62       16        63         0         0          0  R      ospf_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   19          9.920       906       10       792       11       792         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          1.591        44       36       110       36       111         0         0          0  R      vtysh_read
    2          0.186        11       16        40       20        70         0         0          0  R      iev_lde-&gt;handler_read
    0          0.009         1        9         9       10        10         0         0          0     E   ldp_config_fork_apply
    1          0.228        47        4        30        5        31         0         0          0  R      zclient_read
    0          0.042         1       42        42       43        43         0         0          0     E   zclient_connect
    0          0.318         1      318       318      318       318         0         0          0     E   frr_config_read_in
    2          0.548        22       24        65       25        66         0         0          0  R      iev_ldpe-&gt;handler_read
    1          0.334        18       18        38       19        41         0         0          0  R      vtysh_accept
    0          0.197        53        3        20        4        21         0         0          0   W     iev-&gt;handler_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.453       198       17       318       18       318         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        546.451       147     3717     75502     3764     81900         0         0          0     E   bgp_process_packet
    0          0.069         2       34        36       35        37         0         0          0    T    subgroup_coalesce_timer
    0          0.532        12       44        93       75       156         0         0          0     E   bgp_event
    0         38.397       450       85      3902       98      3998         0         0          0    T    (bgp_generate_updgrp_packets)
    0          0.049         3       16        33       18        39         0         0          0    T    (bgp_start_timer)
    0          0.006         3        2         2        2         3         0         0          0   W     bgp_connect_check
    0        166.382        67     2483     18660     2692     18661         0         0          0    T    work_queue_run
    0          1.416         1     1416      1416     1417      1417         0         0          0     E   frr_config_read_in
    0          9.624        56      171      6335      172      6346         0         0          0  R      vtysh_read
    0          0.005         6        0         1        1         2         0         0          0    T    (bgp_routeadv_timer)
    2          0.070         1       70        70       70        70         0         0          0  R      bgp_accept
    1          0.309        18       17        27       17        28         0         0          0  R      vtysh_accept
    2          0.280        58        4        31        5        31         0         0          0  R      zclient_read
    0          0.058         2       29        45       30        46         0         0          0     E   zclient_connect
    0          0.031         4        7        10        8        12         0         0          0    T    update_group_refresh_default_originate_route_map


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         10.637       244       43       200       44       200         0         0          0   W     bgp_process_writes
    3          3.354       169       19        75       20        77         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    8        777.670      1243      625     75502      647     81900         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.100        32        3        12        3        13         0         0          0  R      zclient_read
    1          0.277        18       15        35       16        36         0         0          0  R      vtysh_accept
    0          1.587        44       36       137       36       138         0         0          0  R      vtysh_read
    0          0.058         1       58        58       59        59         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.079         1       79        79       80        80         0         0          0     E   zclient_connect
    0          0.005         1        5         5        5         5         0         0          0   W     mgmt_be_client_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.106        97       21       137       22       138         0         0          0  RWTEX  TOTAL:
R:172  r2     Zebra heap: 5740 KiB --&gt; 5740 KiB (0.0 KiB/vpn route)    1    0
Tue Oct 31 07:39:50 2023 (#173) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1796 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  168 KiB
  Ordinary blocks:       5
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       80      2048
Temporary memory              :        4 variable        96       20     61696
MGMTD Frontend session        :        1     40          40        1        56
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1664       16      1664
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  33 MiB
  Holding block headers: 289 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  29 MiB
  Free small blocks:     111 KiB
  Free ordinary blocks:  3764 KiB
  Ordinary blocks:       26973
  Small blocks:          1227
  Holding blocks:        37
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         208        8       208
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356624     4955    356840
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :     1372 variable     66640     1372     66640
Hash Bucket                   :     1112     32       44656     1116     44832
Hash Index                    :      686 variable    189344      687    189608
Hook entry                    :       11     48         616       11       616
Interface                     :        5    272        1400        5      1400
Intf Desc                     :        3      7          72        3        72
Connected                     :        7     48         392        8       448
Link List                     :       68     40        2816       72      2992
Link Node                     :      754     24       18240     9405    225880
Temporary memory              :        4 variable        96        7       696
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       56    144        8528     8832   1342480
Nexthop label                 :       35 variable       840     2082     50000
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        56
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        4   1032        4128        4      4128
Prefix                        :        7     56         392        8       448
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832     1152    916200
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       26     56        1456       26      1456
Route node                    :   100076 variable  12009280   100076  12009280
ASCII table                   :        0 variable         0       49      2056
Thread                        :       39    160        6552       39      6552
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3880       37      3880
Typed-hash bucket             :       19 variable   1053712       19   1053712
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279448    11634    279664
Vector index                  :    11625 variable    368728    11634    369056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        5       120
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        5    608        3080        5      3080
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0      486    493776
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        5     80         472        5       472
MPLS nexthop object           :        8     48         448       15       840
Nexthop Group Entry           :       37    144        5624     8388   1274976
Nexthop Group Connected       :       48     40        1920       48      1920
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :    50038    152     7605776    52084   7916768
RIB destination               :    50036     88     4403232    50036   4403232
WQ wrapper                    :        0 variable         0     8350   1002000
RIB table info                :        8     24         192        8       192
Zebra VRF table               :        8     56         448        8       448
Nexthop tracking object       :        5    248        1256        5      1256
ZEBRA VRF                     :        2   5072       10160        2     10160
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        4     80         368        4       368
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2484 KiB
  Free small blocks:     1648 bytes
  Free ordinary blocks:  80 KiB
  Ordinary blocks:       7
  Small blocks:          45
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :     4296     72      309392     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      826     32       33168      826     33168
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         392        7       392
Informational Link Parameters :        0    120           0        1       136
Link List                     :       77     40        3128       96      3936
Link Node                     :      214     24        5152      257      6296
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Stream                        :        8 variable    160816       11    165368
Route table                   :      251     56       14216      253     14328
Route node                    :       54    120        6496       64      7696
Thread                        :       26    160        4368       26      4368
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       23     96        2424       23      2424
Typed-hash bucket             :       17 variable      1016       21      1176
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        3    304         936        3       936
OSPF neighbor                 :        6   1520        9168        6      9168
OSPF route                    :       16     64        1152       21      1512
OSPF LSA                      :        7    128         952       10      1360
OSPF LSA data                 :        7 variable       376       10       544
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        3     24          72        6       144
OSPF FIFO queue               :        3     24          72        3        72
OSPF vertex                   :        0     80           0        7       616
OSPF vertex parent            :        0     32           0        9       360
OSPF nexthop                  :        0      8           0       16       384
OSPF path                     :       22     48        1232       27      1512
OSPF if info                  :        5     40         200        5       200
OSPF if params                :        6    120         720        6       720
OSPF MPLS parameters          :        5    248        1240        5      1240
OSPF Extended parameters      :        5    136         680        5       680
OSPF opaque function table    :        6    112         736        6       736
OSPF External route table     :        1     16          24        1        24
OSPF Redistriute              :        1     32          40        1        40

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1585 KiB
  Free small blocks:     1552 bytes
  Free ordinary blocks:  91 KiB
  Ordinary blocks:       5
  Small blocks:          43
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156288
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         392        7       392
Link List                     :       19     40         792       24       992
Link Node                     :      144     24        3520      199      4872
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1040       10      1040
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163864     5182    164128
VRF                           :        2    216         448        2       448
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  231 MiB
  Holding block headers: 100 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  228 MiB
  Free small blocks:     1872 bytes
  Free ordinary blocks:  3203 KiB
  Ordinary blocks:       67878
  Small blocks:          54
  Holding blocks:        16
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       128
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      627 variable     30776      627     30776
Hash Bucket                   :     2522     32      101264     2524    101344
Hash Index                    :      314 variable    480432      314    480432
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         424        7       424
Link List                     :       69     40        2840       77      3160
Link Node                     :      386     24        9344      627     15224
Temporary memory              :   100041 variable  13603736   100046  13603936
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        7    144        1064        7      1064
Nexthop label                 :        5      8         120        5       120
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         408        7       408
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        8 variable    393408       10    491760
Skip List                     :    50013     56     2921096    50014   2921152
Skip Node                     :   100028 variable  10402960   100029  10403128
Skiplist Counters             :    50013     68     3600952    50014   3601024
Socket union                  :        6    112         736        9      1096
Stream                        :        9 variable    425896       18    666528
Stream FIFO                   :        8     64         576       10       720
Route table                   :      170     56        9584      170      9584
Thread                        :       23    160        3864       23      3864
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       23     96        2456       23      2456
Typed-hash bucket             :       13 variable   4212280       13   4212280
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
VTY output buffer             :        0 variable         0        1      1288
Work queue                    :        4    144         608        5       760
Work queue item               :        0     24           0        3        72
Work queue name string        :        4 variable        96        5       120
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        2     24          48        2        48
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        5     16         120        5       120
Mac Hash Entry Intf String    :        5 variable       120        6       144
BGP instance                  :       10 variable     21584       10     21584
BGP listen socket details     :        6 variable       672        6       672
BGP peer                      :        6  20864      125232        7    146104
BGP peer hostname             :       10 variable       240       12       288
BGP peer af                   :        2     80         176        4       352
BGP update group              :        2    104         208        2       208
BGP update subgroup           :        2    240         496        2       496
BGP packet                    :        2     56         144        3       200
BGP attribute                 :       33    328       10840       33     10840
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :      157     56        8904      157      8904
BGP node                      :   300072    192    60014432   300072  60014432
BGP route                     :   250055    136    34007928   250055  34007928
BGP ancillary route info      :   200050    432    88022032   200050  88022032
BGP connected                 :        4      4          96        4        96
BGP adv attr                  :        0     24           0        3        72
BGP adv                       :        0     64           0     6167    444040
BGP synchronise               :        2     48         128        2       128
BGP adj out                   :    50015     96     5201816    52061   5414600
community                     :        3     40         120        4       160
community val                 :        3      4          72        4        96
community str                 :        3   8192       24600        3     24600
extcommunity                  :        9     40         392       10       448
extcommunity val              :        9 variable       216       10       240
extcommunity str              :        7 variable       776        8       928
community-list handler        :        1    120         136        1       136
Cluster list                  :        1     24          24        1        24
Cluster list val              :        1      4          24        1        24
BGP Process queue             :        0     32           0        3       120
BGP nexthop                   :        5    184         920        5       920
BGP own address               :        4     64         288        4       288
Large Community               :        7     40         312        8       352
Large Community display string:        7     35         312        7       312
Large Community value         :        7     12         168        8       192
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        2     34          80        2        80
BGP Martian Addr Intf String  :        4 variable        96        4        96
BGP PBR Context               :        2     32          80        2        80
BGP interface context         :        5      4         120        5       120
BGP EVPN instance information :        2     56         112        2       112
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :    50015     40     2000712    50015   2000712
RFAPI IT Extra                :    50013     40     2010376    50013   2010376

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1371 KiB
  Free small blocks:     1424 bytes
  Free ordinary blocks:  93 KiB
  Ordinary blocks:       2
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      290     32       11648      290     11648
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         392        7       392
Link List                     :       19     40         808       24      1008
Link Node                     :      130     24        3152      182      4416
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        7     56         392        7       392
Stream                        :        3 variable     63896        4     80320
Route table                   :        8     56         448        8       448
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        72        1        72
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :       10 variable       720       10       720:
Tue Oct 31 07:39:50 2023 (#173) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show thread cpu":.:pass:BGPd heap: 7860 KiB --&gt; 231 MiB (4.4628 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.232        62        3         9        4        10         0         0          0  R      mgmt_fe_adapter_read
    0          0.112        62        1         9        2        10         0         0          0   W     mgmt_fe_client_write
    0          0.065        61        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    0          0.004         1        4         4        4         4         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.006         1        6         6        7         7         0         0          0  R      mgmt_be_adapter_read
    0          2.315        71       32       112       33       112         0         0          0  R      vtysh_read
    1          0.011         1       11        11       12        12         0         0          0  R      mgmt_fe_conn_accept
    0          0.024        61        0         2        1         3         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          0.410         1      410       410      411       411         0         0          0     E   frr_config_read_in
    1          0.158        61        2         6        3         6         0         0          0  R      mgmt_fe_client_read
    0          0.328        62        5        26        5        27         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.027         1       27        27       28        28         0         0          0    T    mgmt_be_adapter_conn_init
    0          0.042         1       42        42       43        43         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.042         1       42        42       43        43         0         0          0  R      mgmt_be_conn_accept
    1          0.497        32       15        33       16        34         0         0          0  R      vtysh_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.273       479        8       410        9       411         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          4.910        72       68      2337       68      2337         0         0          0  R      vtysh_read
    1          0.503        32       15        86       16        87         0         0          0  R      vtysh_accept
    0         99.334       539      184       657      184       658         0         0          0     E   rib_process_dplane_results
    0        103.427      9777       10      1773       11      1774         0         0          0     E   zserv_process_messages
    0          1.637         1     1637      1637     1637      1637         0         0          0     E   frr_config_read_in
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route
    1          0.094        10        9        20        9        21         0         0          0  R      kernel_read
    0          0.433         6       72       167       72       168         0         0          0    T    if_zebra_speed_update
    1          0.662         6      110       125      110       125         0         0          0  R      zserv_accept
    0        191.689     13116       14     10660       15     10660         0         0          0    TE   work_queue_run


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.154         1      154       154      184       184         0         0          0     E   dplane_incoming_request
    1          0.108         6       18        65       18        65         0         0          0  R      dplane_incoming_read
    0       1679.706       552     3042     11947    24136   1019843         0         0          0     E   dplane_thread_loop


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.015         4        3         6        4         7         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.052         2       26        36       26        36         0         0          0  R      zserv_read
    0          0.089         4       22        50       29        75         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.598        25       23        47       24        48         0         0          0  R      zserv_read
    0          0.108         3       36        45       48        81         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1        220.062     11728       18     40036       19     43907         0         0          0  R      zserv_read
    0          0.195        14       13        28       16        34         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.025         1       25        25       25        25         0         0          0  R      zserv_read
    0          0.028         3        9        16       10        17         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.202         7       28        55       29        56         0         0          0  R      zserv_read
    0          0.172        17       10        27       10        27         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.070         3       23        32       24        32         0         0          0  R      zserv_read
    0          0.041         3       13        16       14        17         0         0          0   W     zserv_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10       2304.317     35933       64     40036      389   1019843         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.500        32       15        37       16        46         0         0          0  R      vtysh_accept
    1          0.014         5        2         5        3         7         0         0          0    T    ospf_lsa_refresh_walker
    0          0.275         9       30        58       34        92         0         0          0    T    ospf_spf_calculate_schedule_worker
    0          0.006         3        2         2        2         2         0         0          0     E   ospf_ls_ack_send_event
    1          0.007         1        7         7        8         8         0         0          0    T    ospf_lsa_maxage_walker
    0          0.063         1       63        63       64        64         0         0          0     E   zclient_connect
    3          0.019        27        0         2        1         4         0         0          0    T    (ospf_ls_upd_timer)
    1          1.469        90       16        64       16        64         0         0          0  R      ospf_read
    2          0.095        94        1        10        1        11         0         0          0    T    (ospf_ls_ack_timer)
    0          0.003         2        1         3        1         3         0         0          0    T    (ospf_wait_timer)
    1          0.187        58        3        17        3        18         0         0          0  R      zclient_read
    0          0.185         7       26        43       26        43         0         0          0     E   ospf_ism_event
    0          2.292        68       33       116       34       117         0         0          0   W     ospf_write
    0          2.423        71       34       122       34       123         0         0          0  R      vtysh_read
    3          0.003        27        0         1        0         1         0         0          0    T    (ospf_ls_req_timer)
    2          0.236        58        4        18        4        19         0         0          0    T    (ospf_hello_timer)
    0          0.017        11        1         3        2         3         0         0          0     E   ospf_ls_upd_send_queue_event
    0          0.732         1      732       732      733       733         0         0          0     E   frr_config_read_in
    0          0.014         4        3         9        4        11         0         0          0    T    ospf_ase_calculate_timer
    0          0.436       183        2        41        3        52         0         0          0     EX  ospf_nsm_event


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   15          8.976       752       11       732       12       733         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.523        32       16        47       17        49         0         0          0  R      vtysh_accept
    0          0.210        62        3        21        3        21         0         0          0   W     iev-&gt;handler_write
    0          0.008         1        8         8        9         9         0         0          0     E   ldp_config_fork_apply
    0          0.043         1       43        43       44        44         0         0          0     E   zclient_connect
    2          0.266        12       22        55       22        57         0         0          0  R      iev_lde-&gt;handler_read
    0          2.552        71       35       156       36       157         0         0          0  R      vtysh_read
    1          0.269        57        4        20        5        22         0         0          0  R      zclient_read
    0          0.302         1      302       302      302       302         0         0          0     E   frr_config_read_in
    2          0.346        15       23        48       27        81         0         0          0  R      iev_ldpe-&gt;handler_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.519       252       17       302       18       302         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.059         2       29        46       30        47         0         0          0     E   zclient_connect
    0          0.334         9       37        56       59       128         0         0          0     E   bgp_event
    4          0.077         1       77        77       77        77         0         0          0  R      bgp_accept
    0          1.458         1     1458      1458     1458      1458         0         0          0     E   frr_config_read_in
    2          0.466        78        5       138        6       139         0         0          0  R      zclient_read
    1          0.514        32       16        59       16        61         0         0          0  R      vtysh_accept
    0          0.076        10        7        17        8        18         0         0          0    T    update_group_refresh_default_originate_route_map
    0          0.005         4        1         2        2         3         0         0          0    T    (bgp_routeadv_timer)
    0        332.710       163     2041     33117     2938     42419         0         0          0    T    work_queue_run
    0         20.323       163      124      2054      148      2163         0         0          0    T    (bgp_generate_updgrp_packets)
    0          0.032         1       32        32       33        33         0         0          0    T    (bgp_start_timer)
    0        599.252       165     3631     83208     3877     91714         0         0          0     E   bgp_process_packet
    0          9.238        97       95      3094       95      3095         0         0          0  R      vtysh_read
    0          0.011         1       11        11       12        12         0         0          0   W     bgp_connect_check
    0          0.047         2       23        39       25        42         0         0          0    T    subgroup_coalesce_timer
    0          0.000         1        0         0        0         0         0         0          0    T    update_subgroup_merge_check_thread_cb


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          4.515        98       46        94       46        94         0         0          0   W     bgp_process_writes
    2          4.048       184       22        71       22        71         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    9        973.165      1012      961     83208     1150     91714         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.412        32       12        56       13        58         0         0          0  R      vtysh_accept
    0          0.078         1       78        78       78        78         0         0          0     E   zclient_connect
    0          0.005         1        5         5        5         5         0         0          0   W     mgmt_be_client_write
    0          2.244        71       31       159       32       159         0         0          0  R      vtysh_read
    1          0.165        47        3        29        4        30         0         0          0  R      zclient_read
    0          0.048         1       48        48       48        48         0         0          0    T    mgmt_be_client_conn_timeout


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.952       153       19       159       19       159         0         0          0  RWTEX  TOTAL:
R:173  r3     BGPd heap: 7860 KiB --&gt; 231 MiB (4.4628 KiB/vpn route)   1    0
Tue Oct 31 07:39:50 2023 (#174) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show thread cpu":.:pass:Zebra heap: 6020 KiB --&gt; 33 MiB (0.5396 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.238        64        3         9        4        10         0         0          0  R      mgmt_fe_adapter_read
    0          0.114        64        1         9        2        10         0         0          0   W     mgmt_fe_client_write
    0          0.067        63        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    0          0.004         1        4         4        4         4         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.006         1        6         6        7         7         0         0          0  R      mgmt_be_adapter_read
    0          2.424        74       32       112       33       112         0         0          0  R      vtysh_read
    1          0.011         1       11        11       12        12         0         0          0  R      mgmt_fe_conn_accept
    0          0.024        63        0         2        1         3         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          0.410         1      410       410      411       411         0         0          0     E   frr_config_read_in
    1          0.163        63        2         6        3         6         0         0          0  R      mgmt_fe_client_read
    0          0.335        64        5        26        5        27         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.027         1       27        27       28        28         0         0          0    T    mgmt_be_adapter_conn_init
    0          0.042         1       42        42       43        43         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.042         1       42        42       43        43         0         0          0  R      mgmt_be_conn_accept
    1          0.508        33       15        33       16        34         0         0          0  R      vtysh_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.415       495        8       410        9       411         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          5.073        75       67      2337       68      2337         0         0          0  R      vtysh_read
    1          0.515        33       15        86       16        87         0         0          0  R      vtysh_accept
    0         99.334       539      184       657      184       658         0         0          0     E   rib_process_dplane_results
    0        103.427      9777       10      1773       11      1774         0         0          0     E   zserv_process_messages
    0          1.637         1     1637      1637     1637      1637         0         0          0     E   frr_config_read_in
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route
    1          0.094        10        9        20        9        21         0         0          0  R      kernel_read
    0          0.433         6       72       167       72       168         0         0          0    T    if_zebra_speed_update
    1          0.662         6      110       125      110       125         0         0          0  R      zserv_accept
    0        191.689     13116       14     10660       15     10660         0         0          0    TE   work_queue_run


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.154         1      154       154      184       184         0         0          0     E   dplane_incoming_request
    1          0.108         6       18        65       18        65         0         0          0  R      dplane_incoming_read
    0       1679.706       552     3042     11947    24136   1019843         0         0          0     E   dplane_thread_loop


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.015         4        3         6        4         7         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.052         2       26        36       26        36         0         0          0  R      zserv_read
    0          0.089         4       22        50       29        75         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.598        25       23        47       24        48         0         0          0  R      zserv_read
    0          0.108         3       36        45       48        81         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1        220.062     11728       18     40036       19     43907         0         0          0  R      zserv_read
    0          0.195        14       13        28       16        34         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.025         1       25        25       25        25         0         0          0  R      zserv_read
    0          0.028         3        9        16       10        17         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.202         7       28        55       29        56         0         0          0  R      zserv_read
    0          0.172        17       10        27       10        27         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.070         3       23        32       24        32         0         0          0  R      zserv_read
    0          0.041         3       13        16       14        17         0         0          0   W     zserv_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10       2304.492     35937       64     40036      389   1019843         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.508        33       15        37       16        46         0         0          0  R      vtysh_accept
    1          0.014         5        2         5        3         7         0         0          0    T    ospf_lsa_refresh_walker
    0          0.275         9       30        58       34        92         0         0          0    T    ospf_spf_calculate_schedule_worker
    0          0.006         3        2         2        2         2         0         0          0     E   ospf_ls_ack_send_event
    1          0.007         1        7         7        8         8         0         0          0    T    ospf_lsa_maxage_walker
    0          0.063         1       63        63       64        64         0         0          0     E   zclient_connect
    3          0.019        27        0         2        1         4         0         0          0    T    (ospf_ls_upd_timer)
    1          1.469        90       16        64       16        64         0         0          0  R      ospf_read
    2          0.095        94        1        10        1        11         0         0          0    T    (ospf_ls_ack_timer)
    0          0.003         2        1         3        1         3         0         0          0    T    (ospf_wait_timer)
    1          0.187        58        3        17        3        18         0         0          0  R      zclient_read
    0          0.185         7       26        43       26        43         0         0          0     E   ospf_ism_event
    0          2.292        68       33       116       34       117         0         0          0   W     ospf_write
    0          2.534        74       34       122       34       123         0         0          0  R      vtysh_read
    3          0.003        27        0         1        0         1         0         0          0    T    (ospf_ls_req_timer)
    2          0.236        58        4        18        4        19         0         0          0    T    (ospf_hello_timer)
    0          0.017        11        1         3        2         3         0         0          0     E   ospf_ls_upd_send_queue_event
    0          0.732         1      732       732      733       733         0         0          0     E   frr_config_read_in
    0          0.014         4        3         9        4        11         0         0          0    T    ospf_ase_calculate_timer
    0          0.436       183        2        41        3        52         0         0          0     EX  ospf_nsm_event


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   15          9.095       756       12       732       12       733         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.532        33       16        47       17        49         0         0          0  R      vtysh_accept
    0          0.210        62        3        21        3        21         0         0          0   W     iev-&gt;handler_write
    0          0.008         1        8         8        9         9         0         0          0     E   ldp_config_fork_apply
    0          0.043         1       43        43       44        44         0         0          0     E   zclient_connect
    2          0.266        12       22        55       22        57         0         0          0  R      iev_lde-&gt;handler_read
    0          2.653        74       35       156       36       157         0         0          0  R      vtysh_read
    1          0.269        57        4        20        5        22         0         0          0  R      zclient_read
    0          0.302         1      302       302      302       302         0         0          0     E   frr_config_read_in
    2          0.346        15       23        48       27        81         0         0          0  R      iev_ldpe-&gt;handler_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.629       256       18       302       18       302         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.059         2       29        46       30        47         0         0          0     E   zclient_connect
    0          0.334         9       37        56       59       128         0         0          0     E   bgp_event
    4          0.077         1       77        77       77        77         0         0          0  R      bgp_accept
    0          1.458         1     1458      1458     1458      1458         0         0          0     E   frr_config_read_in
    2          0.466        78        5       138        6       139         0         0          0  R      zclient_read
    1          0.524        33       15        59       16        61         0         0          0  R      vtysh_accept
    0          0.076        10        7        17        8        18         0         0          0    T    update_group_refresh_default_originate_route_map
    0          0.005         4        1         2        2         3         0         0          0    T    (bgp_routeadv_timer)
    0        332.710       163     2041     33117     2938     42419         0         0          0    T    work_queue_run
    0         20.323       163      124      2054      148      2163         0         0          0    T    (bgp_generate_updgrp_packets)
    0          0.032         1       32        32       33        33         0         0          0    T    (bgp_start_timer)
    0        599.252       165     3631     83208     3877     91714         0         0          0     E   bgp_process_packet
    0          9.378       100       93      3094       94      3095         0         0          0  R      vtysh_read
    0          0.011         1       11        11       12        12         0         0          0   W     bgp_connect_check
    0          0.047         2       23        39       25        42         0         0          0    T    subgroup_coalesce_timer
    0          0.000         1        0         0        0         0         0         0          0    T    update_subgroup_merge_check_thread_cb


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          4.515        98       46        94       46        94         0         0          0   W     bgp_process_writes
    2          4.048       184       22        71       22        71         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    9        973.315      1016      957     83208     1146     91714         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.420        33       12        56       13        58         0         0          0  R      vtysh_accept
    0          0.078         1       78        78       78        78         0         0          0     E   zclient_connect
    0          0.005         1        5         5        5         5         0         0          0   W     mgmt_be_client_write
    0          2.335        74       31       159       32       159         0         0          0  R      vtysh_read
    1          0.165        47        3        29        4        30         0         0          0  R      zclient_read
    0          0.048         1       48        48       48        48         0         0          0    T    mgmt_be_client_conn_timeout


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          3.051       157       19       159       19       159         0         0          0  RWTEX  TOTAL:
R:174  r3     Zebra heap: 6020 KiB --&gt; 33 MiB (0.5396 KiB/vpn route)   1    0
Tue Oct 31 07:39:50 2023 (#175) scripts/scale_up.py:0 COMMAND:r4:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1796 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  168 KiB
  Ordinary blocks:       5
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       13000      323     13000
Hash Index                    :       16 variable     11920       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       80      2064
Temporary memory              :        4 variable        96       20     61696
MGMTD Frontend session        :        1     40          40        1        56
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  66 MiB
  Holding block headers: 290 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  53 MiB
  Free small blocks:     107 KiB
  Free ordinary blocks:  12 MiB
  Ordinary blocks:       80921
  Small blocks:          1191
  Holding blocks:        38
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         192        8       192
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356656     4958    357088
Command Token Text            :     3541 variable    117896     3547    118056
Command Token Help            :     3541 variable     85048     3547     85192
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     1198 variable     28752     1202     28848
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1296       16      1296
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231632     5785    231832
Hash                          :     1380 variable     67008     1380     67008
Hash Bucket                   :     1112     32       44752     1116     44928
Hash Index                    :      690 variable    189136      691    189272
Hook entry                    :       14     48         784       14       784
Interface                     :        6    272        1680        6      1680
Intf Desc                     :        3      7          72        3        72
Connected                     :        7     48         392        8       448
Link List                     :       76     40        3168       83      3432
Link Node                     :      760     24       18384    45784   1098976
Temporary memory              :        4 variable        96        7       696
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       55    144        8392    33565   5101912
Nexthop label                 :       22 variable       528    33532    804848
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        56
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        4   1032        4128        4      4128
Prefix                        :        7     56         392        8       448
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832     1130    599080
Stream FIFO                   :       13     64         936       16      1152
Route table                   :       37     56        2072       37      2072
Route node                    :   200110 variable  24013504   200110  24013504
ASCII table                   :        0 variable         0       49      2056
Thread                        :       40    160        6720       40      6720
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       24 variable   2106576       24   2106576
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279400    11634    279616
Vector index                  :    11625 variable    368760    11634    369088
VRF                           :        3    216         648        3       648
VRF bit-map                   :       11      8         264       11       264
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        6       144
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        6    608        3696        6      3696
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0      632    642112
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        7     80         616        7       616
MPLS nexthop object           :        8     48         448       14       784
Nexthop Group Entry           :       37    144        5624    32944   5007488
Nexthop Group Connected       :       44     40        1872       44      1872
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :   100052    152    15207936   110746  16833424
RIB destination               :   100055     88     8804952   100055   8804952
WQ wrapper                    :        0 variable         0    32906   3948736
RIB table info                :       12     24         288       12       288
Zebra VRF table               :       12     56         672       12       672
Nexthop tracking object       :        7    248        1736        7      1736
ZEBRA VRF                     :        3   5072       15240        3     15240
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        4     80         352        4       352
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2474 KiB
  Free small blocks:     1696 bytes
  Free ordinary blocks:  90 KiB
  Ordinary blocks:       7
  Small blocks:          45
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     4296     72      309392     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      825     32       33128      825     33128
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Informational Link Parameters :        0    120           0        1       120
Link List                     :       76     40        3088       98      3984
Link Node                     :      210     24        5056      253      6232
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        1   1032        1032        1      1032
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Stream                        :        7 variable    160728       11    166904
Route table                   :      185     56       10440      187     10584
Route node                    :       50    120        6032       63      7592
Thread                        :       20    160        3360       20      3360
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       23     96        2392       23      2392
Typed-hash bucket             :       15 variable       952       20      1136
Skiplist overflow             :        0     16           0        1        24
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        3    216         648        3       648
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        2    304         624        2       624
OSPF neighbor                 :        4   1520        6112        4      6112
OSPF route                    :       16     64        1152       23      1656
OSPF LSA                      :        7    128         952       16      2192
OSPF LSA data                 :        7 variable       376       16       768
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        2     24          48        6       144
OSPF FIFO queue               :        2     24          48        2        48
OSPF vertex                   :        0     80           0        7       632
OSPF vertex parent            :        0     32           0        7       280
OSPF nexthop                  :        0      8           0       13       312
OSPF path                     :       18     48        1008       25      1416
OSPF if info                  :        6     40         240        6       240
OSPF if params                :        7    120         840        7       840
OSPF MPLS parameters          :        6    248        1488        6      1488
OSPF Extended parameters      :        6    136         816        6       816
OSPF opaque function table    :        6    112         736        6       736
OSPF External route table     :        1     16          24        1        24
OSPF Redistriute              :        1     32          40        1        40

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1585 KiB
  Free small blocks:     1456 bytes
  Free ordinary blocks:  91 KiB
  Ordinary blocks:       6
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156288
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Link List                     :       21     40         872       26      1072
Link Node                     :      144     24        3520      199      4888
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1040       10      1040
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163880     5182    164128
VRF                           :        3    216         664        3       664
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  368 MiB
  Holding block headers: 101 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  364 MiB
  Free small blocks:     1872 bytes
  Free ordinary blocks:  4212 KiB
  Ordinary blocks:       110647
  Small blocks:          54
  Holding blocks:        17
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       112
Buffer data                   :        1   4120        4120      138    568560
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      677 variable     33224      677     33224
Hash Bucket                   :     2544     32      102128     2548    102304
Hash Index                    :      339 variable    525880      339    525880
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Link List                     :       85     40        3480       93      3816
Link Node                     :      417     24       10056      658     16016
Temporary memory              :   100031 variable  13602328   100035  13602488
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        7    144        1080        7      1080
Nexthop label                 :        3      8          72        3        72
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Ring buffer                   :       12 variable    590112       14    688464
Skip List                     :    50008     56     2969392    50009   2969464
Skip Node                     :   150018 variable  12431824   150019  12431992
Skiplist Counters             :    50008     68     3600576    50009   3600648
Socket union                  :        9    112        1080       12      1440
Stream                        :       11 variable    558072       20    798704
Stream FIFO                   :       12     64         864       14      1008
Route table                   :      236     56       13312      236     13312
Thread                        :       31    160        5208       31      5208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       25     96        2648       25      2648
Typed-hash bucket             :       15 variable   5265056       15   5265056
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        3    216         648        3       648
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
VTY output buffer             :        0 variable         0        1      1304
Work queue                    :        5    144         760        6       912
Work queue item               :        0     24           0        4        96
Work queue name string        :        5 variable       120        6       144
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        3     24          72        3        72
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        6     16         160        6       160
Mac Hash Entry Intf String    :        6 variable       144        7       168
BGP instance                  :       16 variable     32400       16     32400
BGP listen socket details     :       10 variable      1008       10      1008
BGP peer                      :        9  20864      187848       10    208720
BGP peer hostname             :       15 variable       360       17       408
BGP peer af                   :        3     80         280        5       456
BGP update group              :        3    104         312        3       312
BGP update subgroup           :        3    240         744        3       744
BGP packet                    :        3     56         184        4       272
BGP attribute                 :       47    328       15432       47     15432
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :      223     56       12600      223     12600
BGP node                      :   400094    192    80018816   400094  80018816
BGP route                     :   400070    136    54410016   400070  54410016
BGP ancillary route info      :   400060    432   176026432   400060 176026432
BGP connected                 :        4      4          96        4        96
BGP adv attr                  :        0     24           0        4        96
BGP adv                       :        0     64           0    17728   1276416
BGP synchronise               :        3     48         168        3       168
BGP adj out                   :   100027     96    10403112   100027  10403112
BGP multipath info            :        8     48         448        8       448
community                     :        3     40         120        4       160
community val                 :        3      4          72        4        96
community str                 :        3   8192       24600        3     24600
extcommunity                  :       10     40         416       11       456
extcommunity val              :       10 variable       240       11       264
extcommunity str              :        6 variable       704        6       704
community-list handler        :        1    120         136        1       136
Cluster list                  :        1     24          24        1        24
Cluster list val              :        1      4          24        1        24
BGP Process queue             :        0     32           0        4       160
BGP nexthop                   :        7    184        1304        7      1304
BGP own address               :        4     64         288        4       288
Large Community               :        7     40         312        8       352
Large Community display string:        7     35         296        7       296
Large Community value         :        7     12         168        8       192
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        3     34         120        3       120
BGP Martian Addr Intf String  :        4 variable        96        4        96
BGP PBR Context               :        3     32         120        3       120
BGP interface context         :        6      4         144        6       144
BGP EVPN instance information :        3     56         168        3       168
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :   100010     40     4000848   100010   4000848
RFAPI IT Extra                :    50008     40     2015792    50008   2015792

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1372 KiB
  Free small blocks:     1392 bytes
  Free ordinary blocks:  92 KiB
  Ordinary blocks:       2
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3       104
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      293     32       11768      293     11768
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Link List                     :       21     40         888       26      1088
Link Node                     :      130     24        3152      182      4432
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        7     56         392        7       392
Stream                        :        3 variable     63896        4     80320
Route table                   :       12     56         672       12       672
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable       136        1       136
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        3    216         648        3       648
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :       15 variable      1080       15      1080:
Tue Oct 31 07:39:51 2023 (#175) scripts/scale_up.py:0 COMMAND:r4:vtysh -c "show thread cpu":.:pass:BGPd heap: 8344 KiB --&gt; 368 MiB (7.1931 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.040         1       40        40       41        41         0         0          0  R      mgmt_be_conn_accept
    1          0.007         1        7         7        7         7         0         0          0  R      mgmt_be_adapter_read
    0          0.379        72        5        26        5        26         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.022         1       22        22       22        22         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.188        71        2        10        3        11         0         0          0  R      mgmt_fe_client_read
    0          0.033        71        0         3        1         4         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          0.125        72        1         8        2         9         0         0          0   W     mgmt_fe_client_write
    1          0.627        37       16        39       17        40         0         0          0  R      vtysh_accept
    0          0.072        71        1         2        1         2         0         0          0   W     mgmt_fe_adapter_write
    0          0.003         1        3         3        4         4         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.287        72        3        13        4        14         0         0          0  R      mgmt_fe_adapter_read
    0          2.593        81       32       115       35       281         0         0          0  R      vtysh_read
    0          0.387         1      387       387      388       388         0         0          0     E   frr_config_read_in
    0          0.056         1       56        56       57        57         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.019         1       19        19       19        19         0         0          0  R      mgmt_fe_conn_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.838       554        8       387        9       388         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        209.697     28468        7      1615        7      1626         0         0          0     E   zserv_process_messages
    0        411.030     13938       29     11764       30     11765         0         0          0    TE   work_queue_run
    1          0.127        12       10        24       11        25         0         0          0  R      kernel_read
    0          9.994        84      118      6954      119      6954         0         0          0  R      vtysh_read
    0          0.005         1        5         5        5         5         0         0          0    T    rib_sweep_route
    1          0.631         6      105       114      105       114         0         0          0  R      zserv_accept
    1          0.742        37       20       225       20       226         0         0          0  R      vtysh_accept
    0        200.500       957      209      1287      210      1287         0         0          0     E   rib_process_dplane_results
    0          0.500         8       62       108       68       143         0         0          0    T    if_zebra_speed_update
    0          1.714         1     1714      1714     1714      1714         0         0          0     E   frr_config_read_in


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.092         5       18        73       18        73         0         0          0  R      dplane_incoming_read
    0          0.169         1      169       169      195       195         0         0          0     E   dplane_incoming_request
    0       2697.613      1235     2184     12865    11640   1019494         0         0          0     E   dplane_thread_loop


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.016         4        4         6        4         7         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.067         2       33        46       33        46         0         0          0  R      zserv_read
    0          0.108         6       18        34       18        35         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.474        21       22        47       22        48         0         0          0  R      zserv_read
    0          0.091         7       13        19       16        39         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1        491.589     33126       14     74748       16     84222         0         0          0  R      zserv_read
    0          0.166        17        9        22       10        22         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.029         1       29        29       30        30         0         0          0  R      zserv_read
    0          0.085         4       21        50       23        51         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.200         7       28        42       29        43         0         0          0  R      zserv_read
    0          0.177        13       13        36       14        38         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.082         3       27        35       27        35         0         0          0  R      zserv_read
    0          0.053         3       17        23       18        23         0         0          0   W     zserv_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10       4025.951     77967       51     74748      202   1019494         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.221        29        7        17        8        19         0         0          0    T    (ospf_hello_timer)
    0          0.018         4        4        10        5        12         0         0          0    T    ospf_ase_calculate_timer
    1          0.091        46        1        23        2        24         0         0          0    T    (ospf_ls_ack_timer)
    0          0.002         1        2         2        2         2         0         0          0    T    (ospf_wait_timer)
    0          1.792        41       43        93       44        93         0         0          0   W     ospf_write
    0          0.060         1       60        60       61        61         0         0          0     E   zclient_connect
    1          0.193        67        2        16        3        16         0         0          0  R      zclient_read
    0          2.515        81       31       140       31       141         0         0          0  R      vtysh_read
    1          0.006         1        6         6        7         7         0         0          0    T    ospf_lsa_maxage_walker
    1          0.491        37       13        52       13        54         0         0          0  R      vtysh_accept
    0          0.002         1        2         2        2         2         0         0          0     E   ospf_ls_ack_send_event
    0          0.615         1      615       615      615       615         0         0          0     E   frr_config_read_in
    2          0.003        18        0         1        0         2         0         0          0    T    (ospf_ls_upd_timer)
    0          0.195         7       27        60       28        61         0         0          0    T    ospf_spf_calculate_schedule_worker
    1          0.014         5        2         5        3         6         0         0          0    T    ospf_lsa_refresh_walker
    0          0.105         4       26        56       26        57         0         0          0     E   ospf_ism_event
    1          1.114        79       14        70       14        71         0         0          0  R      ospf_read
    2          0.009        18        0         2        1         4         0         0          0    T    (ospf_ls_req_timer)
    0          0.345       120        2        42        3        42         0         0          0     EX  ospf_nsm_event
    0          0.014         7        2         4        2         4         0         0          0     E   ospf_ls_upd_send_queue_event


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   11          7.805       568       13       615       14       615         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.284        62        4        27        5        29         0         0          0  R      zclient_read
    2          0.210         9       23        38       23        38         0         0          0  R      iev_lde-&gt;handler_read
    2          0.487        20       24        81       24        82         0         0          0  R      iev_ldpe-&gt;handler_read
    0          0.211        63        3        23        3        24         0         0          0   W     iev-&gt;handler_write
    1          0.439        37       11        24       12        28         0         0          0  R      vtysh_accept
    0          0.044         1       44        44       45        45         0         0          0     E   zclient_connect
    0          0.222         1      222       222      222       222         0         0          0     E   frr_config_read_in
    0          0.007         1        7         7        7         7         0         0          0     E   ldp_config_fork_apply
    0          2.334        81       28       120       29       120         0         0          0  R      vtysh_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.238       275       15       222       16       222         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.594        37       16        35       16        36         0         0          0  R      vtysh_accept
    0          0.007         6        1         2        1         3         0         0          0    T    (bgp_routeadv_timer)
    0          0.075         3       25        54       26        56         0         0          0    T    subgroup_coalesce_timer
    0          0.058         2       29        46       30        48         0         0          0     E   zclient_connect
    0         42.066       286      147      3112      149      3112         0         0          0    T    (bgp_generate_updgrp_packets)
    0        608.415       209     2911     40725     3299     40725         0         0          0    T    work_queue_run
    6          0.199         2       99       102      100       103         0         0          0  R      bgp_accept
    0          1.707         1     1707      1707     1707      1707         0         0          0     E   frr_config_read_in
    0         13.389       110      121      6391      122      6392         0         0          0  R      vtysh_read
    2          0.672        98        6       136        7       137         0         0          0  R      zclient_read
    0        777.457       130     5980     80370     6211     80370         0         0          0     E   bgp_process_packet
    0          0.014         3        4        10        5        11         0         0          0   W     bgp_connect_check
    0          0.196         9       21        34       22        35         0         0          0   W     zclient_flush_data
    0          0.028         1       28        28       30        30         0         0          0    T    (bgp_start_timer)
    0          0.107        15        7        24        7        27         0         0          0    T    update_group_refresh_default_originate_route_map
    0          0.001         1        1         1        1         1         0         0          0    T    update_subgroup_merge_check_thread_cb
    0          0.718        18       39       126      110       673         0         0          0     E   bgp_event


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    3          3.809       141       27        78       27        79         0         0          0  R      bgp_process_reads
    0          7.742       170       45       117       46       117         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   12       1457.254      1242     1173     80370     1264     80370         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.005         1        5         5        6         6         0         0          0   W     mgmt_be_client_write
    0          2.617        81       32       150       32       150         0         0          0  R      vtysh_read
    1          0.198        61        3        26        3        29         0         0          0  R      zclient_read
    1          0.617        37       16        57       17        60         0         0          0  R      vtysh_accept
    0          0.045         1       45        45       45        45         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.063         1       63        63       64        64         0         0          0     E   zclient_connect


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          3.545       182       19       150       20       150         0         0          0  RWTEX  TOTAL:
R:175  r4     BGPd heap: 8344 KiB --&gt; 368 MiB (7.1931 KiB/vpn route)   1    0
Tue Oct 31 07:39:51 2023 (#176) scripts/scale_up.py:0 COMMAND:r4:vtysh -c "show thread cpu":.:pass:Zebra heap: 5868 KiB --&gt; 66 MiB (1.2026 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.040         1       40        40       41        41         0         0          0  R      mgmt_be_conn_accept
    1          0.007         1        7         7        7         7         0         0          0  R      mgmt_be_adapter_read
    0          0.385        74        5        26        5        26         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.022         1       22        22       22        22         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.193        73        2        10        3        11         0         0          0  R      mgmt_fe_client_read
    0          0.034        73        0         3        1         4         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          0.127        74        1         8        2         9         0         0          0   W     mgmt_fe_client_write
    1          0.637        38       16        39       17        40         0         0          0  R      vtysh_accept
    0          0.074        73        1         2        1         2         0         0          0   W     mgmt_fe_adapter_write
    0          0.003         1        3         3        4         4         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.293        74        3        13        4        14         0         0          0  R      mgmt_fe_adapter_read
    0          2.707        84       32       115       35       281         0         0          0  R      vtysh_read
    0          0.387         1      387       387      388       388         0         0          0     E   frr_config_read_in
    0          0.056         1       56        56       57        57         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.019         1       19        19       19        19         0         0          0  R      mgmt_fe_conn_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.984       570        8       387        9       388         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        209.697     28468        7      1615        7      1626         0         0          0     E   zserv_process_messages
    0        411.030     13938       29     11764       30     11765         0         0          0    TE   work_queue_run
    1          0.127        12       10        24       11        25         0         0          0  R      kernel_read
    0         10.146        87      116      6954      117      6954         0         0          0  R      vtysh_read
    0          0.005         1        5         5        5         5         0         0          0    T    rib_sweep_route
    1          0.631         6      105       114      105       114         0         0          0  R      zserv_accept
    1          0.764        38       20       225       20       226         0         0          0  R      vtysh_accept
    0        200.500       957      209      1287      210      1287         0         0          0     E   rib_process_dplane_results
    0          0.500         8       62       108       68       143         0         0          0    T    if_zebra_speed_update
    0          1.714         1     1714      1714     1714      1714         0         0          0     E   frr_config_read_in


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.092         5       18        73       18        73         0         0          0  R      dplane_incoming_read
    0          0.169         1      169       169      195       195         0         0          0     E   dplane_incoming_request
    0       2697.613      1235     2184     12865    11640   1019494         0         0          0     E   dplane_thread_loop


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.016         4        4         6        4         7         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.067         2       33        46       33        46         0         0          0  R      zserv_read
    0          0.108         6       18        34       18        35         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.474        21       22        47       22        48         0         0          0  R      zserv_read
    0          0.091         7       13        19       16        39         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1        491.589     33126       14     74748       16     84222         0         0          0  R      zserv_read
    0          0.166        17        9        22       10        22         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.029         1       29        29       30        30         0         0          0  R      zserv_read
    0          0.085         4       21        50       23        51         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.200         7       28        42       29        43         0         0          0  R      zserv_read
    0          0.177        13       13        36       14        38         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.082         3       27        35       27        35         0         0          0  R      zserv_read
    0          0.053         3       17        23       18        23         0         0          0   W     zserv_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10       4026.125     77971       51     74748      202   1019494         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.221        29        7        17        8        19         0         0          0    T    (ospf_hello_timer)
    0          0.018         4        4        10        5        12         0         0          0    T    ospf_ase_calculate_timer
    1          0.092        47        1        23        2        24         0         0          0    T    (ospf_ls_ack_timer)
    0          0.002         1        2         2        2         2         0         0          0    T    (ospf_wait_timer)
    0          1.792        41       43        93       44        93         0         0          0   W     ospf_write
    0          0.060         1       60        60       61        61         0         0          0     E   zclient_connect
    1          0.193        67        2        16        3        16         0         0          0  R      zclient_read
    0          2.644        84       31       140       32       141         0         0          0  R      vtysh_read
    1          0.006         1        6         6        7         7         0         0          0    T    ospf_lsa_maxage_walker
    1          0.506        38       13        52       13        54         0         0          0  R      vtysh_accept
    0          0.002         1        2         2        2         2         0         0          0     E   ospf_ls_ack_send_event
    0          0.615         1      615       615      615       615         0         0          0     E   frr_config_read_in
    2          0.003        18        0         1        0         2         0         0          0    T    (ospf_ls_upd_timer)
    0          0.195         7       27        60       28        61         0         0          0    T    ospf_spf_calculate_schedule_worker
    1          0.014         5        2         5        3         6         0         0          0    T    ospf_lsa_refresh_walker
    0          0.105         4       26        56       26        57         0         0          0     E   ospf_ism_event
    1          1.114        79       14        70       14        71         0         0          0  R      ospf_read
    2          0.009        18        0         2        1         4         0         0          0    T    (ospf_ls_req_timer)
    0          0.345       120        2        42        3        42         0         0          0     EX  ospf_nsm_event
    0          0.014         7        2         4        2         4         0         0          0     E   ospf_ls_upd_send_queue_event


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   11          7.950       573       13       615       14       615         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.284        62        4        27        5        29         0         0          0  R      zclient_read
    2          0.210         9       23        38       23        38         0         0          0  R      iev_lde-&gt;handler_read
    2          0.487        20       24        81       24        82         0         0          0  R      iev_ldpe-&gt;handler_read
    0          0.211        63        3        23        3        24         0         0          0   W     iev-&gt;handler_write
    1          0.448        38       11        24       12        28         0         0          0  R      vtysh_accept
    0          0.044         1       44        44       45        45         0         0          0     E   zclient_connect
    0          0.222         1      222       222      222       222         0         0          0     E   frr_config_read_in
    0          0.007         1        7         7        7         7         0         0          0     E   ldp_config_fork_apply
    0          2.430        84       28       120       29       120         0         0          0  R      vtysh_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.343       279       15       222       16       222         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.604        38       15        35       16        36         0         0          0  R      vtysh_accept
    0          0.007         6        1         2        1         3         0         0          0    T    (bgp_routeadv_timer)
    0          0.075         3       25        54       26        56         0         0          0    T    subgroup_coalesce_timer
    0          0.058         2       29        46       30        48         0         0          0     E   zclient_connect
    0         42.069       287      146      3112      148      3112         0         0          0    T    (bgp_generate_updgrp_packets)
    0        608.415       209     2911     40725     3299     40725         0         0          0    T    work_queue_run
    6          0.199         2       99       102      100       103         0         0          0  R      bgp_accept
    0          1.707         1     1707      1707     1707      1707         0         0          0     E   frr_config_read_in
    0         13.542       113      119      6391      120      6392         0         0          0  R      vtysh_read
    2          0.672        98        6       136        7       137         0         0          0  R      zclient_read
    0        777.478       131     5934     80370     6164     80370         0         0          0     E   bgp_process_packet
    0          0.014         3        4        10        5        11         0         0          0   W     bgp_connect_check
    0          0.196         9       21        34       22        35         0         0          0   W     zclient_flush_data
    0          0.028         1       28        28       30        30         0         0          0    T    (bgp_start_timer)
    0          0.107        15        7        24        7        27         0         0          0    T    update_group_refresh_default_originate_route_map
    0          0.001         1        1         1        1         1         0         0          0    T    update_subgroup_merge_check_thread_cb
    0          0.718        18       39       126      110       673         0         0          0     E   bgp_event


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    3          3.861       142       27        78       28        79         0         0          0  R      bgp_process_reads
    0          7.820       171       45       117       46       117         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   12       1457.571      1250     1166     80370     1256     80370         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.005         1        5         5        6         6         0         0          0   W     mgmt_be_client_write
    0          2.708        84       32       150       32       150         0         0          0  R      vtysh_read
    1          0.198        61        3        26        3        29         0         0          0  R      zclient_read
    1          0.625        38       16        57       17        60         0         0          0  R      vtysh_accept
    0          0.045         1       45        45       45        45         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.063         1       63        63       64        64         0         0          0     E   zclient_connect


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          3.644       186       19       150       20       150         0         0          0  RWTEX  TOTAL:
R:176  r4     Zebra heap: 5868 KiB --&gt; 66 MiB (1.2026 KiB/vpn route)   1    0

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_check_scale_down" time="41.600"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/scale_down.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/scale_down.py
Tue Oct 31 07:39:51 2023 (#177) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show ip route" | grep -c \ 10\.\*/32:(.*):pass:Looking for sharp routes:
COMMAND OUTPUT:50000:
R:177  ce1    Looking for sharp routes                                 1    0
Tue Oct 31 07:39:51 2023 (#178) scripts/scale_down.py:0 COMMAND:ce3:vtysh -c "show bgp sum":.:pass:See 50000 sharp routes:
COMMAND OUTPUT:
IPv4 Unicast Summary (VRF default):
BGP router identifier 99.0.0.3, local AS number 5227 vrf-id 0
BGP table version 58300
RIB entries 100023, using 18 MiB of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.1     4       5227        82        24    58300    0    0 00:00:55        50008        5 N/A

Total number of neighbors 1:
R:178  ce3    See 50000 sharp routes                                   1    0
Tue Oct 31 07:39:51 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni" | grep Display:.:none:BGP routes pre remove:
COMMAND OUTPUT:Displayed  50012 routes and 50012 total paths:
Tue Oct 31 07:39:51 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:ip route show | cat -n | tail:.:none:Linux routes pre remove:
COMMAND OUTPUT: 49999	10.0.195.74 nhid 10 via 99.0.0.1 dev lo proto 194 metric 20 
 50000	10.0.195.75 nhid 10 via 99.0.0.1 dev lo proto 194 metric 20 
 50001	10.0.195.76 nhid 10 via 99.0.0.1 dev lo proto 194 metric 20 
 50002	10.0.195.77 nhid 10 via 99.0.0.1 dev lo proto 194 metric 20 
 50003	10.0.195.78 nhid 10 via 99.0.0.1 dev lo proto 194 metric 20 
 50004	10.0.195.79 nhid 10 via 99.0.0.1 dev lo proto 194 metric 20 
 50005	99.0.0.2 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
 50006	99.0.0.3 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
 50007	99.0.0.4 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
 50008	192.168.1.0/24 dev ce1-eth0 proto kernel scope link src 192.168.1.2:
Tue Oct 31 07:39:52 2023 (#179) scripts/scale_down.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni" | grep Display:.:none:BGP routes pre remove:
COMMAND OUTPUT:Displayed  50012 routes and 50015 total paths:
Tue Oct 31 07:39:52 2023 (#179) scripts/scale_down.py:0 COMMAND:ce2:ip route show | cat -n | tail:.:none:Linux routes pre remove:
COMMAND OUTPUT: 49999	10.0.195.74 nhid 11 via 99.0.0.2 dev lo proto 194 metric 20 
 50000	10.0.195.75 nhid 11 via 99.0.0.2 dev lo proto 194 metric 20 
 50001	10.0.195.76 nhid 11 via 99.0.0.2 dev lo proto 194 metric 20 
 50002	10.0.195.77 nhid 11 via 99.0.0.2 dev lo proto 194 metric 20 
 50003	10.0.195.78 nhid 11 via 99.0.0.2 dev lo proto 194 metric 20 
 50004	10.0.195.79 nhid 11 via 99.0.0.2 dev lo proto 194 metric 20 
 50005	99.0.0.1 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
 50006	99.0.0.3 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
 50007	99.0.0.4 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
 50008	192.168.1.0/24 dev ce2-eth0 proto kernel scope link src 192.168.1.2:
Tue Oct 31 07:39:53 2023 (#179) scripts/scale_down.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni" | grep Display:.:none:BGP routes pre remove:
COMMAND OUTPUT:Displayed  50012 routes and 50013 total paths:
Tue Oct 31 07:39:54 2023 (#179) scripts/scale_down.py:0 COMMAND:ce3:ip route show | cat -n | tail:.:none:Linux routes pre remove:
COMMAND OUTPUT: 49999	10.0.195.74 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50000	10.0.195.75 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50001	10.0.195.76 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50002	10.0.195.77 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50003	10.0.195.78 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50004	10.0.195.79 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50005	99.0.0.1 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50006	99.0.0.2 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50007	99.0.0.4 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50008	192.168.1.0/24 dev ce3-eth0 proto kernel scope link src 192.168.1.2:
Tue Oct 31 07:39:55 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "sharp remove routes 10.0.0.0 50000":.:none:Removing 50000 routes:
COMMAND OUTPUT:&lt;no output&gt;:
Tue Oct 31 07:39:55 2023 (#179) scripts/scale_down.py:0 COMMAND:ce2:vtysh -c "sharp remove routes 10.0.0.0 50000":.:none:Removing 50000 routes:
COMMAND OUTPUT:&lt;no output&gt;:
scripts/scale_down.py:0 WAIT:ce1:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:200.0:10:
Tue Oct 31 07:39:55 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:
COMMAND OUTPUT:Displayed  48792 routes and 48792 total paths:
Tue Oct 31 07:40:05 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:
COMMAND OUTPUT:Displayed  11444 routes and 11444 total paths:
Tue Oct 31 07:40:15 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:
COMMAND OUTPUT:Displayed  5178 routes and 5178 total paths:
Tue Oct 31 07:40:25 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:
COMMAND OUTPUT:Displayed  12 routes and 12 total paths:
R:179  ce1    BGP routes removed +30.29 secs                           1    0
Done after 4 loops, time=30.2855544090271, Found= 12 route
Tue Oct 31 07:40:25 2023 (#180) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni":.:none:BGP routes post remove:
COMMAND OUTPUT:BGP table version is 193233, local router ID is 99.0.0.1, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       99.0.0.1                98    123  32768 i
 *&gt; 5.1.1.0/24       99.0.0.1                98    123  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 *&gt; 6.0.1.0/24       99.0.0.1                98    123  32768 i
 *&gt; 6.0.2.0/24       99.0.0.1               100    100  32768 i
 *&gt; 99.0.0.1/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 12 total paths:
scripts/scale_down.py:0 WAIT:ce2:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:200.0:10:
Tue Oct 31 07:40:25 2023 (#180) scripts/scale_down.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:
COMMAND OUTPUT:Displayed  12 routes and 15 total paths:
R:180  ce2    BGP routes removed +0.03 secs                            1    0
Done after 1 loops, time=0.03496241569519043, Found= 12 route
Tue Oct 31 07:40:25 2023 (#181) scripts/scale_down.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni":.:none:BGP routes post remove:
COMMAND OUTPUT:BGP table version is 183254, local router ID is 99.0.0.2, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 * i5.1.0.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 * i5.1.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 *&gt; 6.0.2.0/24       99.0.0.2               100    100  32768 i
 *&gt;i99.0.0.1/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.2/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 15 total paths:
scripts/scale_down.py:0 WAIT:ce3:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:200.0:10:
Tue Oct 31 07:40:25 2023 (#181) scripts/scale_down.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:
COMMAND OUTPUT:Displayed  12 routes and 13 total paths:
R:181  ce3    BGP routes removed +0.03 secs                            1    0
Done after 1 loops, time=0.034317970275878906, Found= 12 route
Tue Oct 31 07:40:25 2023 (#182) scripts/scale_down.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni":.:none:BGP routes post remove:
COMMAND OUTPUT:BGP table version is 125711, local router ID is 99.0.0.3, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.1.1             98    123      0 i
 *&gt;i5.1.1.0/24       192.168.1.1             98    123      0 i
 *&gt; 5.1.2.0/24       99.0.0.3               200     50  32768 i
 *&gt; 5.1.3.0/24       99.0.0.3               200     50  32768 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.3               200     50  32768 i
 *&gt; 6.0.2.0/24       99.0.0.3               100    100  32768 i
 *&gt;i99.0.0.1/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.3/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 13 total paths:
scripts/scale_down.py:0 WAIT:ce1:ip route show | grep -c \^10\.:^0$:wait:Linux routes removed:200.0:10:
Tue Oct 31 07:40:25 2023 (#182) scripts/scale_down.py:0 COMMAND:ce1:ip route show | grep -c \^10\.:^0$:wait:Linux routes removed:
COMMAND OUTPUT:0:
R:182  ce1    Linux routes removed +0.01 secs                          1    0
Done after 1 loops, time=0.005547285079956055, Found=0
Tue Oct 31 07:40:25 2023 (#183) scripts/scale_down.py:0 COMMAND:ce1:ip route show:.:none:Linux routes post remove:
COMMAND OUTPUT:5.1.2.0/24 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
5.1.3.0/24 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
5.4.2.0/24 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
5.4.3.0/24 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
99.0.0.2 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
99.0.0.3 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
99.0.0.4 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
192.168.1.0/24 dev ce1-eth0 proto kernel scope link src 192.168.1.2:
scripts/scale_down.py:0 WAIT:ce2:ip route show | grep -c \^10\.:^0$:wait:Linux routes removed:200.0:10:
Tue Oct 31 07:40:25 2023 (#183) scripts/scale_down.py:0 COMMAND:ce2:ip route show | grep -c \^10\.:^0$:wait:Linux routes removed:
COMMAND OUTPUT:0:
R:183  ce2    Linux routes removed +0.01 secs                          1    0
Done after 1 loops, time=0.006000995635986328, Found=0
Tue Oct 31 07:40:25 2023 (#184) scripts/scale_down.py:0 COMMAND:ce2:ip route show:.:none:Linux routes post remove:
COMMAND OUTPUT:5.1.2.0/24 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
5.1.3.0/24 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
5.4.2.0/24 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
5.4.3.0/24 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
99.0.0.1 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
99.0.0.3 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
99.0.0.4 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
192.168.1.0/24 dev ce2-eth0 proto kernel scope link src 192.168.1.2:
scripts/scale_down.py:0 WAIT:ce3:ip route show | grep -c \^10\.:^0$:wait:Linux routes removed:200.0:10:
Tue Oct 31 07:40:25 2023 (#184) scripts/scale_down.py:0 COMMAND:ce3:ip route show | grep -c \^10\.:^0$:wait:Linux routes removed:
COMMAND OUTPUT:0:
R:184  ce3    Linux routes removed +0.01 secs                          1    0
Done after 1 loops, time=0.005425691604614258, Found=0
Tue Oct 31 07:40:25 2023 (#185) scripts/scale_down.py:0 COMMAND:ce3:ip route show:.:none:Linux routes post remove:
COMMAND OUTPUT:5.1.0.0/24 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
5.1.1.0/24 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
5.4.2.0/24 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
5.4.3.0/24 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
99.0.0.1 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
99.0.0.2 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
99.0.0.4 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
192.168.1.0/24 dev ce3-eth0 proto kernel scope link src 192.168.1.2:
scripts/scale_down.py:0 WAIT:r1:ip route show vrf r1-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:200.0:10:
Tue Oct 31 07:40:25 2023 (#185) scripts/scale_down.py:0 COMMAND:r1:ip route show vrf r1-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:
COMMAND OUTPUT:0:
R:185  r1     VRF route removed +0.00 secs                             1    0
Done after 1 loops, time=0.005003452301025391, Found=0
scripts/scale_down.py:0 WAIT:r3:ip route show vrf r3-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:200.0:10:
Tue Oct 31 07:40:25 2023 (#186) scripts/scale_down.py:0 COMMAND:r3:ip route show vrf r3-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:
COMMAND OUTPUT:0:
R:186  r3     VRF route removed +0.00 secs                             1    0
Done after 1 loops, time=0.004532337188720703, Found=0
scripts/scale_down.py:0 WAIT:r4:ip route show vrf r4-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:200.0:10:
Tue Oct 31 07:40:25 2023 (#187) scripts/scale_down.py:0 COMMAND:r4:ip route show vrf r4-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:
COMMAND OUTPUT:0:
R:187  r4     VRF route removed +0.01 secs                             1    0
Done after 1 loops, time=0.005490541458129883, Found=0
******************************************************************************
Total 187                                                            187  0
******************************************************************************

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase></testsuite></testsuites>