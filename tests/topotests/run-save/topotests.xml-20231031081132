<?xml version="1.0" encoding="utf-8"?><testsuites><testsuite name="pytest" errors="0" failures="0" skipped="1" tests="8" time="105.094" timestamp="2023-10-31T08:09:46.958808" hostname="cnic"><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_memory_leak" time="8.066"><skipped type="pytest.skip" message="Memory leak test/report is disabled">/home/cnic/frr-pr/tests/topotests/lib/ltemplate.py:197: Memory leak test/report is disabled</skipped><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_check_linux_vrf" time="0.180"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/check_linux_vrf.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/check_linux_vrf.py
Tue Oct 31 08:09:55 2023 (#1) scripts/check_linux_vrf.py:0 COMMAND:r1:ip link show type vrf r1-cust1:cust1: .*UP:pass:VRF cust1 intf up:
COMMAND OUTPUT:4: r1-cust1: &lt;NOARP,MASTER,UP,LOWER_UP&gt; mtu 65575 qdisc noqueue state UP mode DEFAULT group default qlen 1000
    link/ether e6:3c:dc:a1:da:f0 brd ff:ff:ff:ff:ff:ff:
R:1    r1     VRF cust1 intf up                                        1    0
Tue Oct 31 08:09:55 2023 (#2) scripts/check_linux_vrf.py:0 COMMAND:r1:ip add show vrf r1-cust1:r..eth4.*UP:pass:VRF cust1 IP intf up:
COMMAND OUTPUT:2: r1-eth4@if2: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r1-cust1 state UP group default qlen 1000
    link/ether 82:e9:21:5b:d1:05 brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.168.1.1/24 brd 192.168.1.255 scope global r1-eth4
       valid_lft forever preferred_lft forever
    inet6 fe80::80e9:21ff:fe5b:d105/64 scope link 
       valid_lft forever preferred_lft forever:
R:2    r1     VRF cust1 IP intf up                                     1    0
Tue Oct 31 08:09:55 2023 (#3) scripts/check_linux_vrf.py:0 COMMAND:r1:ip add show vrf r1-cust1:192.168:pass:VRF cust1 IP config:
COMMAND OUTPUT:2: r1-eth4@if2: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r1-cust1 state UP group default qlen 1000
    link/ether 82:e9:21:5b:d1:05 brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.168.1.1/24 brd 192.168.1.255 scope global r1-eth4
       valid_lft forever preferred_lft forever
    inet6 fe80::80e9:21ff:fe5b:d105/64 scope link 
       valid_lft forever preferred_lft forever:
R:3    r1     VRF cust1 IP config                                      1    0
Tue Oct 31 08:09:55 2023 (#4) scripts/check_linux_vrf.py:0 COMMAND:r1:ip route show vrf r1-cust1:192.168...0/24 dev r.-eth:pass:VRF cust1 interface route:
COMMAND OUTPUT:99.0.0.1 nhid 16 via 192.168.1.2 dev r1-eth4 proto bgp metric 20 
192.168.1.0/24 dev r1-eth4 proto kernel scope link src 192.168.1.1:
R:4    r1     VRF cust1 interface route                                1    0
Tue Oct 31 08:09:55 2023 (#5) scripts/check_linux_vrf.py:0 COMMAND:r3:ip link show type vrf r3-cust1:cust1: .*UP:pass:VRF cust1 intf up:
COMMAND OUTPUT:5: r3-cust1: &lt;NOARP,MASTER,UP,LOWER_UP&gt; mtu 65575 qdisc noqueue state UP mode DEFAULT group default qlen 1000
    link/ether ee:d6:ca:a5:27:2c brd ff:ff:ff:ff:ff:ff:
R:5    r3     VRF cust1 intf up                                        1    0
Tue Oct 31 08:09:55 2023 (#6) scripts/check_linux_vrf.py:0 COMMAND:r3:ip add show vrf r3-cust1:r..eth4.*UP:pass:VRF cust1 IP intf up:
COMMAND OUTPUT:2: r3-eth4@if3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r3-cust1 state UP group default qlen 1000
    link/ether 86:92:24:a4:a4:62 brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.168.1.1/24 brd 192.168.1.255 scope global r3-eth4
       valid_lft forever preferred_lft forever
    inet6 fe80::8492:24ff:fea4:a462/64 scope link 
       valid_lft forever preferred_lft forever:
R:6    r3     VRF cust1 IP intf up                                     1    0
Tue Oct 31 08:09:55 2023 (#7) scripts/check_linux_vrf.py:0 COMMAND:r3:ip add show vrf r3-cust1:192.168:pass:VRF cust1 IP config:
COMMAND OUTPUT:2: r3-eth4@if3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r3-cust1 state UP group default qlen 1000
    link/ether 86:92:24:a4:a4:62 brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.168.1.1/24 brd 192.168.1.255 scope global r3-eth4
       valid_lft forever preferred_lft forever
    inet6 fe80::8492:24ff:fea4:a462/64 scope link 
       valid_lft forever preferred_lft forever:
R:7    r3     VRF cust1 IP config                                      1    0
Tue Oct 31 08:09:55 2023 (#8) scripts/check_linux_vrf.py:0 COMMAND:r3:ip route show vrf r3-cust1:192.168...0/24 dev r.-eth:pass:VRF cust1 interface route:
COMMAND OUTPUT:192.168.1.0/24 dev r3-eth4 proto kernel scope link src 192.168.1.1:
R:8    r3     VRF cust1 interface route                                1    0
Tue Oct 31 08:09:55 2023 (#9) scripts/check_linux_vrf.py:0 COMMAND:r4:ip link show type vrf r4-cust1:cust1: .*UP:pass:VRF cust1 intf up:
COMMAND OUTPUT:5: r4-cust1: &lt;NOARP,MASTER,UP,LOWER_UP&gt; mtu 65575 qdisc noqueue state UP mode DEFAULT group default qlen 1000
    link/ether ce:eb:03:61:77:e8 brd ff:ff:ff:ff:ff:ff:
R:9    r4     VRF cust1 intf up                                        1    0
Tue Oct 31 08:09:55 2023 (#10) scripts/check_linux_vrf.py:0 COMMAND:r4:ip add show vrf r4-cust1:r..eth4.*UP:pass:VRF cust1 IP intf up:
COMMAND OUTPUT:2: r4-eth4@if4: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r4-cust1 state UP group default qlen 1000
    link/ether 42:58:e1:80:d5:11 brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.168.1.1/24 brd 192.168.1.255 scope global r4-eth4
       valid_lft forever preferred_lft forever
    inet6 fe80::4058:e1ff:fe80:d511/64 scope link 
       valid_lft forever preferred_lft forever:
R:10   r4     VRF cust1 IP intf up                                     1    0
Tue Oct 31 08:09:55 2023 (#11) scripts/check_linux_vrf.py:0 COMMAND:r4:ip add show vrf r4-cust1:192.168:pass:VRF cust1 IP config:
COMMAND OUTPUT:2: r4-eth4@if4: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r4-cust1 state UP group default qlen 1000
    link/ether 42:58:e1:80:d5:11 brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.168.1.1/24 brd 192.168.1.255 scope global r4-eth4
       valid_lft forever preferred_lft forever
    inet6 fe80::4058:e1ff:fe80:d511/64 scope link 
       valid_lft forever preferred_lft forever:
R:11   r4     VRF cust1 IP config                                      1    0
Tue Oct 31 08:09:55 2023 (#12) scripts/check_linux_vrf.py:0 COMMAND:r4:ip route show vrf r4-cust1:192.168...0/24 dev r.-eth:pass:VRF cust1 interface route:
COMMAND OUTPUT:192.168.1.0/24 dev r4-eth4 proto kernel scope link src 192.168.1.1:
R:12   r4     VRF cust1 interface route                                1    0
Tue Oct 31 08:09:55 2023 (#13) scripts/check_linux_vrf.py:0 COMMAND:r4:ip link show type vrf r4-cust2:cust2: .*UP:pass:VRF cust2 up:
COMMAND OUTPUT:6: r4-cust2: &lt;NOARP,MASTER,UP,LOWER_UP&gt; mtu 65575 qdisc noqueue state UP mode DEFAULT group default qlen 1000
    link/ether d2:0f:de:7c:39:cc brd ff:ff:ff:ff:ff:ff:
R:13   r4     VRF cust2 up                                             1    0
Tue Oct 31 08:09:55 2023 (#14) scripts/check_linux_vrf.py:0 COMMAND:r4:ip add show vrf r4-cust2:r..eth5.*UP.* 192.168:pass:VRF cust1 IP config:
COMMAND OUTPUT:3: r4-eth5@if5: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r4-cust2 state UP group default qlen 1000
    link/ether f6:94:b1:71:84:c6 brd ff:ff:ff:ff:ff:ff link-netnsid 1
    inet 192.168.2.1/24 brd 192.168.2.255 scope global r4-eth5
       valid_lft forever preferred_lft forever
    inet6 fe80::f494:b1ff:fe71:84c6/64 scope link 
       valid_lft forever preferred_lft forever:
R:14   r4     VRF cust1 IP config                                      1    0
Tue Oct 31 08:09:55 2023 (#15) scripts/check_linux_vrf.py:0 COMMAND:r4:ip route show vrf r4-cust2:192.168...0/24 dev r.-eth:pass:VRF cust2 interface route:
COMMAND OUTPUT:192.168.2.0/24 dev r4-eth5 proto kernel scope link src 192.168.2.1:
R:15   r4     VRF cust2 interface route                                1    0
Tue Oct 31 08:09:55 2023 (#16) scripts/check_linux_vrf.py:0 COMMAND:ce1:ip route show:192.168...0/24 dev ce.-eth0:pass:CE interface route:
COMMAND OUTPUT:192.168.1.0/24 dev ce1-eth0 proto kernel scope link src 192.168.1.2:
R:16   ce1    CE interface route                                       1    0
scripts/check_linux_vrf.py:0 WAIT:ce1:ping 192.168.1.1 -c 1: 0. packet loss:wait:CE-&gt;PE ping:10:0.5:
Tue Oct 31 08:09:55 2023 (#17) scripts/check_linux_vrf.py:0 COMMAND:ce1:ping 192.168.1.1 -c 1: 0. packet loss:wait:CE-&gt;PE ping:
COMMAND OUTPUT:PING 192.168.1.1 (192.168.1.1) 56(84) bytes of data.
64 bytes from 192.168.1.1: icmp_seq=1 ttl=64 time=0.045 ms

--- 192.168.1.1 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.045/0.045/0.045/0.000 ms:
R:17   ce1    CE-&gt;PE ping +0.00 secs                                   1    0
Done after 1 loops, time=0.004591226577758789, Found= 0% packet loss
Tue Oct 31 08:09:55 2023 (#18) scripts/check_linux_vrf.py:0 COMMAND:ce2:ip route show:192.168...0/24 dev ce.-eth0:pass:CE interface route:
COMMAND OUTPUT:192.168.1.0/24 dev ce2-eth0 proto kernel scope link src 192.168.1.2:
R:18   ce2    CE interface route                                       1    0
scripts/check_linux_vrf.py:0 WAIT:ce2:ping 192.168.1.1 -c 1: 0. packet loss:wait:CE-&gt;PE ping:10:0.5:
Tue Oct 31 08:09:55 2023 (#19) scripts/check_linux_vrf.py:0 COMMAND:ce2:ping 192.168.1.1 -c 1: 0. packet loss:wait:CE-&gt;PE ping:
COMMAND OUTPUT:PING 192.168.1.1 (192.168.1.1) 56(84) bytes of data.
64 bytes from 192.168.1.1: icmp_seq=1 ttl=64 time=0.031 ms

--- 192.168.1.1 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.031/0.031/0.031/0.000 ms:
R:19   ce2    CE-&gt;PE ping +0.00 secs                                   1    0
Done after 1 loops, time=0.0041811466217041016, Found= 0% packet loss
Tue Oct 31 08:09:55 2023 (#20) scripts/check_linux_vrf.py:0 COMMAND:ce3:ip route show:192.168...0/24 dev ce.-eth0:pass:CE interface route:
COMMAND OUTPUT:192.168.1.0/24 dev ce3-eth0 proto kernel scope link src 192.168.1.2:
R:20   ce3    CE interface route                                       1    0
scripts/check_linux_vrf.py:0 WAIT:ce3:ping 192.168.1.1 -c 1: 0. packet loss:wait:CE-&gt;PE ping:10:0.5:
Tue Oct 31 08:09:55 2023 (#21) scripts/check_linux_vrf.py:0 COMMAND:ce3:ping 192.168.1.1 -c 1: 0. packet loss:wait:CE-&gt;PE ping:
COMMAND OUTPUT:PING 192.168.1.1 (192.168.1.1) 56(84) bytes of data.
64 bytes from 192.168.1.1: icmp_seq=1 ttl=64 time=0.027 ms

--- 192.168.1.1 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.027/0.027/0.027/0.000 ms:
R:21   ce3    CE-&gt;PE ping +0.00 secs                                   1    0
Done after 1 loops, time=0.0037355422973632812, Found= 0% packet loss
Tue Oct 31 08:09:55 2023 (#22) scripts/check_linux_vrf.py:0 COMMAND:ce4:ip link show type vrf ce4-cust2:cust2: .*UP:pass:VRF cust2 up:
COMMAND OUTPUT:2: ce4-cust2: &lt;NOARP,MASTER,UP,LOWER_UP&gt; mtu 65575 qdisc noqueue state UP mode DEFAULT group default qlen 1000
    link/ether a6:18:7f:1f:fe:e5 brd ff:ff:ff:ff:ff:ff:
R:22   ce4    VRF cust2 up                                             1    0
Tue Oct 31 08:09:55 2023 (#23) scripts/check_linux_vrf.py:0 COMMAND:ce4:ip route show vrf ce4-cust2:192.168...0/24 dev ce.-eth0:pass:CE interface route:
COMMAND OUTPUT:192.168.2.0/24 dev ce4-eth0 proto kernel scope link src 192.168.2.2:
R:23   ce4    CE interface route                                       1    0
scripts/check_linux_vrf.py:0 WAIT:ce4:ping 192.168.2.1 -c 1 -I ce4-cust2: 0. packet loss:wait:CE4-&gt;PE4 ping:10:0.5:
Tue Oct 31 08:09:55 2023 (#24) scripts/check_linux_vrf.py:0 COMMAND:ce4:ping 192.168.2.1 -c 1 -I ce4-cust2: 0. packet loss:wait:CE4-&gt;PE4 ping:
COMMAND OUTPUT:ping: Warning: source address might be selected on device other than: ce4-cust2
PING 192.168.2.1 (192.168.2.1) from 192.168.2.2 ce4-cust2: 56(84) bytes of data.
64 bytes from 192.168.2.1: icmp_seq=1 ttl=64 time=0.028 ms

--- 192.168.2.1 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.028/0.028/0.028/0.000 ms:
R:24   ce4    CE4-&gt;PE4 ping +0.00 secs                                 1    0
Done after 1 loops, time=0.0034275054931640625, Found= 0% packet loss

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_adjacencies" time="17.286"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/adjacencies.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/adjacencies.py
scripts/adjacencies.py:0 WAIT:ce1:vtysh -c "show bgp summary": 00:0:wait:Adjacencies up:180:0.5:
Tue Oct 31 08:09:55 2023 (#25) scripts/adjacencies.py:0 COMMAND:ce1:vtysh -c "show bgp summary": 00:0:wait:Adjacencies up:
COMMAND OUTPUT:
IPv4 Unicast Summary (VRF default):
BGP router identifier 99.0.0.1, local AS number 5227 vrf-id 0
BGP table version 1
RIB entries 1, using 192 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.1     4       5227         3         4        1    0    0 00:00:02            0        1 N/A

Total number of neighbors 1:
R:25   ce1    Adjacencies up +0.03 secs                                1    0
Done after 1 loops, time=0.033562660217285156, Found= 00:0
scripts/adjacencies.py:0 WAIT:ce2:vtysh -c "show bgp summary": 00:0:wait:Adjacencies up:180:0.5:
Tue Oct 31 08:09:55 2023 (#26) scripts/adjacencies.py:0 COMMAND:ce2:vtysh -c "show bgp summary": 00:0:wait:Adjacencies up:
COMMAND OUTPUT:
IPv4 Unicast Summary (VRF default):
BGP router identifier 99.0.0.2, local AS number 5227 vrf-id 0
BGP table version 1
RIB entries 1, using 192 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.1     4       5227         2         2        0    0    0 00:00:01            0        0 N/A

Total number of neighbors 1:
R:26   ce2    Adjacencies up +0.03 secs                                1    0
Done after 1 loops, time=0.0333561897277832, Found= 00:0
scripts/adjacencies.py:0 WAIT:ce3:vtysh -c "show bgp summary": 00:0:wait:Adjacencies up:180:0.5:
Tue Oct 31 08:09:55 2023 (#27) scripts/adjacencies.py:0 COMMAND:ce3:vtysh -c "show bgp summary": 00:0:wait:Adjacencies up:
COMMAND OUTPUT:
IPv4 Unicast Summary (VRF default):
BGP router identifier 99.0.0.3, local AS number 5227 vrf-id 0
BGP table version 1
RIB entries 1, using 192 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.1     4       5227         2         2        0    0    0 00:00:00            0        0 N/A

Total number of neighbors 1:
R:27   ce3    Adjacencies up +0.04 secs                                1    0
Done after 1 loops, time=0.03595566749572754, Found= 00:0
scripts/adjacencies.py:0 WAIT:ce4:vtysh -c "show bgp vrf all summary": 00:0:wait:Adjacencies up:180:0.5:
Tue Oct 31 08:09:55 2023 (#28) scripts/adjacencies.py:0 COMMAND:ce4:vtysh -c "show bgp vrf all summary": 00:0:wait:Adjacencies up:
COMMAND OUTPUT:
IPv4 Unicast Summary (VRF ce4-cust2):
BGP router identifier 99.0.0.4, local AS number 5228 vrf-id 2
BGP table version 1
RIB entries 1, using 192 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.2.1     4       5228         3         4        0    0    0 00:00:01            0        0 N/A

Total number of neighbors 1:
R:28   ce4    Adjacencies up +0.03 secs                                1    0
Done after 1 loops, time=0.03303122520446777, Found= 00:0
scripts/adjacencies.py:0 WAIT:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:60:0.5:
Tue Oct 31 08:09:55 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:09:55 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:09:56 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:09:56 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:09:57 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:09:57 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:09:58 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:09:58 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:09:59 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:09:59 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:10:00 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:10:00 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:10:01 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:10:01 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:10:02 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:10:02 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:10:03 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:10:03 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:10:04 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:10:04 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:10:05 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:10:05 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:10:06 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:10:06 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:10:07 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:10:07 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:PING 2.2.2.2 (2.2.2.2) 56(84) bytes of data.
64 bytes from 2.2.2.2: icmp_seq=1 ttl=64 time=0.019 ms

--- 2.2.2.2 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.019/0.019/0.019/0.000 ms:
R:29   r1     PE-&gt;P2 (loopback) ping +12.61 secs                       1    0
Done after 26 loops, time=12.612901449203491, Found= 0% packet loss
scripts/adjacencies.py:0 WAIT:r3:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:60:0.5:
Tue Oct 31 08:10:07 2023 (#30) scripts/adjacencies.py:0 COMMAND:r3:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:PING 2.2.2.2 (2.2.2.2) 56(84) bytes of data.
64 bytes from 2.2.2.2: icmp_seq=1 ttl=64 time=0.035 ms

--- 2.2.2.2 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.035/0.035/0.035/0.000 ms:
R:30   r3     PE-&gt;P2 (loopback) ping +0.00 secs                        1    0
Done after 1 loops, time=0.0041921138763427734, Found= 0% packet loss
scripts/adjacencies.py:0 WAIT:r4:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:60:0.5:
Tue Oct 31 08:10:07 2023 (#31) scripts/adjacencies.py:0 COMMAND:r4:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:PING 2.2.2.2 (2.2.2.2) 56(84) bytes of data.
64 bytes from 2.2.2.2: icmp_seq=1 ttl=64 time=0.015 ms

--- 2.2.2.2 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.015/0.015/0.015/0.000 ms:
R:31   r4     PE-&gt;P2 (loopback) ping +0.00 secs                        1    0
Done after 1 loops, time=0.0035500526428222656, Found= 0% packet loss
scripts/adjacencies.py:0 WAIT:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:180:0.5:
Tue Oct 31 08:10:07 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 0, using 0 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         2         2        0    0    0 00:00:00            0        0 N/A
4.4.4.4         4       5226         2         2        0    0    0 00:00:00            0        0 N/A

Total number of neighbors 3:
Tue Oct 31 08:10:08 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 0, using 0 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         2         2        0    0    0 00:00:00            0        0 N/A
4.4.4.4         4       5226         2         2        0    0    0 00:00:00            0        0 N/A

Total number of neighbors 3:
Tue Oct 31 08:10:09 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         6         2        0    0    0 00:00:01            5        0 N/A
4.4.4.4         4       5226         7         2        0    0    0 00:00:01           10        0 N/A

Total number of neighbors 3:
Tue Oct 31 08:10:09 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         6        10        5    0    0 00:00:01            5       15 N/A
4.4.4.4         4       5226         7        10        5    0    0 00:00:01           10       15 N/A

Total number of neighbors 3:
Tue Oct 31 08:10:10 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         6        10        5    0    0 00:00:02            5       15 N/A
4.4.4.4         4       5226         7        10        5    0    0 00:00:02           10       15 N/A

Total number of neighbors 3:
Tue Oct 31 08:10:10 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         6        10        5    0    0 00:00:02            5       15 N/A
4.4.4.4         4       5226         7        10        5    0    0 00:00:02           10       15 N/A

Total number of neighbors 3:
Tue Oct 31 08:10:11 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         7        11        5    0    0 00:00:03            5       15 N/A
4.4.4.4         4       5226         8        11        5    0    0 00:00:03           10       15 N/A

Total number of neighbors 3:
Tue Oct 31 08:10:11 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         7        11        5    0    0 00:00:04            5       15 N/A
4.4.4.4         4       5226         8        11        5    0    0 00:00:04           10       15 N/A

Total number of neighbors 3:
Tue Oct 31 08:10:12 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         2         2        0    0    0 00:00:00            0        0 N/A
3.3.3.3         4       5226         7        11        5    0    0 00:00:04            5       15 N/A
4.4.4.4         4       5226         8        11        5    0    0 00:00:04           10       15 N/A

Total number of neighbors 3:
R:32   r2     Core adjacencies up +4.31 secs                           1    0
Done after 9 loops, time=4.310161590576172, Found= 00:00:00            0        0 N/A 3.3.3.3         4       5226         7        11        5    0    0 00:00:04            5       15 N/A 4.4.4.4         4       5226         8        11        5    0    0 00:0
scripts/adjacencies.py:0 WAIT:r1:vtysh -c "show bgp summary": 00:0:wait:Core adjacencies up:180:0.5:
Tue Oct 31 08:10:12 2023 (#33) scripts/adjacencies.py:0 COMMAND:r1:vtysh -c "show bgp summary": 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 1.1.1.1, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 1, using 192 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
2.2.2.2         4       5226         2         2        0    0    0 00:00:00            0        0 N/A

Total number of neighbors 1:
R:33   r1     Core adjacencies up +0.03 secs                           1    0
Done after 1 loops, time=0.034973859786987305, Found= 00:0
scripts/adjacencies.py:0 WAIT:r3:vtysh -c "show bgp summary": 00:0:wait:Core adjacencies up:180:0.5:
Tue Oct 31 08:10:12 2023 (#34) scripts/adjacencies.py:0 COMMAND:r3:vtysh -c "show bgp summary": 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 3.3.3.3, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
2.2.2.2         4       5226        11         7        5    0    0 00:00:04           10        5 N/A

Total number of neighbors 1:
R:34   r3     Core adjacencies up +0.03 secs                           1    0
Done after 1 loops, time=0.03500723838806152, Found= 00:0
scripts/adjacencies.py:0 WAIT:r4:vtysh -c "show bgp summary": 00:0:wait:Core adjacencies up:180:0.5:
Tue Oct 31 08:10:12 2023 (#35) scripts/adjacencies.py:0 COMMAND:r4:vtysh -c "show bgp summary": 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 4.4.4.4, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
2.2.2.2         4       5226        11         8        5    0    0 00:00:04            5       10 N/A

Total number of neighbors 1:
R:35   r4     Core adjacencies up +0.03 secs                           1    0
Done after 1 loops, time=0.033666372299194336, Found= 00:0
Tue Oct 31 08:10:12 2023 (#36) scripts/adjacencies.py:0 COMMAND:r1:vtysh -c "show bgp vrf all summary": 00:0.* 00:0:pass:All adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 1.1.1.1, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 1, using 192 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
2.2.2.2         4       5226         2         2        0    0    0 00:00:00            0        0 N/A

Total number of neighbors 1

IPv4 Unicast Summary (VRF r1-cust1):
BGP router identifier 192.168.1.1, local AS number 5227 vrf-id 4
BGP table version 5
RIB entries 9, using 1728 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.2     4       5227        12         9        5    0    0 00:00:19            5        0 N/A

Total number of neighbors 1:
R:36   r1     All adjacencies up                                       1    0
Tue Oct 31 08:10:12 2023 (#37) scripts/adjacencies.py:0 COMMAND:r3:vtysh -c "show bgp vrf all summary": 00:0.* 00:0:pass:All adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 3.3.3.3, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
2.2.2.2         4       5226        11         7        5    0    0 00:00:04           10        5 N/A

Total number of neighbors 1

IPv4 Unicast Summary (VRF r3-cust1):
BGP router identifier 192.168.1.1, local AS number 5227 vrf-id 5
BGP table version 11
RIB entries 21, using 4032 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.2     4       5227        12        11       11    0    0 00:00:18            5        6 N/A

Total number of neighbors 1:
R:37   r3     All adjacencies up                                       1    0
Tue Oct 31 08:10:12 2023 (#38) scripts/adjacencies.py:0 COMMAND:r4:vtysh -c "show bgp vrf all summary": 00:0.* 00:0.* 00:0:pass:All adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 4.4.4.4, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
2.2.2.2         4       5226        11         8        5    0    0 00:00:04            5       10 N/A

Total number of neighbors 1

IPv4 Unicast Summary (VRF r4-cust1):
BGP router identifier 192.168.1.1, local AS number 5227 vrf-id 5
BGP table version 14
RIB entries 21, using 4032 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.2     4       5227        11        12       14    0    0 00:00:17            5        7 N/A

Total number of neighbors 1

IPv4 Unicast Summary (VRF r4-cust2):
BGP router identifier 192.168.2.1, local AS number 5228 vrf-id 6
BGP table version 14
RIB entries 21, using 4032 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.2.2     4       5228        11        13       14    0    0 00:00:18            5        8 N/A

Total number of neighbors 1:
R:38   r4     All adjacencies up                                       1    0
scripts/adjacencies.py:0 WAIT:r1:ping 3.3.3.3 -c 1: 0. packet loss:wait:PE-&gt;PE3 (loopback) ping:10:0.5:
Tue Oct 31 08:10:12 2023 (#39) scripts/adjacencies.py:0 COMMAND:r1:ping 3.3.3.3 -c 1: 0. packet loss:wait:PE-&gt;PE3 (loopback) ping:
COMMAND OUTPUT:PING 3.3.3.3 (3.3.3.3) 56(84) bytes of data.
64 bytes from 3.3.3.3: icmp_seq=1 ttl=63 time=0.061 ms

--- 3.3.3.3 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.061/0.061/0.061/0.000 ms:
R:39   r1     PE-&gt;PE3 (loopback) ping +0.00 secs                       1    0
Done after 1 loops, time=0.003935098648071289, Found= 0% packet loss
scripts/adjacencies.py:0 WAIT:r1:ping 4.4.4.4 -c 1: 0. packet loss:wait:PE-&gt;PE4 (loopback) ping:10:0.5:
Tue Oct 31 08:10:12 2023 (#40) scripts/adjacencies.py:0 COMMAND:r1:ping 4.4.4.4 -c 1: 0. packet loss:wait:PE-&gt;PE4 (loopback) ping:
COMMAND OUTPUT:PING 4.4.4.4 (4.4.4.4) 56(84) bytes of data.
64 bytes from 4.4.4.4: icmp_seq=1 ttl=63 time=0.055 ms

--- 4.4.4.4 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.055/0.055/0.055/0.000 ms:
R:40   r1     PE-&gt;PE4 (loopback) ping +0.00 secs                       1    0
Done after 1 loops, time=0.0039408206939697266, Found= 0% packet loss
scripts/adjacencies.py:0 WAIT:r4:ping 3.3.3.3 -c 1: 0. packet loss:wait:PE-&gt;PE3 (loopback) ping:10:0.5:
Tue Oct 31 08:10:12 2023 (#41) scripts/adjacencies.py:0 COMMAND:r4:ping 3.3.3.3 -c 1: 0. packet loss:wait:PE-&gt;PE3 (loopback) ping:
COMMAND OUTPUT:PING 3.3.3.3 (3.3.3.3) 56(84) bytes of data.
64 bytes from 3.3.3.3: icmp_seq=1 ttl=64 time=0.037 ms

--- 3.3.3.3 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.037/0.037/0.037/0.000 ms:
R:41   r4     PE-&gt;PE3 (loopback) ping +0.00 secs                       1    0
Done after 1 loops, time=0.0037500858306884766, Found= 0% packet loss

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_notification_check" time="0.307"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/notification_check.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/notification_check.py
Tue Oct 31 08:10:12 2023 (#42) scripts/notification_check.py:0 COMMAND:ce1:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 192.168.1.1, remote AS 5227, local AS 5227, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r1
  BGP version 4, remote router ID 192.168.1.1, local router ID 99.0.0.1
  BGP state = Established, up for 00:00:19
  Last read 00:00:01, Last write 00:00:01
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 Unicast: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 Unicast: advertised and received
    Hostname Capability: advertised (name: ce1,domain name: n/a) received (name: r1,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 Unicast
    End-of-RIB received: IPv4 Unicast
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 Unicast:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: No
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                4          1
    Keepalives:             7          7
    Route Refresh:          0          0
    Capability:             0          0
    Total:                 12          9
  Minimum time between advertisement runs is 0 seconds
  Update source is 192.168.1.2

 For address family: IPv4 Unicast
  Update group 1, subgroup 1
  Packet Queue length 0
  Community attribute sent to this neighbor(all)
  0 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:19,   No AFI/SAFI activated for peer (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 192.168.1.2, Local port: 179
Foreign host: 192.168.1.1, Foreign port: 46703
Nexthop: 192.168.1.2
Nexthop global: fe80::405b:3dff:fe28:8890
Nexthop local: fe80::405b:3dff:fe28:8890
BGP connection: shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 21:
Tue Oct 31 08:10:12 2023 (#42) scripts/notification_check.py:0 COMMAND:ce2:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 192.168.1.1, remote AS 5227, local AS 5227, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r3
  BGP version 4, remote router ID 192.168.1.1, local router ID 99.0.0.2
  BGP state = Established, up for 00:00:18
  Last read 00:00:00, Last write 00:00:00
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 Unicast: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 Unicast: advertised and received
    Hostname Capability: advertised (name: ce2,domain name: n/a) received (name: r3,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 Unicast
    End-of-RIB received: IPv4 Unicast
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 Unicast:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: No
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                4          3
    Keepalives:             7          7
    Route Refresh:          0          0
    Capability:             0          0
    Total:                 12         11
  Minimum time between advertisement runs is 0 seconds
  Update source is 192.168.1.2

 For address family: IPv4 Unicast
  Update group 1, subgroup 1
  Packet Queue length 0
  Community attribute sent to this neighbor(all)
  6 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:18,   No AFI/SAFI activated for peer (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 192.168.1.2, Local port: 179
Foreign host: 192.168.1.1, Foreign port: 44753
Nexthop: 192.168.1.2
Nexthop global: fe80::e859:10ff:fe0f:39d9
Nexthop local: fe80::e859:10ff:fe0f:39d9
BGP connection: shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 5:
Tue Oct 31 08:10:12 2023 (#42) scripts/notification_check.py:0 COMMAND:ce3:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 192.168.1.1, remote AS 5227, local AS 5227, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r4
  BGP version 4, remote router ID 192.168.1.1, local router ID 99.0.0.3
  BGP state = Established, up for 00:00:17
  Last read 00:00:00, Last write 00:00:02
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 Unicast: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 Unicast: advertised and received
    Hostname Capability: advertised (name: ce3,domain name: n/a) received (name: r4,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 Unicast
    End-of-RIB received: IPv4 Unicast
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 Unicast:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: No
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                4          5
    Keepalives:             6          6
    Route Refresh:          0          0
    Capability:             0          0
    Total:                 11         12
  Minimum time between advertisement runs is 0 seconds
  Update source is 192.168.1.2

 For address family: IPv4 Unicast
  Update group 1, subgroup 1
  Packet Queue length 0
  Community attribute sent to this neighbor(all)
  7 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:18,   No AFI/SAFI activated for peer (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 192.168.1.2, Local port: 179
Foreign host: 192.168.1.1, Foreign port: 46749
Nexthop: 192.168.1.2
Nexthop global: fe80::a041:afff:feef:b893
Nexthop local: fe80::a041:afff:feef:b893
BGP connection: shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 5:
Tue Oct 31 08:10:12 2023 (#42) scripts/notification_check.py:0 COMMAND:r1:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 2.2.2.2, remote AS 5226, local AS 5226, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r2
  BGP version 4, remote router ID 2.2.2.2, local router ID 1.1.1.1
  BGP state = Established, up for 00:00:01
  Last read 00:00:22, Last write never
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 VPN: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 VPN: advertised and received
    Hostname Capability: advertised (name: r1,domain name: n/a) received (name: r2,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: 
    End-of-RIB received: 
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 VPN:
      F bit: False
      End-of-RIB sent: No
      End-of-RIB sent after update: No
      End-of-RIB received: No
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                0          0
    Keepalives:             1          1
    Route Refresh:          0          0
    Capability:             0          0
    Total:                  2          2
  Minimum time between advertisement runs is 0 seconds
  Update source is 1.1.1.1

 For address family: IPv4 VPN
  Update group 2, subgroup 2
  Packet Queue length 0
  Community attribute sent to this neighbor(all)
  0 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:22,   No AFI/SAFI activated for peer (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 1.1.1.1, Local port: 179
Foreign host: 2.2.2.2, Foreign port: 38789
Nexthop: 1.1.1.1
Nexthop global: ::
Nexthop local: ::
BGP connection: non shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 27:
Tue Oct 31 08:10:12 2023 (#42) scripts/notification_check.py:0 COMMAND:r2:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 1.1.1.1, remote AS 5226, local AS 5226, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r1
  BGP version 4, remote router ID 1.1.1.1, local router ID 2.2.2.2
  BGP state = Established, up for 00:00:01
  Last read 00:00:01, Last write 00:00:01
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 VPN: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 VPN: advertised and received
    Hostname Capability: advertised (name: r2,domain name: n/a) received (name: r1,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: 
    End-of-RIB received: 
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 VPN:
      F bit: False
      End-of-RIB sent: No
      End-of-RIB sent after update: No
      End-of-RIB received: No
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                0          0
    Keepalives:             1          1
    Route Refresh:          0          0
    Capability:             0          0
    Total:                  2          2
  Minimum time between advertisement runs is 0 seconds
  Update source is 2.2.2.2

 For address family: IPv4 VPN
  Update group 1, subgroup 2
  Packet Queue length 0
  Route-Reflector Client
  Community attribute sent to this neighbor(all)
  0 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:21,   Waiting for peer OPEN (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 2.2.2.2, Local port: 38789
Foreign host: 1.1.1.1, Foreign port: 179
Nexthop: 2.2.2.2
Nexthop global: ::
Nexthop local: ::
BGP connection: non shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 5

BGP neighbor is 3.3.3.3, remote AS 5226, local AS 5226, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r3
  BGP version 4, remote router ID 3.3.3.3, local router ID 2.2.2.2
  BGP state = Established, up for 00:00:05
  Last read 00:00:02, Last write 00:00:02
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 VPN: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 VPN: advertised and received
    Hostname Capability: advertised (name: r2,domain name: n/a) received (name: r3,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 VPN
    End-of-RIB received: IPv4 VPN
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 VPN:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: Yes
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                8          4
    Keepalives:             2          2
    Route Refresh:          0          0
    Capability:             0          0
    Total:                 11          7
  Minimum time between advertisement runs is 0 seconds
  Update source is 2.2.2.2

 For address family: IPv4 VPN
  Update group 1, subgroup 1
  Packet Queue length 0
  Route-Reflector Client
  Community attribute sent to this neighbor(all)
  5 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:21,   Waiting for peer OPEN (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 2.2.2.2, Local port: 179
Foreign host: 3.3.3.3, Foreign port: 43065
Nexthop: 2.2.2.2
Nexthop global: ::
Nexthop local: ::
BGP connection: non shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 25

BGP neighbor is 4.4.4.4, remote AS 5226, local AS 5226, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r4
  BGP version 4, remote router ID 4.4.4.4, local router ID 2.2.2.2
  BGP state = Established, up for 00:00:05
  Last read 00:00:02, Last write 00:00:02
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 VPN: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 VPN: advertised and received
    Hostname Capability: advertised (name: r2,domain name: n/a) received (name: r4,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 VPN
    End-of-RIB received: IPv4 VPN
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 VPN:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: Yes
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                8          5
    Keepalives:             2          2
    Route Refresh:          0          0
    Capability:             0          0
    Total:                 11          8
  Minimum time between advertisement runs is 0 seconds
  Update source is 2.2.2.2

 For address family: IPv4 VPN
  Update group 1, subgroup 1
  Packet Queue length 0
  Route-Reflector Client
  Community attribute sent to this neighbor(all)
  10 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:21,   Waiting for peer OPEN (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 2.2.2.2, Local port: 46653
Foreign host: 4.4.4.4, Foreign port: 179
Nexthop: 2.2.2.2
Nexthop global: ::
Nexthop local: ::
BGP connection: non shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 21:
Tue Oct 31 08:10:12 2023 (#42) scripts/notification_check.py:0 COMMAND:r3:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 2.2.2.2, remote AS 5226, local AS 5226, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r2
  BGP version 4, remote router ID 2.2.2.2, local router ID 3.3.3.3
  BGP state = Established, up for 00:00:05
  Last read 00:00:02, Last write 00:00:02
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 VPN: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 VPN: advertised and received
    Hostname Capability: advertised (name: r3,domain name: n/a) received (name: r2,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 VPN
    End-of-RIB received: IPv4 VPN
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 VPN:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: Yes
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                4          8
    Keepalives:             2          2
    Route Refresh:          0          0
    Capability:             0          0
    Total:                  7         11
  Minimum time between advertisement runs is 0 seconds
  Update source is 3.3.3.3

 For address family: IPv4 VPN
  Update group 2, subgroup 2
  Packet Queue length 0
  Community attribute sent to this neighbor(all)
  10 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:21,   Waiting for peer OPEN (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 3.3.3.3, Local port: 43065
Foreign host: 2.2.2.2, Foreign port: 179
Nexthop: 3.3.3.3
Nexthop global: ::
Nexthop local: ::
BGP connection: non shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 5:
Tue Oct 31 08:10:12 2023 (#42) scripts/notification_check.py:0 COMMAND:r4:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 2.2.2.2, remote AS 5226, local AS 5226, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r2
  BGP version 4, remote router ID 2.2.2.2, local router ID 4.4.4.4
  BGP state = Established, up for 00:00:05
  Last read 00:00:02, Last write 00:00:02
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 VPN: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 VPN: advertised and received
    Hostname Capability: advertised (name: r4,domain name: n/a) received (name: r2,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 VPN
    End-of-RIB received: IPv4 VPN
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 VPN:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: Yes
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                5          8
    Keepalives:             2          2
    Route Refresh:          0          0
    Capability:             0          0
    Total:                  8         11
  Minimum time between advertisement runs is 0 seconds
  Update source is 4.4.4.4

 For address family: IPv4 VPN
  Update group 3, subgroup 3
  Packet Queue length 0
  Community attribute sent to this neighbor(all)
  5 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:20,   Waiting for peer OPEN (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 4.4.4.4, Local port: 179
Foreign host: 2.2.2.2, Foreign port: 46653
Nexthop: 4.4.4.4
Nexthop global: ::
Nexthop local: ::
BGP connection: non shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 30:

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_check_routes" time="6.392"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/check_routes.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/check_routes.py
Tue Oct 31 08:10:12 2023 (#42) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp  ipv4 unicast":.:None:Get  ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 99.0.0.1, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       99.0.0.1                98    123  32768 i
 *&gt; 5.1.1.0/24       99.0.0.1                98    123  32768 i
 *&gt; 6.0.1.0/24       99.0.0.1                98    123  32768 i
 *&gt; 6.0.2.0/24       99.0.0.1               100    100  32768 i
 *&gt; 99.0.0.1/32      0.0.0.0                  0         32768 i

Displayed  5 routes and 5 total paths:
Tue Oct 31 08:10:12 2023 (#42) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp  ipv4 unicast json":.*:None:Get  ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 5,
 "routerId": "99.0.0.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":4,"metric":98,"locPrf":123,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":5,"metric":98,"locPrf":123,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce1","afi":"ipv4","used":true}]}]
 }  }:
R:42 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '99.0.0.1'}, {'p': '5.1.1.0/24', 'n': '99.0.0.1'}, {'p': '6.0.1.0/24', 'n': '99.0.0.1'}, {'p': '6.0.2.0/24', 'n': '99.0.0.1'}, {'p': '99.0.0.1/32', 'n': '0.0.0.0'}]
R:42   ce1    Cust 1 routes in ce1                                     1    0
Tue Oct 31 08:10:12 2023 (#43) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp  ipv4 unicast":.:None:Get  ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 11, local router ID is 99.0.0.2, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       99.0.0.2               100    100  32768 i
 *&gt; 5.1.1.0/24       99.0.0.2               100    100  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 *&gt; 6.0.1.0/24       99.0.0.2               100    100  32768 i
 *&gt; 6.0.2.0/24       99.0.0.2               100    100  32768 i
 *&gt; 99.0.0.2/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  11 routes and 11 total paths:
Tue Oct 31 08:10:12 2023 (#43) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp  ipv4 unicast json":.*:None:Get  ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 11,
 "routerId": "99.0.0.2",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":4,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":9,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":11,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":5,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":7,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":6,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
 }  }:
R:43 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '99.0.0.2'}, {'p': '5.1.1.0/24', 'n': '99.0.0.2'}, {'p': '6.0.1.0/24', 'n': '99.0.0.2'}, {'p': '6.0.2.0/24', 'n': '99.0.0.2'}, {'p': '99.0.0.2/32', 'n': '0.0.0.0'}]
R:43   ce2    Cust 2 routes in ce1                                     1    0
Tue Oct 31 08:10:12 2023 (#44) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp  ipv4 unicast":.:None:Get  ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 11, local router ID is 99.0.0.3, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.1.1            100    100      0 i
 *&gt;i5.1.1.0/24       192.168.1.1            100    100      0 i
 *&gt; 5.1.2.0/24       99.0.0.3               200     50  32768 i
 *&gt; 5.1.3.0/24       99.0.0.3               200     50  32768 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1            100    100      0 i
 *&gt;                  99.0.0.3               200     50  32768 i
 *&gt; 6.0.2.0/24       99.0.0.3               100    100  32768 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.3/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  11 routes and 12 total paths:
Tue Oct 31 08:10:12 2023 (#44) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp  ipv4 unicast json":.*:None:Get  ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 11,
 "routerId": "99.0.0.3",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":11,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":10,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":5,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":7,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":6,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":6,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":3,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":9,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }:
R:44 PASS: RequireUnicastRoutes [{'p': '5.1.2.0/24', 'n': '99.0.0.3'}, {'p': '5.1.3.0/24', 'n': '99.0.0.3'}, {'p': '6.0.1.0/24', 'n': '99.0.0.3'}, {'p': '6.0.2.0/24', 'n': '99.0.0.3'}, {'p': '99.0.0.3/32', 'n': '0.0.0.0'}]
R:44   ce3    Cust 3 routes in ce1                                     1    0
Tue Oct 31 08:10:13 2023 (#45) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 unicast":.:None:Get vrf ce4-cust2 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 13, local router ID is 99.0.0.4, vrf id 2
Default local pref 100, local AS 5228
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.2.1             98    123      0 i
 *&gt;i5.1.1.0/24       192.168.2.1             98    123      0 i
 *&gt;i5.1.2.0/24       192.168.2.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.2.1            200     50      0 i
 *&gt; 5.4.2.0/24       99.0.0.4               200     50  32768 i
 *&gt; 5.4.3.0/24       99.0.0.4               200     50  32768 i
 *&gt; 6.0.1.0/24       99.0.0.4               200     50  32768 i
 * i                 192.168.2.1             98    123      0 i
 *&gt; 6.0.2.0/24       99.0.0.4               100    100  32768 i
 * i                 192.168.2.1            100    100      0 i
 * i99.0.0.1/32      192.168.2.1              0    100      0 i
 *&gt;i99.0.0.2/32      192.168.2.1              0    100      0 i
 *&gt;i99.0.0.3/32      192.168.2.1              0    100      0 i
 *&gt; 99.0.0.4/32      0.0.0.0                  0         32768 i

Displayed  12 routes and 14 total paths:
Tue Oct 31 08:10:13 2023 (#45) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 unicast json":.*:None:Get vrf ce4-cust2 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 2,
 "vrfName": "ce4-cust2",
 "tableVersion": 13,
 "routerId": "99.0.0.4",
 "defaultLocPrf": 100,
 "localAS": 5228,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":13,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":12,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":5,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":8,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":9,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":10,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":10,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":0,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":11,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce4","afi":"ipv4","used":true}]}]
 }  }:
R:45 PASS: RequireUnicastRoutes [{'p': '5.4.2.0/24', 'n': '99.0.0.4'}, {'p': '5.4.3.0/24', 'n': '99.0.0.4'}, {'p': '6.0.1.0/24', 'n': '99.0.0.4'}, {'p': '6.0.2.0/24', 'n': '99.0.0.4'}, {'p': '99.0.0.4/32', 'n': '0.0.0.0'}]
R:45   ce4    Cust 4 routes in ce1                                     1    0
Tue Oct 31 08:10:13 2023 (#46) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 unicast":.:None:Get vrf r1-cust1 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 192.168.1.1, vrf id 4
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
    5.1.0.0/24       3.3.3.3@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.1                98    123      0 i
    5.1.1.0/24       3.3.3.3@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.1                98    123      0 i
    5.1.2.0/24       4.4.4.4@0&lt;             200     50      0 i
    5.1.3.0/24       4.4.4.4@0&lt;             200     50      0 i
    5.4.2.0/24       4.4.4.4@0&lt;             200     50      0 i
    5.4.3.0/24       4.4.4.4@0&lt;             200     50      0 i
    6.0.1.0/24       4.4.4.4@0&lt;             200     50      0 i
                     4.4.4.4@0&lt;             200     50      0 i
                     3.3.3.3@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.1                98    123      0 i
    6.0.2.0/24       4.4.4.4@0&lt;             100    100      0 i
                     4.4.4.4@0&lt;             100    100      0 i
                     3.3.3.3@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.1               100    100      0 i
 *&gt;i99.0.0.1/32      192.168.1.2              0    100      0 i
    99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
    99.0.0.3/32      4.4.4.4@0&lt;               0    100      0 i
    99.0.0.4/32      4.4.4.4@0&lt;               0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 08:10:13 2023 (#46) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 unicast json":.*:None:Get vrf r1-cust1 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 4,
 "vrfName": "r1-cust1",
 "tableVersion": 5,
 "routerId": "192.168.1.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":0,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":0,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":0,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":0,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]},{"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]},{"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]},{"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]},{"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.2","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":0,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":0,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":0,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
 }  }:
R:46 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '99.0.0.1'}, {'p': '5.1.1.0/24', 'n': '99.0.0.1'}, {'p': '6.0.1.0/24', 'n': '99.0.0.1'}, {'p': '6.0.2.0/24', 'n': '99.0.0.1'}, {'p': '99.0.0.1/32', 'n': '192.168.1.2'}]
R:46   r1     Customer 1 routes in r1 vrf                              1    0
Tue Oct 31 08:10:13 2023 (#47) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 unicast":.:None:Get vrf r3-cust1 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 15, local router ID is 192.168.1.1, vrf id 5
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 * i                 99.0.0.2               100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 * i                 99.0.0.2               100    100      0 i
 *&gt; 5.1.2.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.1.3.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.4.2.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.4.3.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   4.4.4.4@0&lt;             200     50      0 i
 *                   4.4.4.4@0&lt;             200     50      0 i
 * i                 99.0.0.2               100    100      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   4.4.4.4@0&lt;             100    100      0 i
 *                   4.4.4.4@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.2               100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt;i99.0.0.2/32      192.168.1.2              0    100      0 i
 *&gt; 99.0.0.3/32      4.4.4.4@0&lt;               0    100      0 i
 *&gt; 99.0.0.4/32      4.4.4.4@0&lt;               0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 08:10:13 2023 (#47) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 unicast json":.*:None:Get vrf r3-cust1 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 5,
 "vrfName": "r3-cust1",
 "tableVersion": 15,
 "routerId": "192.168.1.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":12,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":12,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":13,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":13,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":11,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":9,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":14,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":14,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":14,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":14,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"IGP Metric","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":15,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":7,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":6,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
 }  }:
R:47 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '99.0.0.2'}, {'p': '5.1.1.0/24', 'n': '99.0.0.2'}, {'p': '6.0.1.0/24', 'n': '99.0.0.2'}, {'p': '6.0.2.0/24', 'n': '99.0.0.2'}, {'p': '99.0.0.2/32', 'n': '192.168.1.2'}]
R:47   r3     Customer 1 routes in r3 vrf                              1    0
Tue Oct 31 08:10:13 2023 (#48) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 unicast":.:None:Get vrf r4-cust1 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 18, local router ID is 192.168.1.1, vrf id 5
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt;i5.1.2.0/24       99.0.0.3               200     50      0 i
 *&gt;i5.1.3.0/24       99.0.0.3               200     50      0 i
 *&gt; 5.4.2.0/24       99.0.0.4@6&lt;            200     50      0 i
 *&gt; 5.4.3.0/24       99.0.0.4@6&lt;            200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *                   99.0.0.4@6&lt;            200     50      0 i
 * i                 99.0.0.3               200     50      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *=                  99.0.0.4@6&lt;            100    100      0 i
 *&gt;i                 99.0.0.3               100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt;i99.0.0.3/32      192.168.1.2              0    100      0 i
 *&gt; 99.0.0.4/32      192.168.2.2@6&lt;           0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 08:10:13 2023 (#48) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 unicast json":.*:None:Get vrf r4-cust1 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 5,
 "vrfName": "r4-cust1",
 "tableVersion": 18,
 "routerId": "192.168.1.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":6,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"multipath":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Router ID","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":18,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":11,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.2","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"192.168.2.2","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }:
R:48 PASS: RequireUnicastRoutes [{'p': '5.1.2.0/24', 'n': '99.0.0.3'}, {'p': '5.1.3.0/24', 'n': '99.0.0.3'}, {'p': '6.0.1.0/24', 'n': '99.0.0.3'}, {'p': '6.0.2.0/24', 'n': '99.0.0.3'}, {'p': '99.0.0.3/32', 'n': '192.168.1.2'}]
R:48   r4     Customer 1 routes in r4 vrf                              1    0
Tue Oct 31 08:10:13 2023 (#49) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust2 ipv4 unicast":.:None:Get vrf r4-cust2 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 18, local router ID is 192.168.2.1, vrf id 6
Default local pref 100, local AS 5228
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.2.0/24       99.0.0.3@5&lt;            200     50      0 i
 *&gt; 5.1.3.0/24       99.0.0.3@5&lt;            200     50      0 i
 *&gt;i5.4.2.0/24       99.0.0.4               200     50      0 i
 *&gt;i5.4.3.0/24       99.0.0.4               200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 * i                 99.0.0.4               200     50      0 i
 *                   99.0.0.3@5&lt;            200     50      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *=i                 99.0.0.4               100    100      0 i
 *&gt;                  99.0.0.3@5&lt;            100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt; 99.0.0.3/32      192.168.1.2@5&lt;           0    100      0 i
 *&gt;i99.0.0.4/32      192.168.2.2              0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 08:10:13 2023 (#49) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust2 ipv4 unicast json":.*:None:Get vrf r4-cust2 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 6,
 "vrfName": "r4-cust2",
 "tableVersion": 18,
 "routerId": "192.168.2.1",
 "defaultLocPrf": 100,
 "localAS": 5228,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":6,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"multipath":true,"pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Router ID","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":18,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":11,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"192.168.1.2","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.2","hostname":"ce4","afi":"ipv4","used":true}]}]
 }  }:
R:49 PASS: RequireUnicastRoutes [{'p': '5.4.2.0/24', 'n': '99.0.0.4'}, {'p': '5.4.3.0/24', 'n': '99.0.0.4'}, {'p': '6.0.1.0/24', 'n': '99.0.0.4'}, {'p': '6.0.2.0/24', 'n': '99.0.0.4'}, {'p': '99.0.0.4/32', 'n': '192.168.2.2'}]
R:49   r4     Customer 2 routes in r4 vrf                              1    0
Tue Oct 31 08:10:13 2023 (#50) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp ipv4 uni":No BGP prefixes displayed:pass:Core Unicast SAFI clean:
COMMAND OUTPUT:No BGP prefixes displayed, 0 exist:
R:50   r1     Core Unicast SAFI clean                                  1    0
Tue Oct 31 08:10:13 2023 (#51) scripts/check_routes.py:0 COMMAND:r2:vtysh -c "show bgp ipv4 uni":No BGP prefixes displayed:pass:Core Unicast SAFI clean:
COMMAND OUTPUT:No BGP prefixes displayed, 0 exist:
R:51   r2     Core Unicast SAFI clean                                  1    0
Tue Oct 31 08:10:13 2023 (#52) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp ipv4 uni":No BGP prefixes displayed:pass:Core Unicast SAFI clean:
COMMAND OUTPUT:No BGP prefixes displayed, 0 exist:
R:52   r3     Core Unicast SAFI clean                                  1    0
Tue Oct 31 08:10:13 2023 (#53) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp ipv4 uni":No BGP prefixes displayed:pass:Core Unicast SAFI clean:
COMMAND OUTPUT:No BGP prefixes displayed, 0 exist:
R:53   r4     Core Unicast SAFI clean                                  1    0
Tue Oct 31 08:10:13 2023 (#54) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp ipv4 vpn":Distinguisher:  *10:1.*5.1.0.0/24 *99.0.0.1\b.*5.1.1.0/24 *99.0.0.1\b.*6.0.1.0/24 *99.0.0.1\b.*6.0.2.0/24 *99.0.0.1\b.*99.0.0.1/32 *192.168.1.2\b:pass:vrf-&gt;vpn routes:
COMMAND OUTPUT:BGP table version is 5, local router ID is 1.1.1.1, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt; 5.1.0.0/24       99.0.0.1@4&lt;             98    123      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 5.1.1.0/24       99.0.0.1@4&lt;             98    123      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.1@4&lt;             98    123      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.1@4&lt;            100    100      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 99.0.0.1/32      192.168.1.2@4&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=101 type=bgp, subtype=5
Route Distinguisher: 10:3
 *&gt;i5.1.0.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i99.0.0.2/32      3.3.3.3                  0    100      0 i
    UN=3.3.3.3 EC{52:100} label=103 type=bgp, subtype=0
Route Distinguisher: 10:41
 *&gt;i5.1.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i5.1.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i99.0.0.3/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1041 type=bgp, subtype=0
Route Distinguisher: 10:42
 *&gt;i5.4.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i5.4.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i99.0.0.4/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1042 type=bgp, subtype=0

Displayed  20 routes and 20 total paths:
R:54   r1     vrf-&gt;vpn routes                                          1    0
Tue Oct 31 08:10:13 2023 (#55) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp ipv4 vpn":Distinguisher:  *10:3.*5.1.0.0/24 *99.0.0.2\b.*5.1.1.0/24 *99.0.0.2\b.*6.0.1.0/24 *99.0.0.2\b.*6.0.2.0/24 *99.0.0.2\b.*99.0.0.2/32 *192.168.1.2\b:pass:vrf-&gt;vpn routes:
COMMAND OUTPUT:BGP table version is 5, local router ID is 3.3.3.3, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt;i5.1.0.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       1.1.1.1                100    100      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i99.0.0.1/32      1.1.1.1                  0    100      0 i
    UN=1.1.1.1 EC{52:100} label=101 type=bgp, subtype=0
Route Distinguisher: 10:3
 *&gt; 5.1.0.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 5.1.1.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 99.0.0.2/32      192.168.1.2@5&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=103 type=bgp, subtype=5
Route Distinguisher: 10:41
 *&gt;i5.1.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i5.1.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i99.0.0.3/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1041 type=bgp, subtype=0
Route Distinguisher: 10:42
 *&gt;i5.4.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i5.4.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i99.0.0.4/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1042 type=bgp, subtype=0

Displayed  20 routes and 20 total paths:
R:55   r3     vrf-&gt;vpn routes                                          1    0
Tue Oct 31 08:10:13 2023 (#56) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp ipv4 vpn":.:None:Get VPN RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 4.4.4.4, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt;i5.1.0.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       1.1.1.1                100    100      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i99.0.0.1/32      1.1.1.1                  0    100      0 i
    UN=1.1.1.1 EC{52:100} label=101 type=bgp, subtype=0
Route Distinguisher: 10:3
 *&gt;i5.1.0.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i99.0.0.2/32      3.3.3.3                  0    100      0 i
    UN=3.3.3.3 EC{52:100} label=103 type=bgp, subtype=0
Route Distinguisher: 10:41
 *&gt; 5.1.2.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 5.1.3.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.3@5&lt;            100    100      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 99.0.0.3/32      192.168.1.2@5&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=1041 type=bgp, subtype=5
Route Distinguisher: 10:42
 *&gt; 5.4.2.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 5.4.3.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.4@6&lt;            100    100      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 99.0.0.4/32      192.168.2.2@6&lt;           0    100      0 i
    UN=192.168.2.2 EC{52:100} label=1042 type=bgp, subtype=5

Displayed  20 routes and 20 total paths:
Tue Oct 31 08:10:13 2023 (#56) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp ipv4 vpn json":.*:None:Get VPN RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 5,
 "routerId": "4.4.4.4",
 "defaultLocPrf": 100,
 "localAS": 5226,
 "routes": {  "routeDistinguishers" : { "10:1" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":2,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:3" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:41" : { "5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":5,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"192.168.1.2","hostname":"r4","afi":"ipv4","used":true}]}]
 },  "10:42" : { "5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":5,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"192.168.2.2","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }  }  }:
R:56 PASS: RequireVpnRoutes [{'rd': '10:41', 'p': '5.1.2.0/24', 'n': '99.0.0.3'}, {'rd': '10:41', 'p': '5.1.3.0/24', 'n': '99.0.0.3'}, {'rd': '10:41', 'p': '6.0.1.0/24', 'n': '99.0.0.3'}, {'rd': '10:41', 'p': '6.0.2.0/24', 'n': '99.0.0.3'}, {'rd': '10:41', 'p': '99.0.0.3/32', 'n': '192.168.1.2'}, {'rd': '10:42', 'p': '5.4.2.0/24', 'n': '99.0.0.4'}, {'rd': '10:42', 'p': '5.4.3.0/24', 'n': '99.0.0.4'}, {'rd': '10:42', 'p': '6.0.1.0/24', 'n': '99.0.0.4'}, {'rd': '10:42', 'p': '6.0.2.0/24', 'n': '99.0.0.4'}, {'rd': '10:42', 'p': '99.0.0.4/32', 'n': '192.168.2.2'}]
R:56   r4     vrf-&gt;vpn routes                                          1    0
Tue Oct 31 08:10:13 2023 (#57) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show mpls table": 101 *BGP *r1-cust1:pass:vrf labels:
COMMAND OUTPUT: Inbound Label  Type  Nexthop   Outbound Label  
 -----------------------------------------------
 101            BGP   r1-cust1  -:
R:57   r1     vrf labels                                               1    0
Tue Oct 31 08:10:13 2023 (#58) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show mpls table": 103 *BGP *r3-cust1:pass:vrf labels:
COMMAND OUTPUT: Inbound Label  Type  Nexthop   Outbound Label  
 -----------------------------------------------
 16             LDP   10.0.2.4  implicit-null   
 17             LDP   10.0.2.2  implicit-null   
 17             LDP   10.0.3.2  implicit-null   
 18             LDP   10.0.2.2  implicit-null   
 18             LDP   10.0.3.2  implicit-null   
 19             LDP   10.0.2.2  18              
 19             LDP   10.0.3.2  18              
 103            BGP   r3-cust1  -:
R:58   r3     vrf labels                                               1    0
Tue Oct 31 08:10:13 2023 (#59) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show mpls table": 1041 *BGP *r4-cust1 .*1042 *BGP *r4-cust2:pass:vrf labels:
COMMAND OUTPUT: Inbound Label  Type  Nexthop   Outbound Label  
 -----------------------------------------------
 16             LDP   10.0.2.2  implicit-null   
 17             LDP   10.0.2.3  implicit-null   
 18             LDP   10.0.2.2  implicit-null   
 19             LDP   10.0.2.3  implicit-null   
 19             LDP   10.0.2.2  implicit-null   
 20             LDP   10.0.2.2  18              
 1041           BGP   r4-cust1  -               
 1042           BGP   r4-cust2  -:
R:59   r4     vrf labels                                               1    0
Tue Oct 31 08:10:13 2023 (#60) scripts/check_routes.py:0 COMMAND:r2:vtysh -c "show bgp ipv4 vpn":.:None:Get VPN RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 2.2.2.2, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt;i5.1.0.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       1.1.1.1                100    100      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i99.0.0.1/32      1.1.1.1                  0    100      0 i
    UN=1.1.1.1 EC{52:100} label=101 type=bgp, subtype=0
Route Distinguisher: 10:3
 *&gt;i5.1.0.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i99.0.0.2/32      3.3.3.3                  0    100      0 i
    UN=3.3.3.3 EC{52:100} label=103 type=bgp, subtype=0
Route Distinguisher: 10:41
 *&gt;i5.1.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i5.1.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i99.0.0.3/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1041 type=bgp, subtype=0
Route Distinguisher: 10:42
 *&gt;i5.4.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i5.4.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i99.0.0.4/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1042 type=bgp, subtype=0

Displayed  20 routes and 20 total paths:
Tue Oct 31 08:10:13 2023 (#60) scripts/check_routes.py:0 COMMAND:r2:vtysh -c "show bgp ipv4 vpn json":.*:None:Get VPN RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 5,
 "routerId": "2.2.2.2",
 "defaultLocPrf": 100,
 "localAS": 5226,
 "routes": {  "routeDistinguishers" : { "10:1" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":98,"locPrf":123,"weight":0,"peerId":"1.1.1.1","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"1.1.1.1","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":98,"locPrf":123,"weight":0,"peerId":"1.1.1.1","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"1.1.1.1","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"1.1.1.1","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
 },  "10:3" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":100,"locPrf":100,"weight":0,"peerId":"3.3.3.3","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"3.3.3.3","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"3.3.3.3","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"3.3.3.3","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"3.3.3.3","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r3","afi":"ipv4","used":true}]}]
 },  "10:41" : { "5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":1,"metric":200,"locPrf":50,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":200,"locPrf":50,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
 },  "10:42" : { "5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":2,"metric":200,"locPrf":50,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":1,"metric":200,"locPrf":50,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":5,"metric":100,"locPrf":100,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":4,"metric":0,"locPrf":100,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }  }  }:
R:60 PASS: RequireVpnRoutes [{'rd': '10:1', 'p': '5.1.0.0/24', 'n': '1.1.1.1'}, {'rd': '10:1', 'p': '5.1.0.0/24', 'n': '1.1.1.1'}, {'rd': '10:1', 'p': '99.0.0.1/32', 'n': '1.1.1.1'}, {'rd': '10:3', 'p': '5.1.0.0/24', 'n': '3.3.3.3'}, {'rd': '10:3', 'p': '5.1.0.0/24', 'n': '3.3.3.3'}, {'rd': '10:3', 'p': '99.0.0.2/32', 'n': '3.3.3.3'}, {'rd': '10:41', 'p': '5.1.2.0/24', 'n': '4.4.4.4'}, {'rd': '10:41', 'p': '5.1.3.0/24', 'n': '4.4.4.4'}, {'rd': '10:41', 'p': '99.0.0.3/32', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '5.4.2.0/24', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '5.4.3.0/24', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '99.0.0.4/32', 'n': '4.4.4.4'}]
R:60   r2     Customer routes in provider vpn core                     1    0
Tue Oct 31 08:10:14 2023 (#61) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp ipv4 vpn":.:None:Get VPN RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 1.1.1.1, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt; 5.1.0.0/24       99.0.0.1@4&lt;             98    123      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 5.1.1.0/24       99.0.0.1@4&lt;             98    123      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.1@4&lt;             98    123      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.1@4&lt;            100    100      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 99.0.0.1/32      192.168.1.2@4&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=101 type=bgp, subtype=5
Route Distinguisher: 10:3
 *&gt;i5.1.0.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i99.0.0.2/32      3.3.3.3                  0    100      0 i
    UN=3.3.3.3 EC{52:100} label=103 type=bgp, subtype=0
Route Distinguisher: 10:41
 *&gt;i5.1.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i5.1.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i99.0.0.3/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1041 type=bgp, subtype=0
Route Distinguisher: 10:42
 *&gt;i5.4.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i5.4.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i99.0.0.4/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1042 type=bgp, subtype=0

Displayed  20 routes and 20 total paths:
Tue Oct 31 08:10:14 2023 (#61) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp ipv4 vpn json":.*:None:Get VPN RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 5,
 "routerId": "1.1.1.1",
 "defaultLocPrf": 100,
 "localAS": 5226,
 "routes": {  "routeDistinguishers" : { "10:1" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r1-cust1","nhVrfId":4,"nexthops":[{"ip":"99.0.0.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r1-cust1","nhVrfId":4,"nexthops":[{"ip":"99.0.0.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r1-cust1","nhVrfId":4,"nexthops":[{"ip":"99.0.0.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r1-cust1","nhVrfId":4,"nexthops":[{"ip":"99.0.0.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r1-cust1","nhVrfId":4,"nexthops":[{"ip":"192.168.1.2","hostname":"r1","afi":"ipv4","used":true}]}]
 },  "10:3" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:41" : { "5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":1,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:42" : { "5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":2,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":1,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":5,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":4,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
 }  }  }  }:
R:61 PASS: RequireVpnRoutes [{'rd': '10:3', 'p': '5.1.0.0/24', 'n': '3.3.3.3'}, {'rd': '10:3', 'p': '5.1.1.0/24', 'n': '3.3.3.3'}, {'rd': '10:3', 'p': '99.0.0.2/32', 'n': '3.3.3.3'}, {'rd': '10:41', 'p': '5.1.2.0/24', 'n': '4.4.4.4'}, {'rd': '10:41', 'p': '5.1.3.0/24', 'n': '4.4.4.4'}, {'rd': '10:41', 'p': '99.0.0.3/32', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '5.4.2.0/24', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '5.4.3.0/24', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '99.0.0.4/32', 'n': '4.4.4.4'}]
R:61   r1     Remote Customer routes in R1 vpn                         1    0
Tue Oct 31 08:10:14 2023 (#62) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp ipv4 vpn":.:None:Get VPN RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 3.3.3.3, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt;i5.1.0.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       1.1.1.1                100    100      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i99.0.0.1/32      1.1.1.1                  0    100      0 i
    UN=1.1.1.1 EC{52:100} label=101 type=bgp, subtype=0
Route Distinguisher: 10:3
 *&gt; 5.1.0.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 5.1.1.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 99.0.0.2/32      192.168.1.2@5&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=103 type=bgp, subtype=5
Route Distinguisher: 10:41
 *&gt;i5.1.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i5.1.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i99.0.0.3/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1041 type=bgp, subtype=0
Route Distinguisher: 10:42
 *&gt;i5.4.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i5.4.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i99.0.0.4/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1042 type=bgp, subtype=0

Displayed  20 routes and 20 total paths:
Tue Oct 31 08:10:14 2023 (#62) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp ipv4 vpn json":.*:None:Get VPN RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 5,
 "routerId": "3.3.3.3",
 "defaultLocPrf": 100,
 "localAS": 5226,
 "routes": {  "routeDistinguishers" : { "10:1" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":2,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:3" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r3-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.2","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r3-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.2","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r3-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.2","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r3-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.2","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r3-cust1","nhVrfId":5,"nexthops":[{"ip":"192.168.1.2","hostname":"r3","afi":"ipv4","used":true}]}]
 },  "10:41" : { "5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":1,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:42" : { "5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":2,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":1,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":5,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":4,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
 }  }  }  }:
R:62 PASS: RequireVpnRoutes [{'rd': '10:1', 'p': '5.1.0.0/24', 'n': '1.1.1.1'}, {'rd': '10:1', 'p': '5.1.1.0/24', 'n': '1.1.1.1'}, {'rd': '10:1', 'p': '99.0.0.1/32', 'n': '1.1.1.1'}, {'rd': '10:41', 'p': '5.1.2.0/24', 'n': '4.4.4.4'}, {'rd': '10:41', 'p': '5.1.3.0/24', 'n': '4.4.4.4'}, {'rd': '10:41', 'p': '99.0.0.3/32', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '5.4.2.0/24', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '5.4.3.0/24', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '99.0.0.4/32', 'n': '4.4.4.4'}]
R:62   r3     Remote Customer routes in R3 vpn                         1    0
Tue Oct 31 08:10:14 2023 (#63) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp ipv4 vpn":.:None:Get VPN RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 4.4.4.4, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt;i5.1.0.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       1.1.1.1                100    100      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i99.0.0.1/32      1.1.1.1                  0    100      0 i
    UN=1.1.1.1 EC{52:100} label=101 type=bgp, subtype=0
Route Distinguisher: 10:3
 *&gt;i5.1.0.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i99.0.0.2/32      3.3.3.3                  0    100      0 i
    UN=3.3.3.3 EC{52:100} label=103 type=bgp, subtype=0
Route Distinguisher: 10:41
 *&gt; 5.1.2.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 5.1.3.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.3@5&lt;            100    100      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 99.0.0.3/32      192.168.1.2@5&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=1041 type=bgp, subtype=5
Route Distinguisher: 10:42
 *&gt; 5.4.2.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 5.4.3.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.4@6&lt;            100    100      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 99.0.0.4/32      192.168.2.2@6&lt;           0    100      0 i
    UN=192.168.2.2 EC{52:100} label=1042 type=bgp, subtype=5

Displayed  20 routes and 20 total paths:
Tue Oct 31 08:10:14 2023 (#63) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp ipv4 vpn json":.*:None:Get VPN RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 5,
 "routerId": "4.4.4.4",
 "defaultLocPrf": 100,
 "localAS": 5226,
 "routes": {  "routeDistinguishers" : { "10:1" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":2,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:3" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:41" : { "5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":5,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"192.168.1.2","hostname":"r4","afi":"ipv4","used":true}]}]
 },  "10:42" : { "5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":5,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"192.168.2.2","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }  }  }:
R:63 PASS: RequireVpnRoutes [{'rd': '10:1', 'p': '5.1.0.0/24', 'n': '1.1.1.1'}, {'rd': '10:1', 'p': '5.1.1.0/24', 'n': '1.1.1.1'}, {'rd': '10:1', 'p': '99.0.0.1/32', 'n': '1.1.1.1'}, {'rd': '10:3', 'p': '5.1.0.0/24', 'n': '3.3.3.3'}, {'rd': '10:3', 'p': '5.1.1.0/24', 'n': '3.3.3.3'}, {'rd': '10:3', 'p': '99.0.0.2/32', 'n': '3.3.3.3'}]
R:63   r4     Remote Customer routes in R4 vpn                         1    0
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.0.0/24":2 available, best:wait:Ensure 5.1.0.0 shows up on r1:10:0.5:
Tue Oct 31 08:10:14 2023 (#64) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.0.0/24":2 available, best:wait:Ensure 5.1.0.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.0.0/24, version 3
Paths: (2 available, best #2, vrf r1-cust1)
  Not advertised to any peer
  Imported from 10:3:5.1.0.0/24
  Local
    3.3.3.3 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:10:13 2023
  Local
    99.0.0.1 from 192.168.1.2 (99.0.0.1)
      Origin IGP, metric 98, localpref 123, valid, internal, best (First path received)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:09:58 2023:
R:64   r1     Ensure 5.1.0.0 shows up on r1 +0.03 secs                 1    0
Done after 1 loops, time=0.03407621383666992, Found=2 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.1.0/24":2 available, best:wait:Ensure 5.1.1.0 shows up on r1:10:0.5:
Tue Oct 31 08:10:14 2023 (#65) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.1.0/24":2 available, best:wait:Ensure 5.1.1.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.1.0/24, version 5
Paths: (2 available, best #2, vrf r1-cust1)
  Not advertised to any peer
  Imported from 10:3:5.1.1.0/24
  Local
    3.3.3.3 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:10:13 2023
  Local
    99.0.0.1 from 192.168.1.2 (99.0.0.1)
      Origin IGP, metric 98, localpref 123, valid, internal, best (First path received)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:09:58 2023:
R:65   r1     Ensure 5.1.1.0 shows up on r1 +0.03 secs                 1    0
Done after 1 loops, time=0.03433370590209961, Found=2 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:10:0.5:
Tue Oct 31 08:10:14 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 0
Paths: (1 available, no best path)
  Not advertised to any peer
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:10:13 2023:
Tue Oct 31 08:10:14 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 0
Paths: (1 available, no best path)
  Not advertised to any peer
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:10:12 2023:
Tue Oct 31 08:10:15 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 0
Paths: (1 available, no best path)
  Not advertised to any peer
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:10:13 2023:
Tue Oct 31 08:10:15 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 0
Paths: (1 available, no best path)
  Not advertised to any peer
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:10:12 2023:
Tue Oct 31 08:10:16 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 0
Paths: (1 available, no best path)
  Not advertised to any peer
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:10:13 2023:
Tue Oct 31 08:10:16 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 12
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:10:12 2023:
R:66   r1     Ensure 5.1.2.0 shows up on r1 +2.71 secs                 1    0
Done after 6 loops, time=2.7074766159057617, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.3.0/24":1 available, best:wait:Ensure 5.1.3.0 shows up on r1:10:0.5:
Tue Oct 31 08:10:16 2023 (#67) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.3.0/24":1 available, best:wait:Ensure 5.1.3.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.3.0/24, version 9
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:41:5.1.3.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:10:13 2023:
R:67   r1     Ensure 5.1.3.0 shows up on r1 +0.03 secs                 1    0
Done after 1 loops, time=0.0337831974029541, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.4.2.0/24":1 available, best:wait:Ensure 5.4.2.0 shows up on r1:10:0.5:
Tue Oct 31 08:10:17 2023 (#68) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.4.2.0/24":1 available, best:wait:Ensure 5.4.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.4.2.0/24, version 10
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:5.4.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 08:10:13 2023:
R:68   r1     Ensure 5.4.2.0 shows up on r1 +0.03 secs                 1    0
Done after 1 loops, time=0.03469419479370117, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.4.2.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r1:10:0.5:
Tue Oct 31 08:10:17 2023 (#69) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.4.2.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.4.2.0/24, version 10
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:5.4.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 08:10:13 2023:
R:69   r1     Ensure 5.4.3.0 shows up on r1 +0.03 secs                 1    0
Done after 1 loops, time=0.03495144844055176, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 6.0.1.0/24":4 available, best:wait:Ensure 6.0.1.0 shows up on r1:10:0.5:
Tue Oct 31 08:10:17 2023 (#70) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 6.0.1.0/24":4 available, best:wait:Ensure 6.0.1.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 4
Paths: (4 available, best #4, vrf r1-cust1)
  Not advertised to any peer
  Imported from 10:41:6.0.1.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:10:13 2023
  Imported from 10:42:6.0.1.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 08:10:13 2023
  Imported from 10:3:6.0.1.0/24
  Local
    3.3.3.3 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:10:13 2023
  Local
    99.0.0.1 from 192.168.1.2 (99.0.0.1)
      Origin IGP, metric 98, localpref 123, valid, internal, best (Local Pref)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:09:58 2023:
R:70   r1     Ensure 6.0.1.0 shows up on r1 +0.04 secs                 1    0
Done after 1 loops, time=0.03561282157897949, Found=4 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 6.0.2.0/24":4 available, best:wait:Ensure 6.0.2.0 shows up on r1:10:0.5:
Tue Oct 31 08:10:17 2023 (#71) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 6.0.2.0/24":4 available, best:wait:Ensure 6.0.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 2
Paths: (4 available, best #4, vrf r1-cust1)
  Not advertised to any peer
  Imported from 10:42:6.0.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:14
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 08:10:13 2023
  Imported from 10:41:6.0.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:13
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:10:13 2023
  Imported from 10:3:6.0.2.0/24
  Local
    3.3.3.3 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:10:13 2023
  Local
    99.0.0.1 from 192.168.1.2 (99.0.0.1)
      Origin IGP, metric 100, localpref 100, valid, internal, best (IGP Metric)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:11
      Last update: Tue Oct 31 08:09:58 2023:
R:71   r1     Ensure 6.0.2.0 shows up on r1 +0.03 secs                 1    0
Done after 1 loops, time=0.03333139419555664, Found=4 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.1/32":1 available, best:wait:Ensure 99.0.0.1 shows up on r1:10:0.5:
Tue Oct 31 08:10:17 2023 (#72) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.1/32":1 available, best:wait:Ensure 99.0.0.1 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.1/32, version 1
Paths: (1 available, best #1, vrf r1-cust1)
  Not advertised to any peer
  Local
    192.168.1.2 from 192.168.1.2 (99.0.0.1)
      Origin IGP, metric 0, localpref 100, valid, internal, best (First path received)
      Last update: Tue Oct 31 08:09:54 2023:
R:72   r1     Ensure 99.0.0.1 shows up on r1 +0.03 secs                1    0
Done after 1 loops, time=0.03348565101623535, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.2/32":1 available, best:wait:Ensure 99.0.0.2 shows up on r1:10:0.5:
Tue Oct 31 08:10:17 2023 (#73) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.2/32":1 available, best:wait:Ensure 99.0.0.2 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.2/32, version 6
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:3:99.0.0.2/32
  Local
    3.3.3.3 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:10:13 2023:
R:73   r1     Ensure 99.0.0.2 shows up on r1 +0.04 secs                1    0
Done after 1 loops, time=0.0350184440612793, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.3/32":1 available, best:wait:Ensure 99.0.0.3 shows up on r1:10:0.5:
Tue Oct 31 08:10:17 2023 (#74) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.3/32":1 available, best:wait:Ensure 99.0.0.3 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.3/32, version 8
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:41:99.0.0.3/32
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:10:13 2023:
R:74   r1     Ensure 99.0.0.3 shows up on r1 +0.03 secs                1    0
Done after 1 loops, time=0.0334322452545166, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.4/32":1 available, best:wait:Ensure 99.0.0.4 shows up on r1:10:0.5:
Tue Oct 31 08:10:17 2023 (#75) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.4/32":1 available, best:wait:Ensure 99.0.0.4 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.4/32, version 7
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:99.0.0.4/32
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 08:10:13 2023:
R:75   r1     Ensure 99.0.0.4 shows up on r1 +0.03 secs                1    0
Done after 1 loops, time=0.03343844413757324, Found=1 available, best
Tue Oct 31 08:10:17 2023 (#76) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 unicast":.:None:Get vrf r1-cust1 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 12, local router ID is 192.168.1.1, vrf id 4
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *  5.1.0.0/24       3.3.3.3@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.1                98    123      0 i
 *  5.1.1.0/24       3.3.3.3@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.1                98    123      0 i
 *&gt; 5.1.2.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.1.3.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.4.2.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.4.3.0/24       4.4.4.4@0&lt;             200     50      0 i
 *  6.0.1.0/24       4.4.4.4@0&lt;             200     50      0 i
 *                   4.4.4.4@0&lt;             200     50      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.1                98    123      0 i
 *  6.0.2.0/24       4.4.4.4@0&lt;             100    100      0 i
 *                   4.4.4.4@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.1               100    100      0 i
 *&gt;i99.0.0.1/32      192.168.1.2              0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt; 99.0.0.3/32      4.4.4.4@0&lt;               0    100      0 i
 *&gt; 99.0.0.4/32      4.4.4.4@0&lt;               0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 08:10:17 2023 (#76) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 unicast json":.*:None:Get vrf r1-cust1 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 4,
 "vrfName": "r1-cust1",
 "tableVersion": 12,
 "routerId": "192.168.1.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":12,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":9,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":11,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"IGP Metric","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.2","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":6,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":8,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":7,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
 }  }:
R:76 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '5.1.0.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '5.1.1.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '5.1.2.0/24', 'n': '4.4.4.4'}, {'p': '5.1.3.0/24', 'n': '4.4.4.4'}, {'p': '5.4.2.0/24', 'n': '4.4.4.4'}, {'p': '5.4.3.0/24', 'n': '4.4.4.4'}, {'p': '6.0.1.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '4.4.4.4', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '6.0.2.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.2.0/24', 'n': '4.4.4.4', 'bp': False}, {'p': '6.0.2.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '99.0.0.1/32', 'n': '192.168.1.2', 'bp': True}, {'p': '99.0.0.2/32', 'n': '3.3.3.3'}, {'p': '99.0.0.3/32', 'n': '4.4.4.4'}, {'p': '99.0.0.4/32', 'n': '4.4.4.4'}]
R:76   r1     Customer 1 routes in r1 vrf (2)                          1    0
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.0.0/24":2 available, best:wait:Ensure 5.1.0.0 shows up r3:10:0.5:
Tue Oct 31 08:10:17 2023 (#77) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.0.0/24":2 available, best:wait:Ensure 5.1.0.0 shows up r3:
COMMAND OUTPUT:BGP routing table entry for 5.1.0.0/24, version 12
Paths: (2 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:5.1.0.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 98, localpref 123, valid, sourced, local, best (Local Pref)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:10:13 2023
  Local
    99.0.0.2 from 192.168.1.2 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, valid, internal
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:09:59 2023:
R:77   r3     Ensure 5.1.0.0 shows up r3 +0.03 secs                    1    0
Done after 1 loops, time=0.03473067283630371, Found=2 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.1.0/24":2 available, best:wait:Ensure 5.1.1.0 shows up on r3:10:0.5:
Tue Oct 31 08:10:17 2023 (#78) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.1.0/24":2 available, best:wait:Ensure 5.1.1.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 5.1.1.0/24, version 13
Paths: (2 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:5.1.1.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 98, localpref 123, valid, sourced, local, best (Local Pref)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:10:13 2023
  Local
    99.0.0.2 from 192.168.1.2 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, valid, internal
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:09:59 2023:
R:78   r3     Ensure 5.1.1.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.034561872482299805, Found=2 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r3:10:0.5:
Tue Oct 31 08:10:17 2023 (#79) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 11
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:10:09 2023:
R:79   r3     Ensure 5.1.2.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.03391909599304199, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.3.0/24":1 available, best:wait:Ensure 5.1.3.0 shows up on r3:10:0.5:
Tue Oct 31 08:10:17 2023 (#80) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.3.0/24":1 available, best:wait:Ensure 5.1.3.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 5.1.3.0/24, version 8
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:41:5.1.3.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:10:09 2023:
R:80   r3     Ensure 5.1.3.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.03497886657714844, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.4.3.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r3:10:0.5:
Tue Oct 31 08:10:17 2023 (#81) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.4.3.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 5.4.3.0/24, version 10
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:5.4.3.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 08:10:09 2023:
R:81   r3     Ensure 5.4.3.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.0341031551361084, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.4.3.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r3:10:0.5:
Tue Oct 31 08:10:17 2023 (#82) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.4.3.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 5.4.3.0/24, version 10
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:5.4.3.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 08:10:09 2023:
R:82   r3     Ensure 5.4.3.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.033025264739990234, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.4.3.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r3:10:0.5:
Tue Oct 31 08:10:17 2023 (#83) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.4.3.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 5.4.3.0/24, version 10
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:5.4.3.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 08:10:09 2023:
R:83   r3     Ensure 5.4.3.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.03342890739440918, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 6.0.1.0/24":4 available, best:wait:Ensure 6.0.1.0 shows up on r3:10:0.5:
Tue Oct 31 08:10:17 2023 (#84) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 6.0.1.0/24":4 available, best:wait:Ensure 6.0.1.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 14
Paths: (4 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:6.0.1.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 98, localpref 123, valid, sourced, local, best (Local Pref)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:10:13 2023
  Imported from 10:41:6.0.1.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:10:09 2023
  Imported from 10:42:6.0.1.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 08:10:09 2023
  Local
    99.0.0.2 from 192.168.1.2 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, valid, internal
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:09:59 2023:
R:84   r3     Ensure 6.0.1.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.03303647041320801, Found=4 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 6.0.2.0/24":4 available, best:wait:Ensure 6.0.2.0 shows up on r3:10:0.5:
Tue Oct 31 08:10:17 2023 (#85) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 6.0.2.0/24":4 available, best:wait:Ensure 6.0.2.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 2
Paths: (4 available, best #4, vrf r3-cust1)
  Not advertised to any peer
  Imported from 10:1:6.0.2.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:11
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:10:13 2023
  Imported from 10:42:6.0.2.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:14
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 08:10:09 2023
  Imported from 10:41:6.0.2.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:13
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:10:09 2023
  Local
    99.0.0.2 from 192.168.1.2 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, valid, internal, best (IGP Metric)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:12
      Last update: Tue Oct 31 08:09:59 2023:
R:85   r3     Ensure 6.0.2.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.03465533256530762, Found=4 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 99.0.0.1/32":1 available, best:wait:Ensure 99.0.0.1 shows up on r3:10:0.5:
Tue Oct 31 08:10:17 2023 (#86) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 99.0.0.1/32":1 available, best:wait:Ensure 99.0.0.1 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.1/32, version 15
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:99.0.0.1/32
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:10:12 2023:
R:86   r3     Ensure 99.0.0.1 shows up on r3 +0.03 secs                1    0
Done after 1 loops, time=0.03375673294067383, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 99.0.0.3/32":1 available, best:wait:Ensure 99.0.0.3 shows up on r3:10:0.5:
Tue Oct 31 08:10:17 2023 (#87) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 99.0.0.3/32":1 available, best:wait:Ensure 99.0.0.3 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.3/32, version 7
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:41:99.0.0.3/32
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:10:08 2023:
R:87   r3     Ensure 99.0.0.3 shows up on r3 +0.03 secs                1    0
Done after 1 loops, time=0.033869266510009766, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 99.0.0.4/32":1 available, best:wait:Ensure 99.0.0.4 shows up on r3:10:0.5:
Tue Oct 31 08:10:17 2023 (#88) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 99.0.0.4/32":1 available, best:wait:Ensure 99.0.0.4 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.4/32, version 6
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:99.0.0.4/32
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 08:10:08 2023:
R:88   r3     Ensure 99.0.0.4 shows up on r3 +0.03 secs                1    0
Done after 1 loops, time=0.03403878211975098, Found=1 available, best
Tue Oct 31 08:10:17 2023 (#89) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 unicast":.:None:Get vrf r3-cust1 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 15, local router ID is 192.168.1.1, vrf id 5
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 * i                 99.0.0.2               100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 * i                 99.0.0.2               100    100      0 i
 *&gt; 5.1.2.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.1.3.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.4.2.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.4.3.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   4.4.4.4@0&lt;             200     50      0 i
 *                   4.4.4.4@0&lt;             200     50      0 i
 * i                 99.0.0.2               100    100      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   4.4.4.4@0&lt;             100    100      0 i
 *                   4.4.4.4@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.2               100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt;i99.0.0.2/32      192.168.1.2              0    100      0 i
 *&gt; 99.0.0.3/32      4.4.4.4@0&lt;               0    100      0 i
 *&gt; 99.0.0.4/32      4.4.4.4@0&lt;               0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 08:10:17 2023 (#89) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 unicast json":.*:None:Get vrf r3-cust1 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 5,
 "vrfName": "r3-cust1",
 "tableVersion": 15,
 "routerId": "192.168.1.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":12,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":12,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":13,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":13,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":11,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":9,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":14,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":14,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":14,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":14,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"IGP Metric","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":15,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":7,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":6,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
 }  }:
R:89 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '5.1.0.0/24', 'n': '99.0.0.2', 'bp': False}, {'p': '5.1.1.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '99.0.0.2', 'bp': False}, {'p': '5.1.2.0/24', 'n': '4.4.4.4', 'bp': True}, {'p': '5.1.3.0/24', 'n': '4.4.4.4', 'bp': True}, {'p': '5.4.2.0/24', 'n': '4.4.4.4', 'bp': True}, {'p': '5.4.3.0/24', 'n': '4.4.4.4', 'bp': True}, {'p': '6.0.1.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '4.4.4.4', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.2', 'bp': False}, {'p': '6.0.2.0/24', 'n': '1.1.1.1', 'bp': False}, {'p': '6.0.2.0/24', 'n': '4.4.4.4', 'bp': False}, {'p': '6.0.2.0/24', 'n': '99.0.0.2', 'bp': True}, {'p': '99.0.0.1/32', 'n': '1.1.1.1', 'bp': True}, {'p': '99.0.0.3/32', 'n': '4.4.4.4', 'bp': True}, {'p': '99.0.0.4/32', 'n': '4.4.4.4', 'bp': True}]
R:89   r3     Customer 1 routes in r3 vrf (2)                          1    0
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 5.1.0.0/24":2 available, best:wait:Ensure 5.1.0.0 shows up on r4:10:0.5:
Tue Oct 31 08:10:17 2023 (#90) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 5.1.0.0/24":2 available, best:wait:Ensure 5.1.0.0 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 5.1.0.0/24, version 15
Paths: (2 available, best #1, vrf r4-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:5.1.0.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 98, localpref 123, valid, sourced, local, best (Local Pref)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:10:12 2023
  Imported from 10:3:5.1.0.0/24
  Local
    3.3.3.3 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:10:08 2023:
R:90   r4     Ensure 5.1.0.0 shows up on r4 +0.03 secs                 1    0
Done after 1 loops, time=0.03392791748046875, Found=2 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 5.1.1.0/24":2 available, best:wait:Ensure 5.1.1.0 shows up on r4:10:0.5:
Tue Oct 31 08:10:17 2023 (#91) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 5.1.1.0/24":2 available, best:wait:Ensure 5.1.1.0 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 5.1.1.0/24, version 16
Paths: (2 available, best #1, vrf r4-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:5.1.1.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 98, localpref 123, valid, sourced, local, best (Local Pref)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:10:12 2023
  Imported from 10:3:5.1.1.0/24
  Local
    3.3.3.3 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:10:08 2023:
R:91   r4     Ensure 5.1.1.0 shows up on r4 +0.03 secs                 1    0
Done after 1 loops, time=0.03324270248413086, Found=2 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 6.0.1.0/24":4 available, best:wait:Ensure 6.0.1.0 shows up on r4:10:0.5:
Tue Oct 31 08:10:17 2023 (#92) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 6.0.1.0/24":4 available, best:wait:Ensure 6.0.1.0 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 17
Paths: (4 available, best #1, vrf r4-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:6.0.1.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 98, localpref 123, valid, sourced, local, best (Local Pref)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:10:12 2023
  Imported from 10:3:6.0.1.0/24
  Local
    3.3.3.3 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:10:08 2023
  Imported from 10:42:6.0.1.0/24
  Local
    99.0.0.4 from 0.0.0.0 (192.168.1.1) vrf r4-cust2(6) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local
      Community: 0:67
      Extended Community: RT:89:123 RT:52:100
      Large Community: 12:34:56
      Originator: 4.4.4.4
      Last update: Tue Oct 31 08:09:58 2023
  Local
    99.0.0.3 from 192.168.1.2 (99.0.0.3)
      Origin IGP, metric 200, localpref 50, valid, internal
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:09:58 2023:
R:92   r4     Ensure 6.0.1.0 shows up on r4 +0.03 secs                 1    0
Done after 1 loops, time=0.03379416465759277, Found=4 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 6.0.2.0/24":4 available, best:wait:Ensure 6.0.2.0 shows up on r4:10:0.5:
Tue Oct 31 08:10:17 2023 (#93) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 6.0.2.0/24":4 available, best:wait:Ensure 6.0.2.0 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 7
Paths: (4 available, best #4, vrf r4-cust1)
  Not advertised to any peer
  Imported from 10:1:6.0.2.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:11
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:10:12 2023
  Imported from 10:3:6.0.2.0/24
  Local
    3.3.3.3 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:10:08 2023
  Imported from 10:42:6.0.2.0/24
  Local
    99.0.0.4 from 0.0.0.0 (192.168.1.1) vrf r4-cust2(6) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local, multipath
      Community: 0:67
      Extended Community: RT:89:123 RT:52:100
      Large Community: 12:34:14
      Originator: 4.4.4.4
      Last update: Tue Oct 31 08:09:58 2023
  Local
    99.0.0.3 from 192.168.1.2 (99.0.0.3)
      Origin IGP, metric 100, localpref 100, valid, internal, multipath, best (Router ID)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:13
      Last update: Tue Oct 31 08:09:58 2023:
R:93   r4     Ensure 6.0.2.0 shows up on r4 +0.03 secs                 1    0
Done after 1 loops, time=0.033411502838134766, Found=4 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.1/32":1 available, best:wait:Ensure 99.0.0.1 shows up on r4:10:0.5:
Tue Oct 31 08:10:17 2023 (#94) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.1/32":1 available, best:wait:Ensure 99.0.0.1 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.1/32, version 18
Paths: (1 available, best #1, vrf r4-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:99.0.0.1/32
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:10:13 2023:
R:94   r4     Ensure 99.0.0.1 shows up on r4 +0.03 secs                1    0
Done after 1 loops, time=0.03298497200012207, Found=1 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.2/32":1 available, best:wait:Ensure 99.0.0.2 shows up on r4:10:0.5:
Tue Oct 31 08:10:18 2023 (#95) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.2/32":1 available, best:wait:Ensure 99.0.0.2 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.2/32, version 11
Paths: (1 available, best #1, vrf r4-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:3:99.0.0.2/32
  Local
    3.3.3.3 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:10:09 2023:
R:95   r4     Ensure 99.0.0.2 shows up on r4 +0.03 secs                1    0
Done after 1 loops, time=0.034193992614746094, Found=1 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.3/32":1 available, best:wait:Ensure 99.0.0.3 shows up on r4:10:0.5:
Tue Oct 31 08:10:18 2023 (#96) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.3/32":1 available, best:wait:Ensure 99.0.0.3 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.3/32, version 2
Paths: (1 available, best #1, vrf r4-cust1)
  Not advertised to any peer
  Local
    192.168.1.2 from 192.168.1.2 (99.0.0.3)
      Origin IGP, metric 0, localpref 100, valid, internal, best (First path received)
      Last update: Tue Oct 31 08:09:56 2023:
R:96   r4     Ensure 99.0.0.3 shows up on r4 +0.03 secs                1    0
Done after 1 loops, time=0.033802032470703125, Found=1 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.4/32":1 available, best:wait:Ensure 99.0.0.4 shows up on r4:10:0.5:
Tue Oct 31 08:10:18 2023 (#97) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.4/32":1 available, best:wait:Ensure 99.0.0.4 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.4/32, version 1
Paths: (1 available, best #1, vrf r4-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:99.0.0.4/32
  Local
    192.168.2.2 from 0.0.0.0 (192.168.1.1) vrf r4-cust2(6) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 4.4.4.4
      Last update: Tue Oct 31 08:09:55 2023:
R:97   r4     Ensure 99.0.0.4 shows up on r4 +0.03 secs                1    0
Done after 1 loops, time=0.034522294998168945, Found=1 available, best
Tue Oct 31 08:10:18 2023 (#98) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 unicast":.:None:Get vrf r4-cust1 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 18, local router ID is 192.168.1.1, vrf id 5
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt;i5.1.2.0/24       99.0.0.3               200     50      0 i
 *&gt;i5.1.3.0/24       99.0.0.3               200     50      0 i
 *&gt; 5.4.2.0/24       99.0.0.4@6&lt;            200     50      0 i
 *&gt; 5.4.3.0/24       99.0.0.4@6&lt;            200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *                   99.0.0.4@6&lt;            200     50      0 i
 * i                 99.0.0.3               200     50      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *=                  99.0.0.4@6&lt;            100    100      0 i
 *&gt;i                 99.0.0.3               100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt;i99.0.0.3/32      192.168.1.2              0    100      0 i
 *&gt; 99.0.0.4/32      192.168.2.2@6&lt;           0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 08:10:18 2023 (#98) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 unicast json":.*:None:Get vrf r4-cust1 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 5,
 "vrfName": "r4-cust1",
 "tableVersion": 18,
 "routerId": "192.168.1.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":6,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"multipath":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Router ID","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":18,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":11,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.2","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"192.168.2.2","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }:
R:98 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '5.1.0.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '5.1.1.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.4', 'bp': False}, {'p': '6.0.2.0/24', 'n': '1.1.1.1', 'bp': False}, {'p': '6.0.2.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.2.0/24', 'n': '99.0.0.3', 'bp': True}, {'p': '6.0.2.0/24', 'n': '99.0.0.4', 'bp': False}, {'p': '99.0.0.1/32', 'n': '1.1.1.1', 'bp': True}, {'p': '99.0.0.2/32', 'n': '3.3.3.3', 'bp': True}, {'p': '99.0.0.3/32', 'n': '192.168.1.2', 'bp': True}, {'p': '99.0.0.4/32', 'n': '192.168.2.2', 'bp': True}]
R:98   r4     Customer 1 routes in r4 vrf (2)                          1    0
Tue Oct 31 08:10:18 2023 (#99) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust2 ipv4 unicast":.:None:Get vrf r4-cust2 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 18, local router ID is 192.168.2.1, vrf id 6
Default local pref 100, local AS 5228
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.2.0/24       99.0.0.3@5&lt;            200     50      0 i
 *&gt; 5.1.3.0/24       99.0.0.3@5&lt;            200     50      0 i
 *&gt;i5.4.2.0/24       99.0.0.4               200     50      0 i
 *&gt;i5.4.3.0/24       99.0.0.4               200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 * i                 99.0.0.4               200     50      0 i
 *                   99.0.0.3@5&lt;            200     50      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *=i                 99.0.0.4               100    100      0 i
 *&gt;                  99.0.0.3@5&lt;            100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt; 99.0.0.3/32      192.168.1.2@5&lt;           0    100      0 i
 *&gt;i99.0.0.4/32      192.168.2.2              0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 08:10:18 2023 (#99) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust2 ipv4 unicast json":.*:None:Get vrf r4-cust2 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 6,
 "vrfName": "r4-cust2",
 "tableVersion": 18,
 "routerId": "192.168.2.1",
 "defaultLocPrf": 100,
 "localAS": 5228,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":6,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"multipath":true,"pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Router ID","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":18,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":11,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"192.168.1.2","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.2","hostname":"ce4","afi":"ipv4","used":true}]}]
 }  }:
R:99 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '5.1.0.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '5.1.1.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.4', 'bp': False}, {'p': '6.0.2.0/24', 'n': '1.1.1.1', 'bp': False}, {'p': '6.0.2.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.2.0/24', 'n': '99.0.0.3', 'bp': True}, {'p': '6.0.2.0/24', 'n': '99.0.0.4', 'bp': False}, {'p': '99.0.0.1/32', 'n': '1.1.1.1', 'bp': True}, {'p': '99.0.0.2/32', 'n': '3.3.3.3', 'bp': True}, {'p': '99.0.0.3/32', 'n': '192.168.1.2', 'bp': True}, {'p': '99.0.0.4/32', 'n': '192.168.2.2', 'bp': True}]
R:99   r4     Customer 2 routes in r4 vrf (2)                          1    0
scripts/check_routes.py:0 WAIT:ce1:vtysh -c "show bgp ipv4 uni":12 routes and 12:wait:Local and remote routes:10:0.5:
Tue Oct 31 08:10:18 2023 (#100) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni":12 routes and 12:wait:Local and remote routes:
COMMAND OUTPUT:BGP table version is 12, local router ID is 99.0.0.1, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       99.0.0.1                98    123  32768 i
 *&gt; 5.1.1.0/24       99.0.0.1                98    123  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 *&gt; 6.0.1.0/24       99.0.0.1                98    123  32768 i
 *&gt; 6.0.2.0/24       99.0.0.1               100    100  32768 i
 *&gt; 99.0.0.1/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 12 total paths:
R:100  ce1    Local and remote routes +0.03 secs                       1    0
Done after 1 loops, time=0.03344392776489258, Found=12 routes and 12
Tue Oct 31 08:10:18 2023 (#101) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp  ipv4 unicast":.:None:Get  ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 12, local router ID is 99.0.0.1, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       99.0.0.1                98    123  32768 i
 *&gt; 5.1.1.0/24       99.0.0.1                98    123  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 *&gt; 6.0.1.0/24       99.0.0.1                98    123  32768 i
 *&gt; 6.0.2.0/24       99.0.0.1               100    100  32768 i
 *&gt; 99.0.0.1/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 12 total paths:
Tue Oct 31 08:10:18 2023 (#101) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp  ipv4 unicast json":.*:None:Get  ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 12,
 "routerId": "99.0.0.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":4,"metric":98,"locPrf":123,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":9,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":12,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":11,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":5,"metric":98,"locPrf":123,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":6,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":8,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":7,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
 }  }:
R:101 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '5.1.2.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.1.3.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.4.2.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.4.3.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '6.0.2.0/24', 'n': '99.0.0.1', 'bp': True}]
R:101  ce1    Cust 1 routes from remote                                1    0
scripts/check_routes.py:0 WAIT:ce2:vtysh -c "show bgp ipv4 uni":12 routes and 15:wait:Local and remote routes:10:0.5:
Tue Oct 31 08:10:18 2023 (#102) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni":12 routes and 15:wait:Local and remote routes:
COMMAND OUTPUT:BGP table version is 12, local router ID is 99.0.0.2, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 * i5.1.0.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 * i5.1.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 *&gt; 6.0.2.0/24       99.0.0.2               100    100  32768 i
 *&gt;i99.0.0.1/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.2/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 15 total paths:
R:102  ce2    Local and remote routes +0.03 secs                       1    0
Done after 1 loops, time=0.03347349166870117, Found=12 routes and 15
Tue Oct 31 08:10:18 2023 (#103) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp  ipv4 unicast":.:None:Get  ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 12, local router ID is 99.0.0.2, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 * i5.1.0.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 * i5.1.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 *&gt; 6.0.2.0/24       99.0.0.2               100    100  32768 i
 *&gt;i99.0.0.1/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.2/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 15 total paths:
Tue Oct 31 08:10:18 2023 (#103) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp  ipv4 unicast json":.*:None:Get  ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 12,
 "routerId": "99.0.0.2",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":4,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":4,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":9,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":11,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":5,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":5,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":12,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":7,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":6,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
 }  }:
R:103 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '192.168.1.1', 'bp': False}, {'p': '5.1.0.0/24', 'n': '99.0.0.2', 'bp': True}, {'p': '5.1.1.0/24', 'n': '192.168.1.1', 'bp': False}, {'p': '5.1.1.0/24', 'n': '99.0.0.2', 'bp': True}, {'p': '5.1.2.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.1.3.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.4.2.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.4.3.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '192.168.1.1', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.2', 'bp': True}, {'p': '6.0.2.0/24', 'n': '99.0.0.2', 'bp': True}]
R:103  ce2    Cust 1 routes from remote                                1    0
Tue Oct 31 08:10:18 2023 (#104) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni":.:none::
COMMAND OUTPUT:BGP table version is 18, local router ID is 192.168.1.1, vrf id 5
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt;i5.1.2.0/24       99.0.0.3               200     50      0 i
 *&gt;i5.1.3.0/24       99.0.0.3               200     50      0 i
 *&gt; 5.4.2.0/24       99.0.0.4@6&lt;            200     50      0 i
 *&gt; 5.4.3.0/24       99.0.0.4@6&lt;            200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *                   99.0.0.4@6&lt;            200     50      0 i
 * i                 99.0.0.3               200     50      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *=                  99.0.0.4@6&lt;            100    100      0 i
 *&gt;i                 99.0.0.3               100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt;i99.0.0.3/32      192.168.1.2              0    100      0 i
 *&gt; 99.0.0.4/32      192.168.2.2@6&lt;           0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 08:10:18 2023 (#104) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust2 ipv4 uni":.:none::
COMMAND OUTPUT:BGP table version is 18, local router ID is 192.168.2.1, vrf id 6
Default local pref 100, local AS 5228
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.2.0/24       99.0.0.3@5&lt;            200     50      0 i
 *&gt; 5.1.3.0/24       99.0.0.3@5&lt;            200     50      0 i
 *&gt;i5.4.2.0/24       99.0.0.4               200     50      0 i
 *&gt;i5.4.3.0/24       99.0.0.4               200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 * i                 99.0.0.4               200     50      0 i
 *                   99.0.0.3@5&lt;            200     50      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *=i                 99.0.0.4               100    100      0 i
 *&gt;                  99.0.0.3@5&lt;            100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt; 99.0.0.3/32      192.168.1.2@5&lt;           0    100      0 i
 *&gt;i99.0.0.4/32      192.168.2.2              0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 08:10:18 2023 (#104) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp ipv4 vpn":.:none::
COMMAND OUTPUT:BGP table version is 5, local router ID is 4.4.4.4, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt;i5.1.0.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       1.1.1.1                100    100      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i99.0.0.1/32      1.1.1.1                  0    100      0 i
    UN=1.1.1.1 EC{52:100} label=101 type=bgp, subtype=0
Route Distinguisher: 10:3
 *&gt;i5.1.0.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i99.0.0.2/32      3.3.3.3                  0    100      0 i
    UN=3.3.3.3 EC{52:100} label=103 type=bgp, subtype=0
Route Distinguisher: 10:41
 *&gt; 5.1.2.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 5.1.3.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.3@5&lt;            100    100      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 99.0.0.3/32      192.168.1.2@5&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=1041 type=bgp, subtype=5
Route Distinguisher: 10:42
 *&gt; 5.4.2.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 5.4.3.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.4@6&lt;            100    100      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 99.0.0.4/32      192.168.2.2@6&lt;           0    100      0 i
    UN=192.168.2.2 EC{52:100} label=1042 type=bgp, subtype=5

Displayed  20 routes and 20 total paths:
Tue Oct 31 08:10:18 2023 (#104) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show ip route vrf r4-cust1":.:none::
COMMAND OUTPUT:Codes: K - kernel route, C - connected, S - static, R - RIP,
       O - OSPF, I - IS-IS, B - BGP, E - EIGRP, N - NHRP,
       T - Table, v - VNC, V - VNC-Direct, A - Babel, D - SHARP,
       F - PBR, f - OpenFabric,
       &gt; - selected route, * - FIB route, q - queued, r - rejected, b - backup
       t - trapped, o - offload failure

VRF r4-cust1:
B&gt;  5.1.0.0/24 [200/98] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:05
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:05
B&gt;  5.1.1.0/24 [200/98] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:05
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:05
B&gt;  5.1.2.0/24 [200/200] via 99.0.0.3 (recursive), weight 1, 00:00:19
  *                        via 192.168.1.2, r4-eth4, weight 1, 00:00:19
B&gt;  5.1.3.0/24 [200/200] via 99.0.0.3 (recursive), weight 1, 00:00:19
  *                        via 192.168.1.2, r4-eth4, weight 1, 00:00:19
B   5.4.2.0/24 [200/200] via 99.0.0.4 (vrf r4-cust2) inactive, weight 1, 00:00:19
B   5.4.3.0/24 [200/200] via 99.0.0.4 (vrf r4-cust2) inactive, weight 1, 00:00:19
B&gt;  6.0.1.0/24 [200/98] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:05
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:05
B&gt;  6.0.2.0/24 [200/100] via 99.0.0.3 (recursive), weight 1, 00:00:19
  *                        via 192.168.1.2, r4-eth4, weight 1, 00:00:19
                         via 99.0.0.4 (vrf r4-cust2) (recursive), weight 1, 00:00:19
  *                        via 192.168.2.2, r4-eth5 (vrf r4-cust2), weight 1, 00:00:19
B&gt;  99.0.0.1/32 [200/0] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:05
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:05
B&gt;  99.0.0.2/32 [200/0] via 3.3.3.3 (vrf default) (recursive), label 103, weight 1, 00:00:06
  *                       via 10.0.2.3, r4-eth0 (vrf default), label implicit-null/103, weight 1, 00:00:06
B&gt;* 99.0.0.3/32 [200/0] via 192.168.1.2, r4-eth4, weight 1, 00:00:22
B&gt;* 99.0.0.4/32 [200/0] via 192.168.2.2, r4-eth5 (vrf r4-cust2), weight 1, 00:00:22
C&gt;* 192.168.1.0/24 is directly connected, r4-eth4, 00:00:25:
Tue Oct 31 08:10:18 2023 (#104) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show ip route vrf r4-cust2":.:none::
COMMAND OUTPUT:Codes: K - kernel route, C - connected, S - static, R - RIP,
       O - OSPF, I - IS-IS, B - BGP, E - EIGRP, N - NHRP,
       T - Table, v - VNC, V - VNC-Direct, A - Babel, D - SHARP,
       F - PBR, f - OpenFabric,
       &gt; - selected route, * - FIB route, q - queued, r - rejected, b - backup
       t - trapped, o - offload failure

VRF r4-cust2:
B&gt;  5.1.0.0/24 [200/98] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:05
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:05
B&gt;  5.1.1.0/24 [200/98] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:05
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:05
B   5.1.2.0/24 [200/200] via 99.0.0.3 (vrf r4-cust1) inactive, weight 1, 00:00:19
B   5.1.3.0/24 [200/200] via 99.0.0.3 (vrf r4-cust1) inactive, weight 1, 00:00:19
B&gt;  5.4.2.0/24 [200/200] via 99.0.0.4 (recursive), weight 1, 00:00:19
  *                        via 192.168.2.2, r4-eth5, weight 1, 00:00:19
B&gt;  5.4.3.0/24 [200/200] via 99.0.0.4 (recursive), weight 1, 00:00:19
  *                        via 192.168.2.2, r4-eth5, weight 1, 00:00:19
B&gt;  6.0.1.0/24 [200/98] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:05
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:05
B   6.0.2.0/24 [200/100] via 99.0.0.3 (vrf r4-cust1) inactive, weight 1, 00:00:19
                         via 99.0.0.4 inactive, weight 1, 00:00:19
B&gt;  99.0.0.1/32 [200/0] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:05
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:05
B&gt;  99.0.0.2/32 [200/0] via 3.3.3.3 (vrf default) (recursive), label 103, weight 1, 00:00:06
  *                       via 10.0.2.3, r4-eth0 (vrf default), label implicit-null/103, weight 1, 00:00:06
B&gt;* 99.0.0.3/32 [200/0] via 192.168.1.2, r4-eth4 (vrf r4-cust1), weight 1, 00:00:22
B&gt;* 99.0.0.4/32 [200/0] via 192.168.2.2, r4-eth5, weight 1, 00:00:22
C&gt;* 192.168.2.0/24 is directly connected, r4-eth5, 00:00:25:
scripts/check_routes.py:0 WAIT:ce3:vtysh -c "show bgp ipv4 uni":12 routes and 13:wait:Local and remote routes:10:0.5:
Tue Oct 31 08:10:18 2023 (#104) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni":12 routes and 13:wait:Local and remote routes:
COMMAND OUTPUT:BGP table version is 14, local router ID is 99.0.0.3, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.1.1             98    123      0 i
 *&gt;i5.1.1.0/24       192.168.1.1             98    123      0 i
 *&gt; 5.1.2.0/24       99.0.0.3               200     50  32768 i
 *&gt; 5.1.3.0/24       99.0.0.3               200     50  32768 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.3               200     50  32768 i
 *&gt; 6.0.2.0/24       99.0.0.3               100    100  32768 i
 *&gt;i99.0.0.1/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.3/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 13 total paths:
R:104  ce3    Local and remote routes +0.03 secs                       1    0
Done after 1 loops, time=0.03392219543457031, Found=12 routes and 13
Tue Oct 31 08:10:18 2023 (#105) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp  ipv4 unicast":.:None:Get  ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 14, local router ID is 99.0.0.3, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.1.1             98    123      0 i
 *&gt;i5.1.1.0/24       192.168.1.1             98    123      0 i
 *&gt; 5.1.2.0/24       99.0.0.3               200     50  32768 i
 *&gt; 5.1.3.0/24       99.0.0.3               200     50  32768 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.3               200     50  32768 i
 *&gt; 6.0.2.0/24       99.0.0.3               100    100  32768 i
 *&gt;i99.0.0.1/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.3/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 13 total paths:
Tue Oct 31 08:10:18 2023 (#105) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp  ipv4 unicast json":.*:None:Get  ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 14,
 "routerId": "99.0.0.3",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":12,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":13,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":5,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":7,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":6,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":6,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":3,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":14,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":9,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }:
R:105 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.4.2.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.4.3.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '192.168.1.1', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.3', 'bp': True}, {'p': '6.0.2.0/24', 'n': '99.0.0.3', 'bp': True}]
R:105  ce3    Cust 1 routes from remote                                1    0
scripts/check_routes.py:0 WAIT:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 uni":12 routes and 14:wait:Local and remote routes:10:0.5:
Tue Oct 31 08:10:18 2023 (#106) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 uni":12 routes and 14:wait:Local and remote routes:
COMMAND OUTPUT:BGP table version is 16, local router ID is 99.0.0.4, vrf id 2
Default local pref 100, local AS 5228
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.2.1             98    123      0 i
 *&gt;i5.1.1.0/24       192.168.2.1             98    123      0 i
 *&gt;i5.1.2.0/24       192.168.2.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.2.1            200     50      0 i
 *&gt; 5.4.2.0/24       99.0.0.4               200     50  32768 i
 *&gt; 5.4.3.0/24       99.0.0.4               200     50  32768 i
 *&gt; 6.0.1.0/24       99.0.0.4               200     50  32768 i
 * i                 192.168.2.1             98    123      0 i
 *&gt; 6.0.2.0/24       99.0.0.4               100    100  32768 i
 * i                 192.168.2.1            100    100      0 i
 *&gt;i99.0.0.1/32      192.168.2.1              0    100      0 i
 *&gt;i99.0.0.2/32      192.168.2.1              0    100      0 i
 *&gt;i99.0.0.3/32      192.168.2.1              0    100      0 i
 *&gt; 99.0.0.4/32      0.0.0.0                  0         32768 i

Displayed  12 routes and 14 total paths:
R:106  ce4    Local and remote routes +0.03 secs                       1    0
Done after 1 loops, time=0.03399014472961426, Found=12 routes and 14
Tue Oct 31 08:10:18 2023 (#107) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 unicast":.:None:Get vrf ce4-cust2 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 16, local router ID is 99.0.0.4, vrf id 2
Default local pref 100, local AS 5228
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.2.1             98    123      0 i
 *&gt;i5.1.1.0/24       192.168.2.1             98    123      0 i
 *&gt;i5.1.2.0/24       192.168.2.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.2.1            200     50      0 i
 *&gt; 5.4.2.0/24       99.0.0.4               200     50  32768 i
 *&gt; 5.4.3.0/24       99.0.0.4               200     50  32768 i
 *&gt; 6.0.1.0/24       99.0.0.4               200     50  32768 i
 * i                 192.168.2.1             98    123      0 i
 *&gt; 6.0.2.0/24       99.0.0.4               100    100  32768 i
 * i                 192.168.2.1            100    100      0 i
 *&gt;i99.0.0.1/32      192.168.2.1              0    100      0 i
 *&gt;i99.0.0.2/32      192.168.2.1              0    100      0 i
 *&gt;i99.0.0.3/32      192.168.2.1              0    100      0 i
 *&gt; 99.0.0.4/32      0.0.0.0                  0         32768 i

Displayed  12 routes and 14 total paths:
Tue Oct 31 08:10:18 2023 (#107) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 unicast json":.*:None:Get vrf ce4-cust2 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 2,
 "vrfName": "ce4-cust2",
 "tableVersion": 16,
 "routerId": "99.0.0.4",
 "defaultLocPrf": 100,
 "localAS": 5228,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":14,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":15,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":5,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":8,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":9,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":10,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":10,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":16,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":11,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce4","afi":"ipv4","used":true}]}]
 }  }:
R:107 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '192.168.2.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '192.168.2.1', 'bp': True}, {'p': '5.1.2.0/24', 'n': '192.168.2.1', 'bp': True}, {'p': '5.1.3.0/24', 'n': '192.168.2.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '192.168.2.1', 'bp': False}, {'p': '6.0.2.0/24', 'n': '192.168.2.1', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.4', 'bp': True}, {'p': '6.0.2.0/24', 'n': '99.0.0.4', 'bp': True}]
R:107  ce4    Cust 2 routes from remote                                1    0
Tue Oct 31 08:10:18 2023 (#108) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni 6.0.1.0":1 available.*192.168.1.1.*99.0.0.1.*Community: 0:67.*Extended Community: RT:89:123.*Large Community: 12:34:56:pass:Redundant route 1 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 5
Paths: (1 available, best #1, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    99.0.0.1 from 0.0.0.0 (99.0.0.1)
      Origin IGP, metric 98, localpref 123, weight 32768, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:09:57 2023:
R:108  ce1    Redundant route 1 details                                1    0
Tue Oct 31 08:10:18 2023 (#109) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni 6.0.1.0":2 available, best .*192.168.1.1.* Local.* 192.168.1.1 from 192.168.1.1 .192.168.1.1.* Origin IGP, metric 98, localpref 123, valid, internal.* Community: 0:67.* Extended Community: RT:52:100 RT:89:123.* Large Community: 12:34:56:pass:Redundant route 1 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 5
Paths: (2 available, best #2, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    192.168.1.1 from 192.168.1.1 (192.168.1.1)
      Origin IGP, metric 98, localpref 123, valid, internal
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:10:12 2023
  Local
    99.0.0.2 from 0.0.0.0 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (Weight)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:09:58 2023:
R:109  ce2    Redundant route 1 details                                1    0
Tue Oct 31 08:10:18 2023 (#110) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni 6.0.1.0":2 available, best .*192.168.1.1.* Local.* 99.0.0.2 from 0.0.0.0 .99.0.0.2.* Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best .Weight.* Community: 0:67.* Extended Community: RT:89:123.* Large Community: 12:34:56:pass:Redundant route 1 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 5
Paths: (2 available, best #2, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    192.168.1.1 from 192.168.1.1 (192.168.1.1)
      Origin IGP, metric 98, localpref 123, valid, internal
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:10:12 2023
  Local
    99.0.0.2 from 0.0.0.0 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (Weight)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:09:58 2023:
R:110  ce2    Redundant route 1 details                                1    0
Tue Oct 31 08:10:18 2023 (#111) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni 6.0.1.0":2 available, best .* Local.* 99.0.0.3 from 0.0.0.0 .99.0.0.3.* Origin IGP, metric 200, localpref 50, weight 32768, valid, sourced, local, best .Weight.* Community: 0:67.* Extended Community: RT:89:123.* Large Community: 12:34:56:pass:Redundant route 1 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 6
Paths: (2 available, best #2, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    192.168.1.1 from 192.168.1.1 (192.168.1.1)
      Origin IGP, metric 98, localpref 123, valid, internal
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:10:12 2023
  Local
    99.0.0.3 from 0.0.0.0 (99.0.0.3)
      Origin IGP, metric 200, localpref 50, weight 32768, valid, sourced, local, best (Weight)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:09:58 2023:
R:111  ce3    Redundant route 1 details                                1    0
Tue Oct 31 08:10:18 2023 (#112) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni 6.0.1.0":2 available, best .* Local.* 192.168.1.1 from 192.168.1.1 .192.168.1.1.* Origin IGP, metric 98, localpref 123, valid, internal.* Community: 0:67.* Extended Community: RT:52:100 RT:89:123.* Large Community: 12:34:56:pass:Redundant route 1 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 6
Paths: (2 available, best #2, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    192.168.1.1 from 192.168.1.1 (192.168.1.1)
      Origin IGP, metric 98, localpref 123, valid, internal
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:10:13 2023
  Local
    99.0.0.3 from 0.0.0.0 (99.0.0.3)
      Origin IGP, metric 200, localpref 50, weight 32768, valid, sourced, local, best (Weight)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:09:59 2023:
R:112  ce3    Redundant route 1 details                                1    0
Tue Oct 31 08:10:19 2023 (#113) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 6.0.1.0 json":{"paths":[{"aspath":{"string":"Local"},"origin":"IGP","metric":200,"locPrf":50,"weight":32768,"valid":true,"sourced":true,"local":true,"bestpath":{"overall":true,"selectionReason":"Weight"},"community":{"string":"0:67"},"extendedCommunity":{"string":"RT:89:123"},"largeCommunity":{"string":"12:34:56"},"peer":{"peerId":"0.0.0.0","routerId":"99.0.0.4"}},{"aspath":{"string":"Local"},"origin":"IGP","metric":98,"locPrf":123,"valid":true,"community":{"string":"0:67"},"extendedCommunity":{"string":"RT:52:100 RT:89:123"},"largeCommunity":{"string":"12:34:56"},"peer":{"peerId":"192.168.2.1","routerId":"192.168.2.1"}}]}:jsoncmp_pass:Redundant route 1 details:
COMMAND OUTPUT:{
  "prefix":"6.0.1.0/24",
  "version":10,
  "advertisedTo":{
    "192.168.2.1":{
      "hostname":"r4"
    }
  },
  "paths":[
    {
      "aspath":{
        "string":"Local",
        "segments":[
        ],
        "length":0
      },
      "origin":"IGP",
      "metric":200,
      "locPrf":50,
      "weight":32768,
      "valid":true,
      "version":10,
      "sourced":true,
      "local":true,
      "bestpath":{
        "overall":true,
        "selectionReason":"Weight"
      },
      "community":{
        "string":"0:67",
        "list":[
          "0:67"
        ]
      },
      "extendedCommunity":{
        "string":"RT:89:123"
      },
      "largeCommunity":{
        "string":"12:34:56",
        "list":[
          "12:34:56"
        ]
      },
      "lastUpdate":{
        "epoch":1698739799,
        "string":"Tue Oct 31 08:09:59 2023\n"
      },
      "nexthops":[
        {
          "ip":"99.0.0.4",
          "hostname":"ce4",
          "afi":"ipv4",
          "metric":0,
          "accessible":true,
          "used":true
        }
      ],
      "peer":{
        "peerId":"0.0.0.0",
        "routerId":"99.0.0.4"
      }
    },
    {
      "aspath":{
        "string":"Local",
        "segments":[
        ],
        "length":0
      },
      "origin":"IGP",
      "metric":98,
      "locPrf":123,
      "valid":true,
      "version":10,
      "community":{
        "string":"0:67",
        "list":[
          "0:67"
        ]
      },
      "extendedCommunity":{
        "string":"RT:52:100 RT:89:123"
      },
      "largeCommunity":{
        "string":"12:34:56",
        "list":[
          "12:34:56"
        ]
      },
      "lastUpdate":{
        "epoch":1698739813,
        "string":"Tue Oct 31 08:10:13 2023\n"
      },
      "nexthops":[
        {
          "ip":"192.168.2.1",
          "hostname":"r4",
          "afi":"ipv4",
          "metric":0,
          "accessible":true,
          "used":true
        }
      ],
      "peer":{
        "peerId":"192.168.2.1",
        "routerId":"192.168.2.1",
        "hostname":"r4",
        "type":"internal"
      }
    }
  ]
}:
R:113  ce4    Redundant route 1 details                                1    0
Tue Oct 31 08:10:19 2023 (#114) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni 6.0.2.0":1 available, best .*192.168.1.1.* Local.* 99.0.0.1 from 0.0.0.0 .99.0.0.1.* Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best .First path received.* Community: 0:67.* Extended Community: RT:89:123.* Large Community: 12:34:11:pass:Route 2 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 2
Paths: (1 available, best #1, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    99.0.0.1 from 0.0.0.0 (99.0.0.1)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:11
      Last update: Tue Oct 31 08:09:58 2023:
R:114  ce1    Route 2 details                                          1    0
Tue Oct 31 08:10:19 2023 (#115) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni 6.0.2.0":1 available, best .*192.168.1.1.* Local.* 99.0.0.2 from 0.0.0.0 .99.0.0.2.* Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best .First path received.* Community: 0:67.* Extended Community: RT:89:123.* Large Community: 12:34:12:pass:Route 2 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 2
Paths: (1 available, best #1, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    99.0.0.2 from 0.0.0.0 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:12
      Last update: Tue Oct 31 08:09:59 2023:
R:115  ce2    Route 2 details                                          1    0
Tue Oct 31 08:10:19 2023 (#116) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni 6.0.2.0":1 available, best .*192.168.1.1.* Local.* 99.0.0.3 from 0.0.0.0 .99.0.0.3.* Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best .First path received.* Community: 0:67.* Extended Community: RT:89:123.* Large Community: 12:34:13:pass:Route 2 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 3
Paths: (1 available, best #1, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    99.0.0.3 from 0.0.0.0 (99.0.0.3)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:13
      Last update: Tue Oct 31 08:09:59 2023:
R:116  ce3    Route 2 details                                          1    0
Tue Oct 31 08:10:19 2023 (#117) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp  vrf ce4-cust2 ipv4 6.0.2.0":2 available, best .*192.168.2.1.* Local.* 192.168.2.1 from 192.168.2.1 .192.168.2.1.* Origin IGP, metric 100, localpref 100, valid, internal.* Community: 0:67.* Extended Community: RT:52:100 RT:89:123.* Large Community: 12:34:13:pass:Redundant route 2 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 7
Paths: (2 available, best #1, vrf ce4-cust2)
  Advertised to non peer-group peers:
  192.168.2.1
  Local
    99.0.0.4 from 0.0.0.0 (99.0.0.4)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (Weight)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:14
      Last update: Tue Oct 31 08:09:59 2023
  Local
    192.168.2.1 from 192.168.2.1 (192.168.2.1)
      Origin IGP, metric 100, localpref 100, valid, internal
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:13
      Last update: Tue Oct 31 08:09:59 2023:
R:117  ce4    Redundant route 2 details                                1    0
Tue Oct 31 08:10:19 2023 (#118) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp  vrf ce4-cust2 ipv4 6.0.2.0":2 available, best .*192.168.2.1.* Local.* 99.0.0.4 from 0.0.0.0 .99.0.0.4.* Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best .Weight.* Community: 0:67.* Extended Community: RT:89:123.* Large Community: 12:34:14:pass:Redundant route 2 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 7
Paths: (2 available, best #1, vrf ce4-cust2)
  Advertised to non peer-group peers:
  192.168.2.1
  Local
    99.0.0.4 from 0.0.0.0 (99.0.0.4)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (Weight)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:14
      Last update: Tue Oct 31 08:09:59 2023
  Local
    192.168.2.1 from 192.168.2.1 (192.168.2.1)
      Origin IGP, metric 100, localpref 100, valid, internal
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:13
      Last update: Tue Oct 31 08:09:59 2023:
R:118  ce4    Redundant route 2 details                                1    0

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_check_linux_mpls" time="0.136"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/check_linux_mpls.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/check_linux_mpls.py
scripts/check_linux_mpls.py:0 WAIT:r2:ip -M route show:\d*(?= via inet 10.0.2.4 dev r2-eth1):wait:See mpls route to r4:10:0.5:
Tue Oct 31 08:10:19 2023 (#119) scripts/check_linux_mpls.py:0 COMMAND:r2:ip -M route show:\d*(?= via inet 10.0.2.4 dev r2-eth1):wait:See mpls route to r4:
COMMAND OUTPUT:16 proto 193 
	nexthop via inet 10.0.2.3 dev r2-eth1 
	nexthop via inet 10.0.3.3 dev r2-eth2 
17 via inet 10.0.2.4 dev r2-eth1 proto 193 
18 via inet 10.0.1.1 dev r2-eth0 proto 193:
R:119  r2     See mpls route to r4 +0.01 secs                          1    0
Done after 1 loops, time=0.005103588104248047, Found=17
Tue Oct 31 08:10:19 2023 (#120) scripts/check_linux_mpls.py:0 COMMAND:r2:ip -M route show:.:pass:See 17 as label to r4:
COMMAND OUTPUT:16 proto 193 
	nexthop via inet 10.0.2.3 dev r2-eth1 
	nexthop via inet 10.0.3.3 dev r2-eth2 
17 via inet 10.0.2.4 dev r2-eth1 proto 193 
18 via inet 10.0.1.1 dev r2-eth0 proto 193:
R:120  r2     See 17 as label to r4                                    1    0
scripts/check_linux_mpls.py:0 WAIT:r2:ip -M route show:\d*(?= via inet 10.0.1.1 dev r2-eth0):wait:See mpls route to r1:10:0.5:
Tue Oct 31 08:10:19 2023 (#121) scripts/check_linux_mpls.py:0 COMMAND:r2:ip -M route show:\d*(?= via inet 10.0.1.1 dev r2-eth0):wait:See mpls route to r1:
COMMAND OUTPUT:16 proto 193 
	nexthop via inet 10.0.2.3 dev r2-eth1 
	nexthop via inet 10.0.3.3 dev r2-eth2 
17 via inet 10.0.2.4 dev r2-eth1 proto 193 
18 via inet 10.0.1.1 dev r2-eth0 proto 193:
R:121  r2     See mpls route to r1 +0.01 secs                          1    0
Done after 1 loops, time=0.0050809383392333984, Found=18
Tue Oct 31 08:10:19 2023 (#122) scripts/check_linux_mpls.py:0 COMMAND:r2:ip -M route show:.:pass:See 18 as label to r1:
COMMAND OUTPUT:16 proto 193 
	nexthop via inet 10.0.2.3 dev r2-eth1 
	nexthop via inet 10.0.3.3 dev r2-eth2 
17 via inet 10.0.2.4 dev r2-eth1 proto 193 
18 via inet 10.0.1.1 dev r2-eth0 proto 193:
R:122  r2     See 18 as label to r1                                    1    0
Tue Oct 31 08:10:19 2023 (#123) scripts/check_linux_mpls.py:0 COMMAND:r1:ip route show vrf r1-cust1:99.0.0.4:pass:VRF-&gt;MPLS PHP route installed:
COMMAND OUTPUT:5.1.0.0/24 nhid 19 via 192.168.1.2 dev r1-eth4 proto bgp metric 20 
5.1.1.0/24 nhid 19 via 192.168.1.2 dev r1-eth4 proto bgp metric 20 
5.1.2.0/24 nhid 33  encap mpls  17/1041 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
5.1.3.0/24 nhid 33  encap mpls  17/1041 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
5.4.2.0/24 nhid 31  encap mpls  17/1042 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
5.4.3.0/24 nhid 31  encap mpls  17/1042 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
6.0.1.0/24 nhid 19 via 192.168.1.2 dev r1-eth4 proto bgp metric 20 
6.0.2.0/24 nhid 19 via 192.168.1.2 dev r1-eth4 proto bgp metric 20 
99.0.0.1 nhid 16 via 192.168.1.2 dev r1-eth4 proto bgp metric 20 
99.0.0.2 nhid 29  encap mpls  16/103 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
99.0.0.3 nhid 33  encap mpls  17/1041 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
99.0.0.4 nhid 31  encap mpls  17/1042 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
192.168.1.0/24 dev r1-eth4 proto kernel scope link src 192.168.1.1:
R:123  r1     VRF-&gt;MPLS PHP route installed                            1    0
Tue Oct 31 08:10:19 2023 (#124) scripts/check_linux_mpls.py:0 COMMAND:r4:ip route show vrf r4-cust2:99.0.0.1:pass:VRF-&gt;MPLS PHP route installed:
COMMAND OUTPUT:5.1.0.0/24 nhid 49  encap mpls  18/101 via 10.0.2.2 dev r4-eth0 proto bgp metric 20 
5.1.1.0/24 nhid 49  encap mpls  18/101 via 10.0.2.2 dev r4-eth0 proto bgp metric 20 
5.4.2.0/24 nhid 29 via 192.168.2.2 dev r4-eth5 proto bgp metric 20 
5.4.3.0/24 nhid 29 via 192.168.2.2 dev r4-eth5 proto bgp metric 20 
6.0.1.0/24 nhid 49  encap mpls  18/101 via 10.0.2.2 dev r4-eth0 proto bgp metric 20 
99.0.0.1 nhid 49  encap mpls  18/101 via 10.0.2.2 dev r4-eth0 proto bgp metric 20 
99.0.0.2 nhid 46  encap mpls  103 via 10.0.2.3 dev r4-eth0 proto bgp metric 20 
99.0.0.3 nhid 22 via 192.168.1.2 dev r4-eth4 proto bgp metric 20 
99.0.0.4 nhid 20 via 192.168.2.2 dev r4-eth5 proto bgp metric 20 
192.168.2.0/24 dev r4-eth5 proto kernel scope link src 192.168.2.1:
R:124  r4     VRF-&gt;MPLS PHP route installed                            1    0
Tue Oct 31 08:10:19 2023 (#125) scripts/check_linux_mpls.py:0 COMMAND:r1:ip -M route show:101:pass:MPLS-&gt;VRF route installed:
COMMAND OUTPUT:16 via inet 10.0.1.2 dev r1-eth0 proto 193 
17 as to 16 via inet 10.0.1.2 dev r1-eth0 proto 193 
18 as to 17 via inet 10.0.1.2 dev r1-eth0 proto 193 
19 via inet 10.0.1.2 dev r1-eth0 proto 193 
20 via inet 10.0.1.2 dev r1-eth0 proto 193 
101 dev r1-cust1 proto bgp:
R:125  r1     MPLS-&gt;VRF route installed                                1    0
Tue Oct 31 08:10:19 2023 (#126) scripts/check_linux_mpls.py:0 COMMAND:r4:ip -M route show:1041:pass:MPLS-&gt;VRF1 route installed:
COMMAND OUTPUT:16 via inet 10.0.2.2 dev r4-eth0 proto 193 
17 via inet 10.0.2.3 dev r4-eth0 proto 193 
18 via inet 10.0.2.2 dev r4-eth0 proto 193 
19 proto 193 
	nexthop via inet 10.0.2.2 dev r4-eth0 
	nexthop via inet 10.0.2.3 dev r4-eth0 
20 as to 18 via inet 10.0.2.2 dev r4-eth0 proto 193 
1041 dev r4-cust1 proto bgp 
1042 dev r4-cust2 proto bgp:
R:126  r4     MPLS-&gt;VRF1 route installed                               1    0
Tue Oct 31 08:10:19 2023 (#127) scripts/check_linux_mpls.py:0 COMMAND:r4:ip -M route show:1042:pass:MPLS-&gt;VRF2 route installed:
COMMAND OUTPUT:16 via inet 10.0.2.2 dev r4-eth0 proto 193 
17 via inet 10.0.2.3 dev r4-eth0 proto 193 
18 via inet 10.0.2.2 dev r4-eth0 proto 193 
19 proto 193 
	nexthop via inet 10.0.2.2 dev r4-eth0 
	nexthop via inet 10.0.2.3 dev r4-eth0 
20 as to 18 via inet 10.0.2.2 dev r4-eth0 proto 193 
1041 dev r4-cust1 proto bgp 
1042 dev r4-cust2 proto bgp:
R:127  r4     MPLS-&gt;VRF2 route installed                               1    0
scripts/check_linux_mpls.py:0 WAIT:ce1:ping 99.0.0.4 -I 99.0.0.1 -c 1: 0. packet loss:wait:CE-&gt;CE (loopback) ping - l3vpn+zebra case:10:0.5:
Tue Oct 31 08:10:19 2023 (#128) scripts/check_linux_mpls.py:0 COMMAND:ce1:ping 99.0.0.4 -I 99.0.0.1 -c 1: 0. packet loss:wait:CE-&gt;CE (loopback) ping - l3vpn+zebra case:
COMMAND OUTPUT:PING 99.0.0.4 (99.0.0.4) from 99.0.0.1 : 56(84) bytes of data.
64 bytes from 99.0.0.4: icmp_seq=1 ttl=62 time=0.073 ms

--- 99.0.0.4 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.073/0.073/0.073/0.000 ms:
R:128  ce1    CE-&gt;CE (loopback) ping - l3vpn+zebra case +0.00 secs     1    0
Done after 1 loops, time=0.004344940185546875, Found= 0% packet loss
scripts/check_linux_mpls.py:0 WAIT:ce1:ping 99.0.0.4 -I 99.0.0.1 -c 1: 0. packet loss:wait:CE-&gt;CE (loopback) ping:10:0.5:
Tue Oct 31 08:10:19 2023 (#129) scripts/check_linux_mpls.py:0 COMMAND:ce1:ping 99.0.0.4 -I 99.0.0.1 -c 1: 0. packet loss:wait:CE-&gt;CE (loopback) ping:
COMMAND OUTPUT:PING 99.0.0.4 (99.0.0.4) from 99.0.0.1 : 56(84) bytes of data.
64 bytes from 99.0.0.4: icmp_seq=1 ttl=62 time=0.020 ms

--- 99.0.0.4 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.020/0.020/0.020/0.000 ms:
R:129  ce1    CE-&gt;CE (loopback) ping +0.00 secs                        1    0
Done after 1 loops, time=0.003475666046142578, Found= 0% packet loss
Tue Oct 31 08:10:19 2023 (#130) scripts/check_linux_mpls.py:0 COMMAND:r3:ip -M route show:103:pass:MPLS-&gt;VRF route installed:
COMMAND OUTPUT:16 via inet 10.0.2.4 dev r3-eth0 proto 193 
17 proto 193 
	nexthop via inet 10.0.3.2 dev r3-eth1 
	nexthop via inet 10.0.2.2 dev r3-eth0 
18 proto 193 
	nexthop via inet 10.0.3.2 dev r3-eth1 
	nexthop via inet 10.0.2.2 dev r3-eth0 
19 proto 193 
	nexthop as to 18 via inet 10.0.3.2 dev r3-eth1 
	nexthop as to 18 via inet 10.0.2.2 dev r3-eth0 
103 dev r3-cust1 proto bgp:
R:130  r3     MPLS-&gt;VRF route installed                                1    0
scripts/check_linux_mpls.py:0 WAIT:ce2:ping 99.0.0.3 -I 99.0.0.2 -c 1: 0. packet loss:wait:CE2-&gt;CE3 (loopback) ping:10:0.5:
Tue Oct 31 08:10:19 2023 (#131) scripts/check_linux_mpls.py:0 COMMAND:ce2:ping 99.0.0.3 -I 99.0.0.2 -c 1: 0. packet loss:wait:CE2-&gt;CE3 (loopback) ping:
COMMAND OUTPUT:PING 99.0.0.3 (99.0.0.3) from 99.0.0.2 : 56(84) bytes of data.
64 bytes from 99.0.0.3: icmp_seq=1 ttl=62 time=0.083 ms

--- 99.0.0.3 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.083/0.083/0.083/0.000 ms:
R:131  ce2    CE2-&gt;CE3 (loopback) ping +0.00 secs                      1    0
Done after 1 loops, time=0.0040400028228759766, Found= 0% packet loss
scripts/check_linux_mpls.py:0 WAIT:ce3:ping 99.0.0.4 -I 99.0.0.3 -c 1: 0. packet loss:wait:CE3-&gt;CE4 (loopback) ping:10:0.5:
Tue Oct 31 08:10:19 2023 (#132) scripts/check_linux_mpls.py:0 COMMAND:ce3:ping 99.0.0.4 -I 99.0.0.3 -c 1: 0. packet loss:wait:CE3-&gt;CE4 (loopback) ping:
COMMAND OUTPUT:PING 99.0.0.4 (99.0.0.4) from 99.0.0.3 : 56(84) bytes of data.
64 bytes from 99.0.0.4: icmp_seq=1 ttl=63 time=0.047 ms

--- 99.0.0.4 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.047/0.047/0.047/0.000 ms:
R:132  ce3    CE3-&gt;CE4 (loopback) ping +0.00 secs                      1    0
Done after 1 loops, time=0.0038671493530273438, Found= 0% packet loss

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_check_scale_up" time="30.812"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/scale_up.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/scale_up.py
Tue Oct 31 08:10:19 2023 (#133) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5196 KiB
  Holding block headers: 224 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4327 KiB
  Free small blocks:     4176 bytes
  Free ordinary blocks:  869 KiB
  Ordinary blocks:       10
  Small blocks:          89
  Holding blocks:        28
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        6     24         144        6       160
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4955    356856
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        6    128         816        6       816
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       12 variable       960       12       960
POSIX sync primitives         :       12 variable       592       12       592
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      952 variable     46384      952     46384
Hash Bucket                   :     1037     32       41624     1039     41704
Hash Index                    :      476 variable    134144      476    134144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       41     40        1688       44      1808
Link Node                     :      524     24       12640      593     14328
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        5    144         760       14      2144
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        8 variable    189888       29    370608
Stream FIFO                   :        9     64         648       11       792
Route table                   :       13     56         728       13       728
Route node                    :       30 variable      3664       30      3664
Thread                        :       30    160        5040       30      5040
Thread master                 :       28 variable 117500320       28 117500320
Thread Poll Info              :       14 8388608  117497632       14 117497632
Thread stats                  :       30     96        3136       30      3136
Typed-hash bucket             :       11 variable       696       11       696
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368760    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        7  24608      172312        7    172312
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       14     14224
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        5    144         760       12      1824
Nexthop Group Connected       :        4     40         160        4       160
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :       14    152        2128       14      2128
RIB destination               :       17     88        1528       17      1528
WQ wrapper                    :        0    120           0        7       840
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        4   3584       14368        4     14368

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7488 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  6918 KiB
  Free small blocks:     1872 bytes
  Free ordinary blocks:  570 KiB
  Ordinary blocks:       8
  Small blocks:          52
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2508     32      100624     2508    100624
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       52     40        2160       58      2400
Link Node                     :      355     24        8568      548     13280
Temporary memory              :       38 variable      1600       48      6080
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       29   1032       29928       29     29928
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        3    120         360        3       360
Route map name                :       12 variable       288       14       336
Route map index               :        3    152         456        3       456
Route map rule                :       21     40         856       21       856
Route map rule str            :       21 variable       504       21       504
Route map compiled            :       24 variable       576       24       576
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        3     16          72        3        72
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      106     56        6000      106      6000
Route node                    :        6    120         720        6       720
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       21     96        2216       21      2216
Typed-hash bucket             :       12 variable      1760       12      1760
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966984    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       112
BGP attribute                 :        6    328        1968        6      1968
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :       35    192        7032       35      7032
BGP route                     :       12    136        1632       12      1632
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         760        5       760
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0        4       288
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :        5     96         536        5       536
community                     :        4     40         160        5       200
community val                 :        4 variable        96        5       120
community str                 :        1   8192        8200        1      8200
extcommunity                  :        4     40         160        4       160
extcommunity val              :        4 variable        96        4        96
extcommunity str              :        4 variable       368        4       368
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        40
BGP nexthop                   :        1    184         184        1       184
BGP own address               :        2     64         144        2       144
BGP redistribution            :        1     24          24        1        24
Large Community               :        5     40         200        6       240
Large Community display string:        2     35          80        2        80
Large Community value         :        5     12         120        6       144
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for sharpd:
System allocator statistics:
  Total heap allocated:  1320 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1263 KiB
  Free small blocks:     1424 bytes
  Free ordinary blocks:  57 KiB
  Ordinary blocks:       2
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1490     72      107280     1493    107496
Command Token Text            :     1144 variable     38160     1146     38232
Command Token Help            :     1144 variable     27472     1146     27520
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      405 variable      9720      407      9768
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       10      8         240       11       280
Graph Node                    :     1722     32       68976     1724     69056
Hash                          :      218 variable     10544      218     10544
Hash Bucket                   :      301     32       12104      301     12104
Hash Index                    :      109 variable     33080      110     33600
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       15     40         648       20       864
Link Node                     :      126     24        3040      176      4272
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      139   1192      165688      139    165688
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        3     56         168        3       168
Stream                        :        2  23728       47472        2     47472
Thread                        :        5    160         840        5       840
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        6     96         624        6       624
Typed-hash bucket             :        1 variable        40        1        40
Vector                        :     3467     24       83384     3470     83456
Vector index                  :     3467 variable    111672     3470    111968
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        4     48         224        4       224
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem sharpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 08:10:19 2023 (#133) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5344 KiB
  Holding block headers: 224 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4328 KiB
  Free small blocks:     3632 bytes
  Free ordinary blocks:  1016 KiB
  Ordinary blocks:       11
  Small blocks:          84
  Holding blocks:        28
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        6     24         144        6       144
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4955    356856
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        6    128         816        6       816
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       12 variable       960       12       960
POSIX sync primitives         :       12 variable       592       12       592
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      952 variable     46368      952     46368
Hash Bucket                   :     1037     32       41656     1039     41736
Hash Index                    :      476 variable    134144      476    134144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       41     40        1688       44      1808
Link Node                     :      524     24       12640      593     14328
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        5    144         760       13      1976
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        8 variable    189888       29    436304
Stream FIFO                   :        9     64         648       11       792
Route table                   :       13     56         728       13       728
Route node                    :       30 variable      3680       30      3680
Thread                        :       30    160        5040       30      5040
Thread master                 :       28 variable 117500320       28 117500320
Thread Poll Info              :       14 8388608  117497632       14 117497632
Thread stats                  :       30     96        3136       30      3136
Typed-hash bucket             :       11 variable       696       11       696
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279448    11634    279648
Vector index                  :    11625 variable    368760    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        7  24608      172312        7    172312
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       14     14224
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        5    144         760       11      1672
Nexthop Group Connected       :        4     40         160        4       160
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :       14    152        2128       14      2128
RIB destination               :       17     88        1544       17      1544
WQ wrapper                    :        0    120           0        6       720
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        4   3584       14368        4     14368

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7484 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  6917 KiB
  Free small blocks:     1872 bytes
  Free ordinary blocks:  567 KiB
  Ordinary blocks:       12
  Small blocks:          52
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2509     32      100696     2509    100696
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       52     40        2128       58      2368
Link Node                     :      355     24        8568      548     13296
Temporary memory              :       38 variable      1600       48      6080
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       29   1032       29928       29     29928
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        3    120         360        3       360
Route map name                :       12 variable       288       14       336
Route map index               :        3    152         472        3       472
Route map rule                :       21     40         872       21       872
Route map rule str            :       21 variable       504       21       504
Route map compiled            :       24 variable       576       24       576
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        3     16          72        3        72
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      106     56        6000      106      6000
Route node                    :        6    120         736        6       736
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       21     96        2200       21      2200
Typed-hash bucket             :       12 variable      1760       12      1760
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966984    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       624
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       112
BGP attribute                 :        7    328        2296        7      2296
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :       35    192        7032       35      7032
BGP route                     :       15    136        2056       15      2056
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         760        5       760
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0        4       288
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :        5     96         536        5       536
community                     :        4     40         176        5       216
community val                 :        4 variable        96        5       120
community str                 :        1   8192        8200        1      8200
extcommunity                  :        4     40         160        5       200
extcommunity val              :        4 variable        96        5       120
extcommunity str              :        4 variable       352        4       352
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        56
BGP nexthop                   :        1    184         184        1       184
BGP own address               :        2     64         144        2       144
BGP redistribution            :        1     24          24        1        24
Large Community               :        5     40         216        6       256
Large Community display string:        2     35          80        2        80
Large Community value         :        5     12         120        6       144
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for sharpd:
System allocator statistics:
  Total heap allocated:  1320 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1263 KiB
  Free small blocks:     1392 bytes
  Free ordinary blocks:  57 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1490     72      107280     1493    107496
Command Token Text            :     1144 variable     38160     1146     38232
Command Token Help            :     1144 variable     27472     1146     27520
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      405 variable      9720      407      9768
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       10      8         240       11       280
Graph Node                    :     1722     32       68976     1724     69056
Hash                          :      218 variable     10544      218     10544
Hash Bucket                   :      301     32       12104      301     12104
Hash Index                    :      109 variable     33080      110     33600
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       15     40         648       20       864
Link Node                     :      126     24        3040      176      4272
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      139   1192      165688      139    165688
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        3     56         168        3       168
Stream                        :        2  23728       47472        2     47472
Thread                        :        5    160         840        5       840
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        6     96         624        6       624
Typed-hash bucket             :        1 variable        40        1        40
Vector                        :     3467     24       83384     3470     83456
Vector index                  :     3467 variable    111672     3470    111968
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        4     48         224        4       224
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem sharpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 08:10:19 2023 (#133) scripts/scale_up.py:0 COMMAND:ce3:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        56
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  4928 KiB
  Holding block headers: 192 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4206 KiB
  Free small blocks:     3792 bytes
  Free ordinary blocks:  722 KiB
  Ordinary blocks:       9
  Small blocks:          84
  Holding blocks:        24
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        5     24         120        5       136
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4955    356872
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        5    128         680        5       680
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       10 variable       800       10       800
POSIX sync primitives         :       10 variable       496       10       496
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      746 variable     36448      746     36448
Hash Bucket                   :     1032     32       41424     1034     41504
Hash Index                    :      373 variable    107144      373    107144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       40     40        1664       43      1800
Link Node                     :      418     24       10096      487     11808
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        5    144         760       11      1672
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        6 variable    142416       27    310312
Stream FIFO                   :        7     64         504        9       648
Route table                   :       13     56         728       13       728
Route node                    :       30 variable      3664       30      3664
Thread                        :       27    160        4536       27      4536
Thread master                 :       24 variable 100714560       24 100714560
Thread Poll Info              :       12 8388608  100712256       12 100712256
Thread stats                  :       27     96        2824       27      2824
Typed-hash bucket             :       11 variable       696       11       696
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368760    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        2      8          48        2        48
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        6  24608      147696        6    147696
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       14     14224
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        5    144         760        9      1368
Nexthop Group Connected       :        4     40         160        4       160
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :       14    152        2128       16      2432
RIB destination               :       17     88        1544       17      1544
WQ wrapper                    :        0    120           0        6       720
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        3   3584       10776        3     10776

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7464 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  6895 KiB
  Free small blocks:     1984 bytes
  Free ordinary blocks:  569 KiB
  Ordinary blocks:       12
  Small blocks:          52
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120        2      8256
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2496     32      100128     2497    100168
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       49     40        2008       55      2248
Link Node                     :      352     24        8496      545     13288
Temporary memory              :       31 variable      1208       41      5688
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       20   1032       20640       20     20640
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        2    120         240        2       240
Route map name                :        9 variable       216       11       264
Route map index               :        2    152         320        2       320
Route map rule                :       14     40         560       14       560
Route map rule str            :       14 variable       336       14       336
Route map compiled            :       16 variable       384       16       384
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        2     16          48        2        48
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      104     56        5888      104      5888
Route node                    :        4    120         480        4       480
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       21     96        2248       21      2248
Typed-hash bucket             :       10 variable      1712       10      1712
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       112
BGP attribute                 :        7    328        2296        8      2624
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :       35    192        7032       35      7032
BGP route                     :       13    136        1768       13      1768
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         776        5       776
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0        4       288
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :        5     96         536        5       536
community                     :        3     40         136        4       176
community val                 :        3 variable        72        4        96
community str                 :        1   8192        8200        1      8200
extcommunity                  :        3     40         120        4       160
extcommunity val              :        3 variable        72        4        96
extcommunity str              :        3 variable       280        3       280
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        40
BGP nexthop                   :        1    184         184        1       184
BGP own address               :        2     64         144        2       144
Large Community               :        4     40         160        5       200
Large Community display string:        2     35          80        2        80
Large Community value         :        4     12          96        5       120
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1456 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109064     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 08:10:19 2023 (#133) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1780 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  152 KiB
  Ordinary blocks:       6
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117896
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       488
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       16     45280
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1664       16      1664
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5708 KiB
  Holding block headers: 288 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4608 KiB
  Free small blocks:     4080 bytes
  Free ordinary blocks:  1101 KiB
  Ordinary blocks:       15
  Small blocks:          86
  Holding blocks:        36
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         192        8       192
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356624     4955    356840
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231584     5785    231784
Hash                          :     1372 variable     66736     1372     66736
Hash Bucket                   :     1088     32       43696     1092     43872
Hash Index                    :      686 variable    188816      687    188952
Hook entry                    :        9     48         504        9       504
Interface                     :        4    272        1120        4      1120
Intf Desc                     :        2      7          48        2        48
Connected                     :        5     48         280        5       280
Link List                     :       61     40        2504       65      2664
Link Node                     :      750     24       18112      822     19888
Temporary memory              :        4 variable        96        7       344
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       35    144        5320       53      8056
Nexthop label                 :       21 variable       504       39       936
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        3   1032        3096        3      3096
Prefix                        :        5     56         280        5       280
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832       33    500536
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       25     56        1400       25      1400
Route node                    :       71 variable      8696       71      8696
ASCII table                   :        0 variable         0       14       544
Thread                        :       37    160        6216       37      6216
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       18 variable      1232       18      1232
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368744    11634    369056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        6       144
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        4    608        2464        4      2464
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       22     22352
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        6     80         528        6       528
MPLS nexthop object           :        6     48         368       11       648
Nexthop Group Entry           :       25    144        3816       28      4272
Nexthop Group Connected       :       24     40         960       24       960
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :       34    152        5184       34      5184
RIB destination               :       35     88        3112       35      3112
WQ wrapper                    :        0 variable         0       10    226960
RIB table info                :        8     24         192        8       192
Zebra VRF table               :        8     56         448        8       448
Nexthop tracking object       :        5    248        1240        5      1240
ZEBRA VRF                     :        2   5072       10160        2     10160
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        2     80         176        2       176
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2463 KiB
  Free small blocks:     1600 bytes
  Free ordinary blocks:  101 KiB
  Ordinary blocks:       4
  Small blocks:          45
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     4296     72      309392     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      824     32       33088      824     33088
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         280        5       280
Informational Link Parameters :        0    120           0        1       120
Link List                     :       62     40        2528       78      3168
Link Node                     :      195     24        4696      241      5816
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        1   1032        1032        1      1032
Prefix                        :        5     56         280        5       280
Privilege information         :        3 variable       136        3       136
Stream                        :        6 variable    160608        9    165208
Route table                   :      148     56        8384      150      8496
Route node                    :       38    120        4576       42      5056
Thread                        :       16    160        2704       16      2704
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       22     96        2304       22      2304
Typed-hash bucket             :       13 variable       776       15       840
Skiplist overflow             :        0     24           0        1        24
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        2    304         624        2       624
OSPF neighbor                 :        3   1520        4584        3      4584
OSPF route                    :       11     64         792       13       936
OSPF LSA                      :        7    128         952        9      1240
OSPF LSA data                 :        7 variable       376        9       472
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        1     24          24        4        96
OSPF FIFO queue               :        2     24          48        2        48
OSPF vertex                   :        0     80           0        7       616
OSPF vertex parent            :        0     32           0        6       240
OSPF nexthop                  :        0      8           0       11       264
OSPF path                     :       11     48         616       13       728
OSPF if info                  :        4     40         160        4       160
OSPF if params                :        4    120         480        4       480
OSPF MPLS parameters          :        4    248         992        4       992
OSPF Extended parameters      :        4    136         544        4       544
OSPF opaque function table    :        6    112         736        6       736
OSPF External route table     :        1     16          24        1        24
OSPF Redistriute              :        1     32          40        1        40

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1584 KiB
  Free small blocks:     1472 bytes
  Free ordinary blocks:  92 KiB
  Ordinary blocks:       5
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156304
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         296        5       296
Link List                     :       17     40         712       22       912
Link Node                     :      142     24        3472      195      4792
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        5     56         296        5       296
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1040       10      1040
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163880     5182    164128
VRF                           :        2    216         432        2       432
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7860 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  7363 KiB
  Free small blocks:     1968 bytes
  Free ordinary blocks:  497 KiB
  Ordinary blocks:       20
  Small blocks:          52
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       112
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      627 variable     30776      627     30776
Hash Bucket                   :     2506     32      100576     2509    100696
Hash Index                    :      314 variable    480432      314    480432
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         328        5       328
Link List                     :       65     40        2680       73      3000
Link Node                     :      382     24        9232      623     15176
Temporary memory              :       41 variable      3688       46      4688
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        5    144         776        6       928
Nexthop label                 :        3      8          72        3        72
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        5     56         296        5       296
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        8 variable    393408       10    491760
Skip List                     :       13     56         744       14       800
Skip Node                     :       28 variable      2784       29      2952
Skiplist Counters             :       13     68         936       14      1008
Socket union                  :        6    112         720        9      1080
Stream                        :        9 variable    425896       21    491960
Stream FIFO                   :        8     64         576       10       720
Route table                   :      170     56        9584      170      9584
Thread                        :       22    160        3696       22      3696
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       23     96        2440       23      2440
Typed-hash bucket             :       13 variable      2424       13      2424
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
VTY output buffer             :        0 variable         0        1      1288
Work queue                    :        4    144         608        5       760
Work queue item               :        0     24           0        2        48
Work queue name string        :        4 variable        96        5       120
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        2     24          48        2        48
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        4     16          96        4        96
Mac Hash Entry Intf String    :        4 variable        96        5       120
BGP instance                  :       10 variable     21584       10     21584
BGP listen socket details     :        6 variable       672        6       672
BGP peer                      :        6  20864      125232        7    146104
BGP peer hostname             :       10 variable       240       12       288
BGP peer af                   :        2     80         176        4       352
BGP update group              :        2    104         208        2       208
BGP update subgroup           :        2    240         496        2       496
BGP packet                    :        2     56         112        3       184
BGP attribute                 :       26    328        8528       26      8528
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :      157     56        8904      157      8904
BGP node                      :       70    192       14000       70     14000
BGP route                     :       55    136        7496       55      7496
BGP ancillary route info      :       50    432       22000       50     22000
BGP connected                 :        3      4          72        3        72
BGP adv attr                  :        0     24           0        3        72
BGP adv                       :        0     64           0        7       504
BGP synchronise               :        2     48         112        2       112
BGP adj out                   :       12     96        1248       12      1248
community                     :        1     40          40        2        80
community val                 :        1      4          24        2        48
community str                 :        1   8192        8200        1      8200
extcommunity                  :        6     40         240        7       280
extcommunity val              :        6 variable       144        7       168
extcommunity str              :        4 variable       416        5       568
community-list handler        :        1    120         136        1       136
Cluster list                  :        1     24          24        1        24
Cluster list val              :        1      4          24        1        24
BGP Process queue             :        0     32           0        2        80
BGP nexthop                   :        5    184         920        5       920
BGP own address               :        3     64         216        3       216
Large Community               :        5     40         200        5       200
Large Community display string:        5     35         200        5       200
Large Community value         :        5     12         120        5       120
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        2     34          80        2        80
BGP Martian Addr Intf String  :        3 variable        72        3        72
BGP PBR Context               :        2     32          80        2        80
BGP interface context         :        4      4          96        4        96
BGP EVPN instance information :        2     56         112        2       112
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :       15     40         600       15       600
RFAPI IT Extra                :       13     40         520       13       520

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1370 KiB
  Free small blocks:     1360 bytes
  Free ordinary blocks:  94 KiB
  Ordinary blocks:       2
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      290     32       11648      290     11648
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         296        5       296
Link List                     :       17     40         728       22       928
Link Node                     :      128     24        3104      178      4320
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        5     56         280        5       280
Stream                        :        3 variable     63896        4     80320
Route table                   :        8     56         448        8       448
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        72        1        72
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :       10 variable       720       10       720:
Tue Oct 31 08:10:19 2023 (#133) scripts/scale_up.py:0 COMMAND:r2:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1796 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  168 KiB
  Ordinary blocks:       6
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       80      2048
Temporary memory              :        4 variable        96       20     61696
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1664       16      1664
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5740 KiB
  Holding block headers: 288 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4595 KiB
  Free small blocks:     2816 bytes
  Free ordinary blocks:  1145 KiB
  Ordinary blocks:       13
  Small blocks:          73
  Holding blocks:        36
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         208        8       208
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356624     4955    356840
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231584     5785    231784
Hash                          :     1364 variable     66240     1364     66240
Hash Bucket                   :     1085     32       43640     1085     43640
Hash Index                    :      682 variable    188544      683    188680
Hook entry                    :        8     48         448        8       448
Interface                     :        4    272        1120        4      1120
Intf Desc                     :        3      7          72        3        72
Connected                     :        7     48         392        7       392
Link List                     :       60     40        2464       63      2600
Link Node                     :      748     24       18096      814     19736
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       31    144        4744       37      5656
Nexthop label                 :       14      8         336       16       384
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        4   1032        4128        4      4128
Prefix                        :        7     56         392        7       392
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832       36    549808
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       15     56         840       15       840
Route node                    :       42 variable      5104       42      5104
Thread                        :       38    160        6384       38      6384
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       14 variable       864       14       864
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368792    11634    369104
VRF                           :        1    216         216        1       216
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        3        72
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        4    608        2464        4      2464
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       24     24384
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        3     80         264        3       264
MPLS nexthop object           :        4     48         224        6       336
Nexthop Group Entry           :       24    144        3648       25      3800
Nexthop Group Connected       :       27     40        1096       30      1216
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :       24    152        3664       24      3664
RIB destination               :       17     88        1512       17      1512
WQ wrapper                    :        0 variable         0       12    181568
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        3    248         760        3       760
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        4     80         352        4       352
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2494 KiB
  Free small blocks:     1648 bytes
  Free ordinary blocks:  70 KiB
  Ordinary blocks:       10
  Small blocks:          45
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     4296     72      309408     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      826     32       33184      826     33184
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Informational Link Parameters :        0    120           0        1       120
Link List                     :       80     40        3248      101      4104
Link Node                     :      214     24        5168      257      6312
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        3   1032        3096        3      3096
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Stream                        :        9 variable    160888       13    168392
Route table                   :      316     56       17904      318     18016
Route node                    :       62    120        7488       75      9048
Thread                        :       30    160        5056       30      5056
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       23     96        2408       23      2408
Typed-hash bucket             :       19 variable      1144       27      1376
Skiplist overflow             :        0 variable         0        2        80
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        4    304        1248        4      1248
OSPF neighbor                 :        8   1520       12224        8     12224
OSPF route                    :       18     64        1344       24      1776
OSPF LSA                      :        7    128         984       11      1512
OSPF LSA data                 :        7 variable       408       11       576
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        4     24          96        8       192
OSPF FIFO queue               :        4     24          96        4        96
OSPF vertex                   :        0     80           0        7       616
OSPF vertex parent            :        0     32           0        7       280
OSPF nexthop                  :        0      8           0       14       336
OSPF path                     :       22     48        1232       28      1568
OSPF if info                  :        4     40         160        4       160
OSPF if params                :        5    120         600        5       600
OSPF MPLS parameters          :        4    248         992        4       992
OSPF Extended parameters      :        4    136         544        4       544
OSPF opaque function table    :        6    112         736        6       736

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1584 KiB
  Free small blocks:     1520 bytes
  Free ordinary blocks:  92 KiB
  Ordinary blocks:       5
  Small blocks:          43
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156304
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         408        7       408
Link List                     :       17     40         712       22       944
Link Node                     :      144     24        3520      198      4848
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         408        7       408
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1056       10      1056
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163880     5182    164128
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7636 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  7127 KiB
  Free small blocks:     1952 bytes
  Free ordinary blocks:  509 KiB
  Ordinary blocks:       19
  Small blocks:          53
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      577 variable     28328      579     28424
Hash Bucket                   :     2495     32      100120     2505    100520
Hash Index                    :      289 variable    434984      290    437040
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Link List                     :       53     40        2184       59      2424
Link Node                     :      357     24        8616      547     13256
Temporary memory              :       45 variable      4232       48      4688
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        4    144         608        6       928
Nexthop label                 :        4      8          96        4        96
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        8 variable    393408       10    491776
Skip List                     :       14     56         800       15       856
Skip Node                     :       34 variable      3168       35      3336
Skiplist Counters             :       14     68        1008       15      1080
Socket union                  :        9    112        1080       10      1200
Stream                        :        7 variable    293720       23    427856
Stream FIFO                   :        8     64         576       10       720
Route table                   :      104     56        5904      104      5904
Thread                        :       25    160        4200       25      4200
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       22     96        2320       22      2320
Typed-hash bucket             :       11 variable      2200       11      2200
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        3     24          72        3        72
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        4     16          96        4        96
Mac Hash Entry Intf String    :        4 variable        96        5       120
BGP instance                  :        6 variable     10816        6     10816
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        5  20864      104360        6    125232
BGP peer hostname             :        9 variable       216       10       240
BGP peer af                   :        3     80         264        5       440
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        2       496
BGP packet                    :        1     56          56        8       448
BGP attribute                 :       20    328        6560       20      6560
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       91     56        5144       91      5144
BGP node                      :       50    192       10000       50     10000
BGP route                     :       40    136        5472       40      5472
BGP ancillary route info      :       40    432       17600       40     17600
BGP connected                 :        4      4          96        4        96
BGP adv attr                  :        0     24           0       10       240
BGP adv                       :        0     64           0       20      1440
BGP synchronise               :        1     48          56        2       112
BGP adj out                   :       20     96        2080       40      4160
community                     :        1     40          56        2        96
community val                 :        1      4          24        2        48
community str                 :        1   8192        8200        1      8200
extcommunity                  :        2     40          80        3       120
extcommunity val              :        2 variable        48        3        72
extcommunity str              :        2 variable       208        3       360
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        40
BGP nexthop                   :        3    184         552        3       552
BGP own address               :        4     64         288        4       288
Large Community               :        5     40         216        5       216
Large Community display string:        5     35         200        5       200
Large Community value         :        5     12         120        5       120
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        3     34         120        3       120
BGP Martian Addr Intf String  :        4 variable        96        4        96
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        4      4          96        4        96
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :       20     40         800       20       800
RFAPI IT Extra                :       15     40         600       15       600

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1369 KiB
  Free small blocks:     1376 bytes
  Free ordinary blocks:  95 KiB
  Ordinary blocks:       2
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         408        7       408
Link List                     :       17     40         728       22       928
Link Node                     :      130     24        3152      181      4424
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        7     56         392        7       392
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        72        1        72
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 08:10:19 2023 (#133) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1796 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  168 KiB
  Ordinary blocks:       5
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       80      2048
Temporary memory              :        4 variable        96       20     61696
MGMTD Frontend session        :        1     40          40        1        56
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1664       16      1664
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  6012 KiB
  Holding block headers: 288 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4624 KiB
  Free small blocks:     4432 bytes
  Free ordinary blocks:  1388 KiB
  Ordinary blocks:       16
  Small blocks:          90
  Holding blocks:        36
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         208        8       208
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356624     4955    356840
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231584     5785    231784
Hash                          :     1372 variable     66608     1372     66608
Hash Bucket                   :     1112     32       44736     1114     44816
Hash Index                    :      686 variable    189344      687    189608
Hook entry                    :       11     48         616       11       616
Interface                     :        5    272        1400        5      1400
Intf Desc                     :        3      7          72        3        72
Connected                     :        7     48         392        7       392
Link List                     :       68     40        2784       72      2960
Link Node                     :      754     24       18240      826     20000
Temporary memory              :        4 variable        96        7       696
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       56    144        8528       73     11112
Nexthop label                 :       35 variable       856       52      1264
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        4   1032        4128        4      4128
Prefix                        :        7     56         392        7       392
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832       41    631928
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       26     56        1456       26      1456
Route node                    :       76 variable      9328       76      9328
ASCII table                   :        0 variable         0       49      2056
Thread                        :       39    160        6552       39      6552
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       19 variable      1288       19      1288
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279464    11634    279680
Vector index                  :    11625 variable    368728    11634    369056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30608        2     30608
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        5       120
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        5    608        3080        5      3080
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       27     27432
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        5     80         440        5       440
MPLS nexthop object           :        8     48         464       15       856
Nexthop Group Entry           :       37    144        5624       39      5928
Nexthop Group Connected       :       48     40        1936       48      1936
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :       38    152        5808       41      6264
RIB destination               :       36     88        3216       36      3216
WQ wrapper                    :        0 variable         0       20    453920
RIB table info                :        8     24         192        8       192
Zebra VRF table               :        8     56         448        8       448
Nexthop tracking object       :        5    248        1240        5      1240
ZEBRA VRF                     :        2   5072       10160        2     10160
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        4     80         352        4       352
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2484 KiB
  Free small blocks:     1680 bytes
  Free ordinary blocks:  80 KiB
  Ordinary blocks:       9
  Small blocks:          45
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       112
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     4296     72      309392     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      826     32       33168      826     33168
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         392        7       392
Informational Link Parameters :        0    120           0        1       120
Link List                     :       77     40        3128       97      3928
Link Node                     :      214     24        5152      257      6312
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        7     56         408        7       408
Privilege information         :        3 variable       136        3       136
Stream                        :        8 variable    160816       11    165384
Route table                   :      251     56       14184      253     14296
Route node                    :       54    120        6512       67      8088
Thread                        :       26    160        4368       26      4368
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       23     96        2424       23      2424
Typed-hash bucket             :       17 variable      1016       23      1232
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        3    304         936        3       936
OSPF neighbor                 :        6   1520        9168        6      9168
OSPF route                    :       16     64        1152       21      1512
OSPF LSA                      :        7    128         952       10      1360
OSPF LSA data                 :        7 variable       392       10       560
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        3     24          72        6       176
OSPF FIFO queue               :        3     24          72        3        72
OSPF vertex                   :        0     80           0        7       616
OSPF vertex parent            :        0     32           0        9       360
OSPF nexthop                  :        0      8           0       16       384
OSPF path                     :       22     48        1232       27      1512
OSPF if info                  :        5     40         200        5       200
OSPF if params                :        6    120         720        6       720
OSPF MPLS parameters          :        5    248        1240        5      1240
OSPF Extended parameters      :        5    136         680        5       680
OSPF opaque function table    :        6    112         736        6       736
OSPF External route table     :        1     16          24        1        24
OSPF Redistriute              :        1     32          40        1        40

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1585 KiB
  Free small blocks:     1536 bytes
  Free ordinary blocks:  91 KiB
  Ordinary blocks:       5
  Small blocks:          43
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156288
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         392        7       392
Link List                     :       19     40         792       24       992
Link Node                     :      144     24        3520      199      4872
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1056       10      1056
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163864     5182    164128
VRF                           :        2    216         448        2       448
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7748 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  7362 KiB
  Free small blocks:     1952 bytes
  Free ordinary blocks:  386 KiB
  Ordinary blocks:       17
  Small blocks:          53
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      627 variable     30776      627     30776
Hash Bucket                   :     2509     32      100696     2511    100776
Hash Index                    :      314 variable    480432      314    480432
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         424        7       424
Link List                     :       69     40        2840       77      3192
Link Node                     :      386     24        9328      627     15240
Temporary memory              :       41 variable      3688       46      4688
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        7    144        1064        7      1064
Nexthop label                 :        5      8         120        5       120
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         408        7       408
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        8 variable    393408        8    393408
Skip List                     :       13     56         760       14       816
Skip Node                     :       28 variable      2800       29      2968
Skiplist Counters             :       13     68         936       14      1008
Socket union                  :        6    112         720        6       720
Stream                        :        9 variable    425896       18    491960
Stream FIFO                   :        8     64         576        8       576
Route table                   :      170     56        9584      170      9584
Thread                        :       21    160        3528       21      3528
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       23     96        2456       23      2456
Typed-hash bucket             :       13 variable      2456       13      2456
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
VTY output buffer             :        0 variable         0        1      1288
Work queue                    :        4    144         608        4       608
Work queue item               :        0     24           0        2        48
Work queue name string        :        4 variable        96        4        96
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       368
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        2     24          48        2        48
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        5     16         120        5       120
Mac Hash Entry Intf String    :        5 variable       120        6       144
BGP instance                  :       10 variable     21584       10     21584
BGP listen socket details     :        6 variable       672        6       672
BGP peer                      :        6  20864      125232        6    125232
BGP peer hostname             :       10 variable       240       11       264
BGP peer af                   :        2     80         176        2       176
BGP update group              :        2    104         208        2       208
BGP update subgroup           :        2    240         496        2       496
BGP packet                    :        2     56         112        3       184
BGP attribute                 :       27    328        8856       27      8856
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :      157     56        8904      157      8904
BGP node                      :       72    192       14400       72     14400
BGP route                     :       55    136        7480       55      7480
BGP ancillary route info      :       50    432       22000       50     22000
BGP connected                 :        4      4          96        4        96
BGP adv attr                  :        0     24           0        3        72
BGP adv                       :        0     64           0        6       448
BGP synchronise               :        2     48         128        2       128
BGP adj out                   :       15     96        1560       15      1560
community                     :        1     40          40        2        80
community val                 :        1      4          24        2        48
community str                 :        1   8192        8200        1      8200
extcommunity                  :        6     40         240        7       280
extcommunity val              :        6 variable       144        7       168
extcommunity str              :        4 variable       416        5       568
community-list handler        :        1    120         136        1       136
Cluster list                  :        1     24          24        1        24
Cluster list val              :        1      4          24        1        24
BGP Process queue             :        0     32           0        2        80
BGP nexthop                   :        5    184         920        5       920
BGP own address               :        4     64         288        4       288
Large Community               :        5     40         200        5       200
Large Community display string:        5     35         200        5       200
Large Community value         :        5     12         120        5       120
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        2     34          80        2        80
BGP Martian Addr Intf String  :        4 variable        96        4        96
BGP PBR Context               :        2     32          80        2        80
BGP interface context         :        5      4         120        5       120
BGP EVPN instance information :        2     56         112        2       112
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :       15     40         600       15       600
RFAPI IT Extra                :       13     40         520       13       520

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1371 KiB
  Free small blocks:     1344 bytes
  Free ordinary blocks:  93 KiB
  Ordinary blocks:       2
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      290     32       11648      290     11648
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         392        7       392
Link List                     :       19     40         808       24      1008
Link Node                     :      130     24        3152      182      4416
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        7     56         392        7       392
Stream                        :        3 variable     63896        4     80320
Route table                   :        8     56         448        8       448
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        72        1        72
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :       10 variable       720       10       720:
Tue Oct 31 08:10:19 2023 (#133) scripts/scale_up.py:0 COMMAND:r4:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1796 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1424 bytes
  Free ordinary blocks:  168 KiB
  Ordinary blocks:       4
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11920       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       80      2064
Temporary memory              :        4 variable        96       20     61696
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5888 KiB
  Holding block headers: 288 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4641 KiB
  Free small blocks:     3904 bytes
  Free ordinary blocks:  1247 KiB
  Ordinary blocks:       17
  Small blocks:          84
  Holding blocks:        36
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         192        8       192
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356656     4958    357088
Command Token Text            :     3541 variable    117896     3547    118056
Command Token Help            :     3541 variable     85048     3547     85192
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     1198 variable     28752     1202     28848
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231632     5785    231832
Hash                          :     1380 variable     67008     1380     67008
Hash Bucket                   :     1112     32       44800     1114     44880
Hash Index                    :      690 variable    189136      691    189272
Hook entry                    :       14     48         784       14       784
Interface                     :        6    272        1680        6      1680
Intf Desc                     :        3      7          72        3        72
Connected                     :        7     48         392        8       448
Link List                     :       76     40        3184       83      3464
Link Node                     :      760     24       18400      878     21296
Temporary memory              :        4 variable        96        7       696
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       55    144        8360       73     11096
Nexthop label                 :       22 variable       528       40       960
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        56
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        4   1032        4128        4      4128
Prefix                        :        7     56         392        8       448
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832       42    631984
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       37     56        2072       37      2072
Route node                    :      110 variable     13392      110     13392
ASCII table                   :        0 variable         0       49      2056
Thread                        :       40    160        6720       40      6720
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       24 variable      1840       24      1840
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279400    11634    279616
Vector index                  :    11625 variable    368776    11634    369088
VRF                           :        3    216         648        3       648
VRF bit-map                   :       11      8         264       11       264
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        6       144
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        6    608        3696        6      3696
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       30     30480
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        7     80         616        7       616
MPLS nexthop object           :        8     48         464       14       800
Nexthop Group Entry           :       37    144        5624       44      6688
Nexthop Group Connected       :       44     40        1808       44      1808
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :       52    152        7904       58      8816
RIB destination               :       55     88        4872       55      4872
WQ wrapper                    :        0 variable         0       14    272352
RIB table info                :       12     24         288       12       288
Zebra VRF table               :       12     56         672       12       672
Nexthop tracking object       :        7    248        1736        7      1736
ZEBRA VRF                     :        3   5072       15240        3     15240
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        4     80         352        4       352
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2474 KiB
  Free small blocks:     1584 bytes
  Free ordinary blocks:  90 KiB
  Ordinary blocks:       7
  Small blocks:          44
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     4296     72      309408     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      825     32       33128      825     33128
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Informational Link Parameters :        0    120           0        1       120
Link List                     :       76     40        3104       98      4000
Link Node                     :      210     24        5056      253      6168
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        1   1032        1032        1      1032
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Stream                        :        7 variable    160728       11    166904
Route table                   :      185     56       10456      187     10568
Route node                    :       51    120        6136       63      7576
Thread                        :       22    160        3696       22      3696
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       23     96        2392       23      2392
Typed-hash bucket             :       16 variable       976       20      1136
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        3    216         648        3       648
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        2    304         624        2       624
OSPF neighbor                 :        4   1520        6112        4      6112
OSPF route                    :       16     64        1184       23      1688
OSPF LSA                      :        7    128         984       16      2192
OSPF LSA data                 :        7 variable       408       16       640
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        2     24          48        6       144
OSPF FIFO queue               :        2     24          48        2        48
OSPF vertex                   :        0     80           0        7       632
OSPF vertex parent            :        0     32           0        7       280
OSPF nexthop                  :        0      8           0       13       344
OSPF path                     :       18     48        1008       25      1400
OSPF if info                  :        6     40         240        6       240
OSPF if params                :        7    120         840        7       840
OSPF MPLS parameters          :        6    248        1488        6      1488
OSPF Extended parameters      :        6    136         816        6       816
OSPF opaque function table    :        6    112         736        6       736
OSPF External route table     :        1     16          24        1        24
OSPF Redistriute              :        1     32          40        1        40

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1585 KiB
  Free small blocks:     1424 bytes
  Free ordinary blocks:  91 KiB
  Ordinary blocks:       6
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156288
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Link List                     :       21     40         872       26      1072
Link Node                     :      144     24        3520      199      4888
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1040       10      1040
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163864     5182    164128
VRF                           :        3    216         664        3       664
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  8340 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  7833 KiB
  Free small blocks:     1936 bytes
  Free ordinary blocks:  507 KiB
  Ordinary blocks:       15
  Small blocks:          52
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       112
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937496    13017    937928
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      677 variable     33224      677     33224
Hash Bucket                   :     2530     32      101520     2534    101680
Hash Index                    :      339 variable    525880      339    525880
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Link List                     :       85     40        3480       93      3816
Link Node                     :      417     24       10056      658     15920
Temporary memory              :       31 variable      2328       36      4688
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        7    144        1064        7      1064
Nexthop label                 :        3      8          72        3        72
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Ring buffer                   :       12 variable    590112       14    688464
Skip List                     :        8     56         464        9       520
Skip Node                     :       18 variable      1744       19      1912
Skiplist Counters             :        8     68         576        9       648
Socket union                  :        9    112        1080       12      1440
Stream                        :       11 variable    558072       20    624368
Stream FIFO                   :       12     64         864       14      1008
Route table                   :      236     56       13312      236     13312
Thread                        :       30    160        5040       30      5040
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       23     96        2424       23      2424
Typed-hash bucket             :       15 variable      2712       15      2712
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        3    216         648        3       648
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
VTY output buffer             :        0 variable         0        1      1304
Work queue                    :        5    144         760        6       912
Work queue item               :        0     24           0        3        72
Work queue name string        :        5 variable       120        6       144
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        3     24          72        3        72
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        6     16         160        6       160
Mac Hash Entry Intf String    :        6 variable       144        7       168
BGP instance                  :       16 variable     32400       16     32400
BGP listen socket details     :       10 variable      1008       10      1008
BGP peer                      :        9  20864      187848       10    208720
BGP peer hostname             :       15 variable       360       17       408
BGP peer af                   :        3     80         280        5       456
BGP update group              :        3    104         328        3       328
BGP update subgroup           :        3    240         744        3       744
BGP packet                    :        3     56         168        4       240
BGP attribute                 :       41    328       13448       41     13448
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :      223     56       12600      223     12600
BGP node                      :       94    192       18800       94     18800
BGP route                     :       70    136        9520       70      9520
BGP ancillary route info      :       60    432       26400       60     26400
BGP connected                 :        4      4          96        4        96
BGP adv attr                  :        0     24           0        4        96
BGP adv                       :        0     64           0       10       720
BGP synchronise               :        3     48         168        3       168
BGP adj out                   :       27     96        2808       27      2808
BGP multipath info            :        8     48         448        8       448
community                     :        1     40          40        2        80
community val                 :        1      4          24        2        48
community str                 :        1   8192        8200        1      8200
extcommunity                  :        8     40         320        9       360
extcommunity val              :        8 variable       192        9       216
extcommunity str              :        4 variable       416        5       568
community-list handler        :        1    120         136        1       136
Cluster list                  :        1     24          24        1        24
Cluster list val              :        1      4          24        1        24
BGP Process queue             :        0     32           0        3       120
BGP nexthop                   :        7    184        1288        7      1288
BGP own address               :        4     64         288        4       288
Large Community               :        5     40         200        5       200
Large Community display string:        5     35         216        5       216
Large Community value         :        5     12         120        5       120
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        3     34         120        3       120
BGP Martian Addr Intf String  :        4 variable        96        4        96
BGP PBR Context               :        3     32         120        3       120
BGP interface context         :        6      4         144        6       144
BGP EVPN instance information :        3     56         168        3       168
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :       10     40         400       10       400
RFAPI IT Extra                :        8     40         320        8       320

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1372 KiB
  Free small blocks:     1360 bytes
  Free ordinary blocks:  92 KiB
  Ordinary blocks:       2
  Small blocks:          38
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3       104
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      293     32       11768      293     11768
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Link List                     :       21     40         904       26      1088
Link Node                     :      130     24        3152      182      4432
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        7     56         392        7       392
Stream                        :        3 variable     63896        4     80320
Route table                   :       12     56         672       12       672
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable       136        1       136
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109080     3332    109360
VRF                           :        3    216         648        3       648
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :       15 variable      1080       15      1080:
Tue Oct 31 08:10:19 2023 (#133) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show mem":qmem sharpd:none:check if sharpd running:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1472 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5196 KiB
  Holding block headers: 224 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4327 KiB
  Free small blocks:     4128 bytes
  Free ordinary blocks:  869 KiB
  Ordinary blocks:       10
  Small blocks:          88
  Holding blocks:        28
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        6     24         144        6       160
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4955    356856
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        6    128         816        6       816
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       12 variable       960       12       960
POSIX sync primitives         :       12 variable       592       12       592
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      952 variable     46384      952     46384
Hash Bucket                   :     1037     32       41624     1039     41704
Hash Index                    :      476 variable    134144      476    134144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       41     40        1704       44      1824
Link Node                     :      524     24       12640      593     14328
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        5    144         760       14      2144
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        8 variable    189888       29    370608
Stream FIFO                   :        9     64         648       11       792
Route table                   :       13     56         728       13       728
Route node                    :       30 variable      3664       30      3664
Thread                        :       30    160        5040       30      5040
Thread master                 :       28 variable 117500320       28 117500320
Thread Poll Info              :       14 8388608  117497632       14 117497632
Thread stats                  :       30     96        3136       30      3136
Typed-hash bucket             :       11 variable       696       11       696
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368744    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        7  24608      172312        7    172312
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       14     14224
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        5    144         760       12      1824
Nexthop Group Connected       :        4     40         160        4       160
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :       14    152        2128       14      2128
RIB destination               :       17     88        1528       17      1528
WQ wrapper                    :        0    120           0        7       840
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        4   3584       14368        4     14368

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7488 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  6918 KiB
  Free small blocks:     1936 bytes
  Free ordinary blocks:  570 KiB
  Ordinary blocks:       7
  Small blocks:          53
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2508     32      100624     2508    100624
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       52     40        2160       58      2400
Link Node                     :      355     24        8568      548     13280
Temporary memory              :       38 variable      1600       48      6080
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       29   1032       29928       29     29928
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        3    120         360        3       360
Route map name                :       12 variable       288       14       336
Route map index               :        3    152         456        3       456
Route map rule                :       21     40         856       21       856
Route map rule str            :       21 variable       504       21       504
Route map compiled            :       24 variable       576       24       576
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        3     16          72        3        72
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      106     56        6000      106      6000
Route node                    :        6    120         720        6       720
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       21     96        2216       21      2216
Typed-hash bucket             :       12 variable      1760       12      1760
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966984    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       112
BGP attribute                 :        6    328        1968        6      1968
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :       35    192        7032       35      7032
BGP route                     :       12    136        1632       12      1632
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         760        5       760
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0        4       288
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :        5     96         536        5       536
community                     :        4     40         160        5       200
community val                 :        4 variable        96        5       120
community str                 :        1   8192        8200        1      8200
extcommunity                  :        4     40         160        4       160
extcommunity val              :        4 variable        96        4        96
extcommunity str              :        4 variable       368        4       368
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        40
BGP nexthop                   :        1    184         184        1       184
BGP own address               :        2     64         144        2       144
BGP redistribution            :        1     24          24        1        24
Large Community               :        5     40         200        6       240
Large Community display string:        2     35          80        2        80
Large Community value         :        5     12         120        6       144
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for sharpd:
System allocator statistics:
  Total heap allocated:  1320 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1263 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  57 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1490     72      107280     1493    107496
Command Token Text            :     1144 variable     38160     1146     38232
Command Token Help            :     1144 variable     27472     1146     27520
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      405 variable      9720      407      9768
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       10      8         240       11       280
Graph Node                    :     1722     32       68976     1724     69056
Hash                          :      218 variable     10544      218     10544
Hash Bucket                   :      301     32       12104      301     12104
Hash Index                    :      109 variable     33080      110     33600
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       15     40         648       20       864
Link Node                     :      126     24        3040      176      4272
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      139   1192      165688      139    165688
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        3     56         168        3       168
Stream                        :        2  23728       47472        2     47472
Thread                        :        5    160         840        5       840
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        6     96         624        6       624
Typed-hash bucket             :        1 variable        40        1        40
Vector                        :     3467     24       83384     3470     83456
Vector index                  :     3467 variable    111688     3470    111968
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        4     48         224        4       224
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem sharpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 08:10:19 2023 (#133) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "sharp install routes 10.0.0.0 nexthop 99.0.0.1 50000"::pass:Adding 50000 routes:
COMMAND OUTPUT:&lt;no output&gt;:
R:133  ce1    Adding 50000 routes                                      1    0
Tue Oct 31 08:10:19 2023 (#134) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "sharp install routes 10.0.0.0 nexthop 99.0.0.2 50000"::pass:Adding 50000 routes:
COMMAND OUTPUT:&lt;no output&gt;:
R:134  ce2    Adding 50000 routes                                      1    0
scripts/scale_up.py:0 WAIT:ce1:vtysh -c "show ip route summ" | grep "sharp" | cut -d " " -f 33:50000:wait:See all sharp routes in rib on ce1:100.0:10:
Tue Oct 31 08:10:19 2023 (#135) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show ip route summ" | grep "sharp" | cut -d " " -f 33:50000:wait:See all sharp routes in rib on ce1:
COMMAND OUTPUT:1421:
Tue Oct 31 08:10:29 2023 (#135) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show ip route summ" | grep "sharp" | cut -d " " -f 33:50000:wait:See all sharp routes in rib on ce1:
COMMAND OUTPUT:30869:
Tue Oct 31 08:10:39 2023 (#135) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show ip route summ" | grep "sharp" | cut -d " " -f 33:50000:wait:See all sharp routes in rib on ce1:
COMMAND OUTPUT:50000:
R:135  ce1    See all sharp routes in rib on ce1 +20.18 secs           1    0
Done after 3 loops, time=20.18495798110962, Found=50000
scripts/scale_up.py:0 WAIT:ce2:vtysh -c "show ip route summ" | grep "sharp" | cut -d " " -f 33:50000:wait:See all sharp routes in rib on ce2:100.0:10:
Tue Oct 31 08:10:39 2023 (#136) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show ip route summ" | grep "sharp" | cut -d " " -f 33:50000:wait:See all sharp routes in rib on ce2:
COMMAND OUTPUT:50000:
R:136  ce2    See all sharp routes in rib on ce2 +0.05 secs            1    0
Done after 1 loops, time=0.04536557197570801, Found=50000
scripts/scale_up.py:0 WAIT:ce1:vtysh -c "show bgp ipv4 uni 10.0.195.79":Last update::wait:RXed last route, 10.0.195.79:100.0:10:
Tue Oct 31 08:10:40 2023 (#137) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni 10.0.195.79":Last update::wait:RXed last route, 10.0.195.79:
COMMAND OUTPUT:BGP routing table entry for 10.0.195.79/32, version 82157
Paths: (1 available, best #1, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    99.0.0.1 from 0.0.0.0 (99.0.0.1)
      Origin incomplete, metric 200, localpref 200, weight 32768, valid, sourced, best (First path received)
      Community: 0:65
      Extended Community: RT:80:987
      Large Community: 90:12:34
      Last update: Tue Oct 31 08:10:33 2023:
R:137  ce1    RXed last route, 10.0.195.79 +0.03 secs                  1    0
Done after 1 loops, time=0.03470778465270996, Found=Last update:
scripts/scale_up.py:0 WAIT:ce1:vtysh -c "show bgp ipv4 uni" | grep -c 10\.\*/32:50000:wait:See all sharp routes in BGP:100.0:10:
Tue Oct 31 08:10:40 2023 (#138) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni" | grep -c 10\.\*/32:50000:wait:See all sharp routes in BGP:
COMMAND OUTPUT:50000:
R:138  ce1    See all sharp routes in BGP +0.10 secs                   1    0
Done after 1 loops, time=0.10247302055358887, Found=50000
scripts/scale_up.py:0 WAIT:ce2:vtysh -c "show bgp ipv4 uni 10.0.195.79":Last update::wait:RXed last route, 10.0.195.79:100.0:10:
Tue Oct 31 08:10:40 2023 (#139) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni 10.0.195.79":Last update::wait:RXed last route, 10.0.195.79:
COMMAND OUTPUT:BGP routing table entry for 10.0.195.79/32, version 61493
Paths: (1 available, best #1, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    99.0.0.2 from 0.0.0.0 (99.0.0.2)
      Origin incomplete, metric 200, localpref 200, weight 32768, valid, sourced, best (First path received)
      Community: 0:66
      Extended Community: RT:70:456
      Large Community: 78:90:12
      Last update: Tue Oct 31 08:10:31 2023:
R:139  ce2    RXed last route, 10.0.195.79 +0.03 secs                  1    0
Done after 1 loops, time=0.03401613235473633, Found=Last update:
scripts/scale_up.py:0 WAIT:ce2:vtysh -c "show bgp ipv4 uni" | grep -c 10\.\*/32:50000:wait:See all sharp routes in BGP:100.0:10:
Tue Oct 31 08:10:40 2023 (#140) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni" | grep -c 10\.\*/32:50000:wait:See all sharp routes in BGP:
COMMAND OUTPUT:50000:
R:140  ce2    See all sharp routes in BGP +0.10 secs                   1    0
Done after 1 loops, time=0.09958481788635254, Found=50000
scripts/scale_up.py:0 WAIT:ce3:vtysh -c "show bgp ipv4 uni 10.0.195.79":Last update::wait:RXed last route, 10.0.195.79:100.0:10:
Tue Oct 31 08:10:40 2023 (#141) scripts/scale_up.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni 10.0.195.79":Last update::wait:RXed last route, 10.0.195.79:
COMMAND OUTPUT:BGP routing table entry for 10.0.195.79/32, version 63795
Paths: (1 available, best #1, table default)
  Not advertised to any peer
  Local
    192.168.1.1 from 192.168.1.1 (192.168.1.1)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:66
      Extended Community: RT:52:100 RT:70:456
      Large Community: 78:90:12
      Last update: Tue Oct 31 08:10:32 2023:
R:141  ce3    RXed last route, 10.0.195.79 +0.04 secs                  1    0
Done after 1 loops, time=0.035849571228027344, Found=Last update:
scripts/scale_up.py:0 WAIT:ce3:vtysh -c "show bgp ipv4 uni" | grep -c 10\.\*/32:50000:wait:See all sharp routes in BGP:100.0:10:
Tue Oct 31 08:10:40 2023 (#142) scripts/scale_up.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni" | grep -c 10\.\*/32:50000:wait:See all sharp routes in BGP:
COMMAND OUTPUT:50000:
R:142  ce3    See all sharp routes in BGP +0.10 secs                   1    0
Done after 1 loops, time=0.1010141372680664, Found=50000
scripts/scale_up.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 10.0.195.79":99.0.0.1:wait:RXed -&gt; 10.0.195.79 from CE1:100.0:10:
Tue Oct 31 08:10:40 2023 (#143) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 10.0.195.79":99.0.0.1:wait:RXed -&gt; 10.0.195.79 from CE1:
COMMAND OUTPUT:BGP routing table entry for 10.0.195.79/32, version 84547
Paths: (2 available, best #1, vrf r1-cust1)
  Not advertised to any peer
  Local
    99.0.0.1 from 192.168.1.2 (99.0.0.1)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (IGP Metric)
      Community: 0:65
      Extended Community: RT:80:987
      Large Community: 90:12:34
      Last update: Tue Oct 31 08:10:33 2023
  Imported from 10:3:10.0.195.79/32
  Local
    3.3.3.3 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin incomplete, metric 200, localpref 200, valid, sourced, local
      Community: 0:66
      Extended Community: RT:52:100 RT:70:456
      Large Community: 78:90:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:10:32 2023:
R:143  r1     RXed -&gt; 10.0.195.79 from CE1 +0.03 secs                  1    0
Done after 1 loops, time=0.033342838287353516, Found=99.0.0.1
scripts/scale_up.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 10.0.195.79":99.0.0.2:wait:RXed -&gt; 10.0.195.79 from CE2:100.0:10:
Tue Oct 31 08:10:40 2023 (#144) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 10.0.195.79":99.0.0.2:wait:RXed -&gt; 10.0.195.79 from CE2:
COMMAND OUTPUT:BGP routing table entry for 10.0.195.79/32, version 61372
Paths: (2 available, best #2, vrf r3-cust1)
  Not advertised to any peer
  Imported from 10:1:10.0.195.79/32
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin incomplete, metric 200, localpref 200, valid, sourced, local
      Community: 0:65
      Extended Community: RT:52:100 RT:80:987
      Large Community: 90:12:34
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:10:33 2023
  Local
    99.0.0.2 from 192.168.1.2 (99.0.0.2)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (IGP Metric)
      Community: 0:66
      Extended Community: RT:70:456
      Large Community: 78:90:12
      Last update: Tue Oct 31 08:10:31 2023:
R:144  r3     RXed -&gt; 10.0.195.79 from CE2 +0.03 secs                  1    0
Done after 1 loops, time=0.03430318832397461, Found=99.0.0.2
scripts/scale_up.py:0 WAIT:r1:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":99.0.0.1:wait:see VPN safi -&gt; 10.0.195.79 from CE1:10:0.5:
Tue Oct 31 08:10:40 2023 (#145) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":99.0.0.1:wait:see VPN safi -&gt; 10.0.195.79 from CE1:
COMMAND OUTPUT:BGP routing table entry for 10:1:10.0.195.79/32, version 49772
not allocated
Paths: (1 available, best #1)
  Advertised to non peer-group peers:
  2.2.2.2
  Local
    99.0.0.1 from 0.0.0.0 (1.1.1.1) vrf r1-cust1(4) announce-nh-self
      Origin incomplete, metric 200, localpref 200, valid, sourced, local, best (First path received)
      Community: 0:65
      Extended Community: RT:80:987 RT:52:100
      Large Community: 90:12:34
      Originator: 1.1.1.1
      Remote label: 101
      Last update: Tue Oct 31 08:10:33 2023
BGP routing table entry for 10:3:10.0.195.79/32, version 49082
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    3.3.3.3 (metric 20) from 2.2.2.2 (3.3.3.3)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:66
      Extended Community: RT:52:100 RT:70:456
      Large Community: 78:90:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:10:32 2023:
R:145  r1     see VPN safi -&gt; 10.0.195.79 from CE1 +0.03 secs          1    0
Done after 1 loops, time=0.03351449966430664, Found=99.0.0.1
scripts/scale_up.py:0 WAIT:r3:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":99.0.0.2:wait:see VPN safi -&gt; 10.0.195.79 from CE2:10:0.5:
Tue Oct 31 08:10:40 2023 (#146) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":99.0.0.2:wait:see VPN safi -&gt; 10.0.195.79 from CE2:
COMMAND OUTPUT:BGP routing table entry for 10:1:10.0.195.79/32, version 49772
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    1.1.1.1 (metric 20) from 2.2.2.2 (1.1.1.1)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:65
      Extended Community: RT:52:100 RT:80:987
      Large Community: 90:12:34
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:10:33 2023
BGP routing table entry for 10:3:10.0.195.79/32, version 49082
not allocated
Paths: (1 available, best #1)
  Advertised to non peer-group peers:
  2.2.2.2
  Local
    99.0.0.2 from 0.0.0.0 (3.3.3.3) vrf r3-cust1(5) announce-nh-self
      Origin incomplete, metric 200, localpref 200, valid, sourced, local, best (First path received)
      Community: 0:66
      Extended Community: RT:70:456 RT:52:100
      Large Community: 78:90:12
      Originator: 3.3.3.3
      Remote label: 103
      Last update: Tue Oct 31 08:10:31 2023:
R:146  r3     see VPN safi -&gt; 10.0.195.79 from CE2 +0.03 secs          1    0
Done after 1 loops, time=0.03325796127319336, Found=99.0.0.2
scripts/scale_up.py:0 WAIT:r3:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":1.1.1.1:wait:see VPN safi -&gt; 10.0.195.79 from CE1:10:0.5:
Tue Oct 31 08:10:40 2023 (#147) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":1.1.1.1:wait:see VPN safi -&gt; 10.0.195.79 from CE1:
COMMAND OUTPUT:BGP routing table entry for 10:1:10.0.195.79/32, version 49772
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    1.1.1.1 (metric 20) from 2.2.2.2 (1.1.1.1)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:65
      Extended Community: RT:52:100 RT:80:987
      Large Community: 90:12:34
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:10:33 2023
BGP routing table entry for 10:3:10.0.195.79/32, version 49082
not allocated
Paths: (1 available, best #1)
  Advertised to non peer-group peers:
  2.2.2.2
  Local
    99.0.0.2 from 0.0.0.0 (3.3.3.3) vrf r3-cust1(5) announce-nh-self
      Origin incomplete, metric 200, localpref 200, valid, sourced, local, best (First path received)
      Community: 0:66
      Extended Community: RT:70:456 RT:52:100
      Large Community: 78:90:12
      Originator: 3.3.3.3
      Remote label: 103
      Last update: Tue Oct 31 08:10:31 2023:
R:147  r3     see VPN safi -&gt; 10.0.195.79 from CE1 +0.03 secs          1    0
Done after 1 loops, time=0.03345990180969238, Found=1.1.1.1
scripts/scale_up.py:0 WAIT:r1:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":3.3.3.3:wait:see VPN safi -&gt; 10.0.195.79 from CE2:10:0.5:
Tue Oct 31 08:10:40 2023 (#148) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":3.3.3.3:wait:see VPN safi -&gt; 10.0.195.79 from CE2:
COMMAND OUTPUT:BGP routing table entry for 10:1:10.0.195.79/32, version 49772
not allocated
Paths: (1 available, best #1)
  Advertised to non peer-group peers:
  2.2.2.2
  Local
    99.0.0.1 from 0.0.0.0 (1.1.1.1) vrf r1-cust1(4) announce-nh-self
      Origin incomplete, metric 200, localpref 200, valid, sourced, local, best (First path received)
      Community: 0:65
      Extended Community: RT:80:987 RT:52:100
      Large Community: 90:12:34
      Originator: 1.1.1.1
      Remote label: 101
      Last update: Tue Oct 31 08:10:33 2023
BGP routing table entry for 10:3:10.0.195.79/32, version 49082
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    3.3.3.3 (metric 20) from 2.2.2.2 (3.3.3.3)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:66
      Extended Community: RT:52:100 RT:70:456
      Large Community: 78:90:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:10:32 2023:
R:148  r1     see VPN safi -&gt; 10.0.195.79 from CE2 +0.03 secs          1    0
Done after 1 loops, time=0.03379225730895996, Found=3.3.3.3
scripts/scale_up.py:0 WAIT:r4:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":1.1.1.1:wait:see VPN safi -&gt; 10.0.195.79 from CE1:10:0.5:
Tue Oct 31 08:10:40 2023 (#149) scripts/scale_up.py:0 COMMAND:r4:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":1.1.1.1:wait:see VPN safi -&gt; 10.0.195.79 from CE1:
COMMAND OUTPUT:BGP routing table entry for 10:1:10.0.195.79/32, version 49772
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    1.1.1.1 (metric 20) from 2.2.2.2 (1.1.1.1)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:65
      Extended Community: RT:52:100 RT:80:987
      Large Community: 90:12:34
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:10:33 2023
BGP routing table entry for 10:3:10.0.195.79/32, version 49082
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    3.3.3.3 (metric 10) from 2.2.2.2 (3.3.3.3)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:66
      Extended Community: RT:52:100 RT:70:456
      Large Community: 78:90:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:10:32 2023:
R:149  r4     see VPN safi -&gt; 10.0.195.79 from CE1 +0.03 secs          1    0
Done after 1 loops, time=0.033876895904541016, Found=1.1.1.1
scripts/scale_up.py:0 WAIT:r4:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":3.3.3.3:wait:see VPN safi -&gt; 10.0.195.79 from CE2:10:0.5:
Tue Oct 31 08:10:40 2023 (#150) scripts/scale_up.py:0 COMMAND:r4:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":3.3.3.3:wait:see VPN safi -&gt; 10.0.195.79 from CE2:
COMMAND OUTPUT:BGP routing table entry for 10:1:10.0.195.79/32, version 49772
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    1.1.1.1 (metric 20) from 2.2.2.2 (1.1.1.1)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:65
      Extended Community: RT:52:100 RT:80:987
      Large Community: 90:12:34
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:10:33 2023
BGP routing table entry for 10:3:10.0.195.79/32, version 49082
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    3.3.3.3 (metric 10) from 2.2.2.2 (3.3.3.3)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:66
      Extended Community: RT:52:100 RT:70:456
      Large Community: 78:90:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:10:32 2023:
R:150  r4     see VPN safi -&gt; 10.0.195.79 from CE2 +0.03 secs          1    0
Done after 1 loops, time=0.03309369087219238, Found=3.3.3.3
scripts/scale_up.py:0 WAIT:ce1:ip route get 10.0.195.79:dev:wait:Route to 10.0.195.79 available:100.0:10:
Tue Oct 31 08:10:40 2023 (#151) scripts/scale_up.py:0 COMMAND:ce1:ip route get 10.0.195.79:dev:wait:Route to 10.0.195.79 available:
COMMAND OUTPUT:10.0.195.79 dev lo src 99.0.0.1 uid 0 
    cache &lt;local&gt;:
R:151  ce1    Route to 10.0.195.79 available +0.00 secs                1    0
Done after 1 loops, time=0.00434565544128418, Found=dev
scripts/scale_up.py:0 WAIT:ce1:ip route show | grep -c \^10\.:50000:wait:See 50000 linux routes:100.0:10:
Tue Oct 31 08:10:40 2023 (#152) scripts/scale_up.py:0 COMMAND:ce1:ip route show | grep -c \^10\.:50000:wait:See 50000 linux routes:
COMMAND OUTPUT:50000:
R:152  ce1    See 50000 linux routes +1.43 secs                        1    0
Done after 1 loops, time=1.4328105449676514, Found=50000
scripts/scale_up.py:0 WAIT:ce2:ip route get 10.0.195.79:dev:wait:Route to 10.0.195.79 available:100.0:10:
Tue Oct 31 08:10:42 2023 (#153) scripts/scale_up.py:0 COMMAND:ce2:ip route get 10.0.195.79:dev:wait:Route to 10.0.195.79 available:
COMMAND OUTPUT:10.0.195.79 dev lo src 99.0.0.2 uid 0 
    cache &lt;local&gt;:
R:153  ce2    Route to 10.0.195.79 available +0.00 secs                1    0
Done after 1 loops, time=0.004245758056640625, Found=dev
scripts/scale_up.py:0 WAIT:ce2:ip route show | grep -c \^10\.:50000:wait:See 50000 linux routes:100.0:10:
Tue Oct 31 08:10:42 2023 (#154) scripts/scale_up.py:0 COMMAND:ce2:ip route show | grep -c \^10\.:50000:wait:See 50000 linux routes:
COMMAND OUTPUT:50000:
R:154  ce2    See 50000 linux routes +1.46 secs                        1    0
Done after 1 loops, time=1.4582457542419434, Found=50000
scripts/scale_up.py:0 WAIT:ce3:ip route get 10.0.195.79:dev:wait:Route to 10.0.195.79 available:100.0:10:
Tue Oct 31 08:10:43 2023 (#155) scripts/scale_up.py:0 COMMAND:ce3:ip route get 10.0.195.79:dev:wait:Route to 10.0.195.79 available:
COMMAND OUTPUT:10.0.195.79 via 192.168.1.1 dev ce3-eth0 src 192.168.1.2 uid 0 
    cache:
R:155  ce3    Route to 10.0.195.79 available +0.00 secs                1    0
Done after 1 loops, time=0.004220724105834961, Found=dev
scripts/scale_up.py:0 WAIT:ce3:ip route show | grep -c \^10\.:50000:wait:See 50000 linux routes:100.0:10:
Tue Oct 31 08:10:43 2023 (#156) scripts/scale_up.py:0 COMMAND:ce3:ip route show | grep -c \^10\.:50000:wait:See 50000 linux routes:
COMMAND OUTPUT:50000:
R:156  ce3    See 50000 linux routes +1.44 secs                        1    0
Done after 1 loops, time=1.438809871673584, Found=50000
scripts/scale_up.py:0 WAIT:r1:ip route get vrf r1-cust1 10.0.195.79:dev:wait:VRF route available:100.0:10:
Tue Oct 31 08:10:45 2023 (#157) scripts/scale_up.py:0 COMMAND:r1:ip route get vrf r1-cust1 10.0.195.79:dev:wait:VRF route available:
COMMAND OUTPUT:10.0.195.79 via 192.168.1.2 dev r1-eth4 table 10 src 192.168.1.1 uid 0 
    cache:
R:157  r1     VRF route available +0.00 secs                           1    0
Done after 1 loops, time=0.004262447357177734, Found=dev
scripts/scale_up.py:0 WAIT:r1:ip route show vrf r1-cust1 | grep -c \^10\.:50000:wait:See 50000 linux routes:100.0:10:
Tue Oct 31 08:10:45 2023 (#158) scripts/scale_up.py:0 COMMAND:r1:ip route show vrf r1-cust1 | grep -c \^10\.:50000:wait:See 50000 linux routes:
COMMAND OUTPUT:50000:
R:158  r1     See 50000 linux routes +1.43 secs                        1    0
Done after 1 loops, time=1.4289219379425049, Found=50000
scripts/scale_up.py:0 WAIT:r3:ip route get vrf r3-cust1 10.0.195.79:dev:wait:VRF route available:100.0:10:
Tue Oct 31 08:10:46 2023 (#159) scripts/scale_up.py:0 COMMAND:r3:ip route get vrf r3-cust1 10.0.195.79:dev:wait:VRF route available:
COMMAND OUTPUT:10.0.195.79 via 192.168.1.2 dev r3-eth4 table 10 src 192.168.1.1 uid 0 
    cache:
R:159  r3     VRF route available +0.00 secs                           1    0
Done after 1 loops, time=0.004328012466430664, Found=dev
scripts/scale_up.py:0 WAIT:r3:ip route show vrf r3-cust1 | grep -c \^10\.:50000:wait:See 50000 linux routes:100.0:10:
Tue Oct 31 08:10:46 2023 (#160) scripts/scale_up.py:0 COMMAND:r3:ip route show vrf r3-cust1 | grep -c \^10\.:50000:wait:See 50000 linux routes:
COMMAND OUTPUT:50000:
R:160  r3     See 50000 linux routes +1.45 secs                        1    0
Done after 1 loops, time=1.4459614753723145, Found=50000
scripts/scale_up.py:0 WAIT:r4:ip route get vrf r4-cust1 10.0.195.79:dev:wait:VRF route available:100.0:10:
Tue Oct 31 08:10:47 2023 (#161) scripts/scale_up.py:0 COMMAND:r4:ip route get vrf r4-cust1 10.0.195.79:dev:wait:VRF route available:
COMMAND OUTPUT:10.0.195.79 via 10.0.2.3 dev r4-eth0 table 10 src 10.0.2.4 uid 0 
    cache:
R:161  r4     VRF route available +0.01 secs                           1    0
Done after 1 loops, time=0.005138874053955078, Found=dev
scripts/scale_up.py:0 WAIT:r4:ip route show vrf r4-cust1 | grep -c \^10\.:50000:wait:See 50000 linux routes:100.0:10:
Tue Oct 31 08:10:47 2023 (#162) scripts/scale_up.py:0 COMMAND:r4:ip route show vrf r4-cust1 | grep -c \^10\.:50000:wait:See 50000 linux routes:
COMMAND OUTPUT:50000:
R:162  r4     See 50000 linux routes +1.46 secs                        1    0
Done after 1 loops, time=1.462932825088501, Found=50000
Tue Oct 31 08:10:49 2023 (#163) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  34 MiB
  Holding block headers: 225 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  29 MiB
  Free small blocks:     104 KiB
  Free ordinary blocks:  5765 KiB
  Ordinary blocks:       50176
  Small blocks:          1366
  Holding blocks:        29
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        6     24         144        6       160
Buffer data                   :        1   4120        4120       44    181280
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4956    356928
Command Token Text            :     3541 variable    117880     3545    117960
Command Token Help            :     3541 variable     85048     3545     85144
Command Argument              :        2 variable        48        6       144
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        6    128         816        6       816
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       12 variable       960       12       960
POSIX sync primitives         :       12 variable       592       12       592
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      952 variable     46384      952     46384
Hash Bucket                   :     1039     32       41704     1043     41864
Hash Index                    :      476 variable    134144      476    134144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       41     40        1688       47      2024
Link Node                     :      524     24       12640    49253   1182312
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        6    144         912    21309   3238968
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        56
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        8 variable    189888    17008  52405800
Stream FIFO                   :        9     64         648       12       864
Route table                   :       13     56         728       13       728
Route node                    :   100030 variable  12003824   100030  12003824
Thread                        :       30    160        5040       30      5040
Thread master                 :       28 variable 117500320       28 117500320
Thread Poll Info              :       14 8388608  117497632       14 117497632
Thread stats                  :       30     96        3136       30      3136
Typed-hash bucket             :       11 variable   1053088       11   1053088
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368744    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        7  24608      172312        7    172312
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0      858    871728
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        6    144         912    21007   3193064
Nexthop Group Connected       :        5     40         200        5       200
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :    50014    152     7602160    70170  10665872
RIB destination               :    50017     88     4402616    50017   4402616
WQ wrapper                    :        0    120           0    21000   2520032
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        4   3584       14368        4     14368

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  40 MiB
  Holding block headers: 97 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  39 MiB
  Free small blocks:     1856 bytes
  Free ordinary blocks:  1368 KiB
  Ordinary blocks:       14580
  Small blocks:          54
  Holding blocks:        13
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120      782   3221840
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2512     32      100784     2516    100976
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       52     40        2160       58      2400
Link Node                     :      355     24        8568      548     13280
Temporary memory              :       38 variable      1600       48      6080
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       29   1032       29928       29     29928
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        3    120         360        3       360
Route map name                :       12 variable       288       14       336
Route map index               :        3    152         456        3       456
Route map rule                :       21     40         856       21       856
Route map rule str            :       21 variable       504       21       504
Route map compiled            :       24 variable       576       24       576
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        3     16          72        3        72
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       11    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      106     56        6000      106      6000
Route node                    :        6    120         720        6       720
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       22     96        2320       22      2320
Typed-hash bucket             :       12 variable   1054152       12   1054152
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       128
BGP attribute                 :        7    328        2296        8      2624
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :   100035    192    20007064   100035  20007064
BGP route                     :    50012    136     6801696    55511   7549560
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         760        5       760
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0     5627    405176
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :    50005     96     5200616    50005   5200616
community                     :        5     40         216        7       312
community val                 :        5 variable       120        7       168
community str                 :        2   8192       16400        3     24600
extcommunity                  :        4     40         160        6       256
extcommunity val              :        4 variable        96        6       144
extcommunity str              :        4 variable       368        5       504
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        40
BGP nexthop                   :        1    184         184        1       184
BGP own address               :        2     64         144        2       144
BGP redistribution            :        1     24          24        1        24
Large Community               :        6     40         240        8       336
Large Community display string:        3     35         136        4       176
Large Community value         :        6     12         144        8       192
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for sharpd:
System allocator statistics:
  Total heap allocated:  1320 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1264 KiB
  Free small blocks:     1392 bytes
  Free ordinary blocks:  56 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     1490     72      107280     1496    107712
Command Token Text            :     1144 variable     38160     1149     38328
Command Token Help            :     1144 variable     27472     1149     27592
Command Argument              :        2 variable        48        8       192
Command Argument Name         :      405 variable      9720      409      9816
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       10      8         240       11       280
Graph Node                    :     1722     32       68976     1724     69056
Hash                          :      218 variable     10544      218     10544
Hash Bucket                   :      302     32       12144      302     12144
Hash Index                    :      109 variable     33080      110     33600
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       15     40         648       24      1008
Link Node                     :      126     24        3040      182      4416
Temporary memory              :        4 variable        96        9       296
Northbound Node               :      139   1192      165688      139    165688
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        3     56         168        3       168
Stream                        :        2  23728       47472        2     47472
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        7     96         728        7       728
Typed-hash bucket             :        1 variable        40        1        40
Vector                        :     3467     24       83384     3470     83456
Vector index                  :     3467 variable    111688     3470    111968
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        4     48         224        4       224
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem sharpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1376 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 08:10:49 2023 (#163) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show thread cpu":.:pass:BGPd heap: 7488 KiB --&gt; 40 MiB (0.6502 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.117        39        3         9        3         9         0         0          0  R      mgmt_fe_client_read
    0          0.034        39        0         6        1         6         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.178        40        4        12        5        12         0         0          0  R      mgmt_fe_adapter_read
    1          0.006         1        6         6        7         7         0         0          0  R      mgmt_be_adapter_read
    1          0.041         1       41        41       41        41         0         0          0  R      mgmt_be_conn_accept
    1          0.507        21       24        50       25        50         0         0          0  R      vtysh_accept
    0          0.106        40        2         8        3         8         0         0          0   W     mgmt_fe_client_write
    0          0.043        39        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    0          0.028         1       28        28       29        29         0         0          0    T    mgmt_be_adapter_conn_init
    0          0.059         1       59        59       61        61         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.013         1       13        13       14        14         0         0          0  R      mgmt_fe_conn_accept
    0          0.003         1        3         3        4         4         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          0.308         1      308       308      309       309         0         0          0     E   frr_config_read_in
    0          0.310        40        7        32        8        33         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          2.157        50       43       160       43       160         0         0          0  R      vtysh_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.910       315       12       308       12       309         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          1.175        21       55       606       58       610         0         0          0  R      vtysh_accept
    0        171.187      3340       51      2010       52      2141         0         0          0     E   zserv_process_messages
    0          0.151         2       75       101       76       102         0         0          0    T    if_zebra_speed_update
    0        282.774     12725       22     12576       23     12665         0         0          0    TE   work_queue_run
    1          0.071         4       17        26       18        26         0         0          0  R      kernel_read
    0          1.219         1     1219      1219     1220      1220         0         0          0     E   frr_config_read_in
    0         51.290        53      967     20364      968     20365         0         0          0  R      vtysh_read
    0        457.397       463      987      6173     1159      7627         0         0          0     E   rib_process_dplane_results
    0          0.005         1        5         5        6         6         0         0          0    T    rib_sweep_route
    1          0.627         4      156       245      157       246         0         0          0  R      zserv_accept


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.082         3       27        73       28        74         0         0          0  R      dplane_incoming_read
    0          0.161         1      161       161      161       161         0         0          0     E   dplane_incoming_request
    0       1803.082       677     2663     22998    19608   1220478         0         0          0     E   dplane_thread_loop


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.011         1       11        11       12        12         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.044         2       22        37       25        44         0         0          0   W     zserv_write
    1          0.044         1       44        44       44        44         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        182.873     13118       13      7558       19      9104         0         0          0   W     zserv_write
    1        386.803      6905       56     79857       62     88781         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.017         1       17        17       18        18         0         0          0   W     zserv_write
    1          0.042         1       42        42       43        43         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        102.561     12443        8      3597       15      3675         0         0          0   W     zserv_write
    1        106.991        51     2097      2620     2100      2621         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    8       3548.607     49818       71     79857      307   1220478         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         66.012        61     1082     61908     1083     61964         0         0          0  R      vtysh_read
    0          0.148         1      148       148      150       150         0         0          0    T    bgp_route_map_update_timer
    0          0.077         2       38        54       84       144         0         0          0     E   bgp_event
    0          0.045         6        7        13        8        15         0         0          0    T    update_group_refresh_default_originate_route_map
    0         18.518       166      111      1892      142      5631         0         0          0    T    (bgp_generate_updgrp_packets)
    0          0.057         2       28        44       29        45         0         0          0     E   zclient_connect
    2          0.076         1       76        76       77        77         0         0          0  R      bgp_accept
    0          0.015         1       15        15       16        16         0         0          0    T    subgroup_coalesce_timer
    0          0.002         2        1         1        1         2         0         0          0    T    (bgp_routeadv_timer)
    0          1.138        48       23       113       24       113         0         0          0   W     vtysh_write
    0         16.266         1    16266     16266    16273     16273         0         0          0     E   frr_config_read_in
    0        282.488       110     2568     22636     2809     26078         0         0          0    T    work_queue_run
    2        238.425     51675        4       600        5      1733         0         0          0  R      zclient_read
    1          0.494        21       23       110       24       110         0         0          0  R      vtysh_accept
    0         64.800        78      830      6973      895      6975         0         0          0     E   bgp_process_packet


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          1.831        79       23        54       23        55         0         0          0  R      bgp_process_reads
    0          4.033        93       43        98       44        99         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6        694.425     52347       13     61908       14     61964         0         0          0  RWTEX  TOTAL

Thread statistics for sharpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         10.674        51      209      8754      209      8754         0         0          0  R      vtysh_read
    1        196.822     51665        3      1250        4      2764         0         0          0  R      zclient_read
    1          0.366        21       17        30       18        32         0         0          0  R      vtysh_accept
    0          0.054         1       54        54       55        55         0         0          0     E   zclient_connect
    0          0.037         1       37        37       38        38         0         0          0     E   frr_config_read_in
    0         59.881         9     6653      7525     6677      7525         0         0          0   W     zclient_flush_data


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2        267.834     51748        5      8754        6      8754         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.055         1       55        55       56        56         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.062         1       62        62       63        63         0         0          0     E   zclient_connect
    0          0.005         1        5         5        6         6         0         0          0   W     mgmt_be_client_write
    1          0.071        17        4        14        4        14         0         0          0  R      zclient_read
    1          0.403        21       19        55       20        64         0         0          0  R      vtysh_accept
    0          1.949        50       38       144       39       144         0         0          0  R      vtysh_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.545        91       27       144       28       144         0         0          0  RWTEX  TOTAL:
R:163  ce1    BGPd heap: 7488 KiB --&gt; 40 MiB (0.6502 KiB/vpn route)    1    0
Tue Oct 31 08:10:49 2023 (#164) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show thread cpu":.:pass:Zebra heap: 5196 KiB --&gt; 34 MiB (0.5761 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.121        41        2         9        3         9         0         0          0  R      mgmt_fe_client_read
    0          0.034        41        0         6        1         6         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.184        42        4        12        4        12         0         0          0  R      mgmt_fe_adapter_read
    1          0.006         1        6         6        7         7         0         0          0  R      mgmt_be_adapter_read
    1          0.041         1       41        41       41        41         0         0          0  R      mgmt_be_conn_accept
    1          0.517        22       23        50       24        50         0         0          0  R      vtysh_accept
    0          0.109        42        2         8        3         8         0         0          0   W     mgmt_fe_client_write
    0          0.045        41        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    0          0.028         1       28        28       29        29         0         0          0    T    mgmt_be_adapter_conn_init
    0          0.059         1       59        59       61        61         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.013         1       13        13       14        14         0         0          0  R      mgmt_fe_conn_accept
    0          0.003         1        3         3        4         4         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          0.308         1      308       308      309       309         0         0          0     E   frr_config_read_in
    0          0.317        42        7        32        8        33         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          2.270        53       42       160       43       160         0         0          0  R      vtysh_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.055       331       12       308       12       309         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          1.186        22       53       606       56       610         0         0          0  R      vtysh_accept
    0        171.187      3340       51      2010       52      2141         0         0          0     E   zserv_process_messages
    0          0.151         2       75       101       76       102         0         0          0    T    if_zebra_speed_update
    0        282.774     12725       22     12576       23     12665         0         0          0    TE   work_queue_run
    1          0.071         4       17        26       18        26         0         0          0  R      kernel_read
    0          1.219         1     1219      1219     1220      1220         0         0          0     E   frr_config_read_in
    0         51.485        56      919     20364      920     20365         0         0          0  R      vtysh_read
    0        457.397       463      987      6173     1159      7627         0         0          0     E   rib_process_dplane_results
    0          0.005         1        5         5        6         6         0         0          0    T    rib_sweep_route
    1          0.627         4      156       245      157       246         0         0          0  R      zserv_accept


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.082         3       27        73       28        74         0         0          0  R      dplane_incoming_read
    0          0.161         1      161       161      161       161         0         0          0     E   dplane_incoming_request
    0       1803.082       677     2663     22998    19608   1220478         0         0          0     E   dplane_thread_loop


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.011         1       11        11       12        12         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.044         2       22        37       25        44         0         0          0   W     zserv_write
    1          0.044         1       44        44       44        44         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        182.873     13118       13      7558       19      9104         0         0          0   W     zserv_write
    1        386.803      6905       56     79857       62     88781         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.017         1       17        17       18        18         0         0          0   W     zserv_write
    1          0.042         1       42        42       43        43         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        102.561     12443        8      3597       15      3675         0         0          0   W     zserv_write
    1        106.991        51     2097      2620     2100      2621         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    8       3548.813     49822       71     79857      307   1220478         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         66.146        64     1033     61908     1035     61964         0         0          0  R      vtysh_read
    0          0.148         1      148       148      150       150         0         0          0    T    bgp_route_map_update_timer
    0          0.077         2       38        54       84       144         0         0          0     E   bgp_event
    0          0.045         6        7        13        8        15         0         0          0    T    update_group_refresh_default_originate_route_map
    0         18.518       166      111      1892      142      5631         0         0          0    T    (bgp_generate_updgrp_packets)
    0          0.057         2       28        44       29        45         0         0          0     E   zclient_connect
    2          0.076         1       76        76       77        77         0         0          0  R      bgp_accept
    0          0.015         1       15        15       16        16         0         0          0    T    subgroup_coalesce_timer
    0          0.002         2        1         1        1         2         0         0          0    T    (bgp_routeadv_timer)
    0          1.138        48       23       113       24       113         0         0          0   W     vtysh_write
    0         16.266         1    16266     16266    16273     16273         0         0          0     E   frr_config_read_in
    0        282.488       110     2568     22636     2809     26078         0         0          0    T    work_queue_run
    2        238.425     51675        4       600        5      1733         0         0          0  R      zclient_read
    1          0.505        22       22       110       23       110         0         0          0  R      vtysh_accept
    0         64.800        78      830      6973      895      6975         0         0          0     E   bgp_process_packet


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          1.831        79       23        54       23        55         0         0          0  R      bgp_process_reads
    0          4.033        93       43        98       44        99         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6        694.570     52351       13     61908       14     61964         0         0          0  RWTEX  TOTAL

Thread statistics for sharpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         10.766        54      199      8754      199      8754         0         0          0  R      vtysh_read
    1        196.822     51665        3      1250        4      2764         0         0          0  R      zclient_read
    1          0.375        22       17        30       17        32         0         0          0  R      vtysh_accept
    0          0.054         1       54        54       55        55         0         0          0     E   zclient_connect
    0          0.037         1       37        37       38        38         0         0          0     E   frr_config_read_in
    0         59.881         9     6653      7525     6677      7525         0         0          0   W     zclient_flush_data


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2        267.935     51752        5      8754        6      8754         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.055         1       55        55       56        56         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.062         1       62        62       63        63         0         0          0     E   zclient_connect
    0          0.005         1        5         5        6         6         0         0          0   W     mgmt_be_client_write
    1          0.071        17        4        14        4        14         0         0          0  R      zclient_read
    1          0.414        22       18        55       19        64         0         0          0  R      vtysh_accept
    0          2.051        53       38       144       39       144         0         0          0  R      vtysh_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.658        95       27       144       28       144         0         0          0  RWTEX  TOTAL:
R:164  ce1    Zebra heap: 5196 KiB --&gt; 34 MiB (0.5761 KiB/vpn route)   1    0
Tue Oct 31 08:10:49 2023 (#165) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  35 MiB
  Holding block headers: 225 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  29 MiB
  Free small blocks:     2336 bytes
  Free ordinary blocks:  6515 KiB
  Ordinary blocks:       61355
  Small blocks:          70
  Holding blocks:        29
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        6     24         144        6       144
Buffer data                   :        1   4120        4120       11     45320
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4956    356992
Command Token Text            :     3541 variable    117880     3545    117960
Command Token Help            :     3541 variable     85048     3545     85144
Command Argument              :        2 variable        48        6       144
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        6    128         816        6       816
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       12 variable       960       12       960
POSIX sync primitives         :       12 variable       592       12       592
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      952 variable     46368      952     46368
Hash Bucket                   :     1039     32       41736     1043     41896
Hash Index                    :      476 variable    134144      476    134144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       41     40        1688       47      1928
Link Node                     :      524     24       12640    49947   1198808
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        6    144         912    33309   5062968
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        8 variable    189888     6386  18111264
Stream FIFO                   :        9     64         648       12       864
Route table                   :       13     56         728       13       728
Route node                    :   100030 variable  12003792   100030  12003792
Thread                        :       30    160        5040       30      5040
Thread master                 :       28 variable 117500320       28 117500320
Thread Poll Info              :       14 8388608  117497632       14 117497632
Thread stats                  :       30     96        3136       30      3136
Typed-hash bucket             :       11 variable   1053088       11   1053088
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368744    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        7  24608      172312        7    172312
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0      481    488696
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        6    144         912    33007   5017064
Nexthop Group Connected       :        5     40         200        5       200
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :    50014    152     7602128    53902   8193104
RIB destination               :    50017     88     4401576    50017   4401576
WQ wrapper                    :        0    120           0    33000   3960048
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        4   3584       14368        4     14368

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  40 MiB
  Holding block headers: 97 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  39 MiB
  Free small blocks:     1888 bytes
  Free ordinary blocks:  888 KiB
  Ordinary blocks:       6753
  Small blocks:          54
  Holding blocks:        13
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120      782   3221840
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2513     32      100856     2517    101032
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       52     40        2144       58      2416
Link Node                     :      355     24        8568      548     13296
Temporary memory              :       38 variable      1600       48      6080
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       29   1032       29928       29     29928
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        3    120         360        3       360
Route map name                :       12 variable       288       14       336
Route map index               :        3    152         472        3       472
Route map rule                :       21     40         872       21       872
Route map rule str            :       21 variable       504       21       504
Route map compiled            :       24 variable       576       24       576
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        3     16          72        3        72
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      106     56        6000      106      6000
Route node                    :        6    120         736        6       736
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       22     96        2304       22      2304
Typed-hash bucket             :       12 variable   1054152       12   1054152
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       624
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       128
BGP attribute                 :        8    328        2624        9      2952
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :   100035    192    20007032   100035  20007032
BGP route                     :    50015    136     6802120    50015   6802120
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         760        5       760
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0     4326    311536
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :    50005     96     5200632    50005   5200632
community                     :        5     40         232        7       328
community val                 :        5 variable       120        7       168
community str                 :        2   8192       16400        3     24600
extcommunity                  :        4     40         160        6       256
extcommunity val              :        4 variable        96        6       144
extcommunity str              :        4 variable       352        5       488
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        56
BGP nexthop                   :        1    184         184        1       184
BGP own address               :        2     64         144        2       144
BGP redistribution            :        1     24          24        1        24
Large Community               :        6     40         272        8       368
Large Community display string:        3     35         120        4       176
Large Community value         :        6     12         144        8       192
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for sharpd:
System allocator statistics:
  Total heap allocated:  1320 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1264 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  56 KiB
  Ordinary blocks:       3
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     1490     72      107280     1496    107712
Command Token Text            :     1144 variable     38160     1149     38328
Command Token Help            :     1144 variable     27472     1149     27592
Command Argument              :        2 variable        48        8       192
Command Argument Name         :      405 variable      9720      409      9816
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       10      8         240       11       280
Graph Node                    :     1722     32       68976     1724     69056
Hash                          :      218 variable     10544      218     10544
Hash Bucket                   :      302     32       12144      302     12144
Hash Index                    :      109 variable     33080      110     33600
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       15     40         664       24      1008
Link Node                     :      126     24        3040      182      4400
Temporary memory              :        4 variable        96        9       296
Northbound Node               :      139   1192      165688      139    165688
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        3     56         168        3       168
Stream                        :        2  23728       47472        2     47472
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        7     96         728        7       728
Typed-hash bucket             :        1 variable        40        1        40
Vector                        :     3467     24       83384     3470     83456
Vector index                  :     3467 variable    111672     3470    111968
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        4     48         224        4       224
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem sharpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 08:10:49 2023 (#165) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show thread cpu":.:pass:BGPd heap: 7484 KiB --&gt; 40 MiB (0.6503 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.021        35        0         5        1         6         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.067         1       67        67       68        68         0         0          0  R      mgmt_be_conn_accept
    0          0.292         1      292       292      292       292         0         0          0     E   frr_config_read_in
    0          0.045         1       45        45       47        47         0         0          0    T    mgmt_be_adapter_conn_init
    0          0.042         1       42        42       43        43         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.377        19       19        57       20        57         0         0          0  R      vtysh_accept
    1          0.144        36        4        10        4        11         0         0          0  R      mgmt_fe_adapter_read
    0          0.012         1       12        12       13        13         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.008         1        8         8        9         9         0         0          0  R      mgmt_be_adapter_read
    0          1.616        45       35       112       36       113         0         0          0  R      vtysh_read
    0          0.234        36        6        27        6        27         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    1          0.096        35        2        11        3        11         0         0          0  R      mgmt_fe_client_read
    0          0.037        35        1         2        1         2         0         0          0   W     mgmt_fe_adapter_write
    1          0.013         1       13        13       13        13         0         0          0  R      mgmt_fe_conn_accept
    0          0.067        36        1         6        2         6         0         0          0   W     mgmt_fe_client_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.071       284       10       292       11       292         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        161.865      3017       53     20870       57     23068         0         0          0     E   zserv_process_messages
    0        370.918       480      772      5012      910      5312         0         0          0     E   rib_process_dplane_results
    0          0.004         1        4         4        4         4         0         0          0    T    rib_sweep_route
    1          0.511         4      127       170      128       170         0         0          0  R      zserv_accept
    1          0.356        19       18        41       19        43         0         0          0  R      vtysh_accept
    0        188.707     11162       16     12006       18     12024         0         0          0    TE   work_queue_run
    0          0.075         2       37        56       38        58         0         0          0    T    if_zebra_speed_update
    0          1.020         1     1020      1020     1056      1056         0         0          0     E   frr_config_read_in
    0         13.574        46      295      9270      295      9270         0         0          0  R      vtysh_read
    1          0.057         4       14        25       15        27         0         0          0  R      kernel_read


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.077         3       25        68       26        69         0         0          0  R      dplane_incoming_read
    0       1640.149       627     2615     18035    18536   1030587         0         0          0     E   dplane_thread_loop
    0          0.162         1      162       162      185       185         0         0          0     E   dplane_incoming_request


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.013         1       13        13       14        14         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.053         2       26        49       26        49         0         0          0   W     zserv_write
    1          0.058         1       58        58       59        59         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        118.036     14671        8     13525       11     14372         0         0          0   W     zserv_write
    1         77.381      5043       15     11099       16     12314         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.008         1        8         8        9         9         0         0          0   W     zserv_write
    1          0.011         1       11        11       12        12         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        119.439     13322        8       397       12       644         0         0          0   W     zserv_write
    1         87.615        51     1717      2191     1913      5417         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    8       2780.089     48460       57     20870      267   1030587         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.040         6        6        12        7        14         0         0          0    T    update_group_refresh_default_originate_route_map
    0         64.057        57     1123     60508     1126     60509         0         0          0  R      vtysh_read
    0         21.043        58      362      2384      383      2384         0         0          0     E   bgp_process_packet
    0          0.002         2        1         1        1         2         0         0          0    T    (bgp_routeadv_timer)
    0          0.013         1       13        13       14        14         0         0          0    T    subgroup_coalesce_timer
    1          0.314        19       16        37       17        37         0         0          0  R      vtysh_accept
    0          0.085         2       42        56       75       121         0         0          0     E   bgp_event
    0         17.121       160      107      1362      111      1420         0         0          0    T    (bgp_generate_updgrp_packets)
    0          1.185        48       24       158       25       159         0         0          0   W     vtysh_write
    0          0.054         2       27        43       28        44         0         0          0     E   zclient_connect
    2          0.094         1       94        94       94        94         0         0          0  R      bgp_accept
    0        169.925        80     2124     10057     2954     23313         0         0          0    T    work_queue_run
    0          0.100         1      100       100      100       100         0         0          0    T    bgp_route_map_update_timer
    0         16.338         1    16338     16338    16338     16338         0         0          0     E   frr_config_read_in
    2        242.239     51380        4      3880        5      7944         0         0          0  R      zclient_read


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          1.561        57       27        50       28        52         0         0          0  R      bgp_process_reads
    0          3.992        90       44       101       45       103         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6        538.163     51965       10     60508       12     60509         0         0          0  RWTEX  TOTAL

Thread statistics for sharpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1        113.998     51370        2        41        2      2685         0         0          0  R      zclient_read
    0          0.036         1       36        36       36        36         0         0          0     E   frr_config_read_in
    0          0.053         1       53        53       54        54         0         0          0     E   zclient_connect
    0         14.254        46      309     12580      310     12581         0         0          0  R      vtysh_read
    0         48.260         8     6032      8743     6033      8743         0         0          0   W     zclient_flush_data
    1          0.307        19       16        35       17        37         0         0          0  R      vtysh_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2        176.908     51445        3     12580        4     12581         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.351        19       18        57       19        60         0         0          0  R      vtysh_accept
    0          0.064         1       64        64       64        64         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.073         1       73        73       75        75         0         0          0     E   zclient_connect
    1          0.066        17        3        12        4        12         0         0          0  R      zclient_read
    0          0.006         1        6         6        6         6         0         0          0   W     mgmt_be_client_write
    0          1.819        45       40       153       41       154         0         0          0  R      vtysh_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.379        84       28       153       29       154         0         0          0  RWTEX  TOTAL:
R:165  ce2    BGPd heap: 7484 KiB --&gt; 40 MiB (0.6503 KiB/vpn route)    1    0
Tue Oct 31 08:10:49 2023 (#166) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show thread cpu":.:pass:Zebra heap: 5344 KiB --&gt; 35 MiB (0.5931 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.021        37        0         5        1         6         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.067         1       67        67       68        68         0         0          0  R      mgmt_be_conn_accept
    0          0.292         1      292       292      292       292         0         0          0     E   frr_config_read_in
    0          0.045         1       45        45       47        47         0         0          0    T    mgmt_be_adapter_conn_init
    0          0.042         1       42        42       43        43         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.386        20       19        57       20        57         0         0          0  R      vtysh_accept
    1          0.150        38        3        10        4        11         0         0          0  R      mgmt_fe_adapter_read
    0          0.012         1       12        12       13        13         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.008         1        8         8        9         9         0         0          0  R      mgmt_be_adapter_read
    0          1.735        48       36       112       36       113         0         0          0  R      vtysh_read
    0          0.241        38        6        27        6        27         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    1          0.100        37        2        11        3        11         0         0          0  R      mgmt_fe_client_read
    0          0.039        37        1         2        1         2         0         0          0   W     mgmt_fe_adapter_write
    1          0.013         1       13        13       13        13         0         0          0  R      mgmt_fe_conn_accept
    0          0.070        38        1         6        2         6         0         0          0   W     mgmt_fe_client_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.221       300       10       292       11       292         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        161.865      3017       53     20870       57     23068         0         0          0     E   zserv_process_messages
    0        370.918       480      772      5012      910      5312         0         0          0     E   rib_process_dplane_results
    0          0.004         1        4         4        4         4         0         0          0    T    rib_sweep_route
    1          0.511         4      127       170      128       170         0         0          0  R      zserv_accept
    1          0.365        20       18        41       19        43         0         0          0  R      vtysh_accept
    0        188.707     11162       16     12006       18     12024         0         0          0    TE   work_queue_run
    0          0.075         2       37        56       38        58         0         0          0    T    if_zebra_speed_update
    0          1.020         1     1020      1020     1056      1056         0         0          0     E   frr_config_read_in
    0         13.709        49      279      9270      280      9270         0         0          0  R      vtysh_read
    1          0.057         4       14        25       15        27         0         0          0  R      kernel_read


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.077         3       25        68       26        69         0         0          0  R      dplane_incoming_read
    0       1640.149       627     2615     18035    18536   1030587         0         0          0     E   dplane_thread_loop
    0          0.162         1      162       162      185       185         0         0          0     E   dplane_incoming_request


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.013         1       13        13       14        14         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.053         2       26        49       26        49         0         0          0   W     zserv_write
    1          0.058         1       58        58       59        59         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        118.036     14671        8     13525       11     14372         0         0          0   W     zserv_write
    1         77.381      5043       15     11099       16     12314         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.008         1        8         8        9         9         0         0          0   W     zserv_write
    1          0.011         1       11        11       12        12         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        119.439     13322        8       397       12       644         0         0          0   W     zserv_write
    1         87.615        51     1717      2191     1913      5417         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    8       2780.233     48464       57     20870      267   1030587         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.040         6        6        12        7        14         0         0          0    T    update_group_refresh_default_originate_route_map
    0         64.173        60     1069     60508     1072     60509         0         0          0  R      vtysh_read
    0         21.043        58      362      2384      383      2384         0         0          0     E   bgp_process_packet
    0          0.002         2        1         1        1         2         0         0          0    T    (bgp_routeadv_timer)
    0          0.013         1       13        13       14        14         0         0          0    T    subgroup_coalesce_timer
    1          0.324        20       16        37       17        37         0         0          0  R      vtysh_accept
    0          0.085         2       42        56       75       121         0         0          0     E   bgp_event
    0         17.121       160      107      1362      111      1420         0         0          0    T    (bgp_generate_updgrp_packets)
    0          1.185        48       24       158       25       159         0         0          0   W     vtysh_write
    0          0.054         2       27        43       28        44         0         0          0     E   zclient_connect
    2          0.094         1       94        94       94        94         0         0          0  R      bgp_accept
    0        169.925        80     2124     10057     2954     23313         0         0          0    T    work_queue_run
    0          0.100         1      100       100      100       100         0         0          0    T    bgp_route_map_update_timer
    0         16.338         1    16338     16338    16338     16338         0         0          0     E   frr_config_read_in
    2        242.239     51380        4      3880        5      7944         0         0          0  R      zclient_read


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          1.561        57       27        50       28        52         0         0          0  R      bgp_process_reads
    0          3.992        90       44       101       45       103         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6        538.289     51969       10     60508       12     60509         0         0          0  RWTEX  TOTAL

Thread statistics for sharpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1        113.998     51370        2        41        2      2685         0         0          0  R      zclient_read
    0          0.036         1       36        36       36        36         0         0          0     E   frr_config_read_in
    0          0.053         1       53        53       54        54         0         0          0     E   zclient_connect
    0         14.347        49      292     12580      293     12581         0         0          0  R      vtysh_read
    0         48.260         8     6032      8743     6033      8743         0         0          0   W     zclient_flush_data
    1          0.314        20       15        35       16        37         0         0          0  R      vtysh_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2        177.008     51449        3     12580        4     12581         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.359        20       17        57       18        60         0         0          0  R      vtysh_accept
    0          0.064         1       64        64       64        64         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.073         1       73        73       75        75         0         0          0     E   zclient_connect
    1          0.066        17        3        12        4        12         0         0          0  R      zclient_read
    0          0.006         1        6         6        6         6         0         0          0   W     mgmt_be_client_write
    0          1.921        48       40       153       40       154         0         0          0  R      vtysh_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.489        88       28       153       29       154         0         0          0  RWTEX  TOTAL:
R:166  ce2    Zebra heap: 5344 KiB --&gt; 35 MiB (0.5931 KiB/vpn route)   1    0
Tue Oct 31 08:10:49 2023 (#167) scripts/scale_up.py:0 COMMAND:ce3:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        56
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  32 MiB
  Holding block headers: 193 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  29 MiB
  Free small blocks:     137 KiB
  Free ordinary blocks:  3130 KiB
  Ordinary blocks:       36232
  Small blocks:          1507
  Holding blocks:        25
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        5     24         120        5       136
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4955    356872
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        5    128         680        5       680
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       10 variable       800       10       800
POSIX sync primitives         :       10 variable       496       10       496
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      746 variable     36448      746     36448
Hash Bucket                   :     1032     32       41424     1034     41504
Hash Index                    :      373 variable    107144      373    107144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       40     40        1664       43      1800
Link Node                     :      418     24       10096     9276    222688
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        5    144         760     6328    961856
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        6 variable    142416     1449    310312
Stream FIFO                   :        7     64         504        9       648
Route table                   :       13     56         728       13       728
Route node                    :   100030 variable  12003712   100030  12003712
Thread                        :       27    160        4536       27      4536
Thread master                 :       24 variable 100714560       24 100714560
Thread Poll Info              :       12 8388608  100712256       12 100712256
Thread stats                  :       27     96        2824       27      2824
Typed-hash bucket             :       11 variable   1053088       11   1053088
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368744    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        2      8          48        2        48
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        6  24608      147696        6    147696
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0      501    509016
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        5    144         760     6097    926744
Nexthop Group Connected       :        4     40         160        4       160
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :    50014    152     7602160    50014   7602160
RIB destination               :    50017     88     4401560    50017   4401560
WQ wrapper                    :        0    120           0     6091    730920
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        3   3584       10776        3     10776

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  34 MiB
  Holding block headers: 97 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  33 MiB
  Free small blocks:     1904 bytes
  Free ordinary blocks:  477 KiB
  Ordinary blocks:       6
  Small blocks:          52
  Holding blocks:        13
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120      782   3221840
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2502     32      100384     2504    100480
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       49     40        2008       55      2248
Link Node                     :      352     24        8496      545     13288
Temporary memory              :       31 variable      1208       41      5688
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       20   1032       20640       20     20640
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        2    120         240        2       240
Route map name                :        9 variable       216       11       264
Route map index               :        2    152         320        2       320
Route map rule                :       14     40         560       14       560
Route map rule str            :       14 variable       336       14       336
Route map compiled            :       16 variable       384       16       384
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        2     16          48        2        48
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      104     56        5888      104      5888
Route node                    :        4    120         480        4       480
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       23     96        2456       23      2456
Typed-hash bucket             :       10 variable   1054104       10   1054104
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       112
BGP attribute                 :        8    328        2624        9      2952
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :   100035    192    20007032   100035  20007032
BGP route                     :    50013    136     6801848    50013   6801848
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         776        5       776
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0        4       288
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :        5     96         536        5       536
community                     :        4     40         176        6       256
community val                 :        4 variable        96        6       144
community str                 :        2   8192       16400        3     24600
extcommunity                  :        4     40         160        6       240
extcommunity val              :        4 variable        96        6       144
extcommunity str              :        4 variable       416        5       552
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        56
BGP nexthop                   :        1    184         184        1       184
BGP own address               :        2     64         144        2       144
Large Community               :        5     40         200        7       296
Large Community display string:        3     35         120        4       160
Large Community value         :        5     12         120        7       168
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1424 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109064     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 08:10:49 2023 (#167) scripts/scale_up.py:0 COMMAND:ce3:vtysh -c "show thread cpu":.:pass:BGPd heap: 7464 KiB --&gt; 34 MiB (0.5307 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.050         1       50        50       51        51         0         0          0  R      mgmt_be_conn_accept
    1          0.012         1       12        12       12        12         0         0          0  R      mgmt_fe_conn_accept
    0          0.003         1        3         3        4         4         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          0.320         1      320       320      321       321         0         0          0     E   frr_config_read_in
    0          1.645        41       40       120       40       121         0         0          0  R      vtysh_read
    0          0.029        29        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    0          0.024        29        0         6        1         6         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.129        30        4        10        4        11         0         0          0  R      mgmt_fe_adapter_read
    0          0.218        30        7        32        7        32         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    1          0.429        17       25        60       26        61         0         0          0  R      vtysh_accept
    0          0.051         1       51        51       51        51         0         0          0    T    mgmt_fe_client_conn_timeout
    0          0.053         1       53        53       55        55         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.006         1        6         6        7         7         0         0          0  R      mgmt_be_adapter_read
    0          0.076        30        2         8        3         9         0         0          0   W     mgmt_fe_client_write
    1          0.082        29        2         8        3         8         0         0          0  R      mgmt_fe_client_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.127       242       12       320       13       321         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         90.449      5816       15      1544       16      1545         0         0          0     E   zserv_process_messages
    1          0.059         4       14        28       15        29         0         0          0  R      kernel_read
    0        149.560     12630       11      8700       12      8701         0         0          0    T    work_queue_run
    0          4.634        41      113      3081      113      3082         0         0          0  R      vtysh_read
    1          0.302        17       17        61       18        63         0         0          0  R      vtysh_accept
    0         58.628       551      106       267      107       268         0         0          0     E   rib_process_dplane_results
    1          0.329         3      109       123      112       124         0         0          0  R      zserv_accept
    0          0.080         2       40        62       40        63         0         0          0    T    if_zebra_speed_update
    0          1.026         1     1026      1026     1027      1027         0         0          0     E   frr_config_read_in
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0       1508.469       536     2814     12829    23887   1079494         0         0          0     E   dplane_thread_loop
    0          0.140         1      140       140      141       141         0         0          0     E   dplane_incoming_request
    1          0.073         3       24        65       24        65         0         0          0  R      dplane_incoming_read


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.016         1       16        16       17        17         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.031         2       15        27       19        34         0         0          0   W     zserv_write
    1          0.038         1       38        38       39        39         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.018         4        4         8        5         9         0         0          0   W     zserv_write
    1        161.147      6252       25      5876       26      7428         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.012         1       12        12       12        12         0         0          0   W     zserv_write
    1          0.027         1       27        27       28        28         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    7       1975.041     25868       76     12829      513   1079494         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          2.140         2     1070      2131     1071      2132         0         0          0   W     zclient_flush_data
    0          0.013         1       13        13       14        14         0         0          0    T    subgroup_coalesce_timer
    0        106.791        78     1369      9309     1646     17580         0         0          0     E   bgp_process_packet
    0         64.259        53     1212     60643     1212     60643         0         0          0  R      vtysh_read
    2          0.151         1      151       151      152       152         0         0          0  R      bgp_accept
    0          1.279        48       26       149       27       149         0         0          0   W     vtysh_write
    1          0.362        17       21        43       22        46         0         0          0  R      vtysh_accept
    0          0.059         2       29        48       31        50         0         0          0     E   zclient_connect
    0          0.002         2        1         1        1         2         0         0          0    T    (bgp_routeadv_timer)
    0          8.590         1     8590      8590     8598      8598         0         0          0     E   frr_config_read_in
    0          0.093         1       93        93       94        94         0         0          0    T    bgp_route_map_update_timer
    0        250.707        57     4398     81434     6507     92256         0         0          0    T    work_queue_run
    0          0.082        27        3        21        3        22         0         0          0    T    (bgp_generate_updgrp_packets)
    2          0.112        27        4        17        4        18         0         0          0  R      zclient_read
    0          0.079         2       39        49       68       105         0         0          0     E   bgp_event
    0          0.046         6        7        12        8        14         0         0          0    T    update_group_refresh_default_originate_route_map


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.954        23       41        69       41        70         0         0          0   W     bgp_process_writes
    1          2.007        78       25        83       26        84         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6        437.726       426     1027     81434     1361     92256         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.068         1       68        68       69        69         0         0          0    T    mgmt_be_client_conn_timeout
    0          1.519        41       37       143       37       144         0         0          0  R      vtysh_read
    0          0.062         1       62        62       62        62         0         0          0     E   zclient_connect
    1          0.063        17        3        10        4        11         0         0          0  R      zclient_read
    1          0.253        17       14        26       15        27         0         0          0  R      vtysh_accept
    0          0.009         1        9         9        9         9         0         0          0   W     mgmt_be_client_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          1.974        78       25       143       25       144         0         0          0  RWTEX  TOTAL:
R:167  ce3    BGPd heap: 7464 KiB --&gt; 34 MiB (0.5307 KiB/vpn route)    1    0
Tue Oct 31 08:10:49 2023 (#168) scripts/scale_up.py:0 COMMAND:ce3:vtysh -c "show thread cpu":.:pass:Zebra heap: 4928 KiB --&gt; 32 MiB (0.5414 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.050         1       50        50       51        51         0         0          0  R      mgmt_be_conn_accept
    1          0.012         1       12        12       12        12         0         0          0  R      mgmt_fe_conn_accept
    0          0.003         1        3         3        4         4         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          0.320         1      320       320      321       321         0         0          0     E   frr_config_read_in
    0          1.765        44       40       120       40       121         0         0          0  R      vtysh_read
    0          0.031        31        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    0          0.024        31        0         6        1         6         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.136        32        4        10        4        11         0         0          0  R      mgmt_fe_adapter_read
    0          0.226        32        7        32        7        32         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    1          0.440        18       24        60       25        61         0         0          0  R      vtysh_accept
    0          0.051         1       51        51       51        51         0         0          0    T    mgmt_fe_client_conn_timeout
    0          0.053         1       53        53       55        55         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.006         1        6         6        7         7         0         0          0  R      mgmt_be_adapter_read
    0          0.079        32        2         8        3         9         0         0          0   W     mgmt_fe_client_write
    1          0.086        31        2         8        3         8         0         0          0  R      mgmt_fe_client_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.282       258       12       320       13       321         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         90.449      5816       15      1544       16      1545         0         0          0     E   zserv_process_messages
    1          0.059         4       14        28       15        29         0         0          0  R      kernel_read
    0        149.560     12630       11      8700       12      8701         0         0          0    T    work_queue_run
    0          4.826        44      109      3081      110      3082         0         0          0  R      vtysh_read
    1          0.320        18       17        61       18        63         0         0          0  R      vtysh_accept
    0         58.628       551      106       267      107       268         0         0          0     E   rib_process_dplane_results
    1          0.329         3      109       123      112       124         0         0          0  R      zserv_accept
    0          0.080         2       40        62       40        63         0         0          0    T    if_zebra_speed_update
    0          1.026         1     1026      1026     1027      1027         0         0          0     E   frr_config_read_in
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0       1508.469       536     2814     12829    23887   1079494         0         0          0     E   dplane_thread_loop
    0          0.140         1      140       140      141       141         0         0          0     E   dplane_incoming_request
    1          0.073         3       24        65       24        65         0         0          0  R      dplane_incoming_read


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.016         1       16        16       17        17         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.031         2       15        27       19        34         0         0          0   W     zserv_write
    1          0.038         1       38        38       39        39         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.018         4        4         8        5         9         0         0          0   W     zserv_write
    1        161.147      6252       25      5876       26      7428         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.012         1       12        12       12        12         0         0          0   W     zserv_write
    1          0.027         1       27        27       28        28         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    7       1975.251     25872       76     12829      513   1079494         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          2.140         2     1070      2131     1071      2132         0         0          0   W     zclient_flush_data
    0          0.013         1       13        13       14        14         0         0          0    T    subgroup_coalesce_timer
    0        106.791        78     1369      9309     1646     17580         0         0          0     E   bgp_process_packet
    0         64.420        56     1150     60643     1150     60643         0         0          0  R      vtysh_read
    2          0.151         1      151       151      152       152         0         0          0  R      bgp_accept
    0          1.279        48       26       149       27       149         0         0          0   W     vtysh_write
    1          0.380        18       21        43       22        46         0         0          0  R      vtysh_accept
    0          0.059         2       29        48       31        50         0         0          0     E   zclient_connect
    0          0.002         2        1         1        1         2         0         0          0    T    (bgp_routeadv_timer)
    0          8.590         1     8590      8590     8598      8598         0         0          0     E   frr_config_read_in
    0          0.093         1       93        93       94        94         0         0          0    T    bgp_route_map_update_timer
    0        250.707        57     4398     81434     6507     92256         0         0          0    T    work_queue_run
    0          0.082        27        3        21        3        22         0         0          0    T    (bgp_generate_updgrp_packets)
    2          0.112        27        4        17        4        18         0         0          0  R      zclient_read
    0          0.079         2       39        49       68       105         0         0          0     E   bgp_event
    0          0.046         6        7        12        8        14         0         0          0    T    update_group_refresh_default_originate_route_map


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.954        23       41        69       41        70         0         0          0   W     bgp_process_writes
    1          2.007        78       25        83       26        84         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6        437.905       430     1018     81434     1348     92256         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.068         1       68        68       69        69         0         0          0    T    mgmt_be_client_conn_timeout
    0          1.638        44       37       143       37       144         0         0          0  R      vtysh_read
    0          0.062         1       62        62       62        62         0         0          0     E   zclient_connect
    1          0.063        17        3        10        4        11         0         0          0  R      zclient_read
    1          0.265        18       14        26       15        27         0         0          0  R      vtysh_accept
    0          0.009         1        9         9        9         9         0         0          0   W     mgmt_be_client_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.105        82       25       143       26       144         0         0          0  RWTEX  TOTAL:
R:168  ce3    Zebra heap: 4928 KiB --&gt; 32 MiB (0.5414 KiB/vpn route)   1    0
Tue Oct 31 08:10:49 2023 (#169) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1780 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  152 KiB
  Ordinary blocks:       6
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117896
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       488
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       16     45280
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1664       16      1664
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  37 MiB
  Holding block headers: 289 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  29 MiB
  Free small blocks:     152 KiB
  Free ordinary blocks:  8428 KiB
  Ordinary blocks:       63770
  Small blocks:          1668
  Holding blocks:        37
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         192        8       192
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356624     4955    356840
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231584     5785    231784
Hash                          :     1372 variable     66736     1372     66736
Hash Bucket                   :     1088     32       43696     1092     43872
Hash Index                    :      686 variable    188816      687    188952
Hook entry                    :        9     48         504        9       504
Interface                     :        4    272        1120        4      1120
Intf Desc                     :        2      7          48        2        48
Connected                     :        5     48         280        5       280
Link List                     :       61     40        2520       65      2688
Link Node                     :      750     24       18112    17560    421552
Temporary memory              :        4 variable        96        7       344
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       35    144        5320    10299   1565448
Nexthop label                 :       21 variable       504     7916    190000
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        56
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        3   1032        3096        3      3096
Prefix                        :        5     56         280        5       280
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832     1606    500536
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       25     56        1400       25      1400
Route node                    :   100071 variable  12008728   100071  12008728
ASCII table                   :        0 variable         0       14       544
Thread                        :       37    160        6216       37      6216
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       18 variable   1053624       18   1053624
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368728    11634    369056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        6       144
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        4    608        2464        4      2464
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0     1274   1294384
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        6     80         528        6       528
MPLS nexthop object           :        6     48         368       11       648
Nexthop Group Entry           :       25    144        3816     9686   1472288
Nexthop Group Connected       :       24     40         960       24       960
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :    50034    152     7605184    58068   8826352
RIB destination               :    50035     88     4403208    50035   4403208
WQ wrapper                    :        0 variable         0     9659   1159080
RIB table info                :        8     24         192        8       192
Zebra VRF table               :        8     56         448        8       448
Nexthop tracking object       :        5    248        1240        5      1240
ZEBRA VRF                     :        2   5072       10160        2     10160
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        2     80         176        2       176
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2463 KiB
  Free small blocks:     1600 bytes
  Free ordinary blocks:  101 KiB
  Ordinary blocks:       4
  Small blocks:          45
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     4296     72      309392     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      824     32       33088      824     33088
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         280        5       280
Informational Link Parameters :        0    120           0        1       120
Link List                     :       62     40        2528       78      3168
Link Node                     :      195     24        4696      241      5816
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        1   1032        1032        1      1032
Prefix                        :        5     56         280        5       280
Privilege information         :        3 variable       136        3       136
Stream                        :        6 variable    160608        9    165208
Route table                   :      148     56        8384      150      8496
Route node                    :       38    120        4576       42      5056
Thread                        :       16    160        2704       16      2704
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       22     96        2304       22      2304
Typed-hash bucket             :       13 variable       776       15       840
Skiplist overflow             :        0     24           0        1        24
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        2    304         624        2       624
OSPF neighbor                 :        3   1520        4584        3      4584
OSPF route                    :       11     64         792       13       936
OSPF LSA                      :        7    128         952        9      1240
OSPF LSA data                 :        7 variable       376        9       472
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        1     24          24        4        96
OSPF FIFO queue               :        2     24          48        2        48
OSPF vertex                   :        0     80           0        7       616
OSPF vertex parent            :        0     32           0        6       240
OSPF nexthop                  :        0      8           0       11       264
OSPF path                     :       11     48         616       13       728
OSPF if info                  :        4     40         160        4       160
OSPF if params                :        4    120         480        4       480
OSPF MPLS parameters          :        4    248         992        4       992
OSPF Extended parameters      :        4    136         544        4       544
OSPF opaque function table    :        6    112         736        6       736
OSPF External route table     :        1     16          24        1        24
OSPF Redistriute              :        1     32          40        1        40

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1584 KiB
  Free small blocks:     1472 bytes
  Free ordinary blocks:  92 KiB
  Ordinary blocks:       5
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156304
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         296        5       296
Link List                     :       17     40         712       22       912
Link Node                     :      142     24        3472      195      4792
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        5     56         296        5       296
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1040       10      1040
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163880     5182    164128
VRF                           :        2    216         432        2       432
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  231 MiB
  Holding block headers: 100 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  228 MiB
  Free small blocks:     1856 bytes
  Free ordinary blocks:  2738 KiB
  Ordinary blocks:       62506
  Small blocks:          54
  Holding blocks:        16
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       112
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      627 variable     30776      627     30776
Hash Bucket                   :     2519     32      101160     2521    101240
Hash Index                    :      314 variable    480432      314    480432
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         328        5       328
Link List                     :       65     40        2680       73      3000
Link Node                     :      382     24        9232      623     15176
Temporary memory              :   100041 variable  13603704   100046  13603904
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        5    144         776        6       928
Nexthop label                 :        3      8          72        3        72
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        5     56         296        5       296
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        8 variable    393408       10    491760
Skip List                     :    50013     56     2970568    50014   2970640
Skip Node                     :   100028 variable  10421504   100029  10421672
Skiplist Counters             :    50013     68     3600936    50014   3601008
Socket union                  :        6    112         720        9      1080
Stream                        :        9 variable    425896       21    618544
Stream FIFO                   :        8     64         576       10       720
Route table                   :      170     56        9584      170      9584
Thread                        :       23    160        3864       23      3864
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       23     96        2440       23      2440
Typed-hash bucket             :       13 variable   4212248       13   4212248
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
VTY output buffer             :        0 variable         0        1      1288
Work queue                    :        4    144         608        5       760
Work queue item               :        0     24           0        2        48
Work queue name string        :        4 variable        96        5       120
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        2     24          48        2        48
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        4     16          96        4        96
Mac Hash Entry Intf String    :        4 variable        96        5       120
BGP instance                  :       10 variable     21584       10     21584
BGP listen socket details     :        6 variable       672        6       672
BGP peer                      :        6  20864      125232        7    146104
BGP peer hostname             :       10 variable       240       12       288
BGP peer af                   :        2     80         176        4       352
BGP update group              :        2    104         208        2       208
BGP update subgroup           :        2    240         496        2       496
BGP packet                    :        2     56         128        3       216
BGP attribute                 :       32    328       10512       32     10512
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :      157     56        8904      157      8904
BGP node                      :   300070    192    60014064   300070  60014064
BGP route                     :   250055    136    34008008   250055  34008008
BGP ancillary route info      :   200050    432    88022016   200050  88022016
BGP connected                 :        3      4          72        3        72
BGP adv attr                  :        0     24           0        3        72
BGP adv                       :        0     64           0     8228    592416
BGP synchronise               :        2     48         112        2       112
BGP adj out                   :    50012     96     5201568    51548   5361312
community                     :        3     40         120        4       176
community val                 :        3      4          72        4        96
community str                 :        3   8192       24600        3     24600
extcommunity                  :        9     40         376       10       432
extcommunity val              :        9 variable       216       10       240
extcommunity str              :        7 variable       760        8       912
community-list handler        :        1    120         136        1       136
Cluster list                  :        1     24          24        1        24
Cluster list val              :        1      4          24        1        24
BGP Process queue             :        0     32           0        2        80
BGP nexthop                   :        5    184         920        5       920
BGP own address               :        3     64         216        3       216
Large Community               :        7     40         296        8       336
Large Community display string:        7     35         296        7       296
Large Community value         :        7     12         168        8       192
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        2     34          80        2        80
BGP Martian Addr Intf String  :        3 variable        72        3        72
BGP PBR Context               :        2     32          80        2        80
BGP interface context         :        4      4          96        4        96
BGP EVPN instance information :        2     56         112        2       112
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :    50015     40     2020584    50015   2020584
RFAPI IT Extra                :    50013     40     2015960    50013   2015960

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1370 KiB
  Free small blocks:     1392 bytes
  Free ordinary blocks:  94 KiB
  Ordinary blocks:       1
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      290     32       11648      290     11648
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         296        5       296
Link List                     :       17     40         728       22       928
Link Node                     :      128     24        3104      178      4320
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        5     56         280        5       280
Stream                        :        3 variable     63896        4     80320
Route table                   :        8     56         448        8       448
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        72        1        72
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :       10 variable       720       10       720:
Tue Oct 31 08:10:49 2023 (#169) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show thread cpu":.:pass:BGPd heap: 7860 KiB --&gt; 231 MiB (4.4628 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.410        72        5        41        6        42         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    1          0.044         1       44        44       45        45         0         0          0  R      mgmt_be_conn_accept
    0          0.003         1        3         3        4         4         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.276        72        3         9        4        10         0         0          0  R      mgmt_fe_adapter_read
    0          0.053         1       53        53       53        53         0         0          0    T    mgmt_fe_client_conn_timeout
    0          2.595        81       32       132       32       132         0         0          0  R      vtysh_read
    1          0.012         1       12        12       13        13         0         0          0  R      mgmt_fe_conn_accept
    0          0.140        72        1         7        2         7         0         0          0   W     mgmt_fe_client_write
    0          0.044        71        0         5        1         5         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          0.429         1      429       429      431       431         0         0          0     E   frr_config_read_in
    0          0.030         1       30        30       30        30         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.007         1        7         7        7         7         0         0          0  R      mgmt_be_adapter_read
    1          0.623        37       16        43       17        45         0         0          0  R      vtysh_accept
    0          0.076        71        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    1          0.194        71        2         8        3         9         0         0          0  R      mgmt_fe_client_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.936       554        8       429        9       431         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.668        37       18       133       18       133         0         0          0  R      vtysh_accept
    0          9.421        82      114      6664      115      6664         0         0          0  R      vtysh_read
    0        296.094     12684       23     10542       24     10553         0         0          0    TE   work_queue_run
    1          0.098         7       14        24       14        24         0         0          0  R      kernel_read
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route
    0          1.386         1     1386      1386     1388      1388         0         0          0     E   frr_config_read_in
    1          0.675         6      112       132      113       133         0         0          0  R      zserv_accept
    0        149.629       753      198      3448      199      3448         0         0          0     E   rib_process_dplane_results
    0          0.330         5       66       151       66       151         0         0          0    T    if_zebra_speed_update
    0        147.942     25596        5      1736        6      2731         0         0          0     E   zserv_process_messages


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.136         6       22        69       24        69         0         0          0  R      dplane_incoming_read
    0       1926.345       903     2133     14743    14647   1210286         0         0          0     E   dplane_thread_loop
    0          0.157         1      157       157      182       182         0         0          0     E   dplane_incoming_request


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.024         4        6         9        7        11         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.123         6       20        35       26        60         0         0          0   W     zserv_write
    1          0.073         2       36        57       37        59         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.088         8       11        21       11        22         0         0          0   W     zserv_write
    1          0.308        17       18        48       18        50         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.181        14       12        25       13        26         0         0          0   W     zserv_write
    1        313.697     30491       10      2316       11      9598         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.069         4       17        24       18        26         0         0          0   W     zserv_write
    1          0.027         1       27        27       28        28         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.172        14       12        36       12        37         0         0          0   W     zserv_write
    1          0.176         5       35        72       39        89         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.041         3       13        16       14        17         0         0          0   W     zserv_write
    1          0.070         3       23        29       24        30         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10       2847.933     70654       40     14743      201   1210286         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.070         1       70        70       71        71         0         0          0     E   zclient_connect
    0          0.141         8       17        54       36       203         0         0          0    T    ospf_spf_calculate_schedule_worker
    1          0.014         5        2         5        3         5         0         0          0    T    ospf_lsa_refresh_walker
    1          0.715        37       19        50       20        52         0         0          0  R      vtysh_accept
    1          0.020         9        2         7        2         7         0         0          0    T    (ospf_ls_upd_timer)
    1          0.580        41       14        39       14        39         0         0          0  R      ospf_read
    0          0.005         3        1         2        2         3         0         0          0    T    ospf_ase_calculate_timer
    0          2.313        81       28       112       29       112         0         0          0  R      vtysh_read
    0          0.007         4        1         3        2         3         0         0          0     E   ospf_ls_upd_send_queue_event
    1          0.125        48        2        13        3        13         0         0          0    T    (ospf_ls_ack_timer)
    1          0.003         9        0         1        0         1         0         0          0    T    (ospf_ls_req_timer)
    1          0.169        42        4        18        4        18         0         0          0  R      zclient_read
    0          0.655         1      655       655      656       656         0         0          0     E   frr_config_read_in
    0          0.184        63        2        27        3        27         0         0          0     EX  ospf_nsm_event
    1          0.281        30        9        22       10        22         0         0          0    T    (ospf_hello_timer)
    0          0.003         1        3         3        4         4         0         0          0    T    (ospf_wait_timer)
    1          0.008         1        8         8        8         8         0         0          0    T    ospf_lsa_maxage_walker
    0          0.102         4       25        39       26        40         0         0          0     E   ospf_ism_event
    0          1.383        40       34        83       35        84         0         0          0   W     ospf_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    9          6.778       428       15       655       16       656         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.574        37       15        40       16        41         0         0          0  R      vtysh_accept
    1          0.222        43        5        26        5        27         0         0          0  R      zclient_read
    0          0.009         1        9         9        9         9         0         0          0     E   ldp_config_fork_apply
    2          0.190         8       23        52       24        54         0         0          0  R      iev_ldpe-&gt;handler_read
    0          0.290         1      290       290      290       290         0         0          0     E   frr_config_read_in
    0          2.571        81       31       107       32       108         0         0          0  R      vtysh_read
    2          0.114         6       19        38       19        39         0         0          0  R      iev_lde-&gt;handler_read
    0          0.044         1       44        44       46        46         0         0          0     E   zclient_connect
    0          0.187        48        3        21        4        21         0         0          0   W     iev-&gt;handler_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.201       226       18       290       19       290         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         37.149       268      138      3418      305      9393         0         0          0    T    (bgp_generate_updgrp_packets)
    0          0.004         4        1         1        2         2         0         0          0    T    (bgp_routeadv_timer)
    0          0.059         2       29        46       31        48         0         0          0     E   zclient_connect
    0          0.061         2       30        44       31        44         0         0          0    T    subgroup_coalesce_timer
    0          0.024         1       24        24       25        25         0         0          0    T    (bgp_start_timer)
    0          0.088        10        8        14        9        16         0         0          0    T    update_group_refresh_default_originate_route_map
    2          0.538        63        8       139        8       139         0         0          0  R      zclient_read
    4          0.115         1      115       115      117       117         0         0          0  R      bgp_accept
    0        539.829       172     3138     37158     3185     37157         0         0          0     E   bgp_process_packet
    0          0.342         9       38        55       60       115         0         0          0     E   bgp_event
    0          0.013         1       13        13       13        13         0         0          0   W     bgp_connect_check
    0        484.541       179     2706     34121     3990     47011         0         0          0    T    work_queue_run
    0          0.000         1        0         0        1         1         0         0          0    T    update_subgroup_merge_check_thread_cb
    0          1.528         1     1528      1528     1528      1528         0         0          0     E   frr_config_read_in
    1          0.656        37       17        37       18        39         0         0          0  R      vtysh_accept
    0         11.045       112       98      3365       99      3366         0         0          0  R      vtysh_read


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          8.661       150       57      2388       58      2388         0         0          0   W     bgp_process_writes
    2          4.396       183       24       491       24       483         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    9       1089.049      1196      910     37158     1147     47011         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.005         1        5         5        5         5         0         0          0   W     mgmt_be_client_write
    0          2.470        81       30       152       31       152         0         0          0  R      vtysh_read
    1          0.161        36        4        24        5        26         0         0          0  R      zclient_read
    0          0.052         1       52        52       52        52         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.066         1       66        66       67        67         0         0          0     E   zclient_connect
    1          0.505        37       13        35       14        36         0         0          0  R      vtysh_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          3.259       157       20       152       21       152         0         0          0  RWTEX  TOTAL:
R:169  r1     BGPd heap: 7860 KiB --&gt; 231 MiB (4.4628 KiB/vpn route)   1    0
Tue Oct 31 08:10:49 2023 (#170) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show thread cpu":.:pass:Zebra heap: 5708 KiB --&gt; 37 MiB (0.6258 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.417        74        5        41        6        42         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    1          0.044         1       44        44       45        45         0         0          0  R      mgmt_be_conn_accept
    0          0.003         1        3         3        4         4         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.282        74        3         9        4        10         0         0          0  R      mgmt_fe_adapter_read
    0          0.053         1       53        53       53        53         0         0          0    T    mgmt_fe_client_conn_timeout
    0          2.698        84       32       132       32       132         0         0          0  R      vtysh_read
    1          0.012         1       12        12       13        13         0         0          0  R      mgmt_fe_conn_accept
    0          0.142        74        1         7        2         7         0         0          0   W     mgmt_fe_client_write
    0          0.045        73        0         5        1         5         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          0.429         1      429       429      431       431         0         0          0     E   frr_config_read_in
    0          0.030         1       30        30       30        30         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.007         1        7         7        7         7         0         0          0  R      mgmt_be_adapter_read
    1          0.632        38       16        43       17        45         0         0          0  R      vtysh_accept
    0          0.078        73        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    1          0.198        73        2         8        3         9         0         0          0  R      mgmt_fe_client_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          5.070       570        8       429        9       431         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.678        38       17       133       18       133         0         0          0  R      vtysh_accept
    0          9.597        85      112      6664      113      6664         0         0          0  R      vtysh_read
    0        296.094     12684       23     10542       24     10553         0         0          0    TE   work_queue_run
    1          0.098         7       14        24       14        24         0         0          0  R      kernel_read
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route
    0          1.386         1     1386      1386     1388      1388         0         0          0     E   frr_config_read_in
    1          0.675         6      112       132      113       133         0         0          0  R      zserv_accept
    0        149.629       753      198      3448      199      3448         0         0          0     E   rib_process_dplane_results
    0          0.330         5       66       151       66       151         0         0          0    T    if_zebra_speed_update
    0        147.942     25596        5      1736        6      2731         0         0          0     E   zserv_process_messages


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.136         6       22        69       24        69         0         0          0  R      dplane_incoming_read
    0       1926.345       903     2133     14743    14647   1210286         0         0          0     E   dplane_thread_loop
    0          0.157         1      157       157      182       182         0         0          0     E   dplane_incoming_request


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.024         4        6         9        7        11         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.123         6       20        35       26        60         0         0          0   W     zserv_write
    1          0.073         2       36        57       37        59         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.088         8       11        21       11        22         0         0          0   W     zserv_write
    1          0.308        17       18        48       18        50         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.181        14       12        25       13        26         0         0          0   W     zserv_write
    1        313.697     30491       10      2316       11      9598         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.069         4       17        24       18        26         0         0          0   W     zserv_write
    1          0.027         1       27        27       28        28         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.172        14       12        36       12        37         0         0          0   W     zserv_write
    1          0.176         5       35        72       39        89         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.041         3       13        16       14        17         0         0          0   W     zserv_write
    1          0.070         3       23        29       24        30         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10       2848.119     70658       40     14743      201   1210286         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.070         1       70        70       71        71         0         0          0     E   zclient_connect
    0          0.141         8       17        54       36       203         0         0          0    T    ospf_spf_calculate_schedule_worker
    1          0.014         5        2         5        3         5         0         0          0    T    ospf_lsa_refresh_walker
    1          0.733        38       19        50       20        52         0         0          0  R      vtysh_accept
    1          0.020         9        2         7        2         7         0         0          0    T    (ospf_ls_upd_timer)
    1          0.580        41       14        39       14        39         0         0          0  R      ospf_read
    0          0.005         3        1         2        2         3         0         0          0    T    ospf_ase_calculate_timer
    0          2.434        84       28       112       29       112         0         0          0  R      vtysh_read
    0          0.007         4        1         3        2         3         0         0          0     E   ospf_ls_upd_send_queue_event
    1          0.125        48        2        13        3        13         0         0          0    T    (ospf_ls_ack_timer)
    1          0.003         9        0         1        0         1         0         0          0    T    (ospf_ls_req_timer)
    1          0.169        42        4        18        4        18         0         0          0  R      zclient_read
    0          0.655         1      655       655      656       656         0         0          0     E   frr_config_read_in
    0          0.184        63        2        27        3        27         0         0          0     EX  ospf_nsm_event
    1          0.281        30        9        22       10        22         0         0          0    T    (ospf_hello_timer)
    0          0.003         1        3         3        4         4         0         0          0    T    (ospf_wait_timer)
    1          0.008         1        8         8        8         8         0         0          0    T    ospf_lsa_maxage_walker
    0          0.102         4       25        39       26        40         0         0          0     E   ospf_ism_event
    0          1.383        40       34        83       35        84         0         0          0   W     ospf_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    9          6.917       432       16       655       16       656         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.587        38       15        40       16        41         0         0          0  R      vtysh_accept
    1          0.222        43        5        26        5        27         0         0          0  R      zclient_read
    0          0.009         1        9         9        9         9         0         0          0     E   ldp_config_fork_apply
    2          0.190         8       23        52       24        54         0         0          0  R      iev_ldpe-&gt;handler_read
    0          0.290         1      290       290      290       290         0         0          0     E   frr_config_read_in
    0          2.682        84       31       107       32       108         0         0          0  R      vtysh_read
    2          0.114         6       19        38       19        39         0         0          0  R      iev_lde-&gt;handler_read
    0          0.044         1       44        44       46        46         0         0          0     E   zclient_connect
    0          0.187        48        3        21        4        21         0         0          0   W     iev-&gt;handler_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.325       230       18       290       19       290         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         37.149       268      138      3418      305      9393         0         0          0    T    (bgp_generate_updgrp_packets)
    0          0.004         4        1         1        2         2         0         0          0    T    (bgp_routeadv_timer)
    0          0.059         2       29        46       31        48         0         0          0     E   zclient_connect
    0          0.061         2       30        44       31        44         0         0          0    T    subgroup_coalesce_timer
    0          0.024         1       24        24       25        25         0         0          0    T    (bgp_start_timer)
    0          0.088        10        8        14        9        16         0         0          0    T    update_group_refresh_default_originate_route_map
    2          0.538        63        8       139        8       139         0         0          0  R      zclient_read
    4          0.115         1      115       115      117       117         0         0          0  R      bgp_accept
    0        539.829       172     3138     37158     3185     37157         0         0          0     E   bgp_process_packet
    0          0.342         9       38        55       60       115         0         0          0     E   bgp_event
    0          0.013         1       13        13       13        13         0         0          0   W     bgp_connect_check
    0        484.541       179     2706     34121     3990     47011         0         0          0    T    work_queue_run
    0          0.000         1        0         0        1         1         0         0          0    T    update_subgroup_merge_check_thread_cb
    0          1.528         1     1528      1528     1528      1528         0         0          0     E   frr_config_read_in
    1          0.667        38       17        37       18        39         0         0          0  R      vtysh_accept
    0         11.188       115       97      3365       97      3366         0         0          0  R      vtysh_read


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          8.661       150       57      2388       58      2388         0         0          0   W     bgp_process_writes
    2          4.396       183       24       491       24       483         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    9       1089.203      1200      907     37158     1143     47011         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.005         1        5         5        5         5         0         0          0   W     mgmt_be_client_write
    0          2.563        84       30       152       31       152         0         0          0  R      vtysh_read
    1          0.161        36        4        24        5        26         0         0          0  R      zclient_read
    0          0.052         1       52        52       52        52         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.066         1       66        66       67        67         0         0          0     E   zclient_connect
    1          0.514        38       13        35       14        36         0         0          0  R      vtysh_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          3.361       161       20       152       21       152         0         0          0  RWTEX  TOTAL:
R:170  r1     Zebra heap: 5708 KiB --&gt; 37 MiB (0.6258 KiB/vpn route)   1    0
Tue Oct 31 08:10:49 2023 (#171) scripts/scale_up.py:0 COMMAND:r2:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1796 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1392 bytes
  Free ordinary blocks:  168 KiB
  Ordinary blocks:       5
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       80      2048
Temporary memory              :        4 variable        96       20     61696
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1664       16      1664
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5740 KiB
  Holding block headers: 288 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4595 KiB
  Free small blocks:     2912 bytes
  Free ordinary blocks:  1145 KiB
  Ordinary blocks:       13
  Small blocks:          75
  Holding blocks:        36
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         208        8       208
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356624     4955    356840
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231584     5785    231784
Hash                          :     1364 variable     66240     1364     66240
Hash Bucket                   :     1085     32       43640     1085     43640
Hash Index                    :      682 variable    188544      683    188680
Hook entry                    :        8     48         448        8       448
Interface                     :        4    272        1120        4      1120
Intf Desc                     :        3      7          72        3        72
Connected                     :        7     48         392        7       392
Link List                     :       60     40        2464       63      2600
Link Node                     :      748     24       18096      814     19736
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       31    144        4744       37      5656
Nexthop label                 :       14      8         336       16       384
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        4   1032        4128        4      4128
Prefix                        :        7     56         392        7       392
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832       36    549808
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       15     56         840       15       840
Route node                    :       42 variable      5104       42      5104
Thread                        :       38    160        6384       38      6384
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       14 variable       864       14       864
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368792    11634    369104
VRF                           :        1    216         216        1       216
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        3        72
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        4    608        2464        4      2464
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       24     24384
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        3     80         264        3       264
MPLS nexthop object           :        4     48         224        6       336
Nexthop Group Entry           :       24    144        3648       25      3800
Nexthop Group Connected       :       27     40        1096       30      1216
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :       24    152        3664       24      3664
RIB destination               :       17     88        1512       17      1512
WQ wrapper                    :        0 variable         0       12    181568
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        3    248         760        3       760
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        4     80         352        4       352
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2494 KiB
  Free small blocks:     1664 bytes
  Free ordinary blocks:  70 KiB
  Ordinary blocks:       10
  Small blocks:          45
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     4296     72      309408     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      826     32       33184      826     33184
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Informational Link Parameters :        0    120           0        1       120
Link List                     :       80     40        3248      101      4104
Link Node                     :      214     24        5152      257      6312
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        3   1032        3096        3      3096
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Stream                        :        9 variable    160888       13    168392
Route table                   :      316     56       17904      318     18016
Route node                    :       62    120        7488       75      9048
Thread                        :       30    160        5056       30      5056
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       23     96        2408       23      2408
Typed-hash bucket             :       19 variable      1144       27      1376
Skiplist overflow             :        0 variable         0        2        80
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        4    304        1248        4      1248
OSPF neighbor                 :        8   1520       12224        8     12224
OSPF route                    :       18     64        1344       24      1776
OSPF LSA                      :        7    128         984       11      1512
OSPF LSA data                 :        7 variable       408       11       576
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        4     24          96        8       192
OSPF FIFO queue               :        4     24          96        4        96
OSPF vertex                   :        0     80           0        7       616
OSPF vertex parent            :        0     32           0        7       280
OSPF nexthop                  :        0      8           0       14       336
OSPF path                     :       22     48        1232       28      1568
OSPF if info                  :        4     40         160        4       160
OSPF if params                :        5    120         600        5       600
OSPF MPLS parameters          :        4    248         992        4       992
OSPF Extended parameters      :        4    136         544        4       544
OSPF opaque function table    :        6    112         736        6       736

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1584 KiB
  Free small blocks:     1552 bytes
  Free ordinary blocks:  92 KiB
  Ordinary blocks:       5
  Small blocks:          43
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156304
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         408        7       408
Link List                     :       17     40         728       22       944
Link Node                     :      144     24        3520      198      4848
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         408        7       408
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1056       10      1056
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163864     5182    164128
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  215 MiB
  Holding block headers: 99 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  211 MiB
  Free small blocks:     1856 bytes
  Free ordinary blocks:  3942 KiB
  Ordinary blocks:       105300
  Small blocks:          54
  Holding blocks:        15
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      577 variable     28328      579     28424
Hash Bucket                   :     2505     32      100552     2507    100648
Hash Index                    :      289 variable    434984      290    437040
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Link List                     :       53     40        2168       59      2424
Link Node                     :      357     24        8616      547     13256
Temporary memory              :   100045 variable  13604264   100046  13604304
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        4    144         608        6       928
Nexthop label                 :        4      8          96        4        96
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        8 variable    393408       10    491776
Skip List                     :    50014     56     2995488    50015   2995560
Skip Node                     :   150034 variable  12426208   150035  12426376
Skiplist Counters             :    50014     68     3601008    50015   3601080
Socket union                  :        9    112        1080       10      1200
Stream                        :        7 variable    293720       23    785960
Stream FIFO                   :        8     64         576       10       720
Route table                   :      104     56        5904      104      5904
Thread                        :       26    160        4368       26      4368
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       22     96        2320       22      2320
Typed-hash bucket             :       11 variable   3159632       11   3159632
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        3     24          72        3        72
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        4     16          96        4        96
Mac Hash Entry Intf String    :        4 variable        96        5       120
BGP instance                  :        6 variable     10816        6     10816
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        5  20864      104360        6    125232
BGP peer hostname             :        9 variable       216       10       240
BGP peer af                   :        3     80         264        5       440
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        2       496
BGP packet                    :        1     56          72        8       448
BGP attribute                 :       24    328        7888       24      7888
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       91     56        5144       91      5144
BGP node                      :   200050    192    40010000   200050  40010000
BGP route                     :   200040    136    27205792   200040  27205792
BGP ancillary route info      :   200040    432    88017616   200040  88017616
BGP connected                 :        4      4          96        4        96
BGP adv attr                  :        0     24           0       10       240
BGP adv                       :        0     64           0     8859    637848
BGP synchronise               :        1     48          56        2       112
BGP adj out                   :   100020     96    10402608   100020  10402608
community                     :        3     40         136        4       176
community val                 :        3      4          72        4        96
community str                 :        3   8192       24600        3     24600
extcommunity                  :        4     40         176        5       216
extcommunity val              :        4 variable        96        5       120
extcommunity str              :        4 variable       480        4       480
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        56
BGP nexthop                   :        3    184         552        3       552
BGP own address               :        4     64         288        4       288
Large Community               :        7     40         312        8       352
Large Community display string:        7     35         296        7       296
Large Community value         :        7     12         168        8       192
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        3     34         120        3       120
BGP Martian Addr Intf String  :        4 variable        96        4        96
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        4      4          96        4        96
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :   100020     40     4001360   100020   4001360
RFAPI IT Extra                :    50015     40     2006712    50015   2006712

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1369 KiB
  Free small blocks:     1424 bytes
  Free ordinary blocks:  95 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         408        7       408
Link List                     :       17     40         728       22       928
Link Node                     :      130     24        3152      181      4424
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        7     56         392        7       392
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        72        1        72
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 08:10:49 2023 (#171) scripts/scale_up.py:0 COMMAND:r2:vtysh -c "show thread cpu":.:pass:BGPd heap: 7636 KiB --&gt; 215 MiB (4.1473 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.038         1       38        38       39        39         0         0          0  R      mgmt_be_conn_accept
    0          0.092        34        2         6        3         7         0         0          0   W     mgmt_fe_client_write
    0          0.041         1       41        41       42        42         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.006         1        6         6        6         6         0         0          0  R      mgmt_be_adapter_read
    1          0.100        33        3         7        3         8         0         0          0  R      mgmt_fe_client_read
    0          1.574        43       36       117       37       117         0         0          0  R      vtysh_read
    0          0.398         1      398       398      399       399         0         0          0     E   frr_config_read_in
    0          0.035        33        1         3        1         3         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          0.004         1        4         4        4         4         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.011         1       11        11       11        11         0         0          0  R      mgmt_fe_conn_accept
    0          0.035        33        1         2        1         2         0         0          0   W     mgmt_fe_adapter_write
    0          0.279        34        8        30        8        31         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    1          0.158        34        4         8        5         8         0         0          0  R      mgmt_fe_adapter_read
    0          0.027         1       27        27       28        28         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.419        18       23        54       24        56         0         0          0  R      vtysh_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.217       269       11       398       12       399         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          1.807        43       42       166       42       167         0         0          0  R      vtysh_read
    0          0.113         4       28        63       29        65         0         0          0    T    if_zebra_speed_update
    0          1.195        53       22       115       23       115         0         0          0     E   zserv_process_messages
    1          0.294        18       16        28       17        29         0         0          0  R      vtysh_accept
    1          0.852         6      142       197      142       197         0         0          0  R      zserv_accept
    0          0.445        37       12       112       12       113         0         0          0     E   rib_process_dplane_results
    1          0.095        10        9        15       10        16         0         0          0  R      kernel_read
    0          0.349        15       23        72       45       203         0         0          0    T    work_queue_run
    0          0.003         1        3         3        3         3         0         0          0    T    rib_sweep_route
    0          1.665         1     1665      1665     1666      1666         0         0          0     E   frr_config_read_in


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.101         6       16        68       17        68         0         0          0  R      dplane_incoming_read
    0          4.865        42      115       379      118       381         0         0          0     E   dplane_thread_loop
    0          0.156         1      156       156      157       157         0         0          0     E   dplane_incoming_request


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.027         5        5         8        6         9         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.068         3       22        38       27        49         0         0          0   W     zserv_write
    1          0.040         1       40        40       42        42         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.054         4       13        23       14        23         0         0          0   W     zserv_write
    1          0.650        29       22        44       23        45         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.215        13       16        43       20        62         0         0          0   W     zserv_write
    1          0.360        10       36        99       36       100         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.026         2       13        15       13        15         0         0          0   W     zserv_write
    1          0.017         1       17        17       18        18         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.150        12       12        32       13        32         0         0          0   W     zserv_write
    1          0.257        10       25        41       26        43         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.043         3       14        17       15        18         0         0          0   W     zserv_write
    1          0.080         3       26        34       27        35         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10         13.927       333       41      1665       44      1666         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    3          0.372        90        4        23        4        24         0         0          0    T    (ospf_hello_timer)
    0          0.006         4        1         2        2         3         0         0          0    T    ospf_ase_calculate_timer
    0          0.005         3        1         3        2         4         0         0          0    T    (ospf_wait_timer)
    0          1.561        43       36       121       36       121         0         0          0  R      vtysh_read
    1          0.006         1        6         6        7         7         0         0          0    T    ospf_lsa_maxage_walker
    0          0.068         1       68        68       69        69         0         0          0     E   zclient_connect
    0          0.057        22        2        11        3        11         0         0          0     E   ospf_ls_upd_send_queue_event
    0          0.274         8       34        64       60       168         0         0          0    T    ospf_spf_calculate_schedule_worker
    1          0.014         5        2         5        3         6         0         0          0    T    ospf_lsa_refresh_walker
    0          3.899        71       54       180       56       180         0         0          0   W     ospf_write
    0          0.650       250        2        38        3        40         0         0          0     EX  ospf_nsm_event
    0          0.010         3        3         5        3         5         0         0          0     E   ospf_ls_ack_send_event
    4          0.013        36        0         2        1         2         0         0          0    T    (ospf_ls_req_timer)
    1          0.169        47        3        25        3        25         0         0          0  R      zclient_read
    1          0.317        18       17        41       18        42         0         0          0  R      vtysh_accept
    4          0.061        36        1         7        2         9         0         0          0    T    (ospf_ls_upd_timer)
    0          0.739         1      739       739      739       739         0         0          0     E   frr_config_read_in
    0          0.220        11       20        59       20        60         0         0          0     E   ospf_ism_event
    1          2.235       123       18        56       18        58         0         0          0  R      ospf_read
    3          0.076       144        0         7        1         8         0         0          0    T    (ospf_ls_ack_timer)


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   19         10.752       917       11       739       12       739         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    2          0.655        22       29        95       30        97         0         0          0  R      iev_ldpe-&gt;handler_read
    0          1.447        43       33       110       34       111         0         0          0  R      vtysh_read
    0          0.010         1       10        10       11        11         0         0          0     E   ldp_config_fork_apply
    1          0.242        18       13        23       14        24         0         0          0  R      vtysh_accept
    0          0.315         1      315       315      315       315         0         0          0     E   frr_config_read_in
    2          0.236        12       19        34       20        35         0         0          0  R      iev_lde-&gt;handler_read
    0          0.192        52        3        19        4        20         0         0          0   W     iev-&gt;handler_write
    1          0.210        46        4        18        4        19         0         0          0  R      zclient_read
    0          0.038         1       38        38       39        39         0         0          0     E   zclient_connect


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.345       196       17       315       17       315         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        473.483       160     2959     37023     2983     37022         0         0          0     E   bgp_process_packet
    0        167.344        65     2574     15514     2656     16064         0         0          0    T    work_queue_run
    0          1.475         1     1475      1475     1475      1475         0         0          0     E   frr_config_read_in
    2          0.087         1       87        87       87        87         0         0          0  R      bgp_accept
    0          0.563        12       46       120       68       120         0         0          0     E   bgp_event
    2          0.305        59        5        36        5        37         0         0          0  R      zclient_read
    0          0.050         2       25        39       26        40         0         0          0     E   zclient_connect
    0          0.033         3       11        27       11        28         0         0          0    T    (bgp_start_timer)
    0          0.025         4        6         7        7         8         0         0          0    T    update_group_refresh_default_originate_route_map
    0          0.004         2        2         2        2         3         0         0          0   W     bgp_connect_check
    1          0.333        18       18        40       19        41         0         0          0  R      vtysh_accept
    0          8.650        56      154      5500      155      5500         0         0          0  R      vtysh_read
    0          0.005         6        0         1        1         2         0         0          0    T    (bgp_routeadv_timer)
    0          0.068         2       34        40       35        41         0         0          0    T    subgroup_coalesce_timer
    0         38.323       434       88      3243      206     14932         0         0          0    T    (bgp_generate_updgrp_packets)


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         10.517       238       44       125       45       126         0         0          0   W     bgp_process_writes
    3          3.770       174       21        78       22        80         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    8        705.035      1237      569     37023      619     37022         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.059         1       59        59       61        61         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.057         1       57        57       58        58         0         0          0     E   zclient_connect
    0          0.005         1        5         5        5         5         0         0          0   W     mgmt_be_client_write
    0          1.538        43       35       167       36       168         0         0          0  R      vtysh_read
    1          0.304        18       16        42       17        43         0         0          0  R      vtysh_accept
    1          0.117        32        3        25        4        27         0         0          0  R      zclient_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.080        96       21       167       22       168         0         0          0  RWTEX  TOTAL:
R:171  r2     BGPd heap: 7636 KiB --&gt; 215 MiB (4.1473 KiB/vpn route)   1    0
Tue Oct 31 08:10:49 2023 (#172) scripts/scale_up.py:0 COMMAND:r2:vtysh -c "show thread cpu":.:pass:Zebra heap: 5740 KiB --&gt; 5740 KiB (0.0 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.038         1       38        38       39        39         0         0          0  R      mgmt_be_conn_accept
    0          0.098        36        2         6        3         7         0         0          0   W     mgmt_fe_client_write
    0          0.041         1       41        41       42        42         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.006         1        6         6        6         6         0         0          0  R      mgmt_be_adapter_read
    1          0.106        35        3         7        3         8         0         0          0  R      mgmt_fe_client_read
    0          1.697        46       36       117       37       117         0         0          0  R      vtysh_read
    0          0.398         1      398       398      399       399         0         0          0     E   frr_config_read_in
    0          0.038        35        1         3        1         3         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          0.004         1        4         4        4         4         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.011         1       11        11       11        11         0         0          0  R      mgmt_fe_conn_accept
    0          0.037        35        1         2        1         2         0         0          0   W     mgmt_fe_adapter_write
    0          0.301        36        8        30        8        31         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    1          0.169        36        4         8        5         8         0         0          0  R      mgmt_fe_adapter_read
    0          0.027         1       27        27       28        28         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.444        19       23        54       24        56         0         0          0  R      vtysh_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.415       285       11       398       12       399         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          1.976        46       42       166       43       167         0         0          0  R      vtysh_read
    0          0.113         4       28        63       29        65         0         0          0    T    if_zebra_speed_update
    0          1.195        53       22       115       23       115         0         0          0     E   zserv_process_messages
    1          0.309        19       16        28       17        29         0         0          0  R      vtysh_accept
    1          0.852         6      142       197      142       197         0         0          0  R      zserv_accept
    0          0.445        37       12       112       12       113         0         0          0     E   rib_process_dplane_results
    1          0.095        10        9        15       10        16         0         0          0  R      kernel_read
    0          0.349        15       23        72       45       203         0         0          0    T    work_queue_run
    0          0.003         1        3         3        3         3         0         0          0    T    rib_sweep_route
    0          1.665         1     1665      1665     1666      1666         0         0          0     E   frr_config_read_in


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.101         6       16        68       17        68         0         0          0  R      dplane_incoming_read
    0          4.865        42      115       379      118       381         0         0          0     E   dplane_thread_loop
    0          0.156         1      156       156      157       157         0         0          0     E   dplane_incoming_request


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.027         5        5         8        6         9         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.068         3       22        38       27        49         0         0          0   W     zserv_write
    1          0.040         1       40        40       42        42         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.054         4       13        23       14        23         0         0          0   W     zserv_write
    1          0.650        29       22        44       23        45         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.215        13       16        43       20        62         0         0          0   W     zserv_write
    1          0.360        10       36        99       36       100         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.026         2       13        15       13        15         0         0          0   W     zserv_write
    1          0.017         1       17        17       18        18         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.150        12       12        32       13        32         0         0          0   W     zserv_write
    1          0.257        10       25        41       26        43         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.043         3       14        17       15        18         0         0          0   W     zserv_write
    1          0.080         3       26        34       27        35         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10         14.111       337       41      1665       44      1666         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    3          0.372        90        4        23        4        24         0         0          0    T    (ospf_hello_timer)
    0          0.006         4        1         2        2         3         0         0          0    T    ospf_ase_calculate_timer
    0          0.005         3        1         3        2         4         0         0          0    T    (ospf_wait_timer)
    0          1.717        46       37       121       37       121         0         0          0  R      vtysh_read
    1          0.006         1        6         6        7         7         0         0          0    T    ospf_lsa_maxage_walker
    0          0.068         1       68        68       69        69         0         0          0     E   zclient_connect
    0          0.057        22        2        11        3        11         0         0          0     E   ospf_ls_upd_send_queue_event
    0          0.274         8       34        64       60       168         0         0          0    T    ospf_spf_calculate_schedule_worker
    1          0.014         5        2         5        3         6         0         0          0    T    ospf_lsa_refresh_walker
    0          3.899        71       54       180       56       180         0         0          0   W     ospf_write
    0          0.650       250        2        38        3        40         0         0          0     EX  ospf_nsm_event
    0          0.010         3        3         5        3         5         0         0          0     E   ospf_ls_ack_send_event
    4          0.013        36        0         2        1         2         0         0          0    T    (ospf_ls_req_timer)
    1          0.169        47        3        25        3        25         0         0          0  R      zclient_read
    1          0.336        19       17        41       18        42         0         0          0  R      vtysh_accept
    4          0.061        36        1         7        2         9         0         0          0    T    (ospf_ls_upd_timer)
    0          0.739         1      739       739      739       739         0         0          0     E   frr_config_read_in
    0          0.220        11       20        59       20        60         0         0          0     E   ospf_ism_event
    1          2.235       123       18        56       18        58         0         0          0  R      ospf_read
    3          0.076       144        0         7        1         8         0         0          0    T    (ospf_ls_ack_timer)


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   19         10.927       921       11       739       12       739         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    2          0.655        22       29        95       30        97         0         0          0  R      iev_ldpe-&gt;handler_read
    0          1.566        46       34       110       34       111         0         0          0  R      vtysh_read
    0          0.010         1       10        10       11        11         0         0          0     E   ldp_config_fork_apply
    1          0.257        19       13        23       14        24         0         0          0  R      vtysh_accept
    0          0.315         1      315       315      315       315         0         0          0     E   frr_config_read_in
    2          0.236        12       19        34       20        35         0         0          0  R      iev_lde-&gt;handler_read
    0          0.192        52        3        19        4        20         0         0          0   W     iev-&gt;handler_write
    1          0.210        46        4        18        4        19         0         0          0  R      zclient_read
    0          0.038         1       38        38       39        39         0         0          0     E   zclient_connect


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.479       200       17       315       17       315         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        473.483       160     2959     37023     2983     37022         0         0          0     E   bgp_process_packet
    0        167.344        65     2574     15514     2656     16064         0         0          0    T    work_queue_run
    0          1.475         1     1475      1475     1475      1475         0         0          0     E   frr_config_read_in
    2          0.087         1       87        87       87        87         0         0          0  R      bgp_accept
    0          0.563        12       46       120       68       120         0         0          0     E   bgp_event
    2          0.305        59        5        36        5        37         0         0          0  R      zclient_read
    0          0.050         2       25        39       26        40         0         0          0     E   zclient_connect
    0          0.033         3       11        27       11        28         0         0          0    T    (bgp_start_timer)
    0          0.025         4        6         7        7         8         0         0          0    T    update_group_refresh_default_originate_route_map
    0          0.004         2        2         2        2         3         0         0          0   W     bgp_connect_check
    1          0.343        19       18        40       18        41         0         0          0  R      vtysh_accept
    0          8.797        59      149      5500      149      5500         0         0          0  R      vtysh_read
    0          0.005         6        0         1        1         2         0         0          0    T    (bgp_routeadv_timer)
    0          0.068         2       34        40       35        41         0         0          0    T    subgroup_coalesce_timer
    0         38.323       434       88      3243      206     14932         0         0          0    T    (bgp_generate_updgrp_packets)


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         10.517       238       44       125       45       126         0         0          0   W     bgp_process_writes
    3          3.770       174       21        78       22        80         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    8        705.192      1241      568     37023      617     37022         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.059         1       59        59       61        61         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.057         1       57        57       58        58         0         0          0     E   zclient_connect
    0          0.005         1        5         5        5         5         0         0          0   W     mgmt_be_client_write
    0          1.636        46       35       167       36       168         0         0          0  R      vtysh_read
    1          0.321        19       16        42       17        43         0         0          0  R      vtysh_accept
    1          0.117        32        3        25        4        27         0         0          0  R      zclient_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.195       100       21       167       22       168         0         0          0  RWTEX  TOTAL:
R:172  r2     Zebra heap: 5740 KiB --&gt; 5740 KiB (0.0 KiB/vpn route)    1    0
Tue Oct 31 08:10:49 2023 (#173) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1796 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  168 KiB
  Ordinary blocks:       5
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       80      2048
Temporary memory              :        4 variable        96       20     61696
MGMTD Frontend session        :        1     40          40        1        56
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1664       16      1664
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  32 MiB
  Holding block headers: 289 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  29 MiB
  Free small blocks:     116 KiB
  Free ordinary blocks:  3060 KiB
  Ordinary blocks:       36176
  Small blocks:          1285
  Holding blocks:        37
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         208        8       208
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356624     4955    356840
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231584     5785    231784
Hash                          :     1372 variable     66608     1372     66608
Hash Bucket                   :     1112     32       44736     1116     44944
Hash Index                    :      686 variable    189344      687    189608
Hook entry                    :       11     48         616       11       616
Interface                     :        5    272        1400        5      1400
Intf Desc                     :        3      7          72        3        72
Connected                     :        7     48         392        7       392
Link List                     :       68     40        2800       72      2968
Link Node                     :      754     24       18240     6532    156912
Temporary memory              :        4 variable        96        7       696
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       56    144        8528     5959    905784
Nexthop label                 :       35 variable       856     1848     44384
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        4   1032        4128        4      4128
Prefix                        :        7     56         392        7       392
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832     1212    631928
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       26     56        1456       26      1456
Route node                    :   100076 variable  12009392   100076  12009392
ASCII table                   :        0 variable         0       49      2056
Thread                        :       39    160        6552       39      6552
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       19 variable   1053680       19   1053680
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279464    11634    279680
Vector index                  :    11625 variable    368728    11634    369056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30608
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        5       120
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        5    608        3080        5      3080
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0      507    515144
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        5     80         440        5       440
MPLS nexthop object           :        8     48         464       15       856
Nexthop Group Entry           :       37    144        5624     5515    838280
Nexthop Group Connected       :       48     40        1936       48      1936
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :    50038    152     7605824    50038   7605824
RIB destination               :    50036     88     4403296    50036   4403296
WQ wrapper                    :        0 variable         0     5477    657240
RIB table info                :        8     24         192        8       192
Zebra VRF table               :        8     56         448        8       448
Nexthop tracking object       :        5    248        1240        5      1240
ZEBRA VRF                     :        2   5072       10160        2     10160
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        4     80         352        4       352
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2484 KiB
  Free small blocks:     1648 bytes
  Free ordinary blocks:  80 KiB
  Ordinary blocks:       10
  Small blocks:          45
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       112
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :     4296     72      309392     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      826     32       33168      826     33168
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         392        7       392
Informational Link Parameters :        0    120           0        1       120
Link List                     :       77     40        3128       97      3928
Link Node                     :      214     24        5152      257      6312
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        7     56         408        7       408
Privilege information         :        3 variable       136        3       136
Stream                        :        8 variable    160816       11    165384
Route table                   :      251     56       14184      253     14296
Route node                    :       54    120        6512       67      8088
Thread                        :       26    160        4368       26      4368
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       23     96        2424       23      2424
Typed-hash bucket             :       17 variable      1016       23      1232
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        3    304         936        3       936
OSPF neighbor                 :        6   1520        9168        6      9168
OSPF route                    :       16     64        1152       21      1512
OSPF LSA                      :        7    128         952       10      1360
OSPF LSA data                 :        7 variable       392       10       560
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        3     24          72        6       176
OSPF FIFO queue               :        3     24          72        3        72
OSPF vertex                   :        0     80           0        7       616
OSPF vertex parent            :        0     32           0        9       360
OSPF nexthop                  :        0      8           0       16       384
OSPF path                     :       22     48        1232       27      1512
OSPF if info                  :        5     40         200        5       200
OSPF if params                :        6    120         720        6       720
OSPF MPLS parameters          :        5    248        1240        5      1240
OSPF Extended parameters      :        5    136         680        5       680
OSPF opaque function table    :        6    112         736        6       736
OSPF External route table     :        1     16          24        1        24
OSPF Redistriute              :        1     32          40        1        40

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1585 KiB
  Free small blocks:     1536 bytes
  Free ordinary blocks:  91 KiB
  Ordinary blocks:       5
  Small blocks:          43
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156288
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         392        7       392
Link List                     :       19     40         792       24       992
Link Node                     :      144     24        3520      199      4872
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1056       10      1056
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163864     5182    164128
VRF                           :        2    216         448        2       448
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  230 MiB
  Holding block headers: 100 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  228 MiB
  Free small blocks:     1872 bytes
  Free ordinary blocks:  2449 KiB
  Ordinary blocks:       63264
  Small blocks:          54
  Holding blocks:        16
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      627 variable     30776      627     30776
Hash Bucket                   :     2522     32      101280     2524    101360
Hash Index                    :      314 variable    480432      314    480432
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         424        7       424
Link List                     :       69     40        2840       77      3192
Link Node                     :      386     24        9328      627     15240
Temporary memory              :   100041 variable  13603720   100046  13603920
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        7    144        1064        7      1064
Nexthop label                 :        5      8         120        5       120
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         408        7       408
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        8 variable    393408        8    393408
Skip List                     :    50013     56     2966024    50014   2966080
Skip Node                     :   100028 variable  10409504   100029  10409672
Skiplist Counters             :    50013     68     3600936    50014   3601008
Socket union                  :        6    112         720        6       720
Stream                        :        9 variable    425896       18    618544
Stream FIFO                   :        8     64         576        8       576
Route table                   :      170     56        9584      170      9584
Thread                        :       23    160        3864       23      3864
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       23     96        2456       23      2456
Typed-hash bucket             :       13 variable   4212280       13   4212280
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
VTY output buffer             :        0 variable         0        1      1288
Work queue                    :        4    144         608        4       608
Work queue item               :        0     24           0        2        48
Work queue name string        :        4 variable        96        4        96
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       368
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        2     24          48        2        48
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        5     16         120        5       120
Mac Hash Entry Intf String    :        5 variable       120        6       144
BGP instance                  :       10 variable     21584       10     21584
BGP listen socket details     :        6 variable       672        6       672
BGP peer                      :        6  20864      125232        6    125232
BGP peer hostname             :       10 variable       240       11       264
BGP peer af                   :        2     80         176        2       176
BGP update group              :        2    104         208        2       208
BGP update subgroup           :        2    240         496        2       496
BGP packet                    :        2     56         128        3       216
BGP attribute                 :       33    328       10824       33     10824
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :      157     56        8904      157      8904
BGP node                      :   300072    192    60014432   300072  60014432
BGP route                     :   250055    136    34007800   250055  34007800
BGP ancillary route info      :   200050    432    88022000   200050  88022000
BGP connected                 :        4      4          96        4        96
BGP adv attr                  :        0     24           0        3        72
BGP adv                       :        0     64           0     6839    492408
BGP synchronise               :        2     48         128        2       128
BGP adj out                   :    50015     96     5201704    50015   5201704
community                     :        3     40         120        4       160
community val                 :        3      4          72        4        96
community str                 :        3   8192       24600        3     24600
extcommunity                  :        9     40         392       10       448
extcommunity val              :        9 variable       216       10       240
extcommunity str              :        7 variable       760        8       896
community-list handler        :        1    120         136        1       136
Cluster list                  :        1     24          24        1        24
Cluster list val              :        1      4          24        1        24
BGP Process queue             :        0     32           0        2        96
BGP nexthop                   :        5    184         920        5       920
BGP own address               :        4     64         288        4       288
Large Community               :        7     40         296        8       336
Large Community display string:        7     35         312        7       312
Large Community value         :        7     12         168        8       192
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        2     34          80        2        80
BGP Martian Addr Intf String  :        4 variable        96        4        96
BGP PBR Context               :        2     32          80        2        80
BGP interface context         :        5      4         120        5       120
BGP EVPN instance information :        2     56         112        2       112
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :    50015     40     2009016    50015   2009016
RFAPI IT Extra                :    50013     40     2009656    50013   2009656

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1371 KiB
  Free small blocks:     1424 bytes
  Free ordinary blocks:  93 KiB
  Ordinary blocks:       2
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      290     32       11648      290     11648
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         392        7       392
Link List                     :       19     40         808       24      1008
Link Node                     :      130     24        3152      182      4416
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        7     56         392        7       392
Stream                        :        3 variable     63896        4     80320
Route table                   :        8     56         448        8       448
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        72        1        72
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :       10 variable       720       10       720:
Tue Oct 31 08:10:49 2023 (#173) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show thread cpu":.:pass:BGPd heap: 7748 KiB --&gt; 230 MiB (4.445 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.067        61        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    1          0.176        61        2        12        3        12         0         0          0  R      mgmt_fe_client_read
    1          0.009         1        9         9       10        10         0         0          0  R      mgmt_fe_conn_accept
    0          0.036         1       36        36       37        37         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.036         1       36        36       37        37         0         0          0  R      mgmt_be_conn_accept
    0          0.025        61        0         6        1         6         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.544        32       17        65       17        68         0         0          0  R      vtysh_accept
    0          0.025         1       25        25       26        26         0         0          0    T    mgmt_be_adapter_conn_init
    0          0.313        62        5        32        5        33         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.381         1      381       381      381       381         0         0          0     E   frr_config_read_in
    0          0.107        62        1        11        2        11         0         0          0   W     mgmt_fe_client_write
    1          0.240        62        3        12        4        13         0         0          0  R      mgmt_fe_adapter_read
    1          0.008         1        8         8        9         9         0         0          0  R      mgmt_be_adapter_read
    0          2.345        71       33       113       33       113         0         0          0  R      vtysh_read
    0          0.003         1        3         3        4         4         0         0          0    T    mgmt_be_adapter_proc_msgbufs


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.315       479        9       381        9       381         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.125        11       11        23       11        23         0         0          0  R      kernel_read
    0        117.146     28565        4      2078        4      2079         0         0          0     E   zserv_process_messages
    1          0.489        32       15        40       16        42         0         0          0  R      vtysh_accept
    0         94.616       589      160       507      161       507         0         0          0     E   rib_process_dplane_results
    0        229.098     11885       19     29638       21     32211         0         0          0    TE   work_queue_run
    0          1.735         1     1735      1735     1743      1743         0         0          0     E   frr_config_read_in
    0          0.004         1        4         4        4         4         0         0          0    T    rib_sweep_route
    0          6.071        72       84      3604       84      3604         0         0          0  R      vtysh_read
    1          0.789         6      131       170      131       171         0         0          0  R      zserv_accept
    0          0.360         6       60       172       71       235         0         0          0    T    if_zebra_speed_update


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.147         8       18        82       19        83         0         0          0  R      dplane_incoming_read
    0          0.143         1      143       143      143       143         0         0          0     E   dplane_incoming_request
    0       1611.551       780     2066     11560    15632   1030462         0         0          0     E   dplane_thread_loop


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.018         4        4         6        5         7         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.133         6       22        41       26        60         0         0          0   W     zserv_write
    1          0.058         2       29        41       30        43         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.089         8       11        24       11        25         0         0          0   W     zserv_write
    1          0.498        25       19        52       20        52         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.176        14       12        25       14        38         0         0          0   W     zserv_write
    1        312.517     30728       10     56949       10     64993         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.037         4        9        13       10        14         0         0          0   W     zserv_write
    1          0.027         1       27        27       28        28         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.201        12       16        43       19        67         0         0          0   W     zserv_write
    1          0.224         7       32        63       32        63         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.045         3       15        18       16        19         0         0          0   W     zserv_write
    1          0.086         3       28        42       29        43         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10       2376.383     72774       32     56949      178   1030462         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.424        32       13        32       14        33         0         0          0  R      vtysh_accept
    0          2.255        71       31       150       32       151         0         0          0  R      vtysh_read
    3          0.003        27        0         1        0         2         0         0          0    T    (ospf_ls_req_timer)
    0          0.086         1       86        86       87        87         0         0          0     E   zclient_connect
    1          1.616        86       18        73       19        73         0         0          0  R      ospf_read
    1          0.009         1        9         9        9         9         0         0          0    T    ospf_lsa_maxage_walker
    0          0.004         3        1         2        2         3         0         0          0     E   ospf_ls_ack_send_event
    1          0.198        54        3        20        4        21         0         0          0  R      zclient_read
    1          0.012         5        2         4        2         4         0         0          0    T    ospf_lsa_refresh_walker
    0          0.287         9       31        61       31        61         0         0          0    T    ospf_spf_calculate_schedule_worker
    3          0.053        27        1         8        2        10         0         0          0    T    (ospf_ls_upd_timer)
    0          0.019         4        4        10        5        11         0         0          0    T    ospf_ase_calculate_timer
    0          0.848         1      848       848      848       848         0         0          0     E   frr_config_read_in
    2          0.323        58        5        23        6        25         0         0          0    T    (ospf_hello_timer)
    0          2.705        51       53       129       53       133         0         0          0   W     ospf_write
    2          0.062        94        0         8        1         9         0         0          0    T    (ospf_ls_ack_timer)
    0          0.040        15        2         9        2         9         0         0          0     E   ospf_ls_upd_send_queue_event
    0          0.539       187        2        53        3        54         0         0          0     EX  ospf_nsm_event
    0          0.211         7       30        66       30        67         0         0          0     E   ospf_ism_event
    0          0.007         2        3         5        3         5         0         0          0    T    (ospf_wait_timer)


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   15          9.701       735       13       848       13       848         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          2.185        71       30       112       31       112         0         0          0  R      vtysh_read
    0          0.308         1      308       308      308       308         0         0          0     E   frr_config_read_in
    0          0.260        55        4        27        5        28         0         0          0   W     iev-&gt;handler_write
    2          0.226        11       20        49       21        50         0         0          0  R      iev_lde-&gt;handler_read
    0          0.008         1        8         8        9         9         0         0          0     E   ldp_config_fork_apply
    1          0.462        32       14        30       15        32         0         0          0  R      vtysh_accept
    2          0.385        15       25        80       26        82         0         0          0  R      iev_ldpe-&gt;handler_read
    0          0.040         1       40        40       41        41         0         0          0     E   zclient_connect
    1          0.259        53        4        21        5        22         0         0          0  R      zclient_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.133       240       17       308       17       308         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.079        10        7        11        8        12         0         0          0    T    update_group_refresh_default_originate_route_map
    0          1.516         1     1516      1516     1516      1516         0         0          0     E   frr_config_read_in
    1          0.602        32       18        38       19        40         0         0          0  R      vtysh_accept
    0          0.508         9       56       157       77       156         0         0          0     E   bgp_event
    0          0.000         1        0         0        0         0         0         0          0    T    update_subgroup_merge_check_thread_cb
    0          0.019         2        9        14       10        14         0         0          0   W     bgp_connect_check
    0          0.063         2       31        51       32        52         0         0          0    T    subgroup_coalesce_timer
    0        534.620       172     3108     47323     3157     47323         0         0          0     E   bgp_process_packet
    2          0.516        74        6       142        7       142         0         0          0  R      zclient_read
    0          9.615        97       99      3195       99      3196         0         0          0  R      vtysh_read
    0          0.005         4        1         2        2         2         0         0          0    T    (bgp_routeadv_timer)
    0          0.057         2       28        45       29        46         0         0          0     E   zclient_connect
    0        400.351       181     2211     18569     3997     33093         0         0          0    T    work_queue_run
    0          0.024         1       24        24       25        25         0         0          0    T    (bgp_start_timer)
    0         25.623       221      115      1884      126      1884         0         0          0    T    (bgp_generate_updgrp_packets)


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    2          4.581       190       24       121       25       122         0         0          0  R      bgp_process_reads
    0          6.168       127       48       129       49       131         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    5        984.347      1126      874     47323     1171     47323         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.579        32       18        82       19        85         0         0          0  R      vtysh_accept
    0          2.990        71       42       194       42       195         0         0          0  R      vtysh_read
    0          0.069         1       69        69       69        69         0         0          0    T    mgmt_be_client_conn_timeout
    1          0.256        44        5        74        6        78         0         0          0  R      zclient_read
    0          0.015         1       15        15       16        16         0         0          0   W     mgmt_be_client_write
    0          0.085         1       85        85       86        86         0         0          0     E   zclient_connect


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          3.994       150       26       194       27       195         0         0          0  RWTEX  TOTAL:
R:173  r3     BGPd heap: 7748 KiB --&gt; 230 MiB (4.445 KiB/vpn route)    1    0
Tue Oct 31 08:10:50 2023 (#174) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show thread cpu":.:pass:Zebra heap: 6012 KiB --&gt; 32 MiB (0.5198 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.069        63        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    1          0.181        63        2        12        3        12         0         0          0  R      mgmt_fe_client_read
    1          0.009         1        9         9       10        10         0         0          0  R      mgmt_fe_conn_accept
    0          0.036         1       36        36       37        37         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.036         1       36        36       37        37         0         0          0  R      mgmt_be_conn_accept
    0          0.025        63        0         6        1         6         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.555        33       16        65       17        68         0         0          0  R      vtysh_accept
    0          0.025         1       25        25       26        26         0         0          0    T    mgmt_be_adapter_conn_init
    0          0.320        64        5        32        5        33         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.381         1      381       381      381       381         0         0          0     E   frr_config_read_in
    0          0.111        64        1        11        2        11         0         0          0   W     mgmt_fe_client_write
    1          0.246        64        3        12        4        13         0         0          0  R      mgmt_fe_adapter_read
    1          0.008         1        8         8        9         9         0         0          0  R      mgmt_be_adapter_read
    0          2.456        74       33       113       33       113         0         0          0  R      vtysh_read
    0          0.003         1        3         3        4         4         0         0          0    T    mgmt_be_adapter_proc_msgbufs


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.461       495        9       381        9       381         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.125        11       11        23       11        23         0         0          0  R      kernel_read
    0        117.146     28565        4      2078        4      2079         0         0          0     E   zserv_process_messages
    1          0.500        33       15        40       16        42         0         0          0  R      vtysh_accept
    0         94.616       589      160       507      161       507         0         0          0     E   rib_process_dplane_results
    0        229.098     11885       19     29638       21     32211         0         0          0    TE   work_queue_run
    0          1.735         1     1735      1735     1743      1743         0         0          0     E   frr_config_read_in
    0          0.004         1        4         4        4         4         0         0          0    T    rib_sweep_route
    0          6.222        75       82      3604       83      3604         0         0          0  R      vtysh_read
    1          0.789         6      131       170      131       171         0         0          0  R      zserv_accept
    0          0.360         6       60       172       71       235         0         0          0    T    if_zebra_speed_update


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.147         8       18        82       19        83         0         0          0  R      dplane_incoming_read
    0          0.143         1      143       143      143       143         0         0          0     E   dplane_incoming_request
    0       1611.551       780     2066     11560    15632   1030462         0         0          0     E   dplane_thread_loop


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.018         4        4         6        5         7         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.133         6       22        41       26        60         0         0          0   W     zserv_write
    1          0.058         2       29        41       30        43         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.089         8       11        24       11        25         0         0          0   W     zserv_write
    1          0.498        25       19        52       20        52         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.176        14       12        25       14        38         0         0          0   W     zserv_write
    1        312.517     30728       10     56949       10     64993         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.037         4        9        13       10        14         0         0          0   W     zserv_write
    1          0.027         1       27        27       28        28         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.201        12       16        43       19        67         0         0          0   W     zserv_write
    1          0.224         7       32        63       32        63         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.045         3       15        18       16        19         0         0          0   W     zserv_write
    1          0.086         3       28        42       29        43         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10       2376.545     72778       32     56949      178   1030462         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.433        33       13        32       13        33         0         0          0  R      vtysh_accept
    0          2.375        74       32       150       32       151         0         0          0  R      vtysh_read
    3          0.003        27        0         1        0         2         0         0          0    T    (ospf_ls_req_timer)
    0          0.086         1       86        86       87        87         0         0          0     E   zclient_connect
    1          1.616        86       18        73       19        73         0         0          0  R      ospf_read
    1          0.009         1        9         9        9         9         0         0          0    T    ospf_lsa_maxage_walker
    0          0.004         3        1         2        2         3         0         0          0     E   ospf_ls_ack_send_event
    1          0.198        54        3        20        4        21         0         0          0  R      zclient_read
    1          0.012         5        2         4        2         4         0         0          0    T    ospf_lsa_refresh_walker
    0          0.287         9       31        61       31        61         0         0          0    T    ospf_spf_calculate_schedule_worker
    3          0.053        27        1         8        2        10         0         0          0    T    (ospf_ls_upd_timer)
    0          0.019         4        4        10        5        11         0         0          0    T    ospf_ase_calculate_timer
    0          0.848         1      848       848      848       848         0         0          0     E   frr_config_read_in
    2          0.323        58        5        23        6        25         0         0          0    T    (ospf_hello_timer)
    0          2.705        51       53       129       53       133         0         0          0   W     ospf_write
    2          0.062        94        0         8        1         9         0         0          0    T    (ospf_ls_ack_timer)
    0          0.040        15        2         9        2         9         0         0          0     E   ospf_ls_upd_send_queue_event
    0          0.539       187        2        53        3        54         0         0          0     EX  ospf_nsm_event
    0          0.211         7       30        66       30        67         0         0          0     E   ospf_ism_event
    0          0.007         2        3         5        3         5         0         0          0    T    (ospf_wait_timer)


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   15          9.830       739       13       848       13       848         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          2.283        74       30       112       31       112         0         0          0  R      vtysh_read
    0          0.308         1      308       308      308       308         0         0          0     E   frr_config_read_in
    0          0.260        55        4        27        5        28         0         0          0   W     iev-&gt;handler_write
    2          0.226        11       20        49       21        50         0         0          0  R      iev_lde-&gt;handler_read
    0          0.008         1        8         8        9         9         0         0          0     E   ldp_config_fork_apply
    1          0.472        33       14        30       15        32         0         0          0  R      vtysh_accept
    2          0.385        15       25        80       26        82         0         0          0  R      iev_ldpe-&gt;handler_read
    0          0.040         1       40        40       41        41         0         0          0     E   zclient_connect
    1          0.259        53        4        21        5        22         0         0          0  R      zclient_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.241       244       17       308       17       308         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.079        10        7        11        8        12         0         0          0    T    update_group_refresh_default_originate_route_map
    0          1.516         1     1516      1516     1516      1516         0         0          0     E   frr_config_read_in
    1          0.609        33       18        38       19        40         0         0          0  R      vtysh_accept
    0          0.508         9       56       157       77       156         0         0          0     E   bgp_event
    0          0.000         1        0         0        0         0         0         0          0    T    update_subgroup_merge_check_thread_cb
    0          0.019         2        9        14       10        14         0         0          0   W     bgp_connect_check
    0          0.063         2       31        51       32        52         0         0          0    T    subgroup_coalesce_timer
    0        534.620       172     3108     47323     3157     47323         0         0          0     E   bgp_process_packet
    2          0.516        74        6       142        7       142         0         0          0  R      zclient_read
    0          9.743       100       97      3195       98      3196         0         0          0  R      vtysh_read
    0          0.005         4        1         2        2         2         0         0          0    T    (bgp_routeadv_timer)
    0          0.057         2       28        45       29        46         0         0          0     E   zclient_connect
    0        400.351       181     2211     18569     3997     33093         0         0          0    T    work_queue_run
    0          0.024         1       24        24       25        25         0         0          0    T    (bgp_start_timer)
    0         25.623       221      115      1884      126      1884         0         0          0    T    (bgp_generate_updgrp_packets)


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    2          4.581       190       24       121       25       122         0         0          0  R      bgp_process_reads
    0          6.168       127       48       129       49       131         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    5        984.482      1130      871     47323     1167     47323         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.595        33       18        82       18        85         0         0          0  R      vtysh_accept
    0          3.098        74       41       194       42       195         0         0          0  R      vtysh_read
    0          0.069         1       69        69       69        69         0         0          0    T    mgmt_be_client_conn_timeout
    1          0.256        44        5        74        6        78         0         0          0  R      zclient_read
    0          0.015         1       15        15       16        16         0         0          0   W     mgmt_be_client_write
    0          0.085         1       85        85       86        86         0         0          0     E   zclient_connect


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          4.118       154       26       194       27       195         0         0          0  RWTEX  TOTAL:
R:174  r3     Zebra heap: 6012 KiB --&gt; 32 MiB (0.5198 KiB/vpn route)   1    0
Tue Oct 31 08:10:50 2023 (#175) scripts/scale_up.py:0 COMMAND:r4:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1796 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  168 KiB
  Ordinary blocks:       5
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       13000      323     13000
Hash Index                    :       16 variable     11920       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       80      2064
Temporary memory              :        4 variable        96       20     61696
MGMTD Frontend session        :        1     40          40        1        56
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  59 MiB
  Holding block headers: 290 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  53 MiB
  Free small blocks:     136 KiB
  Free ordinary blocks:  5935 KiB
  Ordinary blocks:       89450
  Small blocks:          1495
  Holding blocks:        38
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         192        8       192
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356656     4958    357088
Command Token Text            :     3541 variable    117896     3547    118056
Command Token Help            :     3541 variable     85048     3547     85192
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     1198 variable     28752     1202     28848
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231632     5785    231832
Hash                          :     1380 variable     67008     1380     67008
Hash Bucket                   :     1112     32       44800     1116     44960
Hash Index                    :      690 variable    189136      691    189272
Hook entry                    :       14     48         784       14       784
Interface                     :        6    272        1680        6      1680
Intf Desc                     :        3      7          72        3        72
Connected                     :        7     48         392        8       448
Link List                     :       76     40        3200       83      3464
Link Node                     :      760     24       18400    45167   1084168
Temporary memory              :        4 variable        96        7       696
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       55    144        8360    15241   2316632
Nexthop label                 :       22 variable       528    15208    365008
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        56
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        4   1032        4128        4      4128
Prefix                        :        7     56         392        8       448
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832     1432    631984
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       37     56        2072       37      2072
Route node                    :   200110 variable  24013392   200110  24013392
ASCII table                   :        0 variable         0       49      2056
Thread                        :       40    160        6720       40      6720
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       24 variable   2106624       24   2106624
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279400    11634    279616
Vector index                  :    11625 variable    368760    11634    369088
VRF                           :        3    216         648        3       648
VRF bit-map                   :       11      8         264       11       264
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        6       144
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        6    608        3696        6      3696
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0     3180   3230880
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        7     80         616        7       616
MPLS nexthop object           :        8     48         464       14       800
Nexthop Group Entry           :       37    144        5624    14620   2222240
Nexthop Group Connected       :       44     40        1808       44      1808
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :   100052    152    15207904   100052  15207904
RIB destination               :   100055     88     8804888   100055   8804888
WQ wrapper                    :        0 variable         0    14582   1749840
RIB table info                :       12     24         288       12       288
Zebra VRF table               :       12     56         672       12       672
Nexthop tracking object       :        7    248        1736        7      1736
ZEBRA VRF                     :        3   5072       15240        3     15240
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        4     80         352        4       352
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2474 KiB
  Free small blocks:     1648 bytes
  Free ordinary blocks:  90 KiB
  Ordinary blocks:       7
  Small blocks:          45
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     4296     72      309392     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      825     32       33128      825     33128
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Informational Link Parameters :        0    120           0        1       120
Link List                     :       76     40        3104       98      4000
Link Node                     :      210     24        5056      253      6200
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        1   1032        1032        1      1032
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Stream                        :        7 variable    160728       11    166904
Route table                   :      185     56       10456      187     10568
Route node                    :       50    120        6016       63      7576
Thread                        :       22    160        3696       22      3696
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       23     96        2392       23      2392
Typed-hash bucket             :       15 variable       952       20      1136
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        3    216         648        3       648
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        2    304         624        2       624
OSPF neighbor                 :        4   1520        6112        4      6112
OSPF route                    :       16     64        1184       23      1688
OSPF LSA                      :        7    128         984       16      2192
OSPF LSA data                 :        7 variable       408       16       640
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        2     24          48        6       144
OSPF FIFO queue               :        2     24          48        2        48
OSPF vertex                   :        0     80           0        7       632
OSPF vertex parent            :        0     32           0        7       280
OSPF nexthop                  :        0      8           0       13       344
OSPF path                     :       18     48        1008       25      1400
OSPF if info                  :        6     40         240        6       240
OSPF if params                :        7    120         840        7       840
OSPF MPLS parameters          :        6    248        1488        6      1488
OSPF Extended parameters      :        6    136         816        6       816
OSPF opaque function table    :        6    112         736        6       736
OSPF External route table     :        1     16          24        1        24
OSPF Redistriute              :        1     32          40        1        40

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1585 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  91 KiB
  Ordinary blocks:       6
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156288
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Link List                     :       21     40         872       26      1072
Link Node                     :      144     24        3520      199      4888
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1040       10      1040
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163880     5182    164128
VRF                           :        3    216         664        3       664
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  368 MiB
  Holding block headers: 101 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  364 MiB
  Free small blocks:     1888 bytes
  Free ordinary blocks:  3759 KiB
  Ordinary blocks:       103214
  Small blocks:          54
  Holding blocks:        17
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       112
Buffer data                   :        1   4120        4120       47    193640
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937928
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      677 variable     33224      677     33224
Hash Bucket                   :     2543     32      102072     2546    102208
Hash Index                    :      339 variable    525880      339    525880
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Link List                     :       85     40        3480       93      3816
Link Node                     :      417     24       10056      658     15920
Temporary memory              :   100031 variable  13602344   100035  13602504
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        7    144        1064        7      1064
Nexthop label                 :        3      8          72        3        72
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Ring buffer                   :       12 variable    590112       14    688464
Skip List                     :    50008     56     3014176    50009   3014248
Skip Node                     :   150018 variable  12430768   150019  12430936
Skiplist Counters             :    50008     68     3600576    50009   3600648
Socket union                  :        9    112        1080       12      1440
Stream                        :       11 variable    558072       20    750720
Stream FIFO                   :       12     64         864       14      1008
Route table                   :      236     56       13312      236     13312
Thread                        :       31    160        5208       31      5208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       24     96        2528       24      2528
Typed-hash bucket             :       15 variable   5265056       15   5265056
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        3    216         648        3       648
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
VTY output buffer             :        0 variable         0        1      1304
Work queue                    :        5    144         760        6       912
Work queue item               :        0     24           0        3        72
Work queue name string        :        5 variable       120        6       144
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        3     24          72        3        72
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        6     16         160        6       160
Mac Hash Entry Intf String    :        6 variable       144        7       168
BGP instance                  :       16 variable     32400       16     32400
BGP listen socket details     :       10 variable      1008       10      1008
BGP peer                      :        9  20864      187848       10    208720
BGP peer hostname             :       15 variable       360       17       408
BGP peer af                   :        3     80         280        5       456
BGP update group              :        3    104         328        3       328
BGP update subgroup           :        3    240         744        3       744
BGP packet                    :        3     56         168        4       272
BGP attribute                 :       47    328       15416       47     15416
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :      223     56       12600      223     12600
BGP node                      :   400094    192    80018864   400094  80018864
BGP route                     :   400070    136    54409920   400070  54409920
BGP ancillary route info      :   400060    432   176026464   400060 176026464
BGP connected                 :        4      4          96        4        96
BGP adv attr                  :        0     24           0        4        96
BGP adv                       :        0     64           0    10634    765664
BGP synchronise               :        3     48         168        3       168
BGP adj out                   :   100027     96    10403112   100027  10403112
BGP multipath info            :        8     48         448        8       448
community                     :        3     40         120        4       160
community val                 :        3      4          72        4        96
community str                 :        3   8192       24600        3     24600
extcommunity                  :       10     40         416       11       456
extcommunity val              :       10 variable       240       11       264
extcommunity str              :        6 variable       688        6       688
community-list handler        :        1    120         136        1       136
Cluster list                  :        1     24          24        1        24
Cluster list val              :        1      4          24        1        24
BGP Process queue             :        0     32           0        3       136
BGP nexthop                   :        7    184        1288        7      1288
BGP own address               :        4     64         288        4       288
Large Community               :        7     40         296        8       336
Large Community display string:        7     35         312        7       312
Large Community value         :        7     12         168        8       192
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        3     34         120        3       120
BGP Martian Addr Intf String  :        4 variable        96        4        96
BGP PBR Context               :        3     32         120        3       120
BGP interface context         :        6      4         144        6       144
BGP EVPN instance information :        3     56         168        3       168
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :   100010     40     4000640   100010   4000640
RFAPI IT Extra                :    50008     40     2014640    50008   2014640

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1372 KiB
  Free small blocks:     1392 bytes
  Free ordinary blocks:  92 KiB
  Ordinary blocks:       2
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3       104
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      293     32       11768      293     11768
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Link List                     :       21     40         888       26      1088
Link Node                     :      130     24        3152      182      4432
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        7     56         392        7       392
Stream                        :        3 variable     63896        4     80320
Route table                   :       12     56         672       12       672
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable       136        1       136
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        3    216         648        3       648
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :       15 variable      1080       15      1080:
Tue Oct 31 08:10:50 2023 (#175) scripts/scale_up.py:0 COMMAND:r4:vtysh -c "show thread cpu":.:pass:BGPd heap: 8340 KiB --&gt; 368 MiB (7.1932 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.044        71        0         5        1         5         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.208        71        2         7        3         7         0         0          0  R      mgmt_fe_client_read
    0          2.916        81       36       146       36       147         0         0          0  R      vtysh_read
    1          0.043         1       43        43       43        43         0         0          0  R      mgmt_be_conn_accept
    0          0.080        71        1         7        1        20         0         0          0   W     mgmt_fe_adapter_write
    1          0.316        72        4        15        4        15         0         0          0  R      mgmt_fe_adapter_read
    0          0.172        72        2        18        2        18         0         0          0   W     mgmt_fe_client_write
    0          0.003         1        3         3        4         4         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          0.381         1      381       381      382       382         0         0          0     E   frr_config_read_in
    1          0.006         1        6         6        6         6         0         0          0  R      mgmt_be_adapter_read
    1          0.786        37       21        96       22       101         0         0          0  R      vtysh_accept
    0          0.490        72        6        34        7        34         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.073         1       73        73       74        74         0         0          0    T    mgmt_fe_client_conn_timeout
    0          0.032         1       32        32       33        33         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.032         1       32        32       33        33         0         0          0  R      mgmt_fe_conn_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          5.582       554       10       381       10       382         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        559.226     12837       43     14073       44     14854         0         0          0    TE   work_queue_run
    0          1.671         1     1671      1671     1671      1671         0         0          0     E   frr_config_read_in
    1          0.120        12       10        18       10        19         0         0          0  R      kernel_read
    0          0.004         1        4         4        5         5         0         0          0    T    rib_sweep_route
    0          0.489         8       61       120       64       133         0         0          0    T    if_zebra_speed_update
    1          0.658         6      109       123      110       123         0         0          0  R      zserv_accept
    0         12.129        84      144      9125      144      9125         0         0          0  R      vtysh_read
    0        270.022     22623       11      1975       12      1975         0         0          0     E   zserv_process_messages
    0        251.348       690      364      8410      364      8410         0         0          0     E   rib_process_dplane_results
    1          1.131        37       30       663       31       665         0         0          0  R      vtysh_accept


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.102         5       20        82       20        83         0         0          0  R      dplane_incoming_read
    0       2083.772      1868     1115     12910     7162   1209833         0         0          0     E   dplane_thread_loop
    0          0.148         1      148       148      148       148         0         0          0     E   dplane_incoming_request


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.022         4        5        11        7        12         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.095         6       15        38       18        47         0         0          0   W     zserv_write
    1          0.056         2       28        37       28        37         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.120         7       17        28       20        41         0         0          0   W     zserv_write
    1          0.563        21       26        57       27        57         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.234        17       13        32       14        32         0         0          0   W     zserv_write
    1        397.375     36204       10      2234       13     14325         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.040         3       13        18       14        19         0         0          0   W     zserv_write
    1          0.028         1       28        28       30        30         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.180        14       12        53       14        53         0         0          0   W     zserv_write
    1          0.178         8       22        38       23        39         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.041         3       13        16       13        16         0         0          0   W     zserv_write
    1          0.066         3       22        26       22        27         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10       3579.818     74466       48     14073      201   1209833         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          2.625        81       32       185       32       186         0         0          0  R      vtysh_read
    0          0.226         7       32        86       32        86         0         0          0    T    ospf_spf_calculate_schedule_worker
    0          0.001         1        1         1        1         1         0         0          0     E   ospf_ls_ack_send_event
    0          0.003         1        3         3        3         3         0         0          0    T    (ospf_wait_timer)
    1          1.300        80       16       109       16       109         0         0          0  R      ospf_read
    0          0.023         7        3         7        3         8         0         0          0     E   ospf_ls_upd_send_queue_event
    2          0.032        18        1         9        2        10         0         0          0    T    (ospf_ls_upd_timer)
    2          0.013        18        0         6        1         7         0         0          0    T    (ospf_ls_req_timer)
    0          0.008         4        2         4        2         5         0         0          0    T    ospf_ase_calculate_timer
    1          0.223        67        3        19        3        20         0         0          0  R      zclient_read
    0          2.268        40       56       102       57       102         0         0          0   W     ospf_write
    0          0.131         4       32        89       33        89         0         0          0     E   ospf_ism_event
    1          0.100        47        2        24        2        28         0         0          0    T    (ospf_ls_ack_timer)
    0          0.399       122        3        64        3        64         0         0          0     EX  ospf_nsm_event
    1          0.008         1        8         8       10        10         0         0          0    T    ospf_lsa_maxage_walker
    1          0.008         5        1         2        2         3         0         0          0    T    ospf_lsa_refresh_walker
    1          0.528        37       14        30       15        31         0         0          0  R      vtysh_accept
    1          0.247        29        8        18        9        20         0         0          0    T    (ospf_hello_timer)
    0          0.650         1      650       650      650       650         0         0          0     E   frr_config_read_in
    0          0.064         1       64        64       65        65         0         0          0     E   zclient_connect


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   11          8.857       571       15       650       16       650         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          2.383        81       29       105       30       105         0         0          0  R      vtysh_read
    0          0.252        67        3        34        4        35         0         0          0   W     iev-&gt;handler_write
    0          0.299         1      299       299      300       300         0         0          0     E   frr_config_read_in
    1          0.319        63        5        33        5        35         0         0          0  R      zclient_read
    2          0.526        21       25        61       25        62         0         0          0  R      iev_ldpe-&gt;handler_read
    2          0.279        10       27        85       28        85         0         0          0  R      iev_lde-&gt;handler_read
    0          0.039         1       39        39       39        39         0         0          0     E   zclient_connect
    1          0.469        37       12        31       13        32         0         0          0  R      vtysh_accept
    0          0.008         1        8         8        9         9         0         0          0     E   ldp_config_fork_apply


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.574       282       16       299       16       300         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.022         1       22        22       23        23         0         0          0    T    (bgp_start_timer)
    0        649.283       200     3246     24411     3439     35595         0         0          0    T    work_queue_run
    0         12.615       110      114      5707      115      5712         0         0          0  R      vtysh_read
    0        788.535       127     6208     66834     6227     67825         0         0          0     E   bgp_process_packet
    0          0.062         2       31        47       31        48         0         0          0     E   zclient_connect
    0          0.015         2        7        12        8        13         0         0          0   W     bgp_connect_check
    0          0.098        15        6        10        7        11         0         0          0    T    update_group_refresh_default_originate_route_map
    0          0.078         3       26        48       26        49         0         0          0   W     zclient_flush_data
    0          0.000         1        0         0        1         1         0         0          0    T    update_subgroup_merge_check_thread_cb
    6          0.192         2       96       100       97       102         0         0          0  R      bgp_accept
    0          1.699         1     1699      1699     1700      1700         0         0          0     E   frr_config_read_in
    0          0.050         3       16        28       17        29         0         0          0    T    subgroup_coalesce_timer
    0         46.726       293      159      1962      160      1962         0         0          0    T    (bgp_generate_updgrp_packets)
    0          0.006         6        1         1        1         2         0         0          0    T    (bgp_routeadv_timer)
    2          0.703        99        7       133        7       134         0         0          0  R      zclient_read
    1          0.643        37       17        38       18        39         0         0          0  R      vtysh_accept
    0          0.465        15       31        58       49       113         0         0          0     E   bgp_event


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    3          3.634       139       26       133       26       134         0         0          0  R      bgp_process_reads
    0          7.751       174       44       110       45       110         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   12       1512.577      1230     1229     66834     1263     67825         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.060         1       60        60       61        61         0         0          0    T    mgmt_be_client_conn_timeout
    1          0.200        61        3        24        3        24         0         0          0  R      zclient_read
    0          2.459        81       30       151       30       151         0         0          0  R      vtysh_read
    0          0.057         1       57        57       58        58         0         0          0     E   zclient_connect
    0          0.006         1        6         6        7         7         0         0          0   W     mgmt_be_client_write
    1          0.484        37       13        47       13        49         0         0          0  R      vtysh_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          3.266       182       17       151       18       151         0         0          0  RWTEX  TOTAL:
R:175  r4     BGPd heap: 8340 KiB --&gt; 368 MiB (7.1932 KiB/vpn route)   1    0
Tue Oct 31 08:10:50 2023 (#176) scripts/scale_up.py:0 COMMAND:r4:vtysh -c "show thread cpu":.:pass:Zebra heap: 5888 KiB --&gt; 59 MiB (1.0622 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.045        73        0         5        1         5         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.212        73        2         7        3         7         0         0          0  R      mgmt_fe_client_read
    0          3.061        84       36       146       37       147         0         0          0  R      vtysh_read
    1          0.043         1       43        43       43        43         0         0          0  R      mgmt_be_conn_accept
    0          0.082        73        1         7        1        20         0         0          0   W     mgmt_fe_adapter_write
    1          0.323        74        4        15        4        15         0         0          0  R      mgmt_fe_adapter_read
    0          0.175        74        2        18        2        18         0         0          0   W     mgmt_fe_client_write
    0          0.003         1        3         3        4         4         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          0.381         1      381       381      382       382         0         0          0     E   frr_config_read_in
    1          0.006         1        6         6        6         6         0         0          0  R      mgmt_be_adapter_read
    1          0.799        38       21        96       21       101         0         0          0  R      vtysh_accept
    0          0.498        74        6        34        7        34         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.073         1       73        73       74        74         0         0          0    T    mgmt_fe_client_conn_timeout
    0          0.032         1       32        32       33        33         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.032         1       32        32       33        33         0         0          0  R      mgmt_fe_conn_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          5.765       570       10       381       10       382         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        559.226     12837       43     14073       44     14854         0         0          0    TE   work_queue_run
    0          1.671         1     1671      1671     1671      1671         0         0          0     E   frr_config_read_in
    1          0.120        12       10        18       10        19         0         0          0  R      kernel_read
    0          0.004         1        4         4        5         5         0         0          0    T    rib_sweep_route
    0          0.489         8       61       120       64       133         0         0          0    T    if_zebra_speed_update
    1          0.658         6      109       123      110       123         0         0          0  R      zserv_accept
    0         12.278        87      141      9125      141      9125         0         0          0  R      vtysh_read
    0        270.022     22623       11      1975       12      1975         0         0          0     E   zserv_process_messages
    0        251.348       690      364      8410      364      8410         0         0          0     E   rib_process_dplane_results
    1          1.140        38       30       663       30       665         0         0          0  R      vtysh_accept


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.102         5       20        82       20        83         0         0          0  R      dplane_incoming_read
    0       2083.772      1868     1115     12910     7162   1209833         0         0          0     E   dplane_thread_loop
    0          0.148         1      148       148      148       148         0         0          0     E   dplane_incoming_request


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.022         4        5        11        7        12         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.095         6       15        38       18        47         0         0          0   W     zserv_write
    1          0.056         2       28        37       28        37         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.120         7       17        28       20        41         0         0          0   W     zserv_write
    1          0.563        21       26        57       27        57         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.234        17       13        32       14        32         0         0          0   W     zserv_write
    1        397.375     36204       10      2234       13     14325         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.040         3       13        18       14        19         0         0          0   W     zserv_write
    1          0.028         1       28        28       30        30         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.180        14       12        53       14        53         0         0          0   W     zserv_write
    1          0.178         8       22        38       23        39         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.041         3       13        16       13        16         0         0          0   W     zserv_write
    1          0.066         3       22        26       22        27         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10       3579.976     74470       48     14073      201   1209833         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          2.746        84       32       185       33       186         0         0          0  R      vtysh_read
    0          0.226         7       32        86       32        86         0         0          0    T    ospf_spf_calculate_schedule_worker
    0          0.001         1        1         1        1         1         0         0          0     E   ospf_ls_ack_send_event
    0          0.003         1        3         3        3         3         0         0          0    T    (ospf_wait_timer)
    1          1.300        80       16       109       16       109         0         0          0  R      ospf_read
    0          0.023         7        3         7        3         8         0         0          0     E   ospf_ls_upd_send_queue_event
    2          0.032        18        1         9        2        10         0         0          0    T    (ospf_ls_upd_timer)
    2          0.013        18        0         6        1         7         0         0          0    T    (ospf_ls_req_timer)
    0          0.008         4        2         4        2         5         0         0          0    T    ospf_ase_calculate_timer
    1          0.223        67        3        19        3        20         0         0          0  R      zclient_read
    0          2.268        40       56       102       57       102         0         0          0   W     ospf_write
    0          0.131         4       32        89       33        89         0         0          0     E   ospf_ism_event
    1          0.100        47        2        24        2        28         0         0          0    T    (ospf_ls_ack_timer)
    0          0.399       122        3        64        3        64         0         0          0     EX  ospf_nsm_event
    1          0.008         1        8         8       10        10         0         0          0    T    ospf_lsa_maxage_walker
    1          0.008         5        1         2        2         3         0         0          0    T    ospf_lsa_refresh_walker
    1          0.540        38       14        30       15        31         0         0          0  R      vtysh_accept
    1          0.247        29        8        18        9        20         0         0          0    T    (ospf_hello_timer)
    0          0.650         1      650       650      650       650         0         0          0     E   frr_config_read_in
    0          0.064         1       64        64       65        65         0         0          0     E   zclient_connect


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   11          8.990       575       15       650       16       650         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          2.503        84       29       105       30       105         0         0          0  R      vtysh_read
    0          0.252        67        3        34        4        35         0         0          0   W     iev-&gt;handler_write
    0          0.299         1      299       299      300       300         0         0          0     E   frr_config_read_in
    1          0.319        63        5        33        5        35         0         0          0  R      zclient_read
    2          0.526        21       25        61       25        62         0         0          0  R      iev_ldpe-&gt;handler_read
    2          0.279        10       27        85       28        85         0         0          0  R      iev_lde-&gt;handler_read
    0          0.039         1       39        39       39        39         0         0          0     E   zclient_connect
    1          0.478        38       12        31       13        32         0         0          0  R      vtysh_accept
    0          0.008         1        8         8        9         9         0         0          0     E   ldp_config_fork_apply


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.703       286       16       299       17       300         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.022         1       22        22       23        23         0         0          0    T    (bgp_start_timer)
    0        649.283       200     3246     24411     3439     35595         0         0          0    T    work_queue_run
    0         12.778       113      113      5707      113      5712         0         0          0  R      vtysh_read
    0        788.535       127     6208     66834     6227     67825         0         0          0     E   bgp_process_packet
    0          0.062         2       31        47       31        48         0         0          0     E   zclient_connect
    0          0.015         2        7        12        8        13         0         0          0   W     bgp_connect_check
    0          0.098        15        6        10        7        11         0         0          0    T    update_group_refresh_default_originate_route_map
    0          0.078         3       26        48       26        49         0         0          0   W     zclient_flush_data
    0          0.000         1        0         0        1         1         0         0          0    T    update_subgroup_merge_check_thread_cb
    6          0.192         2       96       100       97       102         0         0          0  R      bgp_accept
    0          1.699         1     1699      1699     1700      1700         0         0          0     E   frr_config_read_in
    0          0.050         3       16        28       17        29         0         0          0    T    subgroup_coalesce_timer
    0         46.726       293      159      1962      160      1962         0         0          0    T    (bgp_generate_updgrp_packets)
    0          0.006         6        1         1        1         2         0         0          0    T    (bgp_routeadv_timer)
    2          0.703        99        7       133        7       134         0         0          0  R      zclient_read
    1          0.651        38       17        38       17        39         0         0          0  R      vtysh_accept
    0          0.465        15       31        58       49       113         0         0          0     E   bgp_event


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    3          3.634       139       26       133       26       134         0         0          0  R      bgp_process_reads
    0          7.751       174       44       110       45       110         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   12       1512.748      1234     1225     66834     1259     67825         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.060         1       60        60       61        61         0         0          0    T    mgmt_be_client_conn_timeout
    1          0.200        61        3        24        3        24         0         0          0  R      zclient_read
    0          2.547        84       30       151       30       151         0         0          0  R      vtysh_read
    0          0.057         1       57        57       58        58         0         0          0     E   zclient_connect
    0          0.006         1        6         6        7         7         0         0          0   W     mgmt_be_client_write
    1          0.492        38       12        47       13        49         0         0          0  R      vtysh_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          3.362       186       18       151       18       151         0         0          0  RWTEX  TOTAL:
R:176  r4     Zebra heap: 5888 KiB --&gt; 59 MiB (1.0622 KiB/vpn route)   1    0

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_check_scale_down" time="41.879"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/scale_down.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/scale_down.py
Tue Oct 31 08:10:50 2023 (#177) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show ip route" | grep -c \ 10\.\*/32:(.*):pass:Looking for sharp routes:
COMMAND OUTPUT:50000:
R:177  ce1    Looking for sharp routes                                 1    0
Tue Oct 31 08:10:50 2023 (#178) scripts/scale_down.py:0 COMMAND:ce3:vtysh -c "show bgp sum":.:pass:See 50000 sharp routes:
COMMAND OUTPUT:
IPv4 Unicast Summary (VRF default):
BGP router identifier 99.0.0.3, local AS number 5227 vrf-id 0
BGP table version 63795
RIB entries 100023, using 18 MiB of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.1     4       5227       103        24    63795    0    0 00:00:55        50008        5 N/A

Total number of neighbors 1:
R:178  ce3    See 50000 sharp routes                                   1    0
Tue Oct 31 08:10:50 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni" | grep Display:.:none:BGP routes pre remove:
COMMAND OUTPUT:Displayed  50012 routes and 50012 total paths:
Tue Oct 31 08:10:50 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:ip route show | cat -n | tail:.:none:Linux routes pre remove:
COMMAND OUTPUT: 49999	10.0.195.74 nhid 10 via 99.0.0.1 dev lo proto 194 metric 20 
 50000	10.0.195.75 nhid 10 via 99.0.0.1 dev lo proto 194 metric 20 
 50001	10.0.195.76 nhid 10 via 99.0.0.1 dev lo proto 194 metric 20 
 50002	10.0.195.77 nhid 10 via 99.0.0.1 dev lo proto 194 metric 20 
 50003	10.0.195.78 nhid 10 via 99.0.0.1 dev lo proto 194 metric 20 
 50004	10.0.195.79 nhid 10 via 99.0.0.1 dev lo proto 194 metric 20 
 50005	99.0.0.2 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
 50006	99.0.0.3 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
 50007	99.0.0.4 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
 50008	192.168.1.0/24 dev ce1-eth0 proto kernel scope link src 192.168.1.2:
Tue Oct 31 08:10:51 2023 (#179) scripts/scale_down.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni" | grep Display:.:none:BGP routes pre remove:
COMMAND OUTPUT:Displayed  50012 routes and 50015 total paths:
Tue Oct 31 08:10:51 2023 (#179) scripts/scale_down.py:0 COMMAND:ce2:ip route show | cat -n | tail:.:none:Linux routes pre remove:
COMMAND OUTPUT: 49999	10.0.195.74 nhid 11 via 99.0.0.2 dev lo proto 194 metric 20 
 50000	10.0.195.75 nhid 11 via 99.0.0.2 dev lo proto 194 metric 20 
 50001	10.0.195.76 nhid 11 via 99.0.0.2 dev lo proto 194 metric 20 
 50002	10.0.195.77 nhid 11 via 99.0.0.2 dev lo proto 194 metric 20 
 50003	10.0.195.78 nhid 11 via 99.0.0.2 dev lo proto 194 metric 20 
 50004	10.0.195.79 nhid 11 via 99.0.0.2 dev lo proto 194 metric 20 
 50005	99.0.0.1 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
 50006	99.0.0.3 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
 50007	99.0.0.4 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
 50008	192.168.1.0/24 dev ce2-eth0 proto kernel scope link src 192.168.1.2:
Tue Oct 31 08:10:53 2023 (#179) scripts/scale_down.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni" | grep Display:.:none:BGP routes pre remove:
COMMAND OUTPUT:Displayed  50012 routes and 50013 total paths:
Tue Oct 31 08:10:53 2023 (#179) scripts/scale_down.py:0 COMMAND:ce3:ip route show | cat -n | tail:.:none:Linux routes pre remove:
COMMAND OUTPUT: 49999	10.0.195.74 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50000	10.0.195.75 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50001	10.0.195.76 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50002	10.0.195.77 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50003	10.0.195.78 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50004	10.0.195.79 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50005	99.0.0.1 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50006	99.0.0.2 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50007	99.0.0.4 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50008	192.168.1.0/24 dev ce3-eth0 proto kernel scope link src 192.168.1.2:
Tue Oct 31 08:10:54 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "sharp remove routes 10.0.0.0 50000":.:none:Removing 50000 routes:
COMMAND OUTPUT:&lt;no output&gt;:
Tue Oct 31 08:10:54 2023 (#179) scripts/scale_down.py:0 COMMAND:ce2:vtysh -c "sharp remove routes 10.0.0.0 50000":.:none:Removing 50000 routes:
COMMAND OUTPUT:&lt;no output&gt;:
scripts/scale_down.py:0 WAIT:ce1:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:200.0:10:
Tue Oct 31 08:10:54 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:
COMMAND OUTPUT:Displayed  48795 routes and 48795 total paths:
Tue Oct 31 08:11:04 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:
COMMAND OUTPUT:Displayed  12887 routes and 12887 total paths:
Tue Oct 31 08:11:14 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:
COMMAND OUTPUT:Displayed  7962 routes and 7962 total paths:
Tue Oct 31 08:11:24 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:
COMMAND OUTPUT:Displayed  12 routes and 12 total paths:
R:179  ce1    BGP routes removed +30.32 secs                           1    0
Done after 4 loops, time=30.319595098495483, Found= 12 route
Tue Oct 31 08:11:24 2023 (#180) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni":.:none:BGP routes post remove:
COMMAND OUTPUT:BGP table version is 189657, local router ID is 99.0.0.1, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       99.0.0.1                98    123  32768 i
 *&gt; 5.1.1.0/24       99.0.0.1                98    123  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 *&gt; 6.0.1.0/24       99.0.0.1                98    123  32768 i
 *&gt; 6.0.2.0/24       99.0.0.1               100    100  32768 i
 *&gt; 99.0.0.1/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 12 total paths:
scripts/scale_down.py:0 WAIT:ce2:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:200.0:10:
Tue Oct 31 08:11:24 2023 (#180) scripts/scale_down.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:
COMMAND OUTPUT:Displayed  12 routes and 15 total paths:
R:180  ce2    BGP routes removed +0.03 secs                            1    0
Done after 1 loops, time=0.03465747833251953, Found= 12 route
Tue Oct 31 08:11:24 2023 (#181) scripts/scale_down.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni":.:none:BGP routes post remove:
COMMAND OUTPUT:BGP table version is 187649, local router ID is 99.0.0.2, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 * i5.1.0.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 * i5.1.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 *&gt; 6.0.2.0/24       99.0.0.2               100    100  32768 i
 *&gt;i99.0.0.1/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.2/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 15 total paths:
scripts/scale_down.py:0 WAIT:ce3:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:200.0:10:
Tue Oct 31 08:11:24 2023 (#181) scripts/scale_down.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:
COMMAND OUTPUT:Displayed  12 routes and 13 total paths:
R:181  ce3    BGP routes removed +0.04 secs                            1    0
Done after 1 loops, time=0.035581111907958984, Found= 12 route
Tue Oct 31 08:11:24 2023 (#182) scripts/scale_down.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni":.:none:BGP routes post remove:
COMMAND OUTPUT:BGP table version is 136047, local router ID is 99.0.0.3, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.1.1             98    123      0 i
 *&gt;i5.1.1.0/24       192.168.1.1             98    123      0 i
 *&gt; 5.1.2.0/24       99.0.0.3               200     50  32768 i
 *&gt; 5.1.3.0/24       99.0.0.3               200     50  32768 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.3               200     50  32768 i
 *&gt; 6.0.2.0/24       99.0.0.3               100    100  32768 i
 *&gt;i99.0.0.1/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.3/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 13 total paths:
scripts/scale_down.py:0 WAIT:ce1:ip route show | grep -c \^10\.:^0$:wait:Linux routes removed:200.0:10:
Tue Oct 31 08:11:24 2023 (#182) scripts/scale_down.py:0 COMMAND:ce1:ip route show | grep -c \^10\.:^0$:wait:Linux routes removed:
COMMAND OUTPUT:0:
R:182  ce1    Linux routes removed +0.01 secs                          1    0
Done after 1 loops, time=0.005283832550048828, Found=0
Tue Oct 31 08:11:24 2023 (#183) scripts/scale_down.py:0 COMMAND:ce1:ip route show:.:none:Linux routes post remove:
COMMAND OUTPUT:5.1.2.0/24 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
5.1.3.0/24 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
5.4.2.0/24 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
5.4.3.0/24 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
99.0.0.2 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
99.0.0.3 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
99.0.0.4 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
192.168.1.0/24 dev ce1-eth0 proto kernel scope link src 192.168.1.2:
scripts/scale_down.py:0 WAIT:ce2:ip route show | grep -c \^10\.:^0$:wait:Linux routes removed:200.0:10:
Tue Oct 31 08:11:24 2023 (#183) scripts/scale_down.py:0 COMMAND:ce2:ip route show | grep -c \^10\.:^0$:wait:Linux routes removed:
COMMAND OUTPUT:0:
R:183  ce2    Linux routes removed +0.01 secs                          1    0
Done after 1 loops, time=0.006360530853271484, Found=0
Tue Oct 31 08:11:25 2023 (#184) scripts/scale_down.py:0 COMMAND:ce2:ip route show:.:none:Linux routes post remove:
COMMAND OUTPUT:5.1.2.0/24 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
5.1.3.0/24 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
5.4.2.0/24 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
5.4.3.0/24 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
99.0.0.1 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
99.0.0.3 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
99.0.0.4 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
192.168.1.0/24 dev ce2-eth0 proto kernel scope link src 192.168.1.2:
scripts/scale_down.py:0 WAIT:ce3:ip route show | grep -c \^10\.:^0$:wait:Linux routes removed:200.0:10:
Tue Oct 31 08:11:25 2023 (#184) scripts/scale_down.py:0 COMMAND:ce3:ip route show | grep -c \^10\.:^0$:wait:Linux routes removed:
COMMAND OUTPUT:0:
R:184  ce3    Linux routes removed +0.01 secs                          1    0
Done after 1 loops, time=0.0063822269439697266, Found=0
Tue Oct 31 08:11:25 2023 (#185) scripts/scale_down.py:0 COMMAND:ce3:ip route show:.:none:Linux routes post remove:
COMMAND OUTPUT:5.1.0.0/24 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
5.1.1.0/24 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
5.4.2.0/24 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
5.4.3.0/24 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
99.0.0.1 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
99.0.0.2 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
99.0.0.4 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
192.168.1.0/24 dev ce3-eth0 proto kernel scope link src 192.168.1.2:
scripts/scale_down.py:0 WAIT:r1:ip route show vrf r1-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:200.0:10:
Tue Oct 31 08:11:25 2023 (#185) scripts/scale_down.py:0 COMMAND:r1:ip route show vrf r1-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:
COMMAND OUTPUT:0:
R:185  r1     VRF route removed +0.01 secs                             1    0
Done after 1 loops, time=0.006041288375854492, Found=0
scripts/scale_down.py:0 WAIT:r3:ip route show vrf r3-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:200.0:10:
Tue Oct 31 08:11:25 2023 (#186) scripts/scale_down.py:0 COMMAND:r3:ip route show vrf r3-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:
COMMAND OUTPUT:0:
R:186  r3     VRF route removed +0.01 secs                             1    0
Done after 1 loops, time=0.005464792251586914, Found=0
scripts/scale_down.py:0 WAIT:r4:ip route show vrf r4-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:200.0:10:
Tue Oct 31 08:11:25 2023 (#187) scripts/scale_down.py:0 COMMAND:r4:ip route show vrf r4-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:
COMMAND OUTPUT:0:
R:187  r4     VRF route removed +0.01 secs                             1    0
Done after 1 loops, time=0.005690097808837891, Found=0
******************************************************************************
Total 187                                                            187  0
******************************************************************************

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase></testsuite></testsuites>