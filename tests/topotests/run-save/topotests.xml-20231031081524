<?xml version="1.0" encoding="utf-8"?><testsuites><testsuite name="pytest" errors="0" failures="0" skipped="1" tests="8" time="116.006" timestamp="2023-10-31T08:13:28.241271" hostname="cnic"><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_memory_leak" time="8.174"><skipped type="pytest.skip" message="Memory leak test/report is disabled">/home/cnic/frr-pr/tests/topotests/lib/ltemplate.py:197: Memory leak test/report is disabled</skipped><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_check_linux_vrf" time="0.183"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/check_linux_vrf.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/check_linux_vrf.py
Tue Oct 31 08:13:36 2023 (#1) scripts/check_linux_vrf.py:0 COMMAND:r1:ip link show type vrf r1-cust1:cust1: .*UP:pass:VRF cust1 intf up:
COMMAND OUTPUT:4: r1-cust1: &lt;NOARP,MASTER,UP,LOWER_UP&gt; mtu 65575 qdisc noqueue state UP mode DEFAULT group default qlen 1000
    link/ether 7a:44:f0:64:96:42 brd ff:ff:ff:ff:ff:ff:
R:1    r1     VRF cust1 intf up                                        1    0
Tue Oct 31 08:13:36 2023 (#2) scripts/check_linux_vrf.py:0 COMMAND:r1:ip add show vrf r1-cust1:r..eth4.*UP:pass:VRF cust1 IP intf up:
COMMAND OUTPUT:2: r1-eth4@if2: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r1-cust1 state UP group default qlen 1000
    link/ether 1e:51:c5:56:ce:b6 brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.168.1.1/24 brd 192.168.1.255 scope global r1-eth4
       valid_lft forever preferred_lft forever
    inet6 fe80::1c51:c5ff:fe56:ceb6/64 scope link 
       valid_lft forever preferred_lft forever:
R:2    r1     VRF cust1 IP intf up                                     1    0
Tue Oct 31 08:13:36 2023 (#3) scripts/check_linux_vrf.py:0 COMMAND:r1:ip add show vrf r1-cust1:192.168:pass:VRF cust1 IP config:
COMMAND OUTPUT:2: r1-eth4@if2: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r1-cust1 state UP group default qlen 1000
    link/ether 1e:51:c5:56:ce:b6 brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.168.1.1/24 brd 192.168.1.255 scope global r1-eth4
       valid_lft forever preferred_lft forever
    inet6 fe80::1c51:c5ff:fe56:ceb6/64 scope link 
       valid_lft forever preferred_lft forever:
R:3    r1     VRF cust1 IP config                                      1    0
Tue Oct 31 08:13:36 2023 (#4) scripts/check_linux_vrf.py:0 COMMAND:r1:ip route show vrf r1-cust1:192.168...0/24 dev r.-eth:pass:VRF cust1 interface route:
COMMAND OUTPUT:99.0.0.1 nhid 16 via 192.168.1.2 dev r1-eth4 proto bgp metric 20 
192.168.1.0/24 dev r1-eth4 proto kernel scope link src 192.168.1.1:
R:4    r1     VRF cust1 interface route                                1    0
Tue Oct 31 08:13:36 2023 (#5) scripts/check_linux_vrf.py:0 COMMAND:r3:ip link show type vrf r3-cust1:cust1: .*UP:pass:VRF cust1 intf up:
COMMAND OUTPUT:5: r3-cust1: &lt;NOARP,MASTER,UP,LOWER_UP&gt; mtu 65575 qdisc noqueue state UP mode DEFAULT group default qlen 1000
    link/ether 6a:0a:8b:72:2c:df brd ff:ff:ff:ff:ff:ff:
R:5    r3     VRF cust1 intf up                                        1    0
Tue Oct 31 08:13:36 2023 (#6) scripts/check_linux_vrf.py:0 COMMAND:r3:ip add show vrf r3-cust1:r..eth4.*UP:pass:VRF cust1 IP intf up:
COMMAND OUTPUT:2: r3-eth4@if3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r3-cust1 state UP group default qlen 1000
    link/ether a6:53:5b:f3:7c:a7 brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.168.1.1/24 brd 192.168.1.255 scope global r3-eth4
       valid_lft forever preferred_lft forever
    inet6 fe80::a453:5bff:fef3:7ca7/64 scope link 
       valid_lft forever preferred_lft forever:
R:6    r3     VRF cust1 IP intf up                                     1    0
Tue Oct 31 08:13:36 2023 (#7) scripts/check_linux_vrf.py:0 COMMAND:r3:ip add show vrf r3-cust1:192.168:pass:VRF cust1 IP config:
COMMAND OUTPUT:2: r3-eth4@if3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r3-cust1 state UP group default qlen 1000
    link/ether a6:53:5b:f3:7c:a7 brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.168.1.1/24 brd 192.168.1.255 scope global r3-eth4
       valid_lft forever preferred_lft forever
    inet6 fe80::a453:5bff:fef3:7ca7/64 scope link 
       valid_lft forever preferred_lft forever:
R:7    r3     VRF cust1 IP config                                      1    0
Tue Oct 31 08:13:36 2023 (#8) scripts/check_linux_vrf.py:0 COMMAND:r3:ip route show vrf r3-cust1:192.168...0/24 dev r.-eth:pass:VRF cust1 interface route:
COMMAND OUTPUT:192.168.1.0/24 dev r3-eth4 proto kernel scope link src 192.168.1.1:
R:8    r3     VRF cust1 interface route                                1    0
Tue Oct 31 08:13:36 2023 (#9) scripts/check_linux_vrf.py:0 COMMAND:r4:ip link show type vrf r4-cust1:cust1: .*UP:pass:VRF cust1 intf up:
COMMAND OUTPUT:5: r4-cust1: &lt;NOARP,MASTER,UP,LOWER_UP&gt; mtu 65575 qdisc noqueue state UP mode DEFAULT group default qlen 1000
    link/ether e2:6f:eb:aa:5a:55 brd ff:ff:ff:ff:ff:ff:
R:9    r4     VRF cust1 intf up                                        1    0
Tue Oct 31 08:13:36 2023 (#10) scripts/check_linux_vrf.py:0 COMMAND:r4:ip add show vrf r4-cust1:r..eth4.*UP:pass:VRF cust1 IP intf up:
COMMAND OUTPUT:2: r4-eth4@if4: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r4-cust1 state UP group default qlen 1000
    link/ether f2:54:dc:f5:6a:cc brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.168.1.1/24 brd 192.168.1.255 scope global r4-eth4
       valid_lft forever preferred_lft forever
    inet6 fe80::f054:dcff:fef5:6acc/64 scope link 
       valid_lft forever preferred_lft forever:
R:10   r4     VRF cust1 IP intf up                                     1    0
Tue Oct 31 08:13:36 2023 (#11) scripts/check_linux_vrf.py:0 COMMAND:r4:ip add show vrf r4-cust1:192.168:pass:VRF cust1 IP config:
COMMAND OUTPUT:2: r4-eth4@if4: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r4-cust1 state UP group default qlen 1000
    link/ether f2:54:dc:f5:6a:cc brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.168.1.1/24 brd 192.168.1.255 scope global r4-eth4
       valid_lft forever preferred_lft forever
    inet6 fe80::f054:dcff:fef5:6acc/64 scope link 
       valid_lft forever preferred_lft forever:
R:11   r4     VRF cust1 IP config                                      1    0
Tue Oct 31 08:13:36 2023 (#12) scripts/check_linux_vrf.py:0 COMMAND:r4:ip route show vrf r4-cust1:192.168...0/24 dev r.-eth:pass:VRF cust1 interface route:
COMMAND OUTPUT:192.168.1.0/24 dev r4-eth4 proto kernel scope link src 192.168.1.1:
R:12   r4     VRF cust1 interface route                                1    0
Tue Oct 31 08:13:36 2023 (#13) scripts/check_linux_vrf.py:0 COMMAND:r4:ip link show type vrf r4-cust2:cust2: .*UP:pass:VRF cust2 up:
COMMAND OUTPUT:6: r4-cust2: &lt;NOARP,MASTER,UP,LOWER_UP&gt; mtu 65575 qdisc noqueue state UP mode DEFAULT group default qlen 1000
    link/ether 0e:96:a3:9a:d0:0a brd ff:ff:ff:ff:ff:ff:
R:13   r4     VRF cust2 up                                             1    0
Tue Oct 31 08:13:36 2023 (#14) scripts/check_linux_vrf.py:0 COMMAND:r4:ip add show vrf r4-cust2:r..eth5.*UP.* 192.168:pass:VRF cust1 IP config:
COMMAND OUTPUT:3: r4-eth5@if5: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r4-cust2 state UP group default qlen 1000
    link/ether 9a:be:0e:a8:14:3c brd ff:ff:ff:ff:ff:ff link-netnsid 1
    inet 192.168.2.1/24 brd 192.168.2.255 scope global r4-eth5
       valid_lft forever preferred_lft forever
    inet6 fe80::98be:eff:fea8:143c/64 scope link 
       valid_lft forever preferred_lft forever:
R:14   r4     VRF cust1 IP config                                      1    0
Tue Oct 31 08:13:36 2023 (#15) scripts/check_linux_vrf.py:0 COMMAND:r4:ip route show vrf r4-cust2:192.168...0/24 dev r.-eth:pass:VRF cust2 interface route:
COMMAND OUTPUT:192.168.2.0/24 dev r4-eth5 proto kernel scope link src 192.168.2.1:
R:15   r4     VRF cust2 interface route                                1    0
Tue Oct 31 08:13:36 2023 (#16) scripts/check_linux_vrf.py:0 COMMAND:ce1:ip route show:192.168...0/24 dev ce.-eth0:pass:CE interface route:
COMMAND OUTPUT:192.168.1.0/24 dev ce1-eth0 proto kernel scope link src 192.168.1.2:
R:16   ce1    CE interface route                                       1    0
scripts/check_linux_vrf.py:0 WAIT:ce1:ping 192.168.1.1 -c 1: 0. packet loss:wait:CE-&gt;PE ping:10:0.5:
Tue Oct 31 08:13:36 2023 (#17) scripts/check_linux_vrf.py:0 COMMAND:ce1:ping 192.168.1.1 -c 1: 0. packet loss:wait:CE-&gt;PE ping:
COMMAND OUTPUT:PING 192.168.1.1 (192.168.1.1) 56(84) bytes of data.
64 bytes from 192.168.1.1: icmp_seq=1 ttl=64 time=0.030 ms

--- 192.168.1.1 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.030/0.030/0.030/0.000 ms:
R:17   ce1    CE-&gt;PE ping +0.00 secs                                   1    0
Done after 1 loops, time=0.004435300827026367, Found= 0% packet loss
Tue Oct 31 08:13:36 2023 (#18) scripts/check_linux_vrf.py:0 COMMAND:ce2:ip route show:192.168...0/24 dev ce.-eth0:pass:CE interface route:
COMMAND OUTPUT:192.168.1.0/24 dev ce2-eth0 proto kernel scope link src 192.168.1.2:
R:18   ce2    CE interface route                                       1    0
scripts/check_linux_vrf.py:0 WAIT:ce2:ping 192.168.1.1 -c 1: 0. packet loss:wait:CE-&gt;PE ping:10:0.5:
Tue Oct 31 08:13:36 2023 (#19) scripts/check_linux_vrf.py:0 COMMAND:ce2:ping 192.168.1.1 -c 1: 0. packet loss:wait:CE-&gt;PE ping:
COMMAND OUTPUT:PING 192.168.1.1 (192.168.1.1) 56(84) bytes of data.
64 bytes from 192.168.1.1: icmp_seq=1 ttl=64 time=0.018 ms

--- 192.168.1.1 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.018/0.018/0.018/0.000 ms:
R:19   ce2    CE-&gt;PE ping +0.00 secs                                   1    0
Done after 1 loops, time=0.003675699234008789, Found= 0% packet loss
Tue Oct 31 08:13:36 2023 (#20) scripts/check_linux_vrf.py:0 COMMAND:ce3:ip route show:192.168...0/24 dev ce.-eth0:pass:CE interface route:
COMMAND OUTPUT:192.168.1.0/24 dev ce3-eth0 proto kernel scope link src 192.168.1.2:
R:20   ce3    CE interface route                                       1    0
scripts/check_linux_vrf.py:0 WAIT:ce3:ping 192.168.1.1 -c 1: 0. packet loss:wait:CE-&gt;PE ping:10:0.5:
Tue Oct 31 08:13:36 2023 (#21) scripts/check_linux_vrf.py:0 COMMAND:ce3:ping 192.168.1.1 -c 1: 0. packet loss:wait:CE-&gt;PE ping:
COMMAND OUTPUT:PING 192.168.1.1 (192.168.1.1) 56(84) bytes of data.
64 bytes from 192.168.1.1: icmp_seq=1 ttl=64 time=0.027 ms

--- 192.168.1.1 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.027/0.027/0.027/0.000 ms:
R:21   ce3    CE-&gt;PE ping +0.00 secs                                   1    0
Done after 1 loops, time=0.0034530162811279297, Found= 0% packet loss
Tue Oct 31 08:13:36 2023 (#22) scripts/check_linux_vrf.py:0 COMMAND:ce4:ip link show type vrf ce4-cust2:cust2: .*UP:pass:VRF cust2 up:
COMMAND OUTPUT:2: ce4-cust2: &lt;NOARP,MASTER,UP,LOWER_UP&gt; mtu 65575 qdisc noqueue state UP mode DEFAULT group default qlen 1000
    link/ether 1a:3b:0d:06:1f:35 brd ff:ff:ff:ff:ff:ff:
R:22   ce4    VRF cust2 up                                             1    0
Tue Oct 31 08:13:36 2023 (#23) scripts/check_linux_vrf.py:0 COMMAND:ce4:ip route show vrf ce4-cust2:192.168...0/24 dev ce.-eth0:pass:CE interface route:
COMMAND OUTPUT:192.168.2.0/24 dev ce4-eth0 proto kernel scope link src 192.168.2.2:
R:23   ce4    CE interface route                                       1    0
scripts/check_linux_vrf.py:0 WAIT:ce4:ping 192.168.2.1 -c 1 -I ce4-cust2: 0. packet loss:wait:CE4-&gt;PE4 ping:10:0.5:
Tue Oct 31 08:13:36 2023 (#24) scripts/check_linux_vrf.py:0 COMMAND:ce4:ping 192.168.2.1 -c 1 -I ce4-cust2: 0. packet loss:wait:CE4-&gt;PE4 ping:
COMMAND OUTPUT:ping: Warning: source address might be selected on device other than: ce4-cust2
PING 192.168.2.1 (192.168.2.1) from 192.168.2.2 ce4-cust2: 56(84) bytes of data.
64 bytes from 192.168.2.1: icmp_seq=1 ttl=64 time=0.029 ms

--- 192.168.2.1 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.029/0.029/0.029/0.000 ms:
R:24   ce4    CE4-&gt;PE4 ping +0.00 secs                                 1    0
Done after 1 loops, time=0.004538297653198242, Found= 0% packet loss

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_adjacencies" time="17.292"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/adjacencies.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/adjacencies.py
scripts/adjacencies.py:0 WAIT:ce1:vtysh -c "show bgp summary": 00:0:wait:Adjacencies up:180:0.5:
Tue Oct 31 08:13:36 2023 (#25) scripts/adjacencies.py:0 COMMAND:ce1:vtysh -c "show bgp summary": 00:0:wait:Adjacencies up:
COMMAND OUTPUT:
IPv4 Unicast Summary (VRF default):
BGP router identifier 99.0.0.1, local AS number 5227 vrf-id 0
BGP table version 1
RIB entries 1, using 192 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.1     4       5227         3         4        1    0    0 00:00:01            0        1 N/A

Total number of neighbors 1:
R:25   ce1    Adjacencies up +0.04 secs                                1    0
Done after 1 loops, time=0.036208152770996094, Found= 00:0
scripts/adjacencies.py:0 WAIT:ce2:vtysh -c "show bgp summary": 00:0:wait:Adjacencies up:180:0.5:
Tue Oct 31 08:13:36 2023 (#26) scripts/adjacencies.py:0 COMMAND:ce2:vtysh -c "show bgp summary": 00:0:wait:Adjacencies up:
COMMAND OUTPUT:
IPv4 Unicast Summary (VRF default):
BGP router identifier 99.0.0.2, local AS number 5227 vrf-id 0
BGP table version 1
RIB entries 1, using 192 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.1     4       5227         2         2        0    0    0 00:00:00            0        0 N/A

Total number of neighbors 1:
R:26   ce2    Adjacencies up +0.03 secs                                1    0
Done after 1 loops, time=0.033959388732910156, Found= 00:0
scripts/adjacencies.py:0 WAIT:ce3:vtysh -c "show bgp summary": 00:0:wait:Adjacencies up:180:0.5:
Tue Oct 31 08:13:36 2023 (#27) scripts/adjacencies.py:0 COMMAND:ce3:vtysh -c "show bgp summary": 00:0:wait:Adjacencies up:
COMMAND OUTPUT:
IPv4 Unicast Summary (VRF default):
BGP router identifier 99.0.0.3, local AS number 5227 vrf-id 0
BGP table version 1
RIB entries 1, using 192 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.1     4       5227         2         2        0    0    0 00:00:01            0        0 N/A

Total number of neighbors 1:
R:27   ce3    Adjacencies up +0.03 secs                                1    0
Done after 1 loops, time=0.034365177154541016, Found= 00:0
scripts/adjacencies.py:0 WAIT:ce4:vtysh -c "show bgp vrf all summary": 00:0:wait:Adjacencies up:180:0.5:
Tue Oct 31 08:13:36 2023 (#28) scripts/adjacencies.py:0 COMMAND:ce4:vtysh -c "show bgp vrf all summary": 00:0:wait:Adjacencies up:
COMMAND OUTPUT:
IPv4 Unicast Summary (VRF ce4-cust2):
BGP router identifier 99.0.0.4, local AS number 5228 vrf-id 2
BGP table version 1
RIB entries 1, using 192 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.2.1     4       5228         2         4        0    0    0 00:00:01            0        0 N/A

Total number of neighbors 1:
R:28   ce4    Adjacencies up +0.03 secs                                1    0
Done after 1 loops, time=0.03438711166381836, Found= 00:0
scripts/adjacencies.py:0 WAIT:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:60:0.5:
Tue Oct 31 08:13:36 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:37 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:37 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:38 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:38 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:39 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:39 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:40 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:40 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:41 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:41 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:42 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:42 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:43 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:43 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:44 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:PING 2.2.2.2 (2.2.2.2) 56(84) bytes of data.
64 bytes from 2.2.2.2: icmp_seq=1 ttl=64 time=0.028 ms

--- 2.2.2.2 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.028/0.028/0.028/0.000 ms:
R:29   r1     PE-&gt;P2 (loopback) ping +7.57 secs                        1    0
Done after 16 loops, time=7.573150157928467, Found= 0% packet loss
scripts/adjacencies.py:0 WAIT:r3:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:60:0.5:
Tue Oct 31 08:13:44 2023 (#30) scripts/adjacencies.py:0 COMMAND:r3:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:44 2023 (#30) scripts/adjacencies.py:0 COMMAND:r3:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:45 2023 (#30) scripts/adjacencies.py:0 COMMAND:r3:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:45 2023 (#30) scripts/adjacencies.py:0 COMMAND:r3:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:46 2023 (#30) scripts/adjacencies.py:0 COMMAND:r3:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:46 2023 (#30) scripts/adjacencies.py:0 COMMAND:r3:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:47 2023 (#30) scripts/adjacencies.py:0 COMMAND:r3:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:47 2023 (#30) scripts/adjacencies.py:0 COMMAND:r3:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:48 2023 (#30) scripts/adjacencies.py:0 COMMAND:r3:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:48 2023 (#30) scripts/adjacencies.py:0 COMMAND:r3:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 08:13:49 2023 (#30) scripts/adjacencies.py:0 COMMAND:r3:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:PING 2.2.2.2 (2.2.2.2) 56(84) bytes of data.
64 bytes from 2.2.2.2: icmp_seq=1 ttl=64 time=0.038 ms

--- 2.2.2.2 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.038/0.038/0.038/0.000 ms:
R:30   r3     PE-&gt;P2 (loopback) ping +5.05 secs                        1    0
Done after 11 loops, time=5.049372434616089, Found= 0% packet loss
scripts/adjacencies.py:0 WAIT:r4:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:60:0.5:
Tue Oct 31 08:13:49 2023 (#31) scripts/adjacencies.py:0 COMMAND:r4:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:PING 2.2.2.2 (2.2.2.2) 56(84) bytes of data.
64 bytes from 2.2.2.2: icmp_seq=1 ttl=64 time=0.017 ms

--- 2.2.2.2 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.017/0.017/0.017/0.000 ms:
R:31   r4     PE-&gt;P2 (loopback) ping +0.00 secs                        1    0
Done after 1 loops, time=0.003549814224243164, Found= 0% packet loss
scripts/adjacencies.py:0 WAIT:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:180:0.5:
Tue Oct 31 08:13:49 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 0, using 0 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         2         2        0    0    0 00:00:00            0        0 N/A
4.4.4.4         4       5226         2         2        0    0    0 00:00:00            0        0 N/A

Total number of neighbors 3:
Tue Oct 31 08:13:49 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 0, using 0 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         2         2        0    0    0 00:00:01            0        0 N/A
4.4.4.4         4       5226         2         2        0    0    0 00:00:01            0        0 N/A

Total number of neighbors 3:
Tue Oct 31 08:13:50 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         6         2        0    0    0 00:00:01            5        0 N/A
4.4.4.4         4       5226         7         2        0    0    0 00:00:01           10        0 N/A

Total number of neighbors 3:
Tue Oct 31 08:13:50 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         6        10        5    0    0 00:00:02            5       15 N/A
4.4.4.4         4       5226         7        10        5    0    0 00:00:02           10       15 N/A

Total number of neighbors 3:
Tue Oct 31 08:13:51 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         6        10        5    0    0 00:00:02            5       15 N/A
4.4.4.4         4       5226         7        10        5    0    0 00:00:02           10       15 N/A

Total number of neighbors 3:
Tue Oct 31 08:13:52 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         6        10        5    0    0 00:00:03            5       15 N/A
4.4.4.4         4       5226         7        10        5    0    0 00:00:03           10       15 N/A

Total number of neighbors 3:
Tue Oct 31 08:13:52 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         7        11        5    0    0 00:00:03            5       15 N/A
4.4.4.4         4       5226         8        11        5    0    0 00:00:03           10       15 N/A

Total number of neighbors 3:
Tue Oct 31 08:13:53 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         7        11        5    0    0 00:00:04            5       15 N/A
4.4.4.4         4       5226         8        11        5    0    0 00:00:04           10       15 N/A

Total number of neighbors 3:
Tue Oct 31 08:13:53 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         2         2        0    0    0 00:00:00            0        0 N/A
3.3.3.3         4       5226         7        11        5    0    0 00:00:04            5       15 N/A
4.4.4.4         4       5226         8        11        5    0    0 00:00:04           10       15 N/A

Total number of neighbors 3:
R:32   r2     Core adjacencies up +4.31 secs                           1    0
Done after 9 loops, time=4.308503150939941, Found= 00:00:00            0        0 N/A 3.3.3.3         4       5226         7        11        5    0    0 00:00:04            5       15 N/A 4.4.4.4         4       5226         8        11        5    0    0 00:0
scripts/adjacencies.py:0 WAIT:r1:vtysh -c "show bgp summary": 00:0:wait:Core adjacencies up:180:0.5:
Tue Oct 31 08:13:53 2023 (#33) scripts/adjacencies.py:0 COMMAND:r1:vtysh -c "show bgp summary": 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 1.1.1.1, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 1, using 192 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
2.2.2.2         4       5226         2         2        0    0    0 00:00:01            0        0 N/A

Total number of neighbors 1:
R:33   r1     Core adjacencies up +0.03 secs                           1    0
Done after 1 loops, time=0.03373074531555176, Found= 00:0
scripts/adjacencies.py:0 WAIT:r3:vtysh -c "show bgp summary": 00:0:wait:Core adjacencies up:180:0.5:
Tue Oct 31 08:13:53 2023 (#34) scripts/adjacencies.py:0 COMMAND:r3:vtysh -c "show bgp summary": 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 3.3.3.3, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
2.2.2.2         4       5226        11         7        5    0    0 00:00:05           10        5 N/A

Total number of neighbors 1:
R:34   r3     Core adjacencies up +0.03 secs                           1    0
Done after 1 loops, time=0.03288078308105469, Found= 00:0
scripts/adjacencies.py:0 WAIT:r4:vtysh -c "show bgp summary": 00:0:wait:Core adjacencies up:180:0.5:
Tue Oct 31 08:13:53 2023 (#35) scripts/adjacencies.py:0 COMMAND:r4:vtysh -c "show bgp summary": 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 4.4.4.4, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
2.2.2.2         4       5226        11         8        5    0    0 00:00:05            5       10 N/A

Total number of neighbors 1:
R:35   r4     Core adjacencies up +0.04 secs                           1    0
Done after 1 loops, time=0.0352935791015625, Found= 00:0
Tue Oct 31 08:13:53 2023 (#36) scripts/adjacencies.py:0 COMMAND:r1:vtysh -c "show bgp vrf all summary": 00:0.* 00:0:pass:All adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 1.1.1.1, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 1, using 192 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
2.2.2.2         4       5226         2         2        0    0    0 00:00:01            0        0 N/A

Total number of neighbors 1

IPv4 Unicast Summary (VRF r1-cust1):
BGP router identifier 192.168.1.1, local AS number 5227 vrf-id 4
BGP table version 5
RIB entries 9, using 1728 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.2     4       5227        12         9        5    0    0 00:00:19            5        0 N/A

Total number of neighbors 1:
R:36   r1     All adjacencies up                                       1    0
Tue Oct 31 08:13:53 2023 (#37) scripts/adjacencies.py:0 COMMAND:r3:vtysh -c "show bgp vrf all summary": 00:0.* 00:0:pass:All adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 3.3.3.3, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
2.2.2.2         4       5226        11         7        5    0    0 00:00:05           10        5 N/A

Total number of neighbors 1

IPv4 Unicast Summary (VRF r3-cust1):
BGP router identifier 192.168.1.1, local AS number 5227 vrf-id 5
BGP table version 11
RIB entries 21, using 4032 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.2     4       5227        11        10       11    0    0 00:00:18            5        6 N/A

Total number of neighbors 1:
R:37   r3     All adjacencies up                                       1    0
Tue Oct 31 08:13:53 2023 (#38) scripts/adjacencies.py:0 COMMAND:r4:vtysh -c "show bgp vrf all summary": 00:0.* 00:0.* 00:0:pass:All adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 4.4.4.4, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
2.2.2.2         4       5226        11         8        5    0    0 00:00:05            5       10 N/A

Total number of neighbors 1

IPv4 Unicast Summary (VRF r4-cust1):
BGP router identifier 192.168.1.1, local AS number 5227 vrf-id 5
BGP table version 14
RIB entries 21, using 4032 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.2     4       5227        11        12       14    0    0 00:00:18            5        7 N/A

Total number of neighbors 1

IPv4 Unicast Summary (VRF r4-cust2):
BGP router identifier 192.168.2.1, local AS number 5228 vrf-id 6
BGP table version 14
RIB entries 21, using 4032 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.2.2     4       5228        11        13       14    0    0 00:00:18            5        8 N/A

Total number of neighbors 1:
R:38   r4     All adjacencies up                                       1    0
scripts/adjacencies.py:0 WAIT:r1:ping 3.3.3.3 -c 1: 0. packet loss:wait:PE-&gt;PE3 (loopback) ping:10:0.5:
Tue Oct 31 08:13:53 2023 (#39) scripts/adjacencies.py:0 COMMAND:r1:ping 3.3.3.3 -c 1: 0. packet loss:wait:PE-&gt;PE3 (loopback) ping:
COMMAND OUTPUT:PING 3.3.3.3 (3.3.3.3) 56(84) bytes of data.
64 bytes from 3.3.3.3: icmp_seq=1 ttl=63 time=0.054 ms

--- 3.3.3.3 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.054/0.054/0.054/0.000 ms:
R:39   r1     PE-&gt;PE3 (loopback) ping +0.00 secs                       1    0
Done after 1 loops, time=0.004424571990966797, Found= 0% packet loss
scripts/adjacencies.py:0 WAIT:r1:ping 4.4.4.4 -c 1: 0. packet loss:wait:PE-&gt;PE4 (loopback) ping:10:0.5:
Tue Oct 31 08:13:53 2023 (#40) scripts/adjacencies.py:0 COMMAND:r1:ping 4.4.4.4 -c 1: 0. packet loss:wait:PE-&gt;PE4 (loopback) ping:
COMMAND OUTPUT:PING 4.4.4.4 (4.4.4.4) 56(84) bytes of data.
64 bytes from 4.4.4.4: icmp_seq=1 ttl=63 time=0.025 ms

--- 4.4.4.4 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.025/0.025/0.025/0.000 ms:
R:40   r1     PE-&gt;PE4 (loopback) ping +0.00 secs                       1    0
Done after 1 loops, time=0.0034639835357666016, Found= 0% packet loss
scripts/adjacencies.py:0 WAIT:r4:ping 3.3.3.3 -c 1: 0. packet loss:wait:PE-&gt;PE3 (loopback) ping:10:0.5:
Tue Oct 31 08:13:53 2023 (#41) scripts/adjacencies.py:0 COMMAND:r4:ping 3.3.3.3 -c 1: 0. packet loss:wait:PE-&gt;PE3 (loopback) ping:
COMMAND OUTPUT:PING 3.3.3.3 (3.3.3.3) 56(84) bytes of data.
64 bytes from 3.3.3.3: icmp_seq=1 ttl=64 time=0.022 ms

--- 3.3.3.3 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.022/0.022/0.022/0.000 ms:
R:41   r4     PE-&gt;PE3 (loopback) ping +0.00 secs                       1    0
Done after 1 loops, time=0.00420832633972168, Found= 0% packet loss

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_notification_check" time="0.306"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/notification_check.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/notification_check.py
Tue Oct 31 08:13:53 2023 (#42) scripts/notification_check.py:0 COMMAND:ce1:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 192.168.1.1, remote AS 5227, local AS 5227, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r1
  BGP version 4, remote router ID 192.168.1.1, local router ID 99.0.0.1
  BGP state = Established, up for 00:00:19
  Last read 00:00:01, Last write 00:00:01
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 Unicast: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 Unicast: advertised and received
    Hostname Capability: advertised (name: ce1,domain name: n/a) received (name: r1,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 Unicast
    End-of-RIB received: IPv4 Unicast
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 Unicast:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: No
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                4          1
    Keepalives:             7          7
    Route Refresh:          0          0
    Capability:             0          0
    Total:                 12          9
  Minimum time between advertisement runs is 0 seconds
  Update source is 192.168.1.2

 For address family: IPv4 Unicast
  Update group 1, subgroup 1
  Packet Queue length 0
  Community attribute sent to this neighbor(all)
  0 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:19,   No AFI/SAFI activated for peer (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 192.168.1.2, Local port: 179
Foreign host: 192.168.1.1, Foreign port: 44117
Nexthop: 192.168.1.2
Nexthop global: fe80::5836:2dff:fee5:1521
Nexthop local: fe80::5836:2dff:fee5:1521
BGP connection: shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 21:
Tue Oct 31 08:13:54 2023 (#42) scripts/notification_check.py:0 COMMAND:ce2:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 192.168.1.1, remote AS 5227, local AS 5227, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r3
  BGP version 4, remote router ID 192.168.1.1, local router ID 99.0.0.2
  BGP state = Established, up for 00:00:18
  Last read 00:00:00, Last write 00:00:00
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 Unicast: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 Unicast: advertised and received
    Hostname Capability: advertised (name: ce2,domain name: n/a) received (name: r3,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 Unicast
    End-of-RIB received: IPv4 Unicast
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 Unicast:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: No
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                4          3
    Keepalives:             7          7
    Route Refresh:          0          0
    Capability:             0          0
    Total:                 12         11
  Minimum time between advertisement runs is 0 seconds
  Update source is 192.168.1.2

 For address family: IPv4 Unicast
  Update group 1, subgroup 1
  Packet Queue length 0
  Community attribute sent to this neighbor(all)
  6 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:19,   No AFI/SAFI activated for peer (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 192.168.1.2, Local port: 179
Foreign host: 192.168.1.1, Foreign port: 34129
Nexthop: 192.168.1.2
Nexthop global: fe80::e0d7:f9ff:fee8:83bb
Nexthop local: fe80::e0d7:f9ff:fee8:83bb
BGP connection: shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 5:
Tue Oct 31 08:13:54 2023 (#42) scripts/notification_check.py:0 COMMAND:ce3:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 192.168.1.1, remote AS 5227, local AS 5227, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r4
  BGP version 4, remote router ID 192.168.1.1, local router ID 99.0.0.3
  BGP state = Established, up for 00:00:18
  Last read 00:00:01, Last write 00:00:03
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 Unicast: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 Unicast: advertised and received
    Hostname Capability: advertised (name: ce3,domain name: n/a) received (name: r4,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 Unicast
    End-of-RIB received: IPv4 Unicast
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 Unicast:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: No
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                4          5
    Keepalives:             6          6
    Route Refresh:          0          0
    Capability:             0          0
    Total:                 11         12
  Minimum time between advertisement runs is 0 seconds
  Update source is 192.168.1.2

 For address family: IPv4 Unicast
  Update group 1, subgroup 1
  Packet Queue length 0
  Community attribute sent to this neighbor(all)
  7 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:19,   No AFI/SAFI activated for peer (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 192.168.1.2, Local port: 179
Foreign host: 192.168.1.1, Foreign port: 44091
Nexthop: 192.168.1.2
Nexthop global: fe80::dca1:f7ff:febb:905e
Nexthop local: fe80::dca1:f7ff:febb:905e
BGP connection: shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 5:
Tue Oct 31 08:13:54 2023 (#42) scripts/notification_check.py:0 COMMAND:r1:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 2.2.2.2, remote AS 5226, local AS 5226, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r2
  BGP version 4, remote router ID 2.2.2.2, local router ID 1.1.1.1
  BGP state = Established, up for 00:00:01
  Last read 00:00:21, Last write never
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 VPN: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 VPN: advertised and received
    Hostname Capability: advertised (name: r1,domain name: n/a) received (name: r2,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: 
    End-of-RIB received: 
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 VPN:
      F bit: False
      End-of-RIB sent: No
      End-of-RIB sent after update: No
      End-of-RIB received: No
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                0          0
    Keepalives:             1          1
    Route Refresh:          0          0
    Capability:             0          0
    Total:                  2          2
  Minimum time between advertisement runs is 0 seconds
  Update source is 1.1.1.1

 For address family: IPv4 VPN
  Update group 2, subgroup 2
  Packet Queue length 0
  Community attribute sent to this neighbor(all)
  0 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:21,   No AFI/SAFI activated for peer (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 1.1.1.1, Local port: 179
Foreign host: 2.2.2.2, Foreign port: 37843
Nexthop: 1.1.1.1
Nexthop global: ::
Nexthop local: ::
BGP connection: non shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 27:
Tue Oct 31 08:13:54 2023 (#42) scripts/notification_check.py:0 COMMAND:r2:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 1.1.1.1, remote AS 5226, local AS 5226, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r1
  BGP version 4, remote router ID 1.1.1.1, local router ID 2.2.2.2
  BGP state = Established, up for 00:00:01
  Last read 00:00:01, Last write 00:00:01
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 VPN: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 VPN: advertised and received
    Hostname Capability: advertised (name: r2,domain name: n/a) received (name: r1,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: 
    End-of-RIB received: 
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 VPN:
      F bit: False
      End-of-RIB sent: No
      End-of-RIB sent after update: No
      End-of-RIB received: No
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                0          0
    Keepalives:             1          1
    Route Refresh:          0          0
    Capability:             0          0
    Total:                  2          2
  Minimum time between advertisement runs is 0 seconds
  Update source is 2.2.2.2

 For address family: IPv4 VPN
  Update group 1, subgroup 2
  Packet Queue length 0
  Route-Reflector Client
  Community attribute sent to this neighbor(all)
  0 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:21,   Waiting for peer OPEN (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 2.2.2.2, Local port: 37843
Foreign host: 1.1.1.1, Foreign port: 179
Nexthop: 2.2.2.2
Nexthop global: ::
Nexthop local: ::
BGP connection: non shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 5

BGP neighbor is 3.3.3.3, remote AS 5226, local AS 5226, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r3
  BGP version 4, remote router ID 3.3.3.3, local router ID 2.2.2.2
  BGP state = Established, up for 00:00:05
  Last read 00:00:02, Last write 00:00:02
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 VPN: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 VPN: advertised and received
    Hostname Capability: advertised (name: r2,domain name: n/a) received (name: r3,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 VPN
    End-of-RIB received: IPv4 VPN
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 VPN:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: Yes
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                8          4
    Keepalives:             2          2
    Route Refresh:          0          0
    Capability:             0          0
    Total:                 11          7
  Minimum time between advertisement runs is 0 seconds
  Update source is 2.2.2.2

 For address family: IPv4 VPN
  Update group 1, subgroup 1
  Packet Queue length 0
  Route-Reflector Client
  Community attribute sent to this neighbor(all)
  5 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:21,   Waiting for peer OPEN (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 2.2.2.2, Local port: 179
Foreign host: 3.3.3.3, Foreign port: 37401
Nexthop: 2.2.2.2
Nexthop global: ::
Nexthop local: ::
BGP connection: non shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 25

BGP neighbor is 4.4.4.4, remote AS 5226, local AS 5226, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r4
  BGP version 4, remote router ID 4.4.4.4, local router ID 2.2.2.2
  BGP state = Established, up for 00:00:05
  Last read 00:00:02, Last write 00:00:02
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 VPN: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 VPN: advertised and received
    Hostname Capability: advertised (name: r2,domain name: n/a) received (name: r4,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 VPN
    End-of-RIB received: IPv4 VPN
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 VPN:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: Yes
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                8          5
    Keepalives:             2          2
    Route Refresh:          0          0
    Capability:             0          0
    Total:                 11          8
  Minimum time between advertisement runs is 0 seconds
  Update source is 2.2.2.2

 For address family: IPv4 VPN
  Update group 1, subgroup 1
  Packet Queue length 0
  Route-Reflector Client
  Community attribute sent to this neighbor(all)
  10 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:21,   Waiting for peer OPEN (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 2.2.2.2, Local port: 43051
Foreign host: 4.4.4.4, Foreign port: 179
Nexthop: 2.2.2.2
Nexthop global: ::
Nexthop local: ::
BGP connection: non shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 21:
Tue Oct 31 08:13:54 2023 (#42) scripts/notification_check.py:0 COMMAND:r3:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 2.2.2.2, remote AS 5226, local AS 5226, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r2
  BGP version 4, remote router ID 2.2.2.2, local router ID 3.3.3.3
  BGP state = Established, up for 00:00:05
  Last read 00:00:02, Last write 00:00:02
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 VPN: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 VPN: advertised and received
    Hostname Capability: advertised (name: r3,domain name: n/a) received (name: r2,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 VPN
    End-of-RIB received: IPv4 VPN
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 VPN:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: Yes
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                4          8
    Keepalives:             2          2
    Route Refresh:          0          0
    Capability:             0          0
    Total:                  7         11
  Minimum time between advertisement runs is 0 seconds
  Update source is 3.3.3.3

 For address family: IPv4 VPN
  Update group 2, subgroup 2
  Packet Queue length 0
  Community attribute sent to this neighbor(all)
  10 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:20,   Waiting for peer OPEN (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 3.3.3.3, Local port: 37401
Foreign host: 2.2.2.2, Foreign port: 179
Nexthop: 3.3.3.3
Nexthop global: ::
Nexthop local: ::
BGP connection: non shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 5:
Tue Oct 31 08:13:54 2023 (#42) scripts/notification_check.py:0 COMMAND:r4:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 2.2.2.2, remote AS 5226, local AS 5226, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r2
  BGP version 4, remote router ID 2.2.2.2, local router ID 4.4.4.4
  BGP state = Established, up for 00:00:05
  Last read 00:00:02, Last write 00:00:02
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 VPN: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 VPN: advertised and received
    Hostname Capability: advertised (name: r4,domain name: n/a) received (name: r2,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 VPN
    End-of-RIB received: IPv4 VPN
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 VPN:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: Yes
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                5          8
    Keepalives:             2          2
    Route Refresh:          0          0
    Capability:             0          0
    Total:                  8         11
  Minimum time between advertisement runs is 0 seconds
  Update source is 4.4.4.4

 For address family: IPv4 VPN
  Update group 3, subgroup 3
  Packet Queue length 0
  Community attribute sent to this neighbor(all)
  5 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:20,   Waiting for peer OPEN (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 4.4.4.4, Local port: 179
Foreign host: 2.2.2.2, Foreign port: 43051
Nexthop: 4.4.4.4
Nexthop global: ::
Nexthop local: ::
BGP connection: non shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 30:

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_check_routes" time="6.256"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/check_routes.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/check_routes.py
Tue Oct 31 08:13:54 2023 (#42) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp  ipv4 unicast":.:None:Get  ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 99.0.0.1, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       99.0.0.1                98    123  32768 i
 *&gt; 5.1.1.0/24       99.0.0.1                98    123  32768 i
 *&gt; 6.0.1.0/24       99.0.0.1                98    123  32768 i
 *&gt; 6.0.2.0/24       99.0.0.1               100    100  32768 i
 *&gt; 99.0.0.1/32      0.0.0.0                  0         32768 i

Displayed  5 routes and 5 total paths:
Tue Oct 31 08:13:54 2023 (#42) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp  ipv4 unicast json":.*:None:Get  ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 5,
 "routerId": "99.0.0.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":4,"metric":98,"locPrf":123,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":5,"metric":98,"locPrf":123,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce1","afi":"ipv4","used":true}]}]
 }  }:
R:42 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '99.0.0.1'}, {'p': '5.1.1.0/24', 'n': '99.0.0.1'}, {'p': '6.0.1.0/24', 'n': '99.0.0.1'}, {'p': '6.0.2.0/24', 'n': '99.0.0.1'}, {'p': '99.0.0.1/32', 'n': '0.0.0.0'}]
R:42   ce1    Cust 1 routes in ce1                                     1    0
Tue Oct 31 08:13:54 2023 (#43) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp  ipv4 unicast":.:None:Get  ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 11, local router ID is 99.0.0.2, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       99.0.0.2               100    100  32768 i
 *&gt; 5.1.1.0/24       99.0.0.2               100    100  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 *&gt; 6.0.1.0/24       99.0.0.2               100    100  32768 i
 *&gt; 6.0.2.0/24       99.0.0.2               100    100  32768 i
 *&gt; 99.0.0.2/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  11 routes and 11 total paths:
Tue Oct 31 08:13:54 2023 (#43) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp  ipv4 unicast json":.*:None:Get  ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 11,
 "routerId": "99.0.0.2",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":4,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":9,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":11,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":5,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":7,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":6,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
 }  }:
R:43 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '99.0.0.2'}, {'p': '5.1.1.0/24', 'n': '99.0.0.2'}, {'p': '6.0.1.0/24', 'n': '99.0.0.2'}, {'p': '6.0.2.0/24', 'n': '99.0.0.2'}, {'p': '99.0.0.2/32', 'n': '0.0.0.0'}]
R:43   ce2    Cust 2 routes in ce1                                     1    0
Tue Oct 31 08:13:54 2023 (#44) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp  ipv4 unicast":.:None:Get  ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 11, local router ID is 99.0.0.3, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.1.1            100    100      0 i
 *&gt;i5.1.1.0/24       192.168.1.1            100    100      0 i
 *&gt; 5.1.2.0/24       99.0.0.3               200     50  32768 i
 *&gt; 5.1.3.0/24       99.0.0.3               200     50  32768 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1            100    100      0 i
 *&gt;                  99.0.0.3               200     50  32768 i
 *&gt; 6.0.2.0/24       99.0.0.3               100    100  32768 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.3/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  11 routes and 12 total paths:
Tue Oct 31 08:13:54 2023 (#44) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp  ipv4 unicast json":.*:None:Get  ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 11,
 "routerId": "99.0.0.3",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":11,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":10,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":5,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":7,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":6,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":6,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":3,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":9,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }:
R:44 PASS: RequireUnicastRoutes [{'p': '5.1.2.0/24', 'n': '99.0.0.3'}, {'p': '5.1.3.0/24', 'n': '99.0.0.3'}, {'p': '6.0.1.0/24', 'n': '99.0.0.3'}, {'p': '6.0.2.0/24', 'n': '99.0.0.3'}, {'p': '99.0.0.3/32', 'n': '0.0.0.0'}]
R:44   ce3    Cust 3 routes in ce1                                     1    0
Tue Oct 31 08:13:54 2023 (#45) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 unicast":.:None:Get vrf ce4-cust2 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 13, local router ID is 99.0.0.4, vrf id 2
Default local pref 100, local AS 5228
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.2.1            100    100      0 i
 *&gt;i5.1.1.0/24       192.168.2.1            100    100      0 i
 *&gt;i5.1.2.0/24       192.168.2.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.2.1            200     50      0 i
 *&gt; 5.4.2.0/24       99.0.0.4               200     50  32768 i
 *&gt; 5.4.3.0/24       99.0.0.4               200     50  32768 i
 *&gt; 6.0.1.0/24       99.0.0.4               200     50  32768 i
 * i                 192.168.2.1            100    100      0 i
 *&gt; 6.0.2.0/24       99.0.0.4               100    100  32768 i
 * i                 192.168.2.1            100    100      0 i
 *&gt;i99.0.0.2/32      192.168.2.1              0    100      0 i
 *&gt;i99.0.0.3/32      192.168.2.1              0    100      0 i
 *&gt; 99.0.0.4/32      0.0.0.0                  0         32768 i

Displayed  11 routes and 13 total paths:
Tue Oct 31 08:13:54 2023 (#45) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 unicast json":.*:None:Get vrf ce4-cust2 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 2,
 "vrfName": "ce4-cust2",
 "tableVersion": 13,
 "routerId": "99.0.0.4",
 "defaultLocPrf": 100,
 "localAS": 5228,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":13,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":12,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":5,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":8,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":9,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":10,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":10,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":0,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":11,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce4","afi":"ipv4","used":true}]}]
 }  }:
R:45 PASS: RequireUnicastRoutes [{'p': '5.4.2.0/24', 'n': '99.0.0.4'}, {'p': '5.4.3.0/24', 'n': '99.0.0.4'}, {'p': '6.0.1.0/24', 'n': '99.0.0.4'}, {'p': '6.0.2.0/24', 'n': '99.0.0.4'}, {'p': '99.0.0.4/32', 'n': '0.0.0.0'}]
R:45   ce4    Cust 4 routes in ce1                                     1    0
Tue Oct 31 08:13:54 2023 (#46) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 unicast":.:None:Get vrf r1-cust1 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 192.168.1.1, vrf id 4
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
    5.1.0.0/24       3.3.3.3@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.1                98    123      0 i
    5.1.1.0/24       3.3.3.3@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.1                98    123      0 i
    5.1.2.0/24       4.4.4.4@0&lt;             200     50      0 i
    5.1.3.0/24       4.4.4.4@0&lt;             200     50      0 i
    5.4.2.0/24       4.4.4.4@0&lt;             200     50      0 i
    5.4.3.0/24       4.4.4.4@0&lt;             200     50      0 i
    6.0.1.0/24       4.4.4.4@0&lt;             200     50      0 i
                     4.4.4.4@0&lt;             200     50      0 i
                     3.3.3.3@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.1                98    123      0 i
    6.0.2.0/24       4.4.4.4@0&lt;             100    100      0 i
                     4.4.4.4@0&lt;             100    100      0 i
                     3.3.3.3@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.1               100    100      0 i
 *&gt;i99.0.0.1/32      192.168.1.2              0    100      0 i
    99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
    99.0.0.3/32      4.4.4.4@0&lt;               0    100      0 i
    99.0.0.4/32      4.4.4.4@0&lt;               0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 08:13:54 2023 (#46) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 unicast json":.*:None:Get vrf r1-cust1 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 4,
 "vrfName": "r1-cust1",
 "tableVersion": 5,
 "routerId": "192.168.1.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":0,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":0,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":0,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":0,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]},{"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]},{"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]},{"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]},{"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.2","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":0,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":0,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":0,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
 }  }:
R:46 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '99.0.0.1'}, {'p': '5.1.1.0/24', 'n': '99.0.0.1'}, {'p': '6.0.1.0/24', 'n': '99.0.0.1'}, {'p': '6.0.2.0/24', 'n': '99.0.0.1'}, {'p': '99.0.0.1/32', 'n': '192.168.1.2'}]
R:46   r1     Customer 1 routes in r1 vrf                              1    0
Tue Oct 31 08:13:54 2023 (#47) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 unicast":.:None:Get vrf r3-cust1 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 15, local router ID is 192.168.1.1, vrf id 5
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 * i                 99.0.0.2               100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 * i                 99.0.0.2               100    100      0 i
 *&gt; 5.1.2.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.1.3.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.4.2.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.4.3.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   4.4.4.4@0&lt;             200     50      0 i
 *                   4.4.4.4@0&lt;             200     50      0 i
 * i                 99.0.0.2               100    100      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   4.4.4.4@0&lt;             100    100      0 i
 *                   4.4.4.4@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.2               100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt;i99.0.0.2/32      192.168.1.2              0    100      0 i
 *&gt; 99.0.0.3/32      4.4.4.4@0&lt;               0    100      0 i
 *&gt; 99.0.0.4/32      4.4.4.4@0&lt;               0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 08:13:54 2023 (#47) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 unicast json":.*:None:Get vrf r3-cust1 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 5,
 "vrfName": "r3-cust1",
 "tableVersion": 15,
 "routerId": "192.168.1.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":12,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":12,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":13,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":13,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":11,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":9,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":14,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":14,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":14,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":14,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"IGP Metric","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":15,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":7,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":6,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
 }  }:
R:47 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '99.0.0.2'}, {'p': '5.1.1.0/24', 'n': '99.0.0.2'}, {'p': '6.0.1.0/24', 'n': '99.0.0.2'}, {'p': '6.0.2.0/24', 'n': '99.0.0.2'}, {'p': '99.0.0.2/32', 'n': '192.168.1.2'}]
R:47   r3     Customer 1 routes in r3 vrf                              1    0
Tue Oct 31 08:13:54 2023 (#48) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 unicast":.:None:Get vrf r4-cust1 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 18, local router ID is 192.168.1.1, vrf id 5
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt;i5.1.2.0/24       99.0.0.3               200     50      0 i
 *&gt;i5.1.3.0/24       99.0.0.3               200     50      0 i
 *&gt; 5.4.2.0/24       99.0.0.4@6&lt;            200     50      0 i
 *&gt; 5.4.3.0/24       99.0.0.4@6&lt;            200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *                   99.0.0.4@6&lt;            200     50      0 i
 * i                 99.0.0.3               200     50      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *=                  99.0.0.4@6&lt;            100    100      0 i
 *&gt;i                 99.0.0.3               100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt;i99.0.0.3/32      192.168.1.2              0    100      0 i
 *&gt; 99.0.0.4/32      192.168.2.2@6&lt;           0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 08:13:54 2023 (#48) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 unicast json":.*:None:Get vrf r4-cust1 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 5,
 "vrfName": "r4-cust1",
 "tableVersion": 18,
 "routerId": "192.168.1.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":6,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"multipath":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Router ID","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":18,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":11,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.2","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"192.168.2.2","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }:
R:48 PASS: RequireUnicastRoutes [{'p': '5.1.2.0/24', 'n': '99.0.0.3'}, {'p': '5.1.3.0/24', 'n': '99.0.0.3'}, {'p': '6.0.1.0/24', 'n': '99.0.0.3'}, {'p': '6.0.2.0/24', 'n': '99.0.0.3'}, {'p': '99.0.0.3/32', 'n': '192.168.1.2'}]
R:48   r4     Customer 1 routes in r4 vrf                              1    0
Tue Oct 31 08:13:54 2023 (#49) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust2 ipv4 unicast":.:None:Get vrf r4-cust2 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 18, local router ID is 192.168.2.1, vrf id 6
Default local pref 100, local AS 5228
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.2.0/24       99.0.0.3@5&lt;            200     50      0 i
 *&gt; 5.1.3.0/24       99.0.0.3@5&lt;            200     50      0 i
 *&gt;i5.4.2.0/24       99.0.0.4               200     50      0 i
 *&gt;i5.4.3.0/24       99.0.0.4               200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 * i                 99.0.0.4               200     50      0 i
 *                   99.0.0.3@5&lt;            200     50      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *=i                 99.0.0.4               100    100      0 i
 *&gt;                  99.0.0.3@5&lt;            100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt; 99.0.0.3/32      192.168.1.2@5&lt;           0    100      0 i
 *&gt;i99.0.0.4/32      192.168.2.2              0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 08:13:54 2023 (#49) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust2 ipv4 unicast json":.*:None:Get vrf r4-cust2 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 6,
 "vrfName": "r4-cust2",
 "tableVersion": 18,
 "routerId": "192.168.2.1",
 "defaultLocPrf": 100,
 "localAS": 5228,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":6,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"multipath":true,"pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Router ID","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":18,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":11,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"192.168.1.2","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.2","hostname":"ce4","afi":"ipv4","used":true}]}]
 }  }:
R:49 PASS: RequireUnicastRoutes [{'p': '5.4.2.0/24', 'n': '99.0.0.4'}, {'p': '5.4.3.0/24', 'n': '99.0.0.4'}, {'p': '6.0.1.0/24', 'n': '99.0.0.4'}, {'p': '6.0.2.0/24', 'n': '99.0.0.4'}, {'p': '99.0.0.4/32', 'n': '192.168.2.2'}]
R:49   r4     Customer 2 routes in r4 vrf                              1    0
Tue Oct 31 08:13:54 2023 (#50) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp ipv4 uni":No BGP prefixes displayed:pass:Core Unicast SAFI clean:
COMMAND OUTPUT:No BGP prefixes displayed, 0 exist:
R:50   r1     Core Unicast SAFI clean                                  1    0
Tue Oct 31 08:13:54 2023 (#51) scripts/check_routes.py:0 COMMAND:r2:vtysh -c "show bgp ipv4 uni":No BGP prefixes displayed:pass:Core Unicast SAFI clean:
COMMAND OUTPUT:No BGP prefixes displayed, 0 exist:
R:51   r2     Core Unicast SAFI clean                                  1    0
Tue Oct 31 08:13:54 2023 (#52) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp ipv4 uni":No BGP prefixes displayed:pass:Core Unicast SAFI clean:
COMMAND OUTPUT:No BGP prefixes displayed, 0 exist:
R:52   r3     Core Unicast SAFI clean                                  1    0
Tue Oct 31 08:13:54 2023 (#53) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp ipv4 uni":No BGP prefixes displayed:pass:Core Unicast SAFI clean:
COMMAND OUTPUT:No BGP prefixes displayed, 0 exist:
R:53   r4     Core Unicast SAFI clean                                  1    0
Tue Oct 31 08:13:54 2023 (#54) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp ipv4 vpn":Distinguisher:  *10:1.*5.1.0.0/24 *99.0.0.1\b.*5.1.1.0/24 *99.0.0.1\b.*6.0.1.0/24 *99.0.0.1\b.*6.0.2.0/24 *99.0.0.1\b.*99.0.0.1/32 *192.168.1.2\b:pass:vrf-&gt;vpn routes:
COMMAND OUTPUT:BGP table version is 5, local router ID is 1.1.1.1, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt; 5.1.0.0/24       99.0.0.1@4&lt;             98    123      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 5.1.1.0/24       99.0.0.1@4&lt;             98    123      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.1@4&lt;             98    123      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.1@4&lt;            100    100      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 99.0.0.1/32      192.168.1.2@4&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=101 type=bgp, subtype=5
Route Distinguisher: 10:3
 *&gt;i5.1.0.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i99.0.0.2/32      3.3.3.3                  0    100      0 i
    UN=3.3.3.3 EC{52:100} label=103 type=bgp, subtype=0
Route Distinguisher: 10:41
 *&gt;i5.1.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i5.1.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i99.0.0.3/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1041 type=bgp, subtype=0
Route Distinguisher: 10:42
 *&gt;i5.4.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i5.4.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i99.0.0.4/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1042 type=bgp, subtype=0

Displayed  20 routes and 20 total paths:
R:54   r1     vrf-&gt;vpn routes                                          1    0
Tue Oct 31 08:13:54 2023 (#55) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp ipv4 vpn":Distinguisher:  *10:3.*5.1.0.0/24 *99.0.0.2\b.*5.1.1.0/24 *99.0.0.2\b.*6.0.1.0/24 *99.0.0.2\b.*6.0.2.0/24 *99.0.0.2\b.*99.0.0.2/32 *192.168.1.2\b:pass:vrf-&gt;vpn routes:
COMMAND OUTPUT:BGP table version is 5, local router ID is 3.3.3.3, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt;i5.1.0.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       1.1.1.1                100    100      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i99.0.0.1/32      1.1.1.1                  0    100      0 i
    UN=1.1.1.1 EC{52:100} label=101 type=bgp, subtype=0
Route Distinguisher: 10:3
 *&gt; 5.1.0.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 5.1.1.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 99.0.0.2/32      192.168.1.2@5&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=103 type=bgp, subtype=5
Route Distinguisher: 10:41
 *&gt;i5.1.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i5.1.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i99.0.0.3/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1041 type=bgp, subtype=0
Route Distinguisher: 10:42
 *&gt;i5.4.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i5.4.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i99.0.0.4/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1042 type=bgp, subtype=0

Displayed  20 routes and 20 total paths:
R:55   r3     vrf-&gt;vpn routes                                          1    0
Tue Oct 31 08:13:54 2023 (#56) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp ipv4 vpn":.:None:Get VPN RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 4.4.4.4, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt;i5.1.0.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       1.1.1.1                100    100      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i99.0.0.1/32      1.1.1.1                  0    100      0 i
    UN=1.1.1.1 EC{52:100} label=101 type=bgp, subtype=0
Route Distinguisher: 10:3
 *&gt;i5.1.0.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i99.0.0.2/32      3.3.3.3                  0    100      0 i
    UN=3.3.3.3 EC{52:100} label=103 type=bgp, subtype=0
Route Distinguisher: 10:41
 *&gt; 5.1.2.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 5.1.3.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.3@5&lt;            100    100      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 99.0.0.3/32      192.168.1.2@5&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=1041 type=bgp, subtype=5
Route Distinguisher: 10:42
 *&gt; 5.4.2.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 5.4.3.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.4@6&lt;            100    100      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 99.0.0.4/32      192.168.2.2@6&lt;           0    100      0 i
    UN=192.168.2.2 EC{52:100} label=1042 type=bgp, subtype=5

Displayed  20 routes and 20 total paths:
Tue Oct 31 08:13:55 2023 (#56) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp ipv4 vpn json":.*:None:Get VPN RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 5,
 "routerId": "4.4.4.4",
 "defaultLocPrf": 100,
 "localAS": 5226,
 "routes": {  "routeDistinguishers" : { "10:1" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":2,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:3" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:41" : { "5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":5,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"192.168.1.2","hostname":"r4","afi":"ipv4","used":true}]}]
 },  "10:42" : { "5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":5,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"192.168.2.2","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }  }  }:
R:56 PASS: RequireVpnRoutes [{'rd': '10:41', 'p': '5.1.2.0/24', 'n': '99.0.0.3'}, {'rd': '10:41', 'p': '5.1.3.0/24', 'n': '99.0.0.3'}, {'rd': '10:41', 'p': '6.0.1.0/24', 'n': '99.0.0.3'}, {'rd': '10:41', 'p': '6.0.2.0/24', 'n': '99.0.0.3'}, {'rd': '10:41', 'p': '99.0.0.3/32', 'n': '192.168.1.2'}, {'rd': '10:42', 'p': '5.4.2.0/24', 'n': '99.0.0.4'}, {'rd': '10:42', 'p': '5.4.3.0/24', 'n': '99.0.0.4'}, {'rd': '10:42', 'p': '6.0.1.0/24', 'n': '99.0.0.4'}, {'rd': '10:42', 'p': '6.0.2.0/24', 'n': '99.0.0.4'}, {'rd': '10:42', 'p': '99.0.0.4/32', 'n': '192.168.2.2'}]
R:56   r4     vrf-&gt;vpn routes                                          1    0
Tue Oct 31 08:13:55 2023 (#57) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show mpls table": 101 *BGP *r1-cust1:pass:vrf labels:
COMMAND OUTPUT: Inbound Label  Type  Nexthop   Outbound Label  
 -----------------------------------------------
 101            BGP   r1-cust1  -:
R:57   r1     vrf labels                                               1    0
Tue Oct 31 08:13:55 2023 (#58) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show mpls table": 103 *BGP *r3-cust1:pass:vrf labels:
COMMAND OUTPUT: Inbound Label  Type  Nexthop   Outbound Label  
 -----------------------------------------------
 16             LDP   10.0.2.4  implicit-null   
 17             LDP   10.0.2.2  implicit-null   
 17             LDP   10.0.3.2  implicit-null   
 18             LDP   10.0.2.2  implicit-null   
 18             LDP   10.0.3.2  implicit-null   
 19             LDP   10.0.2.2  18              
 19             LDP   10.0.3.2  18              
 103            BGP   r3-cust1  -:
R:58   r3     vrf labels                                               1    0
Tue Oct 31 08:13:55 2023 (#59) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show mpls table": 1041 *BGP *r4-cust1 .*1042 *BGP *r4-cust2:pass:vrf labels:
COMMAND OUTPUT: Inbound Label  Type  Nexthop   Outbound Label  
 -----------------------------------------------
 16             LDP   10.0.2.2  implicit-null   
 17             LDP   10.0.2.3  implicit-null   
 18             LDP   10.0.2.2  implicit-null   
 19             LDP   10.0.2.3  implicit-null   
 19             LDP   10.0.2.2  implicit-null   
 20             LDP   10.0.2.2  18              
 1041           BGP   r4-cust1  -               
 1042           BGP   r4-cust2  -:
R:59   r4     vrf labels                                               1    0
Tue Oct 31 08:13:55 2023 (#60) scripts/check_routes.py:0 COMMAND:r2:vtysh -c "show bgp ipv4 vpn":.:None:Get VPN RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 2.2.2.2, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt;i5.1.0.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       1.1.1.1                100    100      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i99.0.0.1/32      1.1.1.1                  0    100      0 i
    UN=1.1.1.1 EC{52:100} label=101 type=bgp, subtype=0
Route Distinguisher: 10:3
 *&gt;i5.1.0.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i99.0.0.2/32      3.3.3.3                  0    100      0 i
    UN=3.3.3.3 EC{52:100} label=103 type=bgp, subtype=0
Route Distinguisher: 10:41
 *&gt;i5.1.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i5.1.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i99.0.0.3/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1041 type=bgp, subtype=0
Route Distinguisher: 10:42
 *&gt;i5.4.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i5.4.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i99.0.0.4/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1042 type=bgp, subtype=0

Displayed  20 routes and 20 total paths:
Tue Oct 31 08:13:55 2023 (#60) scripts/check_routes.py:0 COMMAND:r2:vtysh -c "show bgp ipv4 vpn json":.*:None:Get VPN RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 5,
 "routerId": "2.2.2.2",
 "defaultLocPrf": 100,
 "localAS": 5226,
 "routes": {  "routeDistinguishers" : { "10:1" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":98,"locPrf":123,"weight":0,"peerId":"1.1.1.1","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"1.1.1.1","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":98,"locPrf":123,"weight":0,"peerId":"1.1.1.1","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"1.1.1.1","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"1.1.1.1","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
 },  "10:3" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":100,"locPrf":100,"weight":0,"peerId":"3.3.3.3","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"3.3.3.3","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"3.3.3.3","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"3.3.3.3","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"3.3.3.3","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r3","afi":"ipv4","used":true}]}]
 },  "10:41" : { "5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":1,"metric":200,"locPrf":50,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":200,"locPrf":50,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
 },  "10:42" : { "5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":2,"metric":200,"locPrf":50,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":1,"metric":200,"locPrf":50,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":5,"metric":100,"locPrf":100,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":4,"metric":0,"locPrf":100,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }  }  }:
R:60 PASS: RequireVpnRoutes [{'rd': '10:1', 'p': '5.1.0.0/24', 'n': '1.1.1.1'}, {'rd': '10:1', 'p': '5.1.0.0/24', 'n': '1.1.1.1'}, {'rd': '10:1', 'p': '99.0.0.1/32', 'n': '1.1.1.1'}, {'rd': '10:3', 'p': '5.1.0.0/24', 'n': '3.3.3.3'}, {'rd': '10:3', 'p': '5.1.0.0/24', 'n': '3.3.3.3'}, {'rd': '10:3', 'p': '99.0.0.2/32', 'n': '3.3.3.3'}, {'rd': '10:41', 'p': '5.1.2.0/24', 'n': '4.4.4.4'}, {'rd': '10:41', 'p': '5.1.3.0/24', 'n': '4.4.4.4'}, {'rd': '10:41', 'p': '99.0.0.3/32', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '5.4.2.0/24', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '5.4.3.0/24', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '99.0.0.4/32', 'n': '4.4.4.4'}]
R:60   r2     Customer routes in provider vpn core                     1    0
Tue Oct 31 08:13:55 2023 (#61) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp ipv4 vpn":.:None:Get VPN RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 1.1.1.1, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt; 5.1.0.0/24       99.0.0.1@4&lt;             98    123      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 5.1.1.0/24       99.0.0.1@4&lt;             98    123      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.1@4&lt;             98    123      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.1@4&lt;            100    100      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 99.0.0.1/32      192.168.1.2@4&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=101 type=bgp, subtype=5
Route Distinguisher: 10:3
 *&gt;i5.1.0.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i99.0.0.2/32      3.3.3.3                  0    100      0 i
    UN=3.3.3.3 EC{52:100} label=103 type=bgp, subtype=0
Route Distinguisher: 10:41
 *&gt;i5.1.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i5.1.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i99.0.0.3/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1041 type=bgp, subtype=0
Route Distinguisher: 10:42
 *&gt;i5.4.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i5.4.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i99.0.0.4/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1042 type=bgp, subtype=0

Displayed  20 routes and 20 total paths:
Tue Oct 31 08:13:55 2023 (#61) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp ipv4 vpn json":.*:None:Get VPN RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 5,
 "routerId": "1.1.1.1",
 "defaultLocPrf": 100,
 "localAS": 5226,
 "routes": {  "routeDistinguishers" : { "10:1" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r1-cust1","nhVrfId":4,"nexthops":[{"ip":"99.0.0.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r1-cust1","nhVrfId":4,"nexthops":[{"ip":"99.0.0.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r1-cust1","nhVrfId":4,"nexthops":[{"ip":"99.0.0.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r1-cust1","nhVrfId":4,"nexthops":[{"ip":"99.0.0.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r1-cust1","nhVrfId":4,"nexthops":[{"ip":"192.168.1.2","hostname":"r1","afi":"ipv4","used":true}]}]
 },  "10:3" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:41" : { "5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":1,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:42" : { "5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":2,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":1,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":5,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":4,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
 }  }  }  }:
R:61 PASS: RequireVpnRoutes [{'rd': '10:3', 'p': '5.1.0.0/24', 'n': '3.3.3.3'}, {'rd': '10:3', 'p': '5.1.1.0/24', 'n': '3.3.3.3'}, {'rd': '10:3', 'p': '99.0.0.2/32', 'n': '3.3.3.3'}, {'rd': '10:41', 'p': '5.1.2.0/24', 'n': '4.4.4.4'}, {'rd': '10:41', 'p': '5.1.3.0/24', 'n': '4.4.4.4'}, {'rd': '10:41', 'p': '99.0.0.3/32', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '5.4.2.0/24', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '5.4.3.0/24', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '99.0.0.4/32', 'n': '4.4.4.4'}]
R:61   r1     Remote Customer routes in R1 vpn                         1    0
Tue Oct 31 08:13:55 2023 (#62) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp ipv4 vpn":.:None:Get VPN RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 3.3.3.3, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt;i5.1.0.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       1.1.1.1                100    100      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i99.0.0.1/32      1.1.1.1                  0    100      0 i
    UN=1.1.1.1 EC{52:100} label=101 type=bgp, subtype=0
Route Distinguisher: 10:3
 *&gt; 5.1.0.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 5.1.1.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 99.0.0.2/32      192.168.1.2@5&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=103 type=bgp, subtype=5
Route Distinguisher: 10:41
 *&gt;i5.1.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i5.1.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i99.0.0.3/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1041 type=bgp, subtype=0
Route Distinguisher: 10:42
 *&gt;i5.4.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i5.4.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i99.0.0.4/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1042 type=bgp, subtype=0

Displayed  20 routes and 20 total paths:
Tue Oct 31 08:13:55 2023 (#62) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp ipv4 vpn json":.*:None:Get VPN RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 5,
 "routerId": "3.3.3.3",
 "defaultLocPrf": 100,
 "localAS": 5226,
 "routes": {  "routeDistinguishers" : { "10:1" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":2,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:3" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r3-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.2","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r3-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.2","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r3-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.2","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r3-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.2","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r3-cust1","nhVrfId":5,"nexthops":[{"ip":"192.168.1.2","hostname":"r3","afi":"ipv4","used":true}]}]
 },  "10:41" : { "5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":1,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:42" : { "5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":2,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":1,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":5,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":4,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
 }  }  }  }:
R:62 PASS: RequireVpnRoutes [{'rd': '10:1', 'p': '5.1.0.0/24', 'n': '1.1.1.1'}, {'rd': '10:1', 'p': '5.1.1.0/24', 'n': '1.1.1.1'}, {'rd': '10:1', 'p': '99.0.0.1/32', 'n': '1.1.1.1'}, {'rd': '10:41', 'p': '5.1.2.0/24', 'n': '4.4.4.4'}, {'rd': '10:41', 'p': '5.1.3.0/24', 'n': '4.4.4.4'}, {'rd': '10:41', 'p': '99.0.0.3/32', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '5.4.2.0/24', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '5.4.3.0/24', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '99.0.0.4/32', 'n': '4.4.4.4'}]
R:62   r3     Remote Customer routes in R3 vpn                         1    0
Tue Oct 31 08:13:55 2023 (#63) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp ipv4 vpn":.:None:Get VPN RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 4.4.4.4, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt;i5.1.0.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       1.1.1.1                100    100      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i99.0.0.1/32      1.1.1.1                  0    100      0 i
    UN=1.1.1.1 EC{52:100} label=101 type=bgp, subtype=0
Route Distinguisher: 10:3
 *&gt;i5.1.0.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i99.0.0.2/32      3.3.3.3                  0    100      0 i
    UN=3.3.3.3 EC{52:100} label=103 type=bgp, subtype=0
Route Distinguisher: 10:41
 *&gt; 5.1.2.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 5.1.3.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.3@5&lt;            100    100      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 99.0.0.3/32      192.168.1.2@5&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=1041 type=bgp, subtype=5
Route Distinguisher: 10:42
 *&gt; 5.4.2.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 5.4.3.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.4@6&lt;            100    100      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 99.0.0.4/32      192.168.2.2@6&lt;           0    100      0 i
    UN=192.168.2.2 EC{52:100} label=1042 type=bgp, subtype=5

Displayed  20 routes and 20 total paths:
Tue Oct 31 08:13:55 2023 (#63) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp ipv4 vpn json":.*:None:Get VPN RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 5,
 "routerId": "4.4.4.4",
 "defaultLocPrf": 100,
 "localAS": 5226,
 "routes": {  "routeDistinguishers" : { "10:1" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":2,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:3" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:41" : { "5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":5,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"192.168.1.2","hostname":"r4","afi":"ipv4","used":true}]}]
 },  "10:42" : { "5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":5,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"192.168.2.2","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }  }  }:
R:63 PASS: RequireVpnRoutes [{'rd': '10:1', 'p': '5.1.0.0/24', 'n': '1.1.1.1'}, {'rd': '10:1', 'p': '5.1.1.0/24', 'n': '1.1.1.1'}, {'rd': '10:1', 'p': '99.0.0.1/32', 'n': '1.1.1.1'}, {'rd': '10:3', 'p': '5.1.0.0/24', 'n': '3.3.3.3'}, {'rd': '10:3', 'p': '5.1.1.0/24', 'n': '3.3.3.3'}, {'rd': '10:3', 'p': '99.0.0.2/32', 'n': '3.3.3.3'}]
R:63   r4     Remote Customer routes in R4 vpn                         1    0
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.0.0/24":2 available, best:wait:Ensure 5.1.0.0 shows up on r1:10:0.5:
Tue Oct 31 08:13:55 2023 (#64) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.0.0/24":2 available, best:wait:Ensure 5.1.0.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.0.0/24, version 3
Paths: (2 available, best #2, vrf r1-cust1)
  Not advertised to any peer
  Imported from 10:3:5.1.0.0/24
  Local
    3.3.3.3 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:13:54 2023
  Local
    99.0.0.1 from 192.168.1.2 (99.0.0.1)
      Origin IGP, metric 98, localpref 123, valid, internal, best (First path received)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:13:40 2023:
R:64   r1     Ensure 5.1.0.0 shows up on r1 +0.03 secs                 1    0
Done after 1 loops, time=0.034699201583862305, Found=2 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.1.0/24":2 available, best:wait:Ensure 5.1.1.0 shows up on r1:10:0.5:
Tue Oct 31 08:13:55 2023 (#65) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.1.0/24":2 available, best:wait:Ensure 5.1.1.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.1.0/24, version 5
Paths: (2 available, best #2, vrf r1-cust1)
  Not advertised to any peer
  Imported from 10:3:5.1.1.0/24
  Local
    3.3.3.3 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:13:54 2023
  Local
    99.0.0.1 from 192.168.1.2 (99.0.0.1)
      Origin IGP, metric 98, localpref 123, valid, internal, best (First path received)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:13:40 2023:
R:65   r1     Ensure 5.1.1.0 shows up on r1 +0.03 secs                 1    0
Done after 1 loops, time=0.0332183837890625, Found=2 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:10:0.5:
Tue Oct 31 08:13:55 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 0
Paths: (1 available, no best path)
  Not advertised to any peer
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:13:54 2023:
Tue Oct 31 08:13:56 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 0
Paths: (1 available, no best path)
  Not advertised to any peer
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:13:54 2023:
Tue Oct 31 08:13:56 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 0
Paths: (1 available, no best path)
  Not advertised to any peer
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:13:54 2023:
Tue Oct 31 08:13:57 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 0
Paths: (1 available, no best path)
  Not advertised to any peer
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:13:54 2023:
Tue Oct 31 08:13:57 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 0
Paths: (1 available, no best path)
  Not advertised to any peer
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:13:54 2023:
Tue Oct 31 08:13:58 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 12
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:13:54 2023:
R:66   r1     Ensure 5.1.2.0 shows up on r1 +2.71 secs                 1    0
Done after 6 loops, time=2.7066335678100586, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.3.0/24":1 available, best:wait:Ensure 5.1.3.0 shows up on r1:10:0.5:
Tue Oct 31 08:13:58 2023 (#67) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.3.0/24":1 available, best:wait:Ensure 5.1.3.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.3.0/24, version 9
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:41:5.1.3.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:13:54 2023:
R:67   r1     Ensure 5.1.3.0 shows up on r1 +0.03 secs                 1    0
Done after 1 loops, time=0.03306770324707031, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.4.2.0/24":1 available, best:wait:Ensure 5.4.2.0 shows up on r1:10:0.5:
Tue Oct 31 08:13:58 2023 (#68) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.4.2.0/24":1 available, best:wait:Ensure 5.4.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.4.2.0/24, version 10
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:5.4.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 08:13:54 2023:
R:68   r1     Ensure 5.4.2.0 shows up on r1 +0.03 secs                 1    0
Done after 1 loops, time=0.033377647399902344, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.4.2.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r1:10:0.5:
Tue Oct 31 08:13:58 2023 (#69) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.4.2.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.4.2.0/24, version 10
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:5.4.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 08:13:54 2023:
R:69   r1     Ensure 5.4.3.0 shows up on r1 +0.03 secs                 1    0
Done after 1 loops, time=0.03402447700500488, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 6.0.1.0/24":4 available, best:wait:Ensure 6.0.1.0 shows up on r1:10:0.5:
Tue Oct 31 08:13:58 2023 (#70) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 6.0.1.0/24":4 available, best:wait:Ensure 6.0.1.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 4
Paths: (4 available, best #4, vrf r1-cust1)
  Not advertised to any peer
  Imported from 10:41:6.0.1.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:13:54 2023
  Imported from 10:42:6.0.1.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 08:13:54 2023
  Imported from 10:3:6.0.1.0/24
  Local
    3.3.3.3 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:13:54 2023
  Local
    99.0.0.1 from 192.168.1.2 (99.0.0.1)
      Origin IGP, metric 98, localpref 123, valid, internal, best (Local Pref)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:13:40 2023:
R:70   r1     Ensure 6.0.1.0 shows up on r1 +0.03 secs                 1    0
Done after 1 loops, time=0.034097909927368164, Found=4 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 6.0.2.0/24":4 available, best:wait:Ensure 6.0.2.0 shows up on r1:10:0.5:
Tue Oct 31 08:13:58 2023 (#71) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 6.0.2.0/24":4 available, best:wait:Ensure 6.0.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 2
Paths: (4 available, best #4, vrf r1-cust1)
  Not advertised to any peer
  Imported from 10:42:6.0.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:14
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 08:13:54 2023
  Imported from 10:41:6.0.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:13
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:13:54 2023
  Imported from 10:3:6.0.2.0/24
  Local
    3.3.3.3 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:13:54 2023
  Local
    99.0.0.1 from 192.168.1.2 (99.0.0.1)
      Origin IGP, metric 100, localpref 100, valid, internal, best (IGP Metric)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:11
      Last update: Tue Oct 31 08:13:40 2023:
R:71   r1     Ensure 6.0.2.0 shows up on r1 +0.03 secs                 1    0
Done after 1 loops, time=0.03374004364013672, Found=4 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.1/32":1 available, best:wait:Ensure 99.0.0.1 shows up on r1:10:0.5:
Tue Oct 31 08:13:58 2023 (#72) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.1/32":1 available, best:wait:Ensure 99.0.0.1 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.1/32, version 1
Paths: (1 available, best #1, vrf r1-cust1)
  Not advertised to any peer
  Local
    192.168.1.2 from 192.168.1.2 (99.0.0.1)
      Origin IGP, metric 0, localpref 100, valid, internal, best (First path received)
      Last update: Tue Oct 31 08:13:36 2023:
R:72   r1     Ensure 99.0.0.1 shows up on r1 +0.04 secs                1    0
Done after 1 loops, time=0.03527569770812988, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.2/32":1 available, best:wait:Ensure 99.0.0.2 shows up on r1:10:0.5:
Tue Oct 31 08:13:58 2023 (#73) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.2/32":1 available, best:wait:Ensure 99.0.0.2 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.2/32, version 6
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:3:99.0.0.2/32
  Local
    3.3.3.3 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:13:54 2023:
R:73   r1     Ensure 99.0.0.2 shows up on r1 +0.03 secs                1    0
Done after 1 loops, time=0.03481149673461914, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.3/32":1 available, best:wait:Ensure 99.0.0.3 shows up on r1:10:0.5:
Tue Oct 31 08:13:58 2023 (#74) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.3/32":1 available, best:wait:Ensure 99.0.0.3 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.3/32, version 8
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:41:99.0.0.3/32
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:13:54 2023:
R:74   r1     Ensure 99.0.0.3 shows up on r1 +0.03 secs                1    0
Done after 1 loops, time=0.03374433517456055, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.4/32":1 available, best:wait:Ensure 99.0.0.4 shows up on r1:10:0.5:
Tue Oct 31 08:13:58 2023 (#75) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.4/32":1 available, best:wait:Ensure 99.0.0.4 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.4/32, version 7
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:99.0.0.4/32
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 08:13:54 2023:
R:75   r1     Ensure 99.0.0.4 shows up on r1 +0.03 secs                1    0
Done after 1 loops, time=0.03279829025268555, Found=1 available, best
Tue Oct 31 08:13:58 2023 (#76) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 unicast":.:None:Get vrf r1-cust1 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 12, local router ID is 192.168.1.1, vrf id 4
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *  5.1.0.0/24       3.3.3.3@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.1                98    123      0 i
 *  5.1.1.0/24       3.3.3.3@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.1                98    123      0 i
 *&gt; 5.1.2.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.1.3.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.4.2.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.4.3.0/24       4.4.4.4@0&lt;             200     50      0 i
 *  6.0.1.0/24       4.4.4.4@0&lt;             200     50      0 i
 *                   4.4.4.4@0&lt;             200     50      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.1                98    123      0 i
 *  6.0.2.0/24       4.4.4.4@0&lt;             100    100      0 i
 *                   4.4.4.4@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.1               100    100      0 i
 *&gt;i99.0.0.1/32      192.168.1.2              0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt; 99.0.0.3/32      4.4.4.4@0&lt;               0    100      0 i
 *&gt; 99.0.0.4/32      4.4.4.4@0&lt;               0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 08:13:58 2023 (#76) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 unicast json":.*:None:Get vrf r1-cust1 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 4,
 "vrfName": "r1-cust1",
 "tableVersion": 12,
 "routerId": "192.168.1.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":12,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":9,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":11,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"IGP Metric","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.2","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":6,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":8,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":7,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
 }  }:
R:76 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '5.1.0.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '5.1.1.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '5.1.2.0/24', 'n': '4.4.4.4'}, {'p': '5.1.3.0/24', 'n': '4.4.4.4'}, {'p': '5.4.2.0/24', 'n': '4.4.4.4'}, {'p': '5.4.3.0/24', 'n': '4.4.4.4'}, {'p': '6.0.1.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '4.4.4.4', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '6.0.2.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.2.0/24', 'n': '4.4.4.4', 'bp': False}, {'p': '6.0.2.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '99.0.0.1/32', 'n': '192.168.1.2', 'bp': True}, {'p': '99.0.0.2/32', 'n': '3.3.3.3'}, {'p': '99.0.0.3/32', 'n': '4.4.4.4'}, {'p': '99.0.0.4/32', 'n': '4.4.4.4'}]
R:76   r1     Customer 1 routes in r1 vrf (2)                          1    0
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.0.0/24":2 available, best:wait:Ensure 5.1.0.0 shows up r3:10:0.5:
Tue Oct 31 08:13:58 2023 (#77) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.0.0/24":2 available, best:wait:Ensure 5.1.0.0 shows up r3:
COMMAND OUTPUT:BGP routing table entry for 5.1.0.0/24, version 12
Paths: (2 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:5.1.0.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 98, localpref 123, valid, sourced, local, best (Local Pref)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:13:54 2023
  Local
    99.0.0.2 from 192.168.1.2 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, valid, internal
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:13:40 2023:
R:77   r3     Ensure 5.1.0.0 shows up r3 +0.03 secs                    1    0
Done after 1 loops, time=0.03374123573303223, Found=2 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.1.0/24":2 available, best:wait:Ensure 5.1.1.0 shows up on r3:10:0.5:
Tue Oct 31 08:13:58 2023 (#78) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.1.0/24":2 available, best:wait:Ensure 5.1.1.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 5.1.1.0/24, version 13
Paths: (2 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:5.1.1.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 98, localpref 123, valid, sourced, local, best (Local Pref)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:13:54 2023
  Local
    99.0.0.2 from 192.168.1.2 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, valid, internal
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:13:40 2023:
R:78   r3     Ensure 5.1.1.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.03368186950683594, Found=2 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r3:10:0.5:
Tue Oct 31 08:13:58 2023 (#79) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 11
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:13:50 2023:
R:79   r3     Ensure 5.1.2.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.033138275146484375, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.3.0/24":1 available, best:wait:Ensure 5.1.3.0 shows up on r3:10:0.5:
Tue Oct 31 08:13:58 2023 (#80) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.3.0/24":1 available, best:wait:Ensure 5.1.3.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 5.1.3.0/24, version 8
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:41:5.1.3.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:13:50 2023:
R:80   r3     Ensure 5.1.3.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.033071041107177734, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.4.3.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r3:10:0.5:
Tue Oct 31 08:13:58 2023 (#81) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.4.3.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 5.4.3.0/24, version 10
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:5.4.3.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 08:13:49 2023:
R:81   r3     Ensure 5.4.3.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.03292560577392578, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.4.3.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r3:10:0.5:
Tue Oct 31 08:13:58 2023 (#82) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.4.3.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 5.4.3.0/24, version 10
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:5.4.3.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 08:13:49 2023:
R:82   r3     Ensure 5.4.3.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.0331723690032959, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.4.3.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r3:10:0.5:
Tue Oct 31 08:13:58 2023 (#83) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.4.3.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 5.4.3.0/24, version 10
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:5.4.3.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 08:13:49 2023:
R:83   r3     Ensure 5.4.3.0 shows up on r3 +0.07 secs                 1    0
Done after 1 loops, time=0.06702470779418945, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 6.0.1.0/24":4 available, best:wait:Ensure 6.0.1.0 shows up on r3:10:0.5:
Tue Oct 31 08:13:58 2023 (#84) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 6.0.1.0/24":4 available, best:wait:Ensure 6.0.1.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 14
Paths: (4 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:6.0.1.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 98, localpref 123, valid, sourced, local, best (Local Pref)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:13:53 2023
  Imported from 10:41:6.0.1.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:13:49 2023
  Imported from 10:42:6.0.1.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 08:13:49 2023
  Local
    99.0.0.2 from 192.168.1.2 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, valid, internal
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:13:39 2023:
R:84   r3     Ensure 6.0.1.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.03338432312011719, Found=4 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 6.0.2.0/24":4 available, best:wait:Ensure 6.0.2.0 shows up on r3:10:0.5:
Tue Oct 31 08:13:58 2023 (#85) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 6.0.2.0/24":4 available, best:wait:Ensure 6.0.2.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 2
Paths: (4 available, best #4, vrf r3-cust1)
  Not advertised to any peer
  Imported from 10:1:6.0.2.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:11
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:13:53 2023
  Imported from 10:42:6.0.2.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:14
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 08:13:49 2023
  Imported from 10:41:6.0.2.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:13
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:13:49 2023
  Local
    99.0.0.2 from 192.168.1.2 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, valid, internal, best (IGP Metric)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:12
      Last update: Tue Oct 31 08:13:39 2023:
R:85   r3     Ensure 6.0.2.0 shows up on r3 +0.04 secs                 1    0
Done after 1 loops, time=0.0359187126159668, Found=4 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 99.0.0.1/32":1 available, best:wait:Ensure 99.0.0.1 shows up on r3:10:0.5:
Tue Oct 31 08:13:58 2023 (#86) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 99.0.0.1/32":1 available, best:wait:Ensure 99.0.0.1 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.1/32, version 15
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:99.0.0.1/32
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:13:53 2023:
R:86   r3     Ensure 99.0.0.1 shows up on r3 +0.03 secs                1    0
Done after 1 loops, time=0.03499579429626465, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 99.0.0.3/32":1 available, best:wait:Ensure 99.0.0.3 shows up on r3:10:0.5:
Tue Oct 31 08:13:58 2023 (#87) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 99.0.0.3/32":1 available, best:wait:Ensure 99.0.0.3 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.3/32, version 7
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:41:99.0.0.3/32
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 08:13:49 2023:
R:87   r3     Ensure 99.0.0.3 shows up on r3 +0.04 secs                1    0
Done after 1 loops, time=0.036658525466918945, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 99.0.0.4/32":1 available, best:wait:Ensure 99.0.0.4 shows up on r3:10:0.5:
Tue Oct 31 08:13:58 2023 (#88) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 99.0.0.4/32":1 available, best:wait:Ensure 99.0.0.4 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.4/32, version 6
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:99.0.0.4/32
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 08:13:50 2023:
R:88   r3     Ensure 99.0.0.4 shows up on r3 +0.04 secs                1    0
Done after 1 loops, time=0.03554034233093262, Found=1 available, best
Tue Oct 31 08:13:59 2023 (#89) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 unicast":.:None:Get vrf r3-cust1 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 15, local router ID is 192.168.1.1, vrf id 5
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 * i                 99.0.0.2               100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 * i                 99.0.0.2               100    100      0 i
 *&gt; 5.1.2.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.1.3.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.4.2.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.4.3.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   4.4.4.4@0&lt;             200     50      0 i
 *                   4.4.4.4@0&lt;             200     50      0 i
 * i                 99.0.0.2               100    100      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   4.4.4.4@0&lt;             100    100      0 i
 *                   4.4.4.4@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.2               100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt;i99.0.0.2/32      192.168.1.2              0    100      0 i
 *&gt; 99.0.0.3/32      4.4.4.4@0&lt;               0    100      0 i
 *&gt; 99.0.0.4/32      4.4.4.4@0&lt;               0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 08:13:59 2023 (#89) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 unicast json":.*:None:Get vrf r3-cust1 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 5,
 "vrfName": "r3-cust1",
 "tableVersion": 15,
 "routerId": "192.168.1.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":12,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":12,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":13,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":13,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":11,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":9,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":14,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":14,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":14,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":14,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"IGP Metric","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":15,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":7,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":6,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
 }  }:
R:89 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '5.1.0.0/24', 'n': '99.0.0.2', 'bp': False}, {'p': '5.1.1.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '99.0.0.2', 'bp': False}, {'p': '5.1.2.0/24', 'n': '4.4.4.4', 'bp': True}, {'p': '5.1.3.0/24', 'n': '4.4.4.4', 'bp': True}, {'p': '5.4.2.0/24', 'n': '4.4.4.4', 'bp': True}, {'p': '5.4.3.0/24', 'n': '4.4.4.4', 'bp': True}, {'p': '6.0.1.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '4.4.4.4', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.2', 'bp': False}, {'p': '6.0.2.0/24', 'n': '1.1.1.1', 'bp': False}, {'p': '6.0.2.0/24', 'n': '4.4.4.4', 'bp': False}, {'p': '6.0.2.0/24', 'n': '99.0.0.2', 'bp': True}, {'p': '99.0.0.1/32', 'n': '1.1.1.1', 'bp': True}, {'p': '99.0.0.3/32', 'n': '4.4.4.4', 'bp': True}, {'p': '99.0.0.4/32', 'n': '4.4.4.4', 'bp': True}]
R:89   r3     Customer 1 routes in r3 vrf (2)                          1    0
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 5.1.0.0/24":2 available, best:wait:Ensure 5.1.0.0 shows up on r4:10:0.5:
Tue Oct 31 08:13:59 2023 (#90) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 5.1.0.0/24":2 available, best:wait:Ensure 5.1.0.0 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 5.1.0.0/24, version 15
Paths: (2 available, best #1, vrf r4-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:5.1.0.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 98, localpref 123, valid, sourced, local, best (Local Pref)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:13:54 2023
  Imported from 10:3:5.1.0.0/24
  Local
    3.3.3.3 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:13:50 2023:
R:90   r4     Ensure 5.1.0.0 shows up on r4 +0.04 secs                 1    0
Done after 1 loops, time=0.035440921783447266, Found=2 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 5.1.1.0/24":2 available, best:wait:Ensure 5.1.1.0 shows up on r4:10:0.5:
Tue Oct 31 08:13:59 2023 (#91) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 5.1.1.0/24":2 available, best:wait:Ensure 5.1.1.0 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 5.1.1.0/24, version 16
Paths: (2 available, best #1, vrf r4-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:5.1.1.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 98, localpref 123, valid, sourced, local, best (Local Pref)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:13:54 2023
  Imported from 10:3:5.1.1.0/24
  Local
    3.3.3.3 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:13:50 2023:
R:91   r4     Ensure 5.1.1.0 shows up on r4 +0.04 secs                 1    0
Done after 1 loops, time=0.03673410415649414, Found=2 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 6.0.1.0/24":4 available, best:wait:Ensure 6.0.1.0 shows up on r4:10:0.5:
Tue Oct 31 08:13:59 2023 (#92) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 6.0.1.0/24":4 available, best:wait:Ensure 6.0.1.0 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 17
Paths: (4 available, best #1, vrf r4-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:6.0.1.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 98, localpref 123, valid, sourced, local, best (Local Pref)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:13:54 2023
  Imported from 10:3:6.0.1.0/24
  Local
    3.3.3.3 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:13:50 2023
  Imported from 10:42:6.0.1.0/24
  Local
    99.0.0.4 from 0.0.0.0 (192.168.1.1) vrf r4-cust2(6) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local
      Community: 0:67
      Extended Community: RT:89:123 RT:52:100
      Large Community: 12:34:56
      Originator: 4.4.4.4
      Last update: Tue Oct 31 08:13:41 2023
  Local
    99.0.0.3 from 192.168.1.2 (99.0.0.3)
      Origin IGP, metric 200, localpref 50, valid, internal
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:13:40 2023:
R:92   r4     Ensure 6.0.1.0 shows up on r4 +0.03 secs                 1    0
Done after 1 loops, time=0.03497600555419922, Found=4 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 6.0.2.0/24":4 available, best:wait:Ensure 6.0.2.0 shows up on r4:10:0.5:
Tue Oct 31 08:13:59 2023 (#93) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 6.0.2.0/24":4 available, best:wait:Ensure 6.0.2.0 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 7
Paths: (4 available, best #4, vrf r4-cust1)
  Not advertised to any peer
  Imported from 10:1:6.0.2.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:11
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:13:54 2023
  Imported from 10:3:6.0.2.0/24
  Local
    3.3.3.3 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:13:50 2023
  Imported from 10:42:6.0.2.0/24
  Local
    99.0.0.4 from 0.0.0.0 (192.168.1.1) vrf r4-cust2(6) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local, multipath
      Community: 0:67
      Extended Community: RT:89:123 RT:52:100
      Large Community: 12:34:14
      Originator: 4.4.4.4
      Last update: Tue Oct 31 08:13:41 2023
  Local
    99.0.0.3 from 192.168.1.2 (99.0.0.3)
      Origin IGP, metric 100, localpref 100, valid, internal, multipath, best (Router ID)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:13
      Last update: Tue Oct 31 08:13:40 2023:
R:93   r4     Ensure 6.0.2.0 shows up on r4 +0.04 secs                 1    0
Done after 1 loops, time=0.03587698936462402, Found=4 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.1/32":1 available, best:wait:Ensure 99.0.0.1 shows up on r4:10:0.5:
Tue Oct 31 08:13:59 2023 (#94) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.1/32":1 available, best:wait:Ensure 99.0.0.1 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.1/32, version 18
Paths: (1 available, best #1, vrf r4-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:99.0.0.1/32
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:13:54 2023:
R:94   r4     Ensure 99.0.0.1 shows up on r4 +0.04 secs                1    0
Done after 1 loops, time=0.03609490394592285, Found=1 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.2/32":1 available, best:wait:Ensure 99.0.0.2 shows up on r4:10:0.5:
Tue Oct 31 08:13:59 2023 (#95) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.2/32":1 available, best:wait:Ensure 99.0.0.2 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.2/32, version 11
Paths: (1 available, best #1, vrf r4-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:3:99.0.0.2/32
  Local
    3.3.3.3 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:13:50 2023:
R:95   r4     Ensure 99.0.0.2 shows up on r4 +0.04 secs                1    0
Done after 1 loops, time=0.03598213195800781, Found=1 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.3/32":1 available, best:wait:Ensure 99.0.0.3 shows up on r4:10:0.5:
Tue Oct 31 08:13:59 2023 (#96) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.3/32":1 available, best:wait:Ensure 99.0.0.3 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.3/32, version 2
Paths: (1 available, best #1, vrf r4-cust1)
  Not advertised to any peer
  Local
    192.168.1.2 from 192.168.1.2 (99.0.0.3)
      Origin IGP, metric 0, localpref 100, valid, internal, best (First path received)
      Last update: Tue Oct 31 08:13:37 2023:
R:96   r4     Ensure 99.0.0.3 shows up on r4 +0.03 secs                1    0
Done after 1 loops, time=0.03482556343078613, Found=1 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.4/32":1 available, best:wait:Ensure 99.0.0.4 shows up on r4:10:0.5:
Tue Oct 31 08:13:59 2023 (#97) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.4/32":1 available, best:wait:Ensure 99.0.0.4 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.4/32, version 1
Paths: (1 available, best #1, vrf r4-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:99.0.0.4/32
  Local
    192.168.2.2 from 0.0.0.0 (192.168.1.1) vrf r4-cust2(6) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 4.4.4.4
      Last update: Tue Oct 31 08:13:37 2023:
R:97   r4     Ensure 99.0.0.4 shows up on r4 +0.04 secs                1    0
Done after 1 loops, time=0.03653407096862793, Found=1 available, best
Tue Oct 31 08:13:59 2023 (#98) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 unicast":.:None:Get vrf r4-cust1 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 18, local router ID is 192.168.1.1, vrf id 5
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt;i5.1.2.0/24       99.0.0.3               200     50      0 i
 *&gt;i5.1.3.0/24       99.0.0.3               200     50      0 i
 *&gt; 5.4.2.0/24       99.0.0.4@6&lt;            200     50      0 i
 *&gt; 5.4.3.0/24       99.0.0.4@6&lt;            200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *                   99.0.0.4@6&lt;            200     50      0 i
 * i                 99.0.0.3               200     50      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *=                  99.0.0.4@6&lt;            100    100      0 i
 *&gt;i                 99.0.0.3               100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt;i99.0.0.3/32      192.168.1.2              0    100      0 i
 *&gt; 99.0.0.4/32      192.168.2.2@6&lt;           0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 08:13:59 2023 (#98) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 unicast json":.*:None:Get vrf r4-cust1 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 5,
 "vrfName": "r4-cust1",
 "tableVersion": 18,
 "routerId": "192.168.1.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":6,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"multipath":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Router ID","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":18,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":11,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.2","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"192.168.2.2","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }:
R:98 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '5.1.0.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '5.1.1.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.4', 'bp': False}, {'p': '6.0.2.0/24', 'n': '1.1.1.1', 'bp': False}, {'p': '6.0.2.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.2.0/24', 'n': '99.0.0.3', 'bp': True}, {'p': '6.0.2.0/24', 'n': '99.0.0.4', 'bp': False}, {'p': '99.0.0.1/32', 'n': '1.1.1.1', 'bp': True}, {'p': '99.0.0.2/32', 'n': '3.3.3.3', 'bp': True}, {'p': '99.0.0.3/32', 'n': '192.168.1.2', 'bp': True}, {'p': '99.0.0.4/32', 'n': '192.168.2.2', 'bp': True}]
R:98   r4     Customer 1 routes in r4 vrf (2)                          1    0
Tue Oct 31 08:13:59 2023 (#99) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust2 ipv4 unicast":.:None:Get vrf r4-cust2 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 18, local router ID is 192.168.2.1, vrf id 6
Default local pref 100, local AS 5228
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.2.0/24       99.0.0.3@5&lt;            200     50      0 i
 *&gt; 5.1.3.0/24       99.0.0.3@5&lt;            200     50      0 i
 *&gt;i5.4.2.0/24       99.0.0.4               200     50      0 i
 *&gt;i5.4.3.0/24       99.0.0.4               200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 * i                 99.0.0.4               200     50      0 i
 *                   99.0.0.3@5&lt;            200     50      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *=i                 99.0.0.4               100    100      0 i
 *&gt;                  99.0.0.3@5&lt;            100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt; 99.0.0.3/32      192.168.1.2@5&lt;           0    100      0 i
 *&gt;i99.0.0.4/32      192.168.2.2              0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 08:13:59 2023 (#99) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust2 ipv4 unicast json":.*:None:Get vrf r4-cust2 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 6,
 "vrfName": "r4-cust2",
 "tableVersion": 18,
 "routerId": "192.168.2.1",
 "defaultLocPrf": 100,
 "localAS": 5228,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":6,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"multipath":true,"pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Router ID","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":18,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":11,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"192.168.1.2","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.2","hostname":"ce4","afi":"ipv4","used":true}]}]
 }  }:
R:99 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '5.1.0.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '5.1.1.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.4', 'bp': False}, {'p': '6.0.2.0/24', 'n': '1.1.1.1', 'bp': False}, {'p': '6.0.2.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.2.0/24', 'n': '99.0.0.3', 'bp': True}, {'p': '6.0.2.0/24', 'n': '99.0.0.4', 'bp': False}, {'p': '99.0.0.1/32', 'n': '1.1.1.1', 'bp': True}, {'p': '99.0.0.2/32', 'n': '3.3.3.3', 'bp': True}, {'p': '99.0.0.3/32', 'n': '192.168.1.2', 'bp': True}, {'p': '99.0.0.4/32', 'n': '192.168.2.2', 'bp': True}]
R:99   r4     Customer 2 routes in r4 vrf (2)                          1    0
scripts/check_routes.py:0 WAIT:ce1:vtysh -c "show bgp ipv4 uni":12 routes and 12:wait:Local and remote routes:10:0.5:
Tue Oct 31 08:13:59 2023 (#100) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni":12 routes and 12:wait:Local and remote routes:
COMMAND OUTPUT:BGP table version is 12, local router ID is 99.0.0.1, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       99.0.0.1                98    123  32768 i
 *&gt; 5.1.1.0/24       99.0.0.1                98    123  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 *&gt; 6.0.1.0/24       99.0.0.1                98    123  32768 i
 *&gt; 6.0.2.0/24       99.0.0.1               100    100  32768 i
 *&gt; 99.0.0.1/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 12 total paths:
R:100  ce1    Local and remote routes +0.04 secs                       1    0
Done after 1 loops, time=0.0363309383392334, Found=12 routes and 12
Tue Oct 31 08:13:59 2023 (#101) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp  ipv4 unicast":.:None:Get  ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 12, local router ID is 99.0.0.1, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       99.0.0.1                98    123  32768 i
 *&gt; 5.1.1.0/24       99.0.0.1                98    123  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 *&gt; 6.0.1.0/24       99.0.0.1                98    123  32768 i
 *&gt; 6.0.2.0/24       99.0.0.1               100    100  32768 i
 *&gt; 99.0.0.1/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 12 total paths:
Tue Oct 31 08:13:59 2023 (#101) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp  ipv4 unicast json":.*:None:Get  ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 12,
 "routerId": "99.0.0.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":4,"metric":98,"locPrf":123,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":9,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":12,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":11,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":5,"metric":98,"locPrf":123,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":6,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":8,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":7,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
 }  }:
R:101 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '5.1.2.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.1.3.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.4.2.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.4.3.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '6.0.2.0/24', 'n': '99.0.0.1', 'bp': True}]
R:101  ce1    Cust 1 routes from remote                                1    0
scripts/check_routes.py:0 WAIT:ce2:vtysh -c "show bgp ipv4 uni":12 routes and 15:wait:Local and remote routes:10:0.5:
Tue Oct 31 08:13:59 2023 (#102) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni":12 routes and 15:wait:Local and remote routes:
COMMAND OUTPUT:BGP table version is 12, local router ID is 99.0.0.2, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 * i5.1.0.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 * i5.1.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 *&gt; 6.0.2.0/24       99.0.0.2               100    100  32768 i
 *&gt;i99.0.0.1/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.2/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 15 total paths:
R:102  ce2    Local and remote routes +0.03 secs                       1    0
Done after 1 loops, time=0.03414797782897949, Found=12 routes and 15
Tue Oct 31 08:13:59 2023 (#103) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp  ipv4 unicast":.:None:Get  ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 12, local router ID is 99.0.0.2, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 * i5.1.0.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 * i5.1.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 *&gt; 6.0.2.0/24       99.0.0.2               100    100  32768 i
 *&gt;i99.0.0.1/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.2/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 15 total paths:
Tue Oct 31 08:13:59 2023 (#103) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp  ipv4 unicast json":.*:None:Get  ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 12,
 "routerId": "99.0.0.2",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":4,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":4,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":9,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":11,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":5,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":5,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":12,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":7,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":6,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
 }  }:
R:103 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '192.168.1.1', 'bp': False}, {'p': '5.1.0.0/24', 'n': '99.0.0.2', 'bp': True}, {'p': '5.1.1.0/24', 'n': '192.168.1.1', 'bp': False}, {'p': '5.1.1.0/24', 'n': '99.0.0.2', 'bp': True}, {'p': '5.1.2.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.1.3.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.4.2.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.4.3.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '192.168.1.1', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.2', 'bp': True}, {'p': '6.0.2.0/24', 'n': '99.0.0.2', 'bp': True}]
R:103  ce2    Cust 1 routes from remote                                1    0
Tue Oct 31 08:13:59 2023 (#104) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni":.:none::
COMMAND OUTPUT:BGP table version is 18, local router ID is 192.168.1.1, vrf id 5
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt;i5.1.2.0/24       99.0.0.3               200     50      0 i
 *&gt;i5.1.3.0/24       99.0.0.3               200     50      0 i
 *&gt; 5.4.2.0/24       99.0.0.4@6&lt;            200     50      0 i
 *&gt; 5.4.3.0/24       99.0.0.4@6&lt;            200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *                   99.0.0.4@6&lt;            200     50      0 i
 * i                 99.0.0.3               200     50      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *=                  99.0.0.4@6&lt;            100    100      0 i
 *&gt;i                 99.0.0.3               100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt;i99.0.0.3/32      192.168.1.2              0    100      0 i
 *&gt; 99.0.0.4/32      192.168.2.2@6&lt;           0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 08:13:59 2023 (#104) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust2 ipv4 uni":.:none::
COMMAND OUTPUT:BGP table version is 18, local router ID is 192.168.2.1, vrf id 6
Default local pref 100, local AS 5228
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.2.0/24       99.0.0.3@5&lt;            200     50      0 i
 *&gt; 5.1.3.0/24       99.0.0.3@5&lt;            200     50      0 i
 *&gt;i5.4.2.0/24       99.0.0.4               200     50      0 i
 *&gt;i5.4.3.0/24       99.0.0.4               200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 * i                 99.0.0.4               200     50      0 i
 *                   99.0.0.3@5&lt;            200     50      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *=i                 99.0.0.4               100    100      0 i
 *&gt;                  99.0.0.3@5&lt;            100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt; 99.0.0.3/32      192.168.1.2@5&lt;           0    100      0 i
 *&gt;i99.0.0.4/32      192.168.2.2              0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 08:13:59 2023 (#104) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp ipv4 vpn":.:none::
COMMAND OUTPUT:BGP table version is 5, local router ID is 4.4.4.4, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt;i5.1.0.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       1.1.1.1                100    100      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i99.0.0.1/32      1.1.1.1                  0    100      0 i
    UN=1.1.1.1 EC{52:100} label=101 type=bgp, subtype=0
Route Distinguisher: 10:3
 *&gt;i5.1.0.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i99.0.0.2/32      3.3.3.3                  0    100      0 i
    UN=3.3.3.3 EC{52:100} label=103 type=bgp, subtype=0
Route Distinguisher: 10:41
 *&gt; 5.1.2.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 5.1.3.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.3@5&lt;            100    100      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 99.0.0.3/32      192.168.1.2@5&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=1041 type=bgp, subtype=5
Route Distinguisher: 10:42
 *&gt; 5.4.2.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 5.4.3.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.4@6&lt;            100    100      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 99.0.0.4/32      192.168.2.2@6&lt;           0    100      0 i
    UN=192.168.2.2 EC{52:100} label=1042 type=bgp, subtype=5

Displayed  20 routes and 20 total paths:
Tue Oct 31 08:13:59 2023 (#104) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show ip route vrf r4-cust1":.:none::
COMMAND OUTPUT:Codes: K - kernel route, C - connected, S - static, R - RIP,
       O - OSPF, I - IS-IS, B - BGP, E - EIGRP, N - NHRP,
       T - Table, v - VNC, V - VNC-Direct, A - Babel, D - SHARP,
       F - PBR, f - OpenFabric,
       &gt; - selected route, * - FIB route, q - queued, r - rejected, b - backup
       t - trapped, o - offload failure

VRF r4-cust1:
B&gt;  5.1.0.0/24 [200/98] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:06
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:06
B&gt;  5.1.1.0/24 [200/98] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:06
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:06
B&gt;  5.1.2.0/24 [200/200] via 99.0.0.3 (recursive), weight 1, 00:00:19
  *                        via 192.168.1.2, r4-eth4, weight 1, 00:00:19
B&gt;  5.1.3.0/24 [200/200] via 99.0.0.3 (recursive), weight 1, 00:00:19
  *                        via 192.168.1.2, r4-eth4, weight 1, 00:00:19
B   5.4.2.0/24 [200/200] via 99.0.0.4 (vrf r4-cust2) inactive, weight 1, 00:00:19
B   5.4.3.0/24 [200/200] via 99.0.0.4 (vrf r4-cust2) inactive, weight 1, 00:00:19
B&gt;  6.0.1.0/24 [200/98] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:06
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:06
B&gt;  6.0.2.0/24 [200/100] via 99.0.0.3 (recursive), weight 1, 00:00:19
  *                        via 192.168.1.2, r4-eth4, weight 1, 00:00:19
                         via 99.0.0.4 (vrf r4-cust2) (recursive), weight 1, 00:00:19
  *                        via 192.168.2.2, r4-eth5 (vrf r4-cust2), weight 1, 00:00:19
B&gt;  99.0.0.1/32 [200/0] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:06
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:06
B&gt;  99.0.0.2/32 [200/0] via 3.3.3.3 (vrf default) (recursive), label 103, weight 1, 00:00:07
  *                       via 10.0.2.3, r4-eth0 (vrf default), label implicit-null/103, weight 1, 00:00:07
B&gt;* 99.0.0.3/32 [200/0] via 192.168.1.2, r4-eth4, weight 1, 00:00:23
B&gt;* 99.0.0.4/32 [200/0] via 192.168.2.2, r4-eth5 (vrf r4-cust2), weight 1, 00:00:23
C&gt;* 192.168.1.0/24 is directly connected, r4-eth4, 00:00:26:
Tue Oct 31 08:13:59 2023 (#104) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show ip route vrf r4-cust2":.:none::
COMMAND OUTPUT:Codes: K - kernel route, C - connected, S - static, R - RIP,
       O - OSPF, I - IS-IS, B - BGP, E - EIGRP, N - NHRP,
       T - Table, v - VNC, V - VNC-Direct, A - Babel, D - SHARP,
       F - PBR, f - OpenFabric,
       &gt; - selected route, * - FIB route, q - queued, r - rejected, b - backup
       t - trapped, o - offload failure

VRF r4-cust2:
B&gt;  5.1.0.0/24 [200/98] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:06
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:06
B&gt;  5.1.1.0/24 [200/98] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:06
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:06
B   5.1.2.0/24 [200/200] via 99.0.0.3 (vrf r4-cust1) inactive, weight 1, 00:00:19
B   5.1.3.0/24 [200/200] via 99.0.0.3 (vrf r4-cust1) inactive, weight 1, 00:00:19
B&gt;  5.4.2.0/24 [200/200] via 99.0.0.4 (recursive), weight 1, 00:00:19
  *                        via 192.168.2.2, r4-eth5, weight 1, 00:00:19
B&gt;  5.4.3.0/24 [200/200] via 99.0.0.4 (recursive), weight 1, 00:00:19
  *                        via 192.168.2.2, r4-eth5, weight 1, 00:00:19
B&gt;  6.0.1.0/24 [200/98] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:06
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:06
B   6.0.2.0/24 [200/100] via 99.0.0.3 (vrf r4-cust1) inactive, weight 1, 00:00:19
                         via 99.0.0.4 inactive, weight 1, 00:00:19
B&gt;  99.0.0.1/32 [200/0] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:06
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:06
B&gt;  99.0.0.2/32 [200/0] via 3.3.3.3 (vrf default) (recursive), label 103, weight 1, 00:00:07
  *                       via 10.0.2.3, r4-eth0 (vrf default), label implicit-null/103, weight 1, 00:00:07
B&gt;* 99.0.0.3/32 [200/0] via 192.168.1.2, r4-eth4 (vrf r4-cust1), weight 1, 00:00:23
B&gt;* 99.0.0.4/32 [200/0] via 192.168.2.2, r4-eth5, weight 1, 00:00:23
C&gt;* 192.168.2.0/24 is directly connected, r4-eth5, 00:00:26:
scripts/check_routes.py:0 WAIT:ce3:vtysh -c "show bgp ipv4 uni":12 routes and 13:wait:Local and remote routes:10:0.5:
Tue Oct 31 08:13:59 2023 (#104) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni":12 routes and 13:wait:Local and remote routes:
COMMAND OUTPUT:BGP table version is 14, local router ID is 99.0.0.3, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.1.1             98    123      0 i
 *&gt;i5.1.1.0/24       192.168.1.1             98    123      0 i
 *&gt; 5.1.2.0/24       99.0.0.3               200     50  32768 i
 *&gt; 5.1.3.0/24       99.0.0.3               200     50  32768 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.3               200     50  32768 i
 *&gt; 6.0.2.0/24       99.0.0.3               100    100  32768 i
 *&gt;i99.0.0.1/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.3/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 13 total paths:
R:104  ce3    Local and remote routes +0.03 secs                       1    0
Done after 1 loops, time=0.033507347106933594, Found=12 routes and 13
Tue Oct 31 08:13:59 2023 (#105) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp  ipv4 unicast":.:None:Get  ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 14, local router ID is 99.0.0.3, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.1.1             98    123      0 i
 *&gt;i5.1.1.0/24       192.168.1.1             98    123      0 i
 *&gt; 5.1.2.0/24       99.0.0.3               200     50  32768 i
 *&gt; 5.1.3.0/24       99.0.0.3               200     50  32768 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.3               200     50  32768 i
 *&gt; 6.0.2.0/24       99.0.0.3               100    100  32768 i
 *&gt;i99.0.0.1/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.3/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 13 total paths:
Tue Oct 31 08:13:59 2023 (#105) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp  ipv4 unicast json":.*:None:Get  ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 14,
 "routerId": "99.0.0.3",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":12,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":13,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":5,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":7,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":6,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":6,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":3,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":14,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":9,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }:
R:105 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.4.2.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.4.3.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '192.168.1.1', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.3', 'bp': True}, {'p': '6.0.2.0/24', 'n': '99.0.0.3', 'bp': True}]
R:105  ce3    Cust 1 routes from remote                                1    0
scripts/check_routes.py:0 WAIT:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 uni":12 routes and 14:wait:Local and remote routes:10:0.5:
Tue Oct 31 08:13:59 2023 (#106) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 uni":12 routes and 14:wait:Local and remote routes:
COMMAND OUTPUT:BGP table version is 16, local router ID is 99.0.0.4, vrf id 2
Default local pref 100, local AS 5228
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.2.1             98    123      0 i
 *&gt;i5.1.1.0/24       192.168.2.1             98    123      0 i
 *&gt;i5.1.2.0/24       192.168.2.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.2.1            200     50      0 i
 *&gt; 5.4.2.0/24       99.0.0.4               200     50  32768 i
 *&gt; 5.4.3.0/24       99.0.0.4               200     50  32768 i
 *&gt; 6.0.1.0/24       99.0.0.4               200     50  32768 i
 * i                 192.168.2.1             98    123      0 i
 *&gt; 6.0.2.0/24       99.0.0.4               100    100  32768 i
 * i                 192.168.2.1            100    100      0 i
 *&gt;i99.0.0.1/32      192.168.2.1              0    100      0 i
 *&gt;i99.0.0.2/32      192.168.2.1              0    100      0 i
 *&gt;i99.0.0.3/32      192.168.2.1              0    100      0 i
 *&gt; 99.0.0.4/32      0.0.0.0                  0         32768 i

Displayed  12 routes and 14 total paths:
R:106  ce4    Local and remote routes +0.03 secs                       1    0
Done after 1 loops, time=0.033533334732055664, Found=12 routes and 14
Tue Oct 31 08:14:00 2023 (#107) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 unicast":.:None:Get vrf ce4-cust2 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 16, local router ID is 99.0.0.4, vrf id 2
Default local pref 100, local AS 5228
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.2.1             98    123      0 i
 *&gt;i5.1.1.0/24       192.168.2.1             98    123      0 i
 *&gt;i5.1.2.0/24       192.168.2.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.2.1            200     50      0 i
 *&gt; 5.4.2.0/24       99.0.0.4               200     50  32768 i
 *&gt; 5.4.3.0/24       99.0.0.4               200     50  32768 i
 *&gt; 6.0.1.0/24       99.0.0.4               200     50  32768 i
 * i                 192.168.2.1             98    123      0 i
 *&gt; 6.0.2.0/24       99.0.0.4               100    100  32768 i
 * i                 192.168.2.1            100    100      0 i
 *&gt;i99.0.0.1/32      192.168.2.1              0    100      0 i
 *&gt;i99.0.0.2/32      192.168.2.1              0    100      0 i
 *&gt;i99.0.0.3/32      192.168.2.1              0    100      0 i
 *&gt; 99.0.0.4/32      0.0.0.0                  0         32768 i

Displayed  12 routes and 14 total paths:
Tue Oct 31 08:14:00 2023 (#107) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 unicast json":.*:None:Get vrf ce4-cust2 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 2,
 "vrfName": "ce4-cust2",
 "tableVersion": 16,
 "routerId": "99.0.0.4",
 "defaultLocPrf": 100,
 "localAS": 5228,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":14,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":15,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":5,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":8,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":9,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":10,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":10,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":16,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":11,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce4","afi":"ipv4","used":true}]}]
 }  }:
R:107 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '192.168.2.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '192.168.2.1', 'bp': True}, {'p': '5.1.2.0/24', 'n': '192.168.2.1', 'bp': True}, {'p': '5.1.3.0/24', 'n': '192.168.2.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '192.168.2.1', 'bp': False}, {'p': '6.0.2.0/24', 'n': '192.168.2.1', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.4', 'bp': True}, {'p': '6.0.2.0/24', 'n': '99.0.0.4', 'bp': True}]
R:107  ce4    Cust 2 routes from remote                                1    0
Tue Oct 31 08:14:00 2023 (#108) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni 6.0.1.0":1 available.*192.168.1.1.*99.0.0.1.*Community: 0:67.*Extended Community: RT:89:123.*Large Community: 12:34:56:pass:Redundant route 1 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 5
Paths: (1 available, best #1, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    99.0.0.1 from 0.0.0.0 (99.0.0.1)
      Origin IGP, metric 98, localpref 123, weight 32768, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:13:40 2023:
R:108  ce1    Redundant route 1 details                                1    0
Tue Oct 31 08:14:00 2023 (#109) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni 6.0.1.0":2 available, best .*192.168.1.1.* Local.* 192.168.1.1 from 192.168.1.1 .192.168.1.1.* Origin IGP, metric 98, localpref 123, valid, internal.* Community: 0:67.* Extended Community: RT:52:100 RT:89:123.* Large Community: 12:34:56:pass:Redundant route 1 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 5
Paths: (2 available, best #2, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    192.168.1.1 from 192.168.1.1 (192.168.1.1)
      Origin IGP, metric 98, localpref 123, valid, internal
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:13:54 2023
  Local
    99.0.0.2 from 0.0.0.0 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (Weight)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:13:40 2023:
R:109  ce2    Redundant route 1 details                                1    0
Tue Oct 31 08:14:00 2023 (#110) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni 6.0.1.0":2 available, best .*192.168.1.1.* Local.* 99.0.0.2 from 0.0.0.0 .99.0.0.2.* Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best .Weight.* Community: 0:67.* Extended Community: RT:89:123.* Large Community: 12:34:56:pass:Redundant route 1 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 5
Paths: (2 available, best #2, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    192.168.1.1 from 192.168.1.1 (192.168.1.1)
      Origin IGP, metric 98, localpref 123, valid, internal
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:13:54 2023
  Local
    99.0.0.2 from 0.0.0.0 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (Weight)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:13:40 2023:
R:110  ce2    Redundant route 1 details                                1    0
Tue Oct 31 08:14:00 2023 (#111) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni 6.0.1.0":2 available, best .* Local.* 99.0.0.3 from 0.0.0.0 .99.0.0.3.* Origin IGP, metric 200, localpref 50, weight 32768, valid, sourced, local, best .Weight.* Community: 0:67.* Extended Community: RT:89:123.* Large Community: 12:34:56:pass:Redundant route 1 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 6
Paths: (2 available, best #2, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    192.168.1.1 from 192.168.1.1 (192.168.1.1)
      Origin IGP, metric 98, localpref 123, valid, internal
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:13:54 2023
  Local
    99.0.0.3 from 0.0.0.0 (99.0.0.3)
      Origin IGP, metric 200, localpref 50, weight 32768, valid, sourced, local, best (Weight)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:13:40 2023:
R:111  ce3    Redundant route 1 details                                1    0
Tue Oct 31 08:14:00 2023 (#112) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni 6.0.1.0":2 available, best .* Local.* 192.168.1.1 from 192.168.1.1 .192.168.1.1.* Origin IGP, metric 98, localpref 123, valid, internal.* Community: 0:67.* Extended Community: RT:52:100 RT:89:123.* Large Community: 12:34:56:pass:Redundant route 1 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 6
Paths: (2 available, best #2, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    192.168.1.1 from 192.168.1.1 (192.168.1.1)
      Origin IGP, metric 98, localpref 123, valid, internal
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:13:54 2023
  Local
    99.0.0.3 from 0.0.0.0 (99.0.0.3)
      Origin IGP, metric 200, localpref 50, weight 32768, valid, sourced, local, best (Weight)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 08:13:40 2023:
R:112  ce3    Redundant route 1 details                                1    0
Tue Oct 31 08:14:00 2023 (#113) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 6.0.1.0 json":{"paths":[{"aspath":{"string":"Local"},"origin":"IGP","metric":200,"locPrf":50,"weight":32768,"valid":true,"sourced":true,"local":true,"bestpath":{"overall":true,"selectionReason":"Weight"},"community":{"string":"0:67"},"extendedCommunity":{"string":"RT:89:123"},"largeCommunity":{"string":"12:34:56"},"peer":{"peerId":"0.0.0.0","routerId":"99.0.0.4"}},{"aspath":{"string":"Local"},"origin":"IGP","metric":98,"locPrf":123,"valid":true,"community":{"string":"0:67"},"extendedCommunity":{"string":"RT:52:100 RT:89:123"},"largeCommunity":{"string":"12:34:56"},"peer":{"peerId":"192.168.2.1","routerId":"192.168.2.1"}}]}:jsoncmp_pass:Redundant route 1 details:
COMMAND OUTPUT:{
  "prefix":"6.0.1.0/24",
  "version":10,
  "advertisedTo":{
    "192.168.2.1":{
      "hostname":"r4"
    }
  },
  "paths":[
    {
      "aspath":{
        "string":"Local",
        "segments":[
        ],
        "length":0
      },
      "origin":"IGP",
      "metric":200,
      "locPrf":50,
      "weight":32768,
      "valid":true,
      "version":10,
      "sourced":true,
      "local":true,
      "bestpath":{
        "overall":true,
        "selectionReason":"Weight"
      },
      "community":{
        "string":"0:67",
        "list":[
          "0:67"
        ]
      },
      "extendedCommunity":{
        "string":"RT:89:123"
      },
      "largeCommunity":{
        "string":"12:34:56",
        "list":[
          "12:34:56"
        ]
      },
      "lastUpdate":{
        "epoch":1698740021,
        "string":"Tue Oct 31 08:13:41 2023\n"
      },
      "nexthops":[
        {
          "ip":"99.0.0.4",
          "hostname":"ce4",
          "afi":"ipv4",
          "metric":0,
          "accessible":true,
          "used":true
        }
      ],
      "peer":{
        "peerId":"0.0.0.0",
        "routerId":"99.0.0.4"
      }
    },
    {
      "aspath":{
        "string":"Local",
        "segments":[
        ],
        "length":0
      },
      "origin":"IGP",
      "metric":98,
      "locPrf":123,
      "valid":true,
      "version":10,
      "community":{
        "string":"0:67",
        "list":[
          "0:67"
        ]
      },
      "extendedCommunity":{
        "string":"RT:52:100 RT:89:123"
      },
      "largeCommunity":{
        "string":"12:34:56",
        "list":[
          "12:34:56"
        ]
      },
      "lastUpdate":{
        "epoch":1698740034,
        "string":"Tue Oct 31 08:13:54 2023\n"
      },
      "nexthops":[
        {
          "ip":"192.168.2.1",
          "hostname":"r4",
          "afi":"ipv4",
          "metric":0,
          "accessible":true,
          "used":true
        }
      ],
      "peer":{
        "peerId":"192.168.2.1",
        "routerId":"192.168.2.1",
        "hostname":"r4",
        "type":"internal"
      }
    }
  ]
}:
R:113  ce4    Redundant route 1 details                                1    0
Tue Oct 31 08:14:00 2023 (#114) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni 6.0.2.0":1 available, best .*192.168.1.1.* Local.* 99.0.0.1 from 0.0.0.0 .99.0.0.1.* Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best .First path received.* Community: 0:67.* Extended Community: RT:89:123.* Large Community: 12:34:11:pass:Route 2 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 2
Paths: (1 available, best #1, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    99.0.0.1 from 0.0.0.0 (99.0.0.1)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:11
      Last update: Tue Oct 31 08:13:40 2023:
R:114  ce1    Route 2 details                                          1    0
Tue Oct 31 08:14:00 2023 (#115) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni 6.0.2.0":1 available, best .*192.168.1.1.* Local.* 99.0.0.2 from 0.0.0.0 .99.0.0.2.* Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best .First path received.* Community: 0:67.* Extended Community: RT:89:123.* Large Community: 12:34:12:pass:Route 2 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 2
Paths: (1 available, best #1, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    99.0.0.2 from 0.0.0.0 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:12
      Last update: Tue Oct 31 08:13:40 2023:
R:115  ce2    Route 2 details                                          1    0
Tue Oct 31 08:14:00 2023 (#116) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni 6.0.2.0":1 available, best .*192.168.1.1.* Local.* 99.0.0.3 from 0.0.0.0 .99.0.0.3.* Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best .First path received.* Community: 0:67.* Extended Community: RT:89:123.* Large Community: 12:34:13:pass:Route 2 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 3
Paths: (1 available, best #1, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    99.0.0.3 from 0.0.0.0 (99.0.0.3)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:13
      Last update: Tue Oct 31 08:13:40 2023:
R:116  ce3    Route 2 details                                          1    0
Tue Oct 31 08:14:00 2023 (#117) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp  vrf ce4-cust2 ipv4 6.0.2.0":2 available, best .*192.168.2.1.* Local.* 192.168.2.1 from 192.168.2.1 .192.168.2.1.* Origin IGP, metric 100, localpref 100, valid, internal.* Community: 0:67.* Extended Community: RT:52:100 RT:89:123.* Large Community: 12:34:13:pass:Redundant route 2 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 7
Paths: (2 available, best #1, vrf ce4-cust2)
  Advertised to non peer-group peers:
  192.168.2.1
  Local
    99.0.0.4 from 0.0.0.0 (99.0.0.4)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (Weight)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:14
      Last update: Tue Oct 31 08:13:41 2023
  Local
    192.168.2.1 from 192.168.2.1 (192.168.2.1)
      Origin IGP, metric 100, localpref 100, valid, internal
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:13
      Last update: Tue Oct 31 08:13:41 2023:
R:117  ce4    Redundant route 2 details                                1    0
Tue Oct 31 08:14:00 2023 (#118) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp  vrf ce4-cust2 ipv4 6.0.2.0":2 available, best .*192.168.2.1.* Local.* 99.0.0.4 from 0.0.0.0 .99.0.0.4.* Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best .Weight.* Community: 0:67.* Extended Community: RT:89:123.* Large Community: 12:34:14:pass:Redundant route 2 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 7
Paths: (2 available, best #1, vrf ce4-cust2)
  Advertised to non peer-group peers:
  192.168.2.1
  Local
    99.0.0.4 from 0.0.0.0 (99.0.0.4)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (Weight)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:14
      Last update: Tue Oct 31 08:13:41 2023
  Local
    192.168.2.1 from 192.168.2.1 (192.168.2.1)
      Origin IGP, metric 100, localpref 100, valid, internal
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:13
      Last update: Tue Oct 31 08:13:41 2023:
R:118  ce4    Redundant route 2 details                                1    0

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_check_linux_mpls" time="0.137"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/check_linux_mpls.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/check_linux_mpls.py
scripts/check_linux_mpls.py:0 WAIT:r2:ip -M route show:\d*(?= via inet 10.0.2.4 dev r2-eth1):wait:See mpls route to r4:10:0.5:
Tue Oct 31 08:14:00 2023 (#119) scripts/check_linux_mpls.py:0 COMMAND:r2:ip -M route show:\d*(?= via inet 10.0.2.4 dev r2-eth1):wait:See mpls route to r4:
COMMAND OUTPUT:16 proto 193 
	nexthop via inet 10.0.2.3 dev r2-eth1 
	nexthop via inet 10.0.3.3 dev r2-eth2 
17 via inet 10.0.2.4 dev r2-eth1 proto 193 
18 via inet 10.0.1.1 dev r2-eth0 proto 193:
R:119  r2     See mpls route to r4 +0.01 secs                          1    0
Done after 1 loops, time=0.005380153656005859, Found=17
Tue Oct 31 08:14:00 2023 (#120) scripts/check_linux_mpls.py:0 COMMAND:r2:ip -M route show:.:pass:See 17 as label to r4:
COMMAND OUTPUT:16 proto 193 
	nexthop via inet 10.0.2.3 dev r2-eth1 
	nexthop via inet 10.0.3.3 dev r2-eth2 
17 via inet 10.0.2.4 dev r2-eth1 proto 193 
18 via inet 10.0.1.1 dev r2-eth0 proto 193:
R:120  r2     See 17 as label to r4                                    1    0
scripts/check_linux_mpls.py:0 WAIT:r2:ip -M route show:\d*(?= via inet 10.0.1.1 dev r2-eth0):wait:See mpls route to r1:10:0.5:
Tue Oct 31 08:14:00 2023 (#121) scripts/check_linux_mpls.py:0 COMMAND:r2:ip -M route show:\d*(?= via inet 10.0.1.1 dev r2-eth0):wait:See mpls route to r1:
COMMAND OUTPUT:16 proto 193 
	nexthop via inet 10.0.2.3 dev r2-eth1 
	nexthop via inet 10.0.3.3 dev r2-eth2 
17 via inet 10.0.2.4 dev r2-eth1 proto 193 
18 via inet 10.0.1.1 dev r2-eth0 proto 193:
R:121  r2     See mpls route to r1 +0.00 secs                          1    0
Done after 1 loops, time=0.004464387893676758, Found=18
Tue Oct 31 08:14:00 2023 (#122) scripts/check_linux_mpls.py:0 COMMAND:r2:ip -M route show:.:pass:See 18 as label to r1:
COMMAND OUTPUT:16 proto 193 
	nexthop via inet 10.0.2.3 dev r2-eth1 
	nexthop via inet 10.0.3.3 dev r2-eth2 
17 via inet 10.0.2.4 dev r2-eth1 proto 193 
18 via inet 10.0.1.1 dev r2-eth0 proto 193:
R:122  r2     See 18 as label to r1                                    1    0
Tue Oct 31 08:14:00 2023 (#123) scripts/check_linux_mpls.py:0 COMMAND:r1:ip route show vrf r1-cust1:99.0.0.4:pass:VRF-&gt;MPLS PHP route installed:
COMMAND OUTPUT:5.1.0.0/24 nhid 19 via 192.168.1.2 dev r1-eth4 proto bgp metric 20 
5.1.1.0/24 nhid 19 via 192.168.1.2 dev r1-eth4 proto bgp metric 20 
5.1.2.0/24 nhid 34  encap mpls  17/1041 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
5.1.3.0/24 nhid 34  encap mpls  17/1041 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
5.4.2.0/24 nhid 32  encap mpls  17/1042 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
5.4.3.0/24 nhid 32  encap mpls  17/1042 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
6.0.1.0/24 nhid 19 via 192.168.1.2 dev r1-eth4 proto bgp metric 20 
6.0.2.0/24 nhid 19 via 192.168.1.2 dev r1-eth4 proto bgp metric 20 
99.0.0.1 nhid 16 via 192.168.1.2 dev r1-eth4 proto bgp metric 20 
99.0.0.2 nhid 30  encap mpls  16/103 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
99.0.0.3 nhid 34  encap mpls  17/1041 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
99.0.0.4 nhid 32  encap mpls  17/1042 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
192.168.1.0/24 dev r1-eth4 proto kernel scope link src 192.168.1.1:
R:123  r1     VRF-&gt;MPLS PHP route installed                            1    0
Tue Oct 31 08:14:00 2023 (#124) scripts/check_linux_mpls.py:0 COMMAND:r4:ip route show vrf r4-cust2:99.0.0.1:pass:VRF-&gt;MPLS PHP route installed:
COMMAND OUTPUT:5.1.0.0/24 nhid 49  encap mpls  18/101 via 10.0.2.2 dev r4-eth0 proto bgp metric 20 
5.1.1.0/24 nhid 49  encap mpls  18/101 via 10.0.2.2 dev r4-eth0 proto bgp metric 20 
5.4.2.0/24 nhid 29 via 192.168.2.2 dev r4-eth5 proto bgp metric 20 
5.4.3.0/24 nhid 29 via 192.168.2.2 dev r4-eth5 proto bgp metric 20 
6.0.1.0/24 nhid 49  encap mpls  18/101 via 10.0.2.2 dev r4-eth0 proto bgp metric 20 
99.0.0.1 nhid 49  encap mpls  18/101 via 10.0.2.2 dev r4-eth0 proto bgp metric 20 
99.0.0.2 nhid 46  encap mpls  103 via 10.0.2.3 dev r4-eth0 proto bgp metric 20 
99.0.0.3 nhid 22 via 192.168.1.2 dev r4-eth4 proto bgp metric 20 
99.0.0.4 nhid 20 via 192.168.2.2 dev r4-eth5 proto bgp metric 20 
192.168.2.0/24 dev r4-eth5 proto kernel scope link src 192.168.2.1:
R:124  r4     VRF-&gt;MPLS PHP route installed                            1    0
Tue Oct 31 08:14:00 2023 (#125) scripts/check_linux_mpls.py:0 COMMAND:r1:ip -M route show:101:pass:MPLS-&gt;VRF route installed:
COMMAND OUTPUT:16 via inet 10.0.1.2 dev r1-eth0 proto 193 
17 via inet 10.0.1.2 dev r1-eth0 proto 193 
18 via inet 10.0.1.2 dev r1-eth0 proto 193 
19 as to 16 via inet 10.0.1.2 dev r1-eth0 proto 193 
20 as to 17 via inet 10.0.1.2 dev r1-eth0 proto 193 
101 dev r1-cust1 proto bgp:
R:125  r1     MPLS-&gt;VRF route installed                                1    0
Tue Oct 31 08:14:00 2023 (#126) scripts/check_linux_mpls.py:0 COMMAND:r4:ip -M route show:1041:pass:MPLS-&gt;VRF1 route installed:
COMMAND OUTPUT:16 via inet 10.0.2.2 dev r4-eth0 proto 193 
17 via inet 10.0.2.3 dev r4-eth0 proto 193 
18 via inet 10.0.2.2 dev r4-eth0 proto 193 
19 proto 193 
	nexthop via inet 10.0.2.2 dev r4-eth0 
	nexthop via inet 10.0.2.3 dev r4-eth0 
20 as to 18 via inet 10.0.2.2 dev r4-eth0 proto 193 
1041 dev r4-cust1 proto bgp 
1042 dev r4-cust2 proto bgp:
R:126  r4     MPLS-&gt;VRF1 route installed                               1    0
Tue Oct 31 08:14:00 2023 (#127) scripts/check_linux_mpls.py:0 COMMAND:r4:ip -M route show:1042:pass:MPLS-&gt;VRF2 route installed:
COMMAND OUTPUT:16 via inet 10.0.2.2 dev r4-eth0 proto 193 
17 via inet 10.0.2.3 dev r4-eth0 proto 193 
18 via inet 10.0.2.2 dev r4-eth0 proto 193 
19 proto 193 
	nexthop via inet 10.0.2.2 dev r4-eth0 
	nexthop via inet 10.0.2.3 dev r4-eth0 
20 as to 18 via inet 10.0.2.2 dev r4-eth0 proto 193 
1041 dev r4-cust1 proto bgp 
1042 dev r4-cust2 proto bgp:
R:127  r4     MPLS-&gt;VRF2 route installed                               1    0
scripts/check_linux_mpls.py:0 WAIT:ce1:ping 99.0.0.4 -I 99.0.0.1 -c 1: 0. packet loss:wait:CE-&gt;CE (loopback) ping - l3vpn+zebra case:10:0.5:
Tue Oct 31 08:14:00 2023 (#128) scripts/check_linux_mpls.py:0 COMMAND:ce1:ping 99.0.0.4 -I 99.0.0.1 -c 1: 0. packet loss:wait:CE-&gt;CE (loopback) ping - l3vpn+zebra case:
COMMAND OUTPUT:PING 99.0.0.4 (99.0.0.4) from 99.0.0.1 : 56(84) bytes of data.
64 bytes from 99.0.0.4: icmp_seq=1 ttl=62 time=0.086 ms

--- 99.0.0.4 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.086/0.086/0.086/0.000 ms:
R:128  ce1    CE-&gt;CE (loopback) ping - l3vpn+zebra case +0.00 secs     1    0
Done after 1 loops, time=0.004563331604003906, Found= 0% packet loss
scripts/check_linux_mpls.py:0 WAIT:ce1:ping 99.0.0.4 -I 99.0.0.1 -c 1: 0. packet loss:wait:CE-&gt;CE (loopback) ping:10:0.5:
Tue Oct 31 08:14:00 2023 (#129) scripts/check_linux_mpls.py:0 COMMAND:ce1:ping 99.0.0.4 -I 99.0.0.1 -c 1: 0. packet loss:wait:CE-&gt;CE (loopback) ping:
COMMAND OUTPUT:PING 99.0.0.4 (99.0.0.4) from 99.0.0.1 : 56(84) bytes of data.
64 bytes from 99.0.0.4: icmp_seq=1 ttl=62 time=0.087 ms

--- 99.0.0.4 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.087/0.087/0.087/0.000 ms:
R:129  ce1    CE-&gt;CE (loopback) ping +0.00 secs                        1    0
Done after 1 loops, time=0.004462003707885742, Found= 0% packet loss
Tue Oct 31 08:14:00 2023 (#130) scripts/check_linux_mpls.py:0 COMMAND:r3:ip -M route show:103:pass:MPLS-&gt;VRF route installed:
COMMAND OUTPUT:16 via inet 10.0.2.4 dev r3-eth0 proto 193 
17 proto 193 
	nexthop via inet 10.0.3.2 dev r3-eth1 
	nexthop via inet 10.0.2.2 dev r3-eth0 
18 proto 193 
	nexthop via inet 10.0.3.2 dev r3-eth1 
	nexthop via inet 10.0.2.2 dev r3-eth0 
19 proto 193 
	nexthop as to 18 via inet 10.0.3.2 dev r3-eth1 
	nexthop as to 18 via inet 10.0.2.2 dev r3-eth0 
103 dev r3-cust1 proto bgp:
R:130  r3     MPLS-&gt;VRF route installed                                1    0
scripts/check_linux_mpls.py:0 WAIT:ce2:ping 99.0.0.3 -I 99.0.0.2 -c 1: 0. packet loss:wait:CE2-&gt;CE3 (loopback) ping:10:0.5:
Tue Oct 31 08:14:00 2023 (#131) scripts/check_linux_mpls.py:0 COMMAND:ce2:ping 99.0.0.3 -I 99.0.0.2 -c 1: 0. packet loss:wait:CE2-&gt;CE3 (loopback) ping:
COMMAND OUTPUT:PING 99.0.0.3 (99.0.0.3) from 99.0.0.2 : 56(84) bytes of data.
64 bytes from 99.0.0.3: icmp_seq=1 ttl=62 time=0.068 ms

--- 99.0.0.3 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.068/0.068/0.068/0.000 ms:
R:131  ce2    CE2-&gt;CE3 (loopback) ping +0.00 secs                      1    0
Done after 1 loops, time=0.00402522087097168, Found= 0% packet loss
scripts/check_linux_mpls.py:0 WAIT:ce3:ping 99.0.0.4 -I 99.0.0.3 -c 1: 0. packet loss:wait:CE3-&gt;CE4 (loopback) ping:10:0.5:
Tue Oct 31 08:14:00 2023 (#132) scripts/check_linux_mpls.py:0 COMMAND:ce3:ping 99.0.0.4 -I 99.0.0.3 -c 1: 0. packet loss:wait:CE3-&gt;CE4 (loopback) ping:
COMMAND OUTPUT:PING 99.0.0.4 (99.0.0.4) from 99.0.0.3 : 56(84) bytes of data.
64 bytes from 99.0.0.4: icmp_seq=1 ttl=63 time=0.023 ms

--- 99.0.0.4 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.023/0.023/0.023/0.000 ms:
R:132  ce3    CE3-&gt;CE4 (loopback) ping +0.00 secs                      1    0
Done after 1 loops, time=0.0034630298614501953, Found= 0% packet loss

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_check_scale_up" time="31.061"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/scale_up.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/scale_up.py
Tue Oct 31 08:14:00 2023 (#133) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5196 KiB
  Holding block headers: 224 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4327 KiB
  Free small blocks:     3680 bytes
  Free ordinary blocks:  869 KiB
  Ordinary blocks:       12
  Small blocks:          84
  Holding blocks:        28
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        6     24         144        6       160
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4955    356856
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        6    128         816        6       816
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       12 variable       960       12       960
POSIX sync primitives         :       12 variable       592       12       592
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      952 variable     46400      952     46400
Hash Bucket                   :     1037     32       41640     1039     41720
Hash Index                    :      476 variable    134144      476    134144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       41     40        1688       46      1888
Link Node                     :      524     24       12640      594     14336
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        5    144         760       14      2128
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        8 variable    189888       29    370608
Stream FIFO                   :        9     64         648       11       792
Route table                   :       13     56         728       13       728
Route node                    :       30 variable      3680       30      3680
Thread                        :       30    160        5040       30      5040
Thread master                 :       28 variable 117500320       28 117500320
Thread Poll Info              :       14 8388608  117497632       14 117497632
Thread stats                  :       30     96        3136       30      3136
Typed-hash bucket             :       11 variable       696       11       696
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368760    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        7  24608      172312        7    172312
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       14     14224
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        5    144         760       12      1824
Nexthop Group Connected       :        4     40         160        4       160
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :       14    152        2128       14      2128
RIB destination               :       17     88        1544       17      1544
WQ wrapper                    :        0    120           0        7       840
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        4   3584       14368        4     14368

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7488 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  6918 KiB
  Free small blocks:     1840 bytes
  Free ordinary blocks:  570 KiB
  Ordinary blocks:       9
  Small blocks:          51
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2508     32      100656     2508    100656
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       52     40        2160       58      2416
Link Node                     :      355     24        8568      548     13296
Temporary memory              :       38 variable      1600       48      6080
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       29   1032       29928       29     29928
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295072
Route map                     :        3    120         360        3       360
Route map name                :       12 variable       288       14       336
Route map index               :        3    152         456        3       456
Route map rule                :       21     40         856       21       856
Route map rule str            :       21 variable       504       21       504
Route map compiled            :       24 variable       576       24       576
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        3     16          72        3        72
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      106     56        6000      106      6000
Route node                    :        6    120         720        6       720
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       21     96        2216       21      2216
Typed-hash bucket             :       12 variable      1760       12      1760
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966984    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       112
BGP attribute                 :        6    328        1968        6      1968
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :       35    192        7032       35      7032
BGP route                     :       12    136        1632       12      1632
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         760        5       760
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0        4       304
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :        5     96         536        5       536
community                     :        4     40         160        5       200
community val                 :        4 variable        96        5       120
community str                 :        1   8192        8200        1      8200
extcommunity                  :        4     40         160        4       160
extcommunity val              :        4 variable        96        4        96
extcommunity str              :        4 variable       368        4       368
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        40
BGP nexthop                   :        1    184         184        1       184
BGP own address               :        2     64         144        2       144
BGP redistribution            :        1     24          24        1        24
Large Community               :        5     40         200        6       240
Large Community display string:        2     35          80        2        80
Large Community value         :        5     12         120        6       144
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for sharpd:
System allocator statistics:
  Total heap allocated:  1320 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1263 KiB
  Free small blocks:     1424 bytes
  Free ordinary blocks:  57 KiB
  Ordinary blocks:       2
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1490     72      107280     1493    107496
Command Token Text            :     1144 variable     38160     1146     38232
Command Token Help            :     1144 variable     27472     1146     27520
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      405 variable      9720      407      9768
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       10      8         240       11       280
Graph Node                    :     1722     32       68976     1724     69056
Hash                          :      218 variable     10544      218     10544
Hash Bucket                   :      301     32       12104      301     12104
Hash Index                    :      109 variable     33080      110     33600
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       15     40         648       20       864
Link Node                     :      126     24        3040      176      4272
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      139   1192      165688      139    165688
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        3     56         168        3       168
Stream                        :        2  23728       47472        2     47472
Thread                        :        5    160         840        5       840
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        6     96         624        6       624
Typed-hash bucket             :        1 variable        40        1        40
Vector                        :     3467     24       83384     3470     83456
Vector index                  :     3467 variable    111672     3470    111968
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        4     48         224        4       224
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem sharpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 08:14:00 2023 (#133) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5200 KiB
  Holding block headers: 224 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4328 KiB
  Free small blocks:     3648 bytes
  Free ordinary blocks:  872 KiB
  Ordinary blocks:       10
  Small blocks:          84
  Holding blocks:        28
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        6     24         144        6       144
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4955    356856
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        6    128         816        6       816
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       12 variable       960       12       960
POSIX sync primitives         :       12 variable       592       12       592
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      952 variable     46368      952     46368
Hash Bucket                   :     1037     32       41624     1039     41704
Hash Index                    :      476 variable    134144      476    134144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       41     40        1688       44      1824
Link Node                     :      524     24       12640      593     14328
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        5    144         760       13      1976
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        8 variable    189888       29    387032
Stream FIFO                   :        9     64         648       11       792
Route table                   :       13     56         728       13       728
Route node                    :       30 variable      3664       30      3664
Thread                        :       30    160        5040       30      5040
Thread master                 :       28 variable 117500320       28 117500320
Thread Poll Info              :       14 8388608  117497632       14 117497632
Thread stats                  :       30     96        3136       30      3136
Typed-hash bucket             :       11 variable       696       11       696
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368744    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        7  24608      172312        7    172312
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       14     14224
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        5    144         760       11      1672
Nexthop Group Connected       :        4     40         160        4       160
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :       14    152        2128       14      2128
RIB destination               :       17     88        1544       17      1544
WQ wrapper                    :        0    120           0        6       720
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        4   3584       14368        4     14368

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7484 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  6916 KiB
  Free small blocks:     1856 bytes
  Free ordinary blocks:  568 KiB
  Ordinary blocks:       10
  Small blocks:          52
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2509     32      100696     2509    100696
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       52     40        2128       58      2368
Link Node                     :      355     24        8584      548     13280
Temporary memory              :       38 variable      1600       48      6080
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       29   1032       29928       29     29928
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        3    120         360        3       360
Route map name                :       12 variable       288       14       336
Route map index               :        3    152         472        3       472
Route map rule                :       21     40         872       21       872
Route map rule str            :       21 variable       504       21       504
Route map compiled            :       24 variable       576       24       576
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        3     16          72        3        72
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      106     56        6000      106      6000
Route node                    :        6    120         736        6       736
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       21     96        2200       21      2200
Typed-hash bucket             :       12 variable      1760       12      1760
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966984    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       112
BGP attribute                 :        7    328        2296        7      2296
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :       35    192        7032       35      7032
BGP route                     :       15    136        2040       15      2040
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         760        5       760
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0        4       288
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :        5     96         536        5       536
community                     :        4     40         176        5       216
community val                 :        4 variable        96        5       120
community str                 :        1   8192        8200        1      8200
extcommunity                  :        4     40         160        5       200
extcommunity val              :        4 variable        96        5       120
extcommunity str              :        4 variable       352        4       352
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        56
BGP nexthop                   :        1    184         184        1       184
BGP own address               :        2     64         144        2       144
BGP redistribution            :        1     24          24        1        24
Large Community               :        5     40         200        6       240
Large Community display string:        2     35          96        2        96
Large Community value         :        5     12         120        6       144
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for sharpd:
System allocator statistics:
  Total heap allocated:  1320 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1263 KiB
  Free small blocks:     1392 bytes
  Free ordinary blocks:  57 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1490     72      107280     1493    107496
Command Token Text            :     1144 variable     38160     1146     38232
Command Token Help            :     1144 variable     27472     1146     27520
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      405 variable      9720      407      9768
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       10      8         240       11       280
Graph Node                    :     1722     32       68976     1724     69056
Hash                          :      218 variable     10544      218     10544
Hash Bucket                   :      301     32       12104      301     12104
Hash Index                    :      109 variable     33080      110     33600
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       15     40         648       20       864
Link Node                     :      126     24        3040      176      4272
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      139   1192      165688      139    165688
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        3     56         168        3       168
Stream                        :        2  23728       47472        2     47472
Thread                        :        5    160         840        5       840
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        6     96         624        6       624
Typed-hash bucket             :        1 variable        40        1        40
Vector                        :     3467     24       83384     3470     83456
Vector index                  :     3467 variable    111672     3470    111968
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        4     48         224        4       224
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem sharpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 08:14:00 2023 (#133) scripts/scale_up.py:0 COMMAND:ce3:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        56
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  4924 KiB
  Holding block headers: 192 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4206 KiB
  Free small blocks:     3792 bytes
  Free ordinary blocks:  718 KiB
  Ordinary blocks:       10
  Small blocks:          84
  Holding blocks:        24
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        5     24         120        5       136
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4955    356872
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        5    128         680        5       680
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       10 variable       800       10       800
POSIX sync primitives         :       10 variable       496       10       496
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      746 variable     36448      746     36448
Hash Bucket                   :     1032     32       41424     1034     41504
Hash Index                    :      373 variable    107144      373    107144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       40     40        1664       43      1800
Link Node                     :      418     24       10096      487     11808
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        5    144         760       11      1672
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        6 variable    142416       27    306768
Stream FIFO                   :        7     64         504        9       648
Route table                   :       13     56         728       13       728
Route node                    :       30 variable      3664       30      3664
Thread                        :       27    160        4536       27      4536
Thread master                 :       24 variable 100714560       24 100714560
Thread Poll Info              :       12 8388608  100712256       12 100712256
Thread stats                  :       27     96        2824       27      2824
Typed-hash bucket             :       11 variable       696       11       696
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368760    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        2      8          48        2        48
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        6  24608      147696        6    147696
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       14     14224
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        5    144         760        9      1368
Nexthop Group Connected       :        4     40         160        4       160
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :       14    152        2128       16      2432
RIB destination               :       17     88        1544       17      1544
WQ wrapper                    :        0    120           0        6       720
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        3   3584       10776        3     10776

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7464 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  6894 KiB
  Free small blocks:     1968 bytes
  Free ordinary blocks:  570 KiB
  Ordinary blocks:       11
  Small blocks:          52
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2496     32      100128     2497    100168
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       49     40        2008       55      2264
Link Node                     :      352     24        8496      545     13240
Temporary memory              :       31 variable      1208       41      5688
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       20   1032       20640       20     20640
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        2    120         240        2       240
Route map name                :        9 variable       216       11       264
Route map index               :        2    152         320        2       320
Route map rule                :       14     40         560       14       560
Route map rule str            :       14 variable       336       14       336
Route map compiled            :       16 variable       384       16       384
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        2     16          48        2        48
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      104     56        5888      104      5888
Route node                    :        4    120         480        4       480
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       21     96        2248       21      2248
Typed-hash bucket             :       10 variable      1712       10      1712
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966984    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       112
BGP attribute                 :        7    328        2296        8      2624
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :       35    192        7032       35      7032
BGP route                     :       13    136        1768       13      1768
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         776        5       776
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0        4       288
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :        5     96         536        5       536
community                     :        3     40         136        4       176
community val                 :        3 variable        72        4        96
community str                 :        1   8192        8200        1      8200
extcommunity                  :        3     40         120        4       160
extcommunity val              :        3 variable        72        4        96
extcommunity str              :        3 variable       280        3       280
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        56
BGP nexthop                   :        1    184         184        1       184
BGP own address               :        2     64         144        2       144
Large Community               :        4     40         160        5       200
Large Community display string:        2     35          80        2        80
Large Community value         :        4     12          96        5       120
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1456 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109064     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 08:14:00 2023 (#133) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1780 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  152 KiB
  Ordinary blocks:       6
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117896
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       488
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       16     45280
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1664       16      1664
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5708 KiB
  Holding block headers: 288 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4608 KiB
  Free small blocks:     4112 bytes
  Free ordinary blocks:  1100 KiB
  Ordinary blocks:       17
  Small blocks:          86
  Holding blocks:        36
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         192        8       192
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356624     4955    356840
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231584     5785    231784
Hash                          :     1372 variable     66736     1372     66736
Hash Bucket                   :     1088     32       43680     1092     43856
Hash Index                    :      686 variable    188816      687    188952
Hook entry                    :        9     48         504        9       504
Interface                     :        4    272        1120        4      1120
Intf Desc                     :        2      7          48        2        48
Connected                     :        5     48         280        5       280
Link List                     :       61     40        2488       65      2648
Link Node                     :      750     24       18080      822     19840
Temporary memory              :        4 variable        96        7       344
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       35    144        5352       53      8088
Nexthop label                 :       21 variable       504       39       936
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        3   1032        3096        3      3096
Prefix                        :        5     56         280        5       280
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832       33    500536
Stream FIFO                   :       13     64         936       14      1008
Route table                   :       25     56        1400       25      1400
Route node                    :       71 variable      8680       71      8680
ASCII table                   :        0 variable         0       14       544
Thread                        :       37    160        6216       37      6216
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       18 variable      1216       18      1216
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368728    11634    369056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        6       144
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        4    608        2464        4      2464
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       22     22352
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        6     80         528        6       528
MPLS nexthop object           :        6     48         352       11       632
Nexthop Group Entry           :       25    144        3800       28      4256
Nexthop Group Connected       :       24     40         960       24       960
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :       34    152        5184       34      5184
RIB destination               :       35     88        3128       35      3128
WQ wrapper                    :        0 variable         0       10    226960
RIB table info                :        8     24         192        8       192
Zebra VRF table               :        8     56         448        8       448
Nexthop tracking object       :        5    248        1256        5      1256
ZEBRA VRF                     :        2   5072       10160        2     10160
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        2     80         192        2       192
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2465 KiB
  Free small blocks:     1680 bytes
  Free ordinary blocks:  99 KiB
  Ordinary blocks:       4
  Small blocks:          45
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     4296     72      309392     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      824     32       33088      824     33088
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         280        5       280
Informational Link Parameters :        0    120           0        1       120
Link List                     :       65     40        2648       81      3288
Link Node                     :      198     24        4768      241      5944
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        1   1032        1032        1      1032
Prefix                        :        5     56         280        5       280
Privilege information         :        3 variable       136        3       136
Stream                        :        6 variable    160608        9    165208
Route table                   :      148     56        8368      150      8480
Route node                    :       44    120        5296       48      5776
Thread                        :       16    160        2704       16      2704
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       22     96        2304       22      2304
Typed-hash bucket             :       13 variable       872       15       936
Skiplist overflow             :        0 variable         0        1        40
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        2    304         624        2       624
OSPF neighbor                 :        3   1520        4584        3      4584
OSPF route                    :       14     64        1008       16      1152
OSPF LSA                      :        7    128         952        9      1224
OSPF LSA data                 :        7 variable       376        9       472
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        1     24          24        4        96
OSPF FIFO queue               :        2     24          48        2        48
OSPF vertex                   :        0     80           0        7       616
OSPF vertex parent            :        0     32           0        6       240
OSPF nexthop                  :        0      8           0       11       280
OSPF path                     :       14     48         784       16       896
OSPF if info                  :        4     40         160        4       160
OSPF if params                :        4    120         480        4       480
OSPF MPLS parameters          :        4    248         992        4       992
OSPF Extended parameters      :        4    136         544        4       544
OSPF opaque function table    :        6    112         736        6       736
OSPF External route table     :        1     16          24        1        24
OSPF Redistriute              :        1     32          40        1        40

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1584 KiB
  Free small blocks:     1504 bytes
  Free ordinary blocks:  92 KiB
  Ordinary blocks:       5
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156304
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         296        5       296
Link List                     :       17     40         712       22       912
Link Node                     :      142     24        3472      195      4792
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        5     56         296        5       296
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1040       10      1040
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163864     5182    164128
VRF                           :        2    216         432        2       432
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7860 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  7361 KiB
  Free small blocks:     1872 bytes
  Free ordinary blocks:  499 KiB
  Ordinary blocks:       17
  Small blocks:          52
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       112
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937928
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      627 variable     30776      627     30776
Hash Bucket                   :     2506     32      100560     2509    100680
Hash Index                    :      314 variable    480432      314    480432
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         328        5       328
Link List                     :       65     40        2680       73      3000
Link Node                     :      382     24        9216      623     15128
Temporary memory              :       41 variable      3688       46      4688
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        5    144         760        6       912
Nexthop label                 :        3      8          72        3        72
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        5     56         296        5       296
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        8 variable    393408       10    491760
Skip List                     :       13     56         744       14       800
Skip Node                     :       28 variable      2800       29      2968
Skiplist Counters             :       13     68         936       14      1008
Socket union                  :        6    112         720        9      1080
Stream                        :        9 variable    425896       21    491960
Stream FIFO                   :        8     64         576       10       720
Route table                   :      170     56        9584      170      9584
Thread                        :       22    160        3696       22      3696
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       23     96        2440       23      2440
Typed-hash bucket             :       13 variable      2424       13      2424
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966984    30687    967176
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
VTY output buffer             :        0 variable         0        1      1288
Work queue                    :        4    144         608        5       760
Work queue item               :        0     24           0        2        48
Work queue name string        :        4 variable        96        5       120
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        2     24          48        2        48
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        4     16          96        4        96
Mac Hash Entry Intf String    :        4 variable        96        5       120
BGP instance                  :       10 variable     21584       10     21584
BGP listen socket details     :        6 variable       672        6       672
BGP peer                      :        6  20864      125232        7    146104
BGP peer hostname             :       10 variable       240       12       288
BGP peer af                   :        2     80         176        4       352
BGP update group              :        2    104         208        2       208
BGP update subgroup           :        2    240         496        2       496
BGP packet                    :        2     56         112        3       168
BGP attribute                 :       26    328        8528       26      8528
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :      157     56        8904      157      8904
BGP node                      :       70    192       14000       70     14000
BGP route                     :       55    136        7480       55      7480
BGP ancillary route info      :       50    432       22000       50     22000
BGP connected                 :        3      4          72        3        72
BGP adv attr                  :        0     24           0        3        72
BGP adv                       :        0     64           0        7       504
BGP synchronise               :        2     48         112        2       112
BGP adj out                   :       12     96        1248       12      1248
community                     :        1     40          40        2        80
community val                 :        1      4          24        2        48
community str                 :        1   8192        8200        1      8200
extcommunity                  :        6     40         240        7       296
extcommunity val              :        6 variable       144        7       168
extcommunity str              :        4 variable       416        5       568
community-list handler        :        1    120         136        1       136
Cluster list                  :        1     24          24        1        24
Cluster list val              :        1      4          24        1        24
BGP Process queue             :        0     32           0        2        80
BGP nexthop                   :        5    184         920        5       920
BGP own address               :        3     64         216        3       216
Large Community               :        5     40         200        5       200
Large Community display string:        5     35         200        5       200
Large Community value         :        5     12         120        5       120
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        2     34          80        2        80
BGP Martian Addr Intf String  :        3 variable        72        3        72
BGP PBR Context               :        2     32          80        2        80
BGP interface context         :        4      4          96        4        96
BGP EVPN instance information :        2     56         112        2       112
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :       15     40         600       15       600
RFAPI IT Extra                :       13     40         520       13       520

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1370 KiB
  Free small blocks:     1360 bytes
  Free ordinary blocks:  94 KiB
  Ordinary blocks:       2
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      290     32       11648      290     11648
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         296        5       296
Link List                     :       17     40         728       22       928
Link Node                     :      128     24        3104      178      4320
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        5     56         280        5       280
Stream                        :        3 variable     63896        4     80320
Route table                   :        8     56         448        8       448
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        72        1        72
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :       10 variable       720       10       720:
Tue Oct 31 08:14:00 2023 (#133) scripts/scale_up.py:0 COMMAND:r2:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1796 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  168 KiB
  Ordinary blocks:       6
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       80      2048
Temporary memory              :        4 variable        96       20     61696
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1664       16      1664
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5724 KiB
  Holding block headers: 288 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4595 KiB
  Free small blocks:     2704 bytes
  Free ordinary blocks:  1129 KiB
  Ordinary blocks:       13
  Small blocks:          71
  Holding blocks:        36
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         208        8       208
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356624     4955    356840
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231584     5785    231784
Hash                          :     1364 variable     66272     1364     66272
Hash Bucket                   :     1085     32       43592     1085     43592
Hash Index                    :      682 variable    188544      683    188680
Hook entry                    :        8     48         448        8       448
Interface                     :        4    272        1120        4      1120
Intf Desc                     :        3      7          72        3        72
Connected                     :        7     48         392        7       392
Link List                     :       60     40        2464       63      2600
Link Node                     :      748     24       18096      814     19736
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       31    144        4712       37      5640
Nexthop label                 :       14      8         336       16       384
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        4   1032        4128        4      4128
Prefix                        :        7     56         392        7       392
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832       50    834080
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       15     56         840       15       840
Route node                    :       42 variable      5104       42      5104
Thread                        :       38    160        6384       38      6384
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       14 variable       864       14       864
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368792    11634    369104
VRF                           :        1    216         216        1       216
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        3        72
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        4    608        2464        4      2464
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       24     24384
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        3     80         280        3       280
MPLS nexthop object           :        4     48         224        6       336
Nexthop Group Entry           :       24    144        3664       25      3832
Nexthop Group Connected       :       27     40        1080       30      1200
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :       24    152        3664       24      3664
RIB destination               :       17     88        1512       17      1512
WQ wrapper                    :        0 variable         0       12    181568
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        3    248         744        3       744
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        4     80         352        4       352
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2494 KiB
  Free small blocks:     1632 bytes
  Free ordinary blocks:  70 KiB
  Ordinary blocks:       10
  Small blocks:          45
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     4296     72      309408     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      826     32       33184      826     33184
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Informational Link Parameters :        0    120           0        1       120
Link List                     :       80     40        3248      101      4104
Link Node                     :      214     24        5152      257      6264
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        3   1032        3096        3      3096
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Stream                        :        9 variable    160888       13    168392
Route table                   :      316     56       17872      318     18000
Route node                    :       62    120        7472       75      9032
Thread                        :       30    160        5040       30      5040
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       23     96        2424       23      2424
Typed-hash bucket             :       19 variable      1144       27      1376
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        4    304        1248        4      1248
OSPF neighbor                 :        8   1520       12224        8     12224
OSPF route                    :       18     64        1296       24      1728
OSPF LSA                      :        7    128         952       11      1496
OSPF LSA data                 :        7 variable       376       11       584
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        4     24          96        8       192
OSPF FIFO queue               :        4     24          96        4        96
OSPF vertex                   :        0     80           0        7       616
OSPF vertex parent            :        0     32           0        7       280
OSPF nexthop                  :        0      8           0       14       336
OSPF path                     :       22     48        1232       28      1568
OSPF if info                  :        4     40         160        4       160
OSPF if params                :        5    120         600        5       600
OSPF MPLS parameters          :        4    248         992        4       992
OSPF Extended parameters      :        4    136         544        4       544
OSPF opaque function table    :        6    112         736        6       736

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1584 KiB
  Free small blocks:     1504 bytes
  Free ordinary blocks:  92 KiB
  Ordinary blocks:       5
  Small blocks:          43
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156304
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Link List                     :       17     40         712       22       912
Link Node                     :      144     24        3520      199      4888
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1056       10      1056
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163880     5182    164128
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7636 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  7126 KiB
  Free small blocks:     2032 bytes
  Free ordinary blocks:  510 KiB
  Ordinary blocks:       15
  Small blocks:          53
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      577 variable     28328      579     28424
Hash Bucket                   :     2495     32      100152     2505    100552
Hash Index                    :      289 variable    434984      290    437040
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Link List                     :       53     40        2184       59      2424
Link Node                     :      357     24        8616      547     13304
Temporary memory              :       45 variable      4232       48      4688
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        4    144         624        6       928
Nexthop label                 :        4      8          96        4        96
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        8 variable    393408       10    491776
Skip List                     :       14     56         800       15       856
Skip Node                     :       34 variable      3152       35      3320
Skiplist Counters             :       14     68        1008       15      1080
Socket union                  :        9    112        1080       10      1200
Stream                        :        7 variable    293720       23    427856
Stream FIFO                   :        8     64         576       10       720
Route table                   :      104     56        5904      104      5904
Thread                        :       23    160        3880       23      3880
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       22     96        2336       22      2336
Typed-hash bucket             :       11 variable      2200       11      2200
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966984    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        3     24          72        3        72
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        4     16          96        4        96
Mac Hash Entry Intf String    :        4 variable        96        5       120
BGP instance                  :        6 variable     10816        6     10816
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        5  20864      104360        6    125232
BGP peer hostname             :        9 variable       216       10       240
BGP peer af                   :        3     80         264        5       440
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        2       512
BGP packet                    :        1     56          56        8       448
BGP attribute                 :       20    328        6560       20      6560
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       91     56        5144       91      5144
BGP node                      :       50    192       10000       50     10000
BGP route                     :       40    136        5456       40      5456
BGP ancillary route info      :       40    432       17600       40     17600
BGP connected                 :        4      4          96        4        96
BGP adv attr                  :        0     24           0       10       240
BGP adv                       :        0     64           0       20      1440
BGP synchronise               :        1     48          56        2       112
BGP adj out                   :       20     96        2080       40      4160
community                     :        1     40          56        2        96
community val                 :        1      4          24        2        48
community str                 :        1   8192        8200        1      8200
extcommunity                  :        2     40          80        3       120
extcommunity val              :        2 variable        48        3        72
extcommunity str              :        2 variable       208        3       360
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        40
BGP nexthop                   :        3    184         552        3       552
BGP own address               :        4     64         288        4       288
Large Community               :        5     40         216        5       216
Large Community display string:        5     35         200        5       200
Large Community value         :        5     12         120        5       120
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        3     34         120        3       120
BGP Martian Addr Intf String  :        4 variable        96        4        96
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        4      4          96        4        96
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :       20     40         800       20       800
RFAPI IT Extra                :       15     40         600       15       600

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1369 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  95 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Link List                     :       17     40         728       22       928
Link Node                     :      130     24        3152      182      4448
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        7     56         392        7       392
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        72        1        72
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 08:14:00 2023 (#133) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1796 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  168 KiB
  Ordinary blocks:       5
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       80      2048
Temporary memory              :        4 variable        96       20     61696
MGMTD Frontend session        :        1     40          40        1        56
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1664       16      1664
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  6028 KiB
  Holding block headers: 288 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4624 KiB
  Free small blocks:     4336 bytes
  Free ordinary blocks:  1404 KiB
  Ordinary blocks:       16
  Small blocks:          89
  Holding blocks:        36
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         208        8       224
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356640     4955    356856
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :     1372 variable     66736     1372     66736
Hash Bucket                   :     1112     32       44640     1114     44720
Hash Index                    :      686 variable    189360      687    189624
Hook entry                    :       11     48         648       11       648
Interface                     :        5    272        1400        5      1400
Intf Desc                     :        3      7          72        3        72
Connected                     :        7     48         392        7       392
Link List                     :       68     40        2784       72      2960
Link Node                     :      754     24       18192      826     19968
Temporary memory              :        4 variable        96        7       696
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       56    144        8512       73     11096
Nexthop label                 :       35 variable       840       52      1264
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        56
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        4   1032        4128        4      4128
Prefix                        :        7     56         408        7       408
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832       44    719504
Stream FIFO                   :       13     64         936       14      1008
Route table                   :       26     56        1456       26      1456
Route node                    :       76 variable      9296       76      9296
ASCII table                   :        0 variable         0       49      2056
Thread                        :       39    160        6552       39      6552
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       19 variable      1304       19      1304
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279448    11634    279664
Vector index                  :    11625 variable    368744    11634    369072
VRF                           :        2    216         432        2       432
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        5       120
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        5    608        3080        5      3080
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       27     27432
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        5     80         456        5       456
MPLS nexthop object           :        8     48         480       15       872
Nexthop Group Entry           :       37    144        5624       39      5928
Nexthop Group Connected       :       48     40        1936       48      1936
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :       38    152        5808       41      6264
RIB destination               :       36     88        3216       36      3216
WQ wrapper                    :        0 variable         0       20    453920
RIB table info                :        8     24         192        8       192
Zebra VRF table               :        8     56         448        8       448
Nexthop tracking object       :        5    248        1240        5      1240
ZEBRA VRF                     :        2   5072       10160        2     10160
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        4     80         352        4       352
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2484 KiB
  Free small blocks:     1648 bytes
  Free ordinary blocks:  80 KiB
  Ordinary blocks:       7
  Small blocks:          44
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       112
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     4296     72      309408     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      826     32       33168      826     33168
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         392        7       392
Informational Link Parameters :        0    120           0        1       120
Link List                     :       77     40        3112       97      3928
Link Node                     :      214     24        5152      257      6312
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Stream                        :        8 variable    160816       11    165384
Route table                   :      251     56       14200      253     14312
Route node                    :       54    120        6512       65      7848
Thread                        :       25    160        4200       25      4200
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       23     96        2408       23      2408
Typed-hash bucket             :       17 variable      1032       23      1232
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        3    304         936        3       936
OSPF neighbor                 :        6   1520        9168        6      9168
OSPF route                    :       16     64        1184       21      1544
OSPF LSA                      :        7    128         952       11      1496
OSPF LSA data                 :        7 variable       392       11       624
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        3     24          72        6       160
OSPF FIFO queue               :        3     24          72        3        72
OSPF vertex                   :        0     80           0        7       648
OSPF vertex parent            :        0     32           0        9       360
OSPF nexthop                  :        0      8           0       16       384
OSPF path                     :       22     48        1264       27      1544
OSPF if info                  :        5     40         200        5       200
OSPF if params                :        6    120         720        6       720
OSPF MPLS parameters          :        5    248        1240        5      1240
OSPF Extended parameters      :        5    136         680        5       680
OSPF opaque function table    :        6    112         736        6       736
OSPF External route table     :        1     16          24        1        24
OSPF Redistriute              :        1     32          40        1        40

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1585 KiB
  Free small blocks:     1552 bytes
  Free ordinary blocks:  91 KiB
  Ordinary blocks:       5
  Small blocks:          43
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156304
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         392        7       392
Link List                     :       19     40         792       24       992
Link Node                     :      144     24        3520      199      4904
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1056       10      1056
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163880     5182    164128
VRF                           :        2    216         448        2       448
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7744 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  7362 KiB
  Free small blocks:     1952 bytes
  Free ordinary blocks:  382 KiB
  Ordinary blocks:       17
  Small blocks:          53
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       128
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      627 variable     30776      627     30776
Hash Bucket                   :     2509     32      100680     2511    100760
Hash Index                    :      314 variable    480432      314    480432
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         424        7       424
Link List                     :       69     40        2856       77      3176
Link Node                     :      386     24        9328      627     15272
Temporary memory              :       41 variable      3688       46      4688
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        7    144        1064        7      1064
Nexthop label                 :        5      8         120        5       120
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         408        7       408
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        8 variable    393408        8    393408
Skip List                     :       13     56         760       14       816
Skip Node                     :       28 variable      2784       29      2952
Skiplist Counters             :       13     68         936       14      1008
Socket union                  :        6    112         736        6       736
Stream                        :        9 variable    425896       18    491960
Stream FIFO                   :        8     64         576        8       576
Route table                   :      170     56        9584      170      9584
Thread                        :       21    160        3528       21      3528
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       23     96        2440       23      2440
Typed-hash bucket             :       13 variable      2456       13      2456
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
VTY output buffer             :        0 variable         0        1      1288
Work queue                    :        4    144         608        4       608
Work queue item               :        0     24           0        2        48
Work queue name string        :        4 variable        96        4        96
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        2     24          48        2        48
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        5     16         120        5       120
Mac Hash Entry Intf String    :        5 variable       120        6       144
BGP instance                  :       10 variable     21584       10     21584
BGP listen socket details     :        6 variable       672        6       672
BGP peer                      :        6  20864      125232        6    125232
BGP peer hostname             :       10 variable       240       11       264
BGP peer af                   :        2     80         176        2       176
BGP update group              :        2    104         208        2       208
BGP update subgroup           :        2    240         496        2       496
BGP packet                    :        2     56         112        3       184
BGP attribute                 :       27    328        8856       27      8856
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :      157     56        8920      157      8920
BGP node                      :       72    192       14416       72     14416
BGP route                     :       55    136        7480       55      7480
BGP ancillary route info      :       50    432       22000       50     22000
BGP connected                 :        4      4          96        4        96
BGP adv attr                  :        0     24           0        3        72
BGP adv                       :        0     64           0        6       432
BGP synchronise               :        2     48         128        2       128
BGP adj out                   :       15     96        1560       15      1560
community                     :        1     40          40        2        80
community val                 :        1      4          24        2        48
community str                 :        1   8192        8200        1      8200
extcommunity                  :        6     40         272        7       312
extcommunity val              :        6 variable       144        7       168
extcommunity str              :        4 variable       432        5       568
community-list handler        :        1    120         136        1       136
Cluster list                  :        1     24          24        1        24
Cluster list val              :        1      4          24        1        24
BGP Process queue             :        0     32           0        2        80
BGP nexthop                   :        5    184         920        5       920
BGP own address               :        4     64         288        4       288
Large Community               :        5     40         200        5       200
Large Community display string:        5     35         200        5       200
Large Community value         :        5     12         120        5       120
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        2     34          80        2        80
BGP Martian Addr Intf String  :        4 variable        96        4        96
BGP PBR Context               :        2     32          80        2        80
BGP interface context         :        5      4         120        5       120
BGP EVPN instance information :        2     56         112        2       112
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :       15     40         600       15       600
RFAPI IT Extra                :       13     40         520       13       520

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1371 KiB
  Free small blocks:     1344 bytes
  Free ordinary blocks:  93 KiB
  Ordinary blocks:       2
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      290     32       11648      290     11648
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         392        7       392
Link List                     :       19     40         808       24      1008
Link Node                     :      130     24        3152      182      4416
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        7     56         392        7       392
Stream                        :        3 variable     63896        4     80320
Route table                   :        8     56         448        8       448
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        72        1        72
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :       10 variable       720       10       720:
Tue Oct 31 08:14:00 2023 (#133) scripts/scale_up.py:0 COMMAND:r4:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1796 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1424 bytes
  Free ordinary blocks:  168 KiB
  Ordinary blocks:       4
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11920       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       80      2064
Temporary memory              :        4 variable        96       20     61696
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5868 KiB
  Holding block headers: 288 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4641 KiB
  Free small blocks:     3904 bytes
  Free ordinary blocks:  1227 KiB
  Ordinary blocks:       18
  Small blocks:          84
  Holding blocks:        36
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         192        8       192
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356656     4958    357088
Command Token Text            :     3541 variable    117896     3547    118056
Command Token Help            :     3541 variable     85048     3547     85192
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     1198 variable     28752     1202     28848
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231632     5785    231832
Hash                          :     1380 variable     66992     1380     66992
Hash Bucket                   :     1112     32       44800     1114     44880
Hash Index                    :      690 variable    189136      691    189272
Hook entry                    :       14     48         784       14       784
Interface                     :        6    272        1680        6      1680
Intf Desc                     :        3      7          72        3        72
Connected                     :        7     48         392        8       448
Link List                     :       76     40        3184       83      3464
Link Node                     :      760     24       18384      878     21280
Temporary memory              :        4 variable        96        7       696
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       55    144        8360       73     11096
Nexthop label                 :       22 variable       528       40       960
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        56
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        4   1032        4128        4      4128
Prefix                        :        7     56         392        8       448
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832       58    965472
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       37     56        2072       37      2072
Route node                    :      110 variable     13392      110     13392
ASCII table                   :        0 variable         0       49      2056
Thread                        :       40    160        6720       40      6720
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       24 variable      1840       24      1840
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279400    11634    279616
Vector index                  :    11625 variable    368776    11634    369088
VRF                           :        3    216         648        3       648
VRF bit-map                   :       11      8         264       11       264
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        6       144
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        6    608        3696        6      3696
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       30     30480
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        7     80         616        7       616
MPLS nexthop object           :        8     48         464       14       800
Nexthop Group Entry           :       37    144        5624       44      6688
Nexthop Group Connected       :       44     40        1808       44      1808
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :       52    152        7904       58      8816
RIB destination               :       55     88        4872       55      4872
WQ wrapper                    :        0 variable         0       14    272352
RIB table info                :       12     24         288       12       288
Zebra VRF table               :       12     56         672       12       672
Nexthop tracking object       :        7    248        1736        7      1736
ZEBRA VRF                     :        3   5072       15240        3     15240
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        4     80         352        4       352
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2474 KiB
  Free small blocks:     1680 bytes
  Free ordinary blocks:  90 KiB
  Ordinary blocks:       5
  Small blocks:          45
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     4296     72      309408     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      825     32       33128      825     33128
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Informational Link Parameters :        0    120           0        1       120
Link List                     :       75     40        3048       97      3960
Link Node                     :      210     24        5056      253      6216
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        1   1032        1032        1      1032
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Stream                        :        7 variable    160728       11    166904
Route table                   :      185     56       10440      187     10552
Route node                    :       51    120        6168       63      7608
Thread                        :       22    160        3696       22      3696
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       23     96        2392       23      2392
Typed-hash bucket             :       16 variable       976       20      1136
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        3    216         648        3       648
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        2    304         624        2       624
OSPF neighbor                 :        4   1520        6112        4      6112
OSPF route                    :       16     64        1152       23      1656
OSPF LSA                      :        7    128         968       16      2208
OSPF LSA data                 :        7 variable       392       16       640
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        2     24          48        6       144
OSPF FIFO queue               :        2     24          48        2        48
OSPF vertex                   :        0     80           0        7       616
OSPF vertex parent            :        0     32           0        7       280
OSPF nexthop                  :        0      8           0       13       312
OSPF path                     :       18     48        1008       25      1400
OSPF if info                  :        6     40         240        6       240
OSPF if params                :        7    120         840        7       840
OSPF MPLS parameters          :        6    248        1488        6      1488
OSPF Extended parameters      :        6    136         816        6       816
OSPF opaque function table    :        6    112         736        6       736
OSPF External route table     :        1     16          24        1        24
OSPF Redistriute              :        1     32          40        1        40

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1585 KiB
  Free small blocks:     1424 bytes
  Free ordinary blocks:  91 KiB
  Ordinary blocks:       6
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156288
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Link List                     :       21     40         872       26      1072
Link Node                     :      144     24        3520      199      4888
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1040       10      1040
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163864     5182    164128
VRF                           :        3    216         664        3       664
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  8340 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  7832 KiB
  Free small blocks:     1968 bytes
  Free ordinary blocks:  508 KiB
  Ordinary blocks:       14
  Small blocks:          52
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       112
Buffer data                   :        1   4120        4120        2      8256
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      677 variable     33224      677     33224
Hash Bucket                   :     2530     32      101536     2534    101696
Hash Index                    :      339 variable    525880      339    525880
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Link List                     :       85     40        3480       93      3816
Link Node                     :      417     24       10056      658     15952
Temporary memory              :       31 variable      2328       36      4688
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        7    144        1064        7      1080
Nexthop label                 :        3      8          72        3        72
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Ring buffer                   :       12 variable    590112       14    688480
Skip List                     :        8     56         464        9       520
Skip Node                     :       18 variable      1744       19      1912
Skiplist Counters             :        8     68         576        9       648
Socket union                  :        9    112        1096       12      1456
Stream                        :       11 variable    558072       20    624368
Stream FIFO                   :       12     64         864       14      1008
Route table                   :      236     56       13312      236     13312
Thread                        :       29    160        4872       29      4872
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       23     96        2440       23      2440
Typed-hash bucket             :       15 variable      2712       15      2712
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        3    216         648        3       648
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
VTY output buffer             :        0 variable         0        1      1304
Work queue                    :        5    144         760        6       912
Work queue item               :        0     24           0        3        72
Work queue name string        :        5 variable       120        6       144
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        3     24          72        3        72
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        6     16         160        6       160
Mac Hash Entry Intf String    :        6 variable       144        7       168
BGP instance                  :       16 variable     32400       16     32400
BGP listen socket details     :       10 variable      1008       10      1008
BGP peer                      :        9  20864      187848       10    208720
BGP peer hostname             :       15 variable       360       17       408
BGP peer af                   :        3     80         280        5       456
BGP update group              :        3    104         312        3       312
BGP update subgroup           :        3    240         744        3       744
BGP packet                    :        3     56         168        4       240
BGP attribute                 :       41    328       13448       41     13448
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :      223     56       12600      223     12600
BGP node                      :       94    192       18800       94     18800
BGP route                     :       70    136        9536       70      9536
BGP ancillary route info      :       60    432       26400       60     26400
BGP connected                 :        4      4          96        4        96
BGP adv attr                  :        0     24           0        4        96
BGP adv                       :        0     64           0       10       720
BGP synchronise               :        3     48         168        3       168
BGP adj out                   :       27     96        2808       27      2808
BGP multipath info            :        8     48         448        8       448
community                     :        1     40          40        2        80
community val                 :        1      4          24        2        48
community str                 :        1   8192        8200        1      8200
extcommunity                  :        8     40         320        9       360
extcommunity val              :        8 variable       192        9       216
extcommunity str              :        4 variable       416        5       552
community-list handler        :        1    120         136        1       136
Cluster list                  :        1     24          24        1        24
Cluster list val              :        1      4          24        1        24
BGP Process queue             :        0     32           0        3       120
BGP nexthop                   :        7    184        1304        7      1304
BGP own address               :        4     64         288        4       288
Large Community               :        5     40         200        5       200
Large Community display string:        5     35         200        5       200
Large Community value         :        5     12         120        5       120
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        3     34         120        3       120
BGP Martian Addr Intf String  :        4 variable        96        4        96
BGP PBR Context               :        3     32         120        3       120
BGP interface context         :        6      4         144        6       144
BGP EVPN instance information :        3     56         168        3       168
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :       10     40         400       10       400
RFAPI IT Extra                :        8     40         320        8       320

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1372 KiB
  Free small blocks:     1360 bytes
  Free ordinary blocks:  92 KiB
  Ordinary blocks:       2
  Small blocks:          38
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3       104
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      293     32       11768      293     11768
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Link List                     :       21     40         904       26      1088
Link Node                     :      130     24        3152      182      4432
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        7     56         392        7       392
Stream                        :        3 variable     63896        4     80320
Route table                   :       12     56         672       12       672
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable       136        1       136
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109080     3332    109360
VRF                           :        3    216         648        3       648
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :       15 variable      1080       15      1080:
Tue Oct 31 08:14:00 2023 (#133) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show mem":qmem sharpd:none:check if sharpd running:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1472 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5196 KiB
  Holding block headers: 224 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4327 KiB
  Free small blocks:     3744 bytes
  Free ordinary blocks:  869 KiB
  Ordinary blocks:       12
  Small blocks:          84
  Holding blocks:        28
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        6     24         144        6       160
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4955    356856
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        6    128         816        6       816
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       12 variable       960       12       960
POSIX sync primitives         :       12 variable       592       12       592
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      952 variable     46400      952     46400
Hash Bucket                   :     1037     32       41640     1039     41720
Hash Index                    :      476 variable    134144      476    134144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       41     40        1688       46      1888
Link Node                     :      524     24       12640      594     14336
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        5    144         760       14      2128
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        8 variable    189888       29    370608
Stream FIFO                   :        9     64         648       11       792
Route table                   :       13     56         728       13       728
Route node                    :       30 variable      3680       30      3680
Thread                        :       30    160        5040       30      5040
Thread master                 :       28 variable 117500320       28 117500320
Thread Poll Info              :       14 8388608  117497632       14 117497632
Thread stats                  :       30     96        3136       30      3136
Typed-hash bucket             :       11 variable       696       11       696
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368744    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        7  24608      172312        7    172312
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       14     14224
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        5    144         760       12      1824
Nexthop Group Connected       :        4     40         160        4       160
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :       14    152        2128       14      2128
RIB destination               :       17     88        1544       17      1544
WQ wrapper                    :        0    120           0        7       840
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        4   3584       14368        4     14368

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7488 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  6918 KiB
  Free small blocks:     1872 bytes
  Free ordinary blocks:  570 KiB
  Ordinary blocks:       8
  Small blocks:          52
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2508     32      100656     2508    100656
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       52     40        2160       58      2416
Link Node                     :      355     24        8568      548     13296
Temporary memory              :       38 variable      1600       48      6080
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       29   1032       29928       29     29928
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295072
Route map                     :        3    120         360        3       360
Route map name                :       12 variable       288       14       336
Route map index               :        3    152         456        3       456
Route map rule                :       21     40         856       21       856
Route map rule str            :       21 variable       504       21       504
Route map compiled            :       24 variable       576       24       576
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        3     16          72        3        72
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      106     56        6000      106      6000
Route node                    :        6    120         720        6       720
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       21     96        2216       21      2216
Typed-hash bucket             :       12 variable      1760       12      1760
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       112
BGP attribute                 :        6    328        1968        6      1968
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :       35    192        7032       35      7032
BGP route                     :       12    136        1632       12      1632
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         760        5       760
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0        4       304
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :        5     96         536        5       536
community                     :        4     40         160        5       200
community val                 :        4 variable        96        5       120
community str                 :        1   8192        8200        1      8200
extcommunity                  :        4     40         160        4       160
extcommunity val              :        4 variable        96        4        96
extcommunity str              :        4 variable       368        4       368
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        40
BGP nexthop                   :        1    184         184        1       184
BGP own address               :        2     64         144        2       144
BGP redistribution            :        1     24          24        1        24
Large Community               :        5     40         200        6       240
Large Community display string:        2     35          80        2        80
Large Community value         :        5     12         120        6       144
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for sharpd:
System allocator statistics:
  Total heap allocated:  1320 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1263 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  57 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1490     72      107280     1493    107496
Command Token Text            :     1144 variable     38160     1146     38232
Command Token Help            :     1144 variable     27472     1146     27520
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      405 variable      9720      407      9768
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       10      8         240       11       280
Graph Node                    :     1722     32       68976     1724     69056
Hash                          :      218 variable     10544      218     10544
Hash Bucket                   :      301     32       12104      301     12104
Hash Index                    :      109 variable     33080      110     33600
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       15     40         648       20       864
Link Node                     :      126     24        3040      176      4272
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      139   1192      165688      139    165688
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        3     56         168        3       168
Stream                        :        2  23728       47472        2     47472
Thread                        :        5    160         840        5       840
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        6     96         624        6       624
Typed-hash bucket             :        1 variable        40        1        40
Vector                        :     3467     24       83384     3470     83456
Vector index                  :     3467 variable    111688     3470    111968
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        4     48         224        4       224
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem sharpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 08:14:00 2023 (#133) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "sharp install routes 10.0.0.0 nexthop 99.0.0.1 50000"::pass:Adding 50000 routes:
COMMAND OUTPUT:&lt;no output&gt;:
R:133  ce1    Adding 50000 routes                                      1    0
Tue Oct 31 08:14:01 2023 (#134) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "sharp install routes 10.0.0.0 nexthop 99.0.0.2 50000"::pass:Adding 50000 routes:
COMMAND OUTPUT:&lt;no output&gt;:
R:134  ce2    Adding 50000 routes                                      1    0
scripts/scale_up.py:0 WAIT:ce1:vtysh -c "show ip route summ" | grep "sharp" | cut -d " " -f 33:50000:wait:See all sharp routes in rib on ce1:100.0:10:
Tue Oct 31 08:14:01 2023 (#135) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show ip route summ" | grep "sharp" | cut -d " " -f 33:50000:wait:See all sharp routes in rib on ce1:
COMMAND OUTPUT:1117:
Tue Oct 31 08:14:11 2023 (#135) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show ip route summ" | grep "sharp" | cut -d " " -f 33:50000:wait:See all sharp routes in rib on ce1:
COMMAND OUTPUT:35624:
Tue Oct 31 08:14:21 2023 (#135) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show ip route summ" | grep "sharp" | cut -d " " -f 33:50000:wait:See all sharp routes in rib on ce1:
COMMAND OUTPUT:50000:
R:135  ce1    See all sharp routes in rib on ce1 +20.18 secs           1    0
Done after 3 loops, time=20.178995609283447, Found=50000
scripts/scale_up.py:0 WAIT:ce2:vtysh -c "show ip route summ" | grep "sharp" | cut -d " " -f 33:50000:wait:See all sharp routes in rib on ce2:100.0:10:
Tue Oct 31 08:14:21 2023 (#136) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show ip route summ" | grep "sharp" | cut -d " " -f 33:50000:wait:See all sharp routes in rib on ce2:
COMMAND OUTPUT:50000:
R:136  ce2    See all sharp routes in rib on ce2 +0.04 secs            1    0
Done after 1 loops, time=0.04332542419433594, Found=50000
scripts/scale_up.py:0 WAIT:ce1:vtysh -c "show bgp ipv4 uni 10.0.195.79":Last update::wait:RXed last route, 10.0.195.79:100.0:10:
Tue Oct 31 08:14:21 2023 (#137) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni 10.0.195.79":Last update::wait:RXed last route, 10.0.195.79:
COMMAND OUTPUT:BGP routing table entry for 10.0.195.79/32, version 68075
Paths: (1 available, best #1, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    99.0.0.1 from 0.0.0.0 (99.0.0.1)
      Origin incomplete, metric 200, localpref 200, weight 32768, valid, sourced, best (First path received)
      Community: 0:65
      Extended Community: RT:80:987
      Large Community: 90:12:34
      Last update: Tue Oct 31 08:14:14 2023:
R:137  ce1    RXed last route, 10.0.195.79 +0.03 secs                  1    0
Done after 1 loops, time=0.034946441650390625, Found=Last update:
scripts/scale_up.py:0 WAIT:ce1:vtysh -c "show bgp ipv4 uni" | grep -c 10\.\*/32:50000:wait:See all sharp routes in BGP:100.0:10:
Tue Oct 31 08:14:21 2023 (#138) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni" | grep -c 10\.\*/32:50000:wait:See all sharp routes in BGP:
COMMAND OUTPUT:50000:
R:138  ce1    See all sharp routes in BGP +0.10 secs                   1    0
Done after 1 loops, time=0.10260152816772461, Found=50000
scripts/scale_up.py:0 WAIT:ce2:vtysh -c "show bgp ipv4 uni 10.0.195.79":Last update::wait:RXed last route, 10.0.195.79:100.0:10:
Tue Oct 31 08:14:21 2023 (#139) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni 10.0.195.79":Last update::wait:RXed last route, 10.0.195.79:
COMMAND OUTPUT:BGP routing table entry for 10.0.195.79/32, version 60754
Paths: (1 available, best #1, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    99.0.0.2 from 0.0.0.0 (99.0.0.2)
      Origin incomplete, metric 200, localpref 200, weight 32768, valid, sourced, best (First path received)
      Community: 0:66
      Extended Community: RT:70:456
      Large Community: 78:90:12
      Last update: Tue Oct 31 08:14:13 2023:
R:139  ce2    RXed last route, 10.0.195.79 +0.04 secs                  1    0
Done after 1 loops, time=0.0353391170501709, Found=Last update:
scripts/scale_up.py:0 WAIT:ce2:vtysh -c "show bgp ipv4 uni" | grep -c 10\.\*/32:50000:wait:See all sharp routes in BGP:100.0:10:
Tue Oct 31 08:14:21 2023 (#140) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni" | grep -c 10\.\*/32:50000:wait:See all sharp routes in BGP:
COMMAND OUTPUT:50000:
R:140  ce2    See all sharp routes in BGP +0.11 secs                   1    0
Done after 1 loops, time=0.1089785099029541, Found=50000
scripts/scale_up.py:0 WAIT:ce3:vtysh -c "show bgp ipv4 uni 10.0.195.79":Last update::wait:RXed last route, 10.0.195.79:100.0:10:
Tue Oct 31 08:14:21 2023 (#141) scripts/scale_up.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni 10.0.195.79":Last update::wait:RXed last route, 10.0.195.79:
COMMAND OUTPUT:BGP routing table entry for 10.0.195.79/32, version 58365
Paths: (1 available, best #1, table default)
  Not advertised to any peer
  Local
    192.168.1.1 from 192.168.1.1 (192.168.1.1)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:66
      Extended Community: RT:52:100 RT:70:456
      Large Community: 78:90:12
      Last update: Tue Oct 31 08:14:13 2023:
R:141  ce3    RXed last route, 10.0.195.79 +0.03 secs                  1    0
Done after 1 loops, time=0.034577369689941406, Found=Last update:
scripts/scale_up.py:0 WAIT:ce3:vtysh -c "show bgp ipv4 uni" | grep -c 10\.\*/32:50000:wait:See all sharp routes in BGP:100.0:10:
Tue Oct 31 08:14:21 2023 (#142) scripts/scale_up.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni" | grep -c 10\.\*/32:50000:wait:See all sharp routes in BGP:
COMMAND OUTPUT:50000:
R:142  ce3    See all sharp routes in BGP +0.10 secs                   1    0
Done after 1 loops, time=0.10012412071228027, Found=50000
scripts/scale_up.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 10.0.195.79":99.0.0.1:wait:RXed -&gt; 10.0.195.79 from CE1:100.0:10:
Tue Oct 31 08:14:21 2023 (#143) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 10.0.195.79":99.0.0.1:wait:RXed -&gt; 10.0.195.79 from CE1:
COMMAND OUTPUT:BGP routing table entry for 10.0.195.79/32, version 69216
Paths: (2 available, best #1, vrf r1-cust1)
  Not advertised to any peer
  Local
    99.0.0.1 from 192.168.1.2 (99.0.0.1)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (IGP Metric)
      Community: 0:65
      Extended Community: RT:80:987
      Large Community: 90:12:34
      Last update: Tue Oct 31 08:14:13 2023
  Imported from 10:3:10.0.195.79/32
  Local
    3.3.3.3 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin incomplete, metric 200, localpref 200, valid, sourced, local
      Community: 0:66
      Extended Community: RT:52:100 RT:70:456
      Large Community: 78:90:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:14:12 2023:
R:143  r1     RXed -&gt; 10.0.195.79 from CE1 +0.03 secs                  1    0
Done after 1 loops, time=0.03411507606506348, Found=99.0.0.1
scripts/scale_up.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 10.0.195.79":99.0.0.2:wait:RXed -&gt; 10.0.195.79 from CE2:100.0:10:
Tue Oct 31 08:14:21 2023 (#144) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 10.0.195.79":99.0.0.2:wait:RXed -&gt; 10.0.195.79 from CE2:
COMMAND OUTPUT:BGP routing table entry for 10.0.195.79/32, version 61185
Paths: (2 available, best #2, vrf r3-cust1)
  Not advertised to any peer
  Imported from 10:1:10.0.195.79/32
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin incomplete, metric 200, localpref 200, valid, sourced, local
      Community: 0:65
      Extended Community: RT:52:100 RT:80:987
      Large Community: 90:12:34
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:14:13 2023
  Local
    99.0.0.2 from 192.168.1.2 (99.0.0.2)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (IGP Metric)
      Community: 0:66
      Extended Community: RT:70:456
      Large Community: 78:90:12
      Last update: Tue Oct 31 08:14:12 2023:
R:144  r3     RXed -&gt; 10.0.195.79 from CE2 +0.04 secs                  1    0
Done after 1 loops, time=0.035180091857910156, Found=99.0.0.2
scripts/scale_up.py:0 WAIT:r1:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":99.0.0.1:wait:see VPN safi -&gt; 10.0.195.79 from CE1:10:0.5:
Tue Oct 31 08:14:21 2023 (#145) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":99.0.0.1:wait:see VPN safi -&gt; 10.0.195.79 from CE1:
COMMAND OUTPUT:BGP routing table entry for 10:1:10.0.195.79/32, version 47503
not allocated
Paths: (1 available, best #1)
  Advertised to non peer-group peers:
  2.2.2.2
  Local
    99.0.0.1 from 0.0.0.0 (1.1.1.1) vrf r1-cust1(4) announce-nh-self
      Origin incomplete, metric 200, localpref 200, valid, sourced, local, best (First path received)
      Community: 0:65
      Extended Community: RT:80:987 RT:52:100
      Large Community: 90:12:34
      Originator: 1.1.1.1
      Remote label: 101
      Last update: Tue Oct 31 08:14:13 2023
BGP routing table entry for 10:3:10.0.195.79/32, version 48505
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    3.3.3.3 (metric 20) from 2.2.2.2 (3.3.3.3)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:66
      Extended Community: RT:52:100 RT:70:456
      Large Community: 78:90:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:14:12 2023:
R:145  r1     see VPN safi -&gt; 10.0.195.79 from CE1 +0.03 secs          1    0
Done after 1 loops, time=0.03494119644165039, Found=99.0.0.1
scripts/scale_up.py:0 WAIT:r3:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":99.0.0.2:wait:see VPN safi -&gt; 10.0.195.79 from CE2:10:0.5:
Tue Oct 31 08:14:21 2023 (#146) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":99.0.0.2:wait:see VPN safi -&gt; 10.0.195.79 from CE2:
COMMAND OUTPUT:BGP routing table entry for 10:1:10.0.195.79/32, version 47503
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    1.1.1.1 (metric 20) from 2.2.2.2 (1.1.1.1)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:65
      Extended Community: RT:52:100 RT:80:987
      Large Community: 90:12:34
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:14:13 2023
BGP routing table entry for 10:3:10.0.195.79/32, version 48504
not allocated
Paths: (1 available, best #1)
  Advertised to non peer-group peers:
  2.2.2.2
  Local
    99.0.0.2 from 0.0.0.0 (3.3.3.3) vrf r3-cust1(5) announce-nh-self
      Origin incomplete, metric 200, localpref 200, valid, sourced, local, best (First path received)
      Community: 0:66
      Extended Community: RT:70:456 RT:52:100
      Large Community: 78:90:12
      Originator: 3.3.3.3
      Remote label: 103
      Last update: Tue Oct 31 08:14:12 2023:
R:146  r3     see VPN safi -&gt; 10.0.195.79 from CE2 +0.03 secs          1    0
Done after 1 loops, time=0.033042192459106445, Found=99.0.0.2
scripts/scale_up.py:0 WAIT:r3:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":1.1.1.1:wait:see VPN safi -&gt; 10.0.195.79 from CE1:10:0.5:
Tue Oct 31 08:14:21 2023 (#147) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":1.1.1.1:wait:see VPN safi -&gt; 10.0.195.79 from CE1:
COMMAND OUTPUT:BGP routing table entry for 10:1:10.0.195.79/32, version 47503
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    1.1.1.1 (metric 20) from 2.2.2.2 (1.1.1.1)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:65
      Extended Community: RT:52:100 RT:80:987
      Large Community: 90:12:34
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:14:13 2023
BGP routing table entry for 10:3:10.0.195.79/32, version 48504
not allocated
Paths: (1 available, best #1)
  Advertised to non peer-group peers:
  2.2.2.2
  Local
    99.0.0.2 from 0.0.0.0 (3.3.3.3) vrf r3-cust1(5) announce-nh-self
      Origin incomplete, metric 200, localpref 200, valid, sourced, local, best (First path received)
      Community: 0:66
      Extended Community: RT:70:456 RT:52:100
      Large Community: 78:90:12
      Originator: 3.3.3.3
      Remote label: 103
      Last update: Tue Oct 31 08:14:12 2023:
R:147  r3     see VPN safi -&gt; 10.0.195.79 from CE1 +0.03 secs          1    0
Done after 1 loops, time=0.033934831619262695, Found=1.1.1.1
scripts/scale_up.py:0 WAIT:r1:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":3.3.3.3:wait:see VPN safi -&gt; 10.0.195.79 from CE2:10:0.5:
Tue Oct 31 08:14:21 2023 (#148) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":3.3.3.3:wait:see VPN safi -&gt; 10.0.195.79 from CE2:
COMMAND OUTPUT:BGP routing table entry for 10:1:10.0.195.79/32, version 47503
not allocated
Paths: (1 available, best #1)
  Advertised to non peer-group peers:
  2.2.2.2
  Local
    99.0.0.1 from 0.0.0.0 (1.1.1.1) vrf r1-cust1(4) announce-nh-self
      Origin incomplete, metric 200, localpref 200, valid, sourced, local, best (First path received)
      Community: 0:65
      Extended Community: RT:80:987 RT:52:100
      Large Community: 90:12:34
      Originator: 1.1.1.1
      Remote label: 101
      Last update: Tue Oct 31 08:14:13 2023
BGP routing table entry for 10:3:10.0.195.79/32, version 48505
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    3.3.3.3 (metric 20) from 2.2.2.2 (3.3.3.3)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:66
      Extended Community: RT:52:100 RT:70:456
      Large Community: 78:90:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:14:12 2023:
R:148  r1     see VPN safi -&gt; 10.0.195.79 from CE2 +0.03 secs          1    0
Done after 1 loops, time=0.033972978591918945, Found=3.3.3.3
scripts/scale_up.py:0 WAIT:r4:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":1.1.1.1:wait:see VPN safi -&gt; 10.0.195.79 from CE1:10:0.5:
Tue Oct 31 08:14:21 2023 (#149) scripts/scale_up.py:0 COMMAND:r4:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":1.1.1.1:wait:see VPN safi -&gt; 10.0.195.79 from CE1:
COMMAND OUTPUT:BGP routing table entry for 10:1:10.0.195.79/32, version 47503
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    1.1.1.1 (metric 20) from 2.2.2.2 (1.1.1.1)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:65
      Extended Community: RT:52:100 RT:80:987
      Large Community: 90:12:34
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:14:13 2023
BGP routing table entry for 10:3:10.0.195.79/32, version 48505
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    3.3.3.3 (metric 10) from 2.2.2.2 (3.3.3.3)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:66
      Extended Community: RT:52:100 RT:70:456
      Large Community: 78:90:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:14:12 2023:
R:149  r4     see VPN safi -&gt; 10.0.195.79 from CE1 +0.03 secs          1    0
Done after 1 loops, time=0.03419137001037598, Found=1.1.1.1
scripts/scale_up.py:0 WAIT:r4:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":3.3.3.3:wait:see VPN safi -&gt; 10.0.195.79 from CE2:10:0.5:
Tue Oct 31 08:14:21 2023 (#150) scripts/scale_up.py:0 COMMAND:r4:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":3.3.3.3:wait:see VPN safi -&gt; 10.0.195.79 from CE2:
COMMAND OUTPUT:BGP routing table entry for 10:1:10.0.195.79/32, version 47503
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    1.1.1.1 (metric 20) from 2.2.2.2 (1.1.1.1)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:65
      Extended Community: RT:52:100 RT:80:987
      Large Community: 90:12:34
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 08:14:13 2023
BGP routing table entry for 10:3:10.0.195.79/32, version 48505
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    3.3.3.3 (metric 10) from 2.2.2.2 (3.3.3.3)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:66
      Extended Community: RT:52:100 RT:70:456
      Large Community: 78:90:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 08:14:12 2023:
R:150  r4     see VPN safi -&gt; 10.0.195.79 from CE2 +0.03 secs          1    0
Done after 1 loops, time=0.03361201286315918, Found=3.3.3.3
scripts/scale_up.py:0 WAIT:ce1:ip route get 10.0.195.79:dev:wait:Route to 10.0.195.79 available:100.0:10:
Tue Oct 31 08:14:21 2023 (#151) scripts/scale_up.py:0 COMMAND:ce1:ip route get 10.0.195.79:dev:wait:Route to 10.0.195.79 available:
COMMAND OUTPUT:10.0.195.79 dev lo src 99.0.0.1 uid 0 
    cache &lt;local&gt;:
R:151  ce1    Route to 10.0.195.79 available +0.00 secs                1    0
Done after 1 loops, time=0.004391193389892578, Found=dev
scripts/scale_up.py:0 WAIT:ce1:ip route show | grep -c \^10\.:50000:wait:See 50000 linux routes:100.0:10:
Tue Oct 31 08:14:21 2023 (#152) scripts/scale_up.py:0 COMMAND:ce1:ip route show | grep -c \^10\.:50000:wait:See 50000 linux routes:
COMMAND OUTPUT:50000:
R:152  ce1    See 50000 linux routes +1.46 secs                        1    0
Done after 1 loops, time=1.4631712436676025, Found=50000
scripts/scale_up.py:0 WAIT:ce2:ip route get 10.0.195.79:dev:wait:Route to 10.0.195.79 available:100.0:10:
Tue Oct 31 08:14:23 2023 (#153) scripts/scale_up.py:0 COMMAND:ce2:ip route get 10.0.195.79:dev:wait:Route to 10.0.195.79 available:
COMMAND OUTPUT:10.0.195.79 dev lo src 99.0.0.2 uid 0 
    cache &lt;local&gt;:
R:153  ce2    Route to 10.0.195.79 available +0.00 secs                1    0
Done after 1 loops, time=0.00436711311340332, Found=dev
scripts/scale_up.py:0 WAIT:ce2:ip route show | grep -c \^10\.:50000:wait:See 50000 linux routes:100.0:10:
Tue Oct 31 08:14:23 2023 (#154) scripts/scale_up.py:0 COMMAND:ce2:ip route show | grep -c \^10\.:50000:wait:See 50000 linux routes:
COMMAND OUTPUT:50000:
R:154  ce2    See 50000 linux routes +1.49 secs                        1    0
Done after 1 loops, time=1.4936714172363281, Found=50000
scripts/scale_up.py:0 WAIT:ce3:ip route get 10.0.195.79:dev:wait:Route to 10.0.195.79 available:100.0:10:
Tue Oct 31 08:14:24 2023 (#155) scripts/scale_up.py:0 COMMAND:ce3:ip route get 10.0.195.79:dev:wait:Route to 10.0.195.79 available:
COMMAND OUTPUT:10.0.195.79 via 192.168.1.1 dev ce3-eth0 src 192.168.1.2 uid 0 
    cache:
R:155  ce3    Route to 10.0.195.79 available +0.00 secs                1    0
Done after 1 loops, time=0.0042154788970947266, Found=dev
scripts/scale_up.py:0 WAIT:ce3:ip route show | grep -c \^10\.:50000:wait:See 50000 linux routes:100.0:10:
Tue Oct 31 08:14:24 2023 (#156) scripts/scale_up.py:0 COMMAND:ce3:ip route show | grep -c \^10\.:50000:wait:See 50000 linux routes:
COMMAND OUTPUT:50000:
R:156  ce3    See 50000 linux routes +1.38 secs                        1    0
Done after 1 loops, time=1.3800435066223145, Found=50000
scripts/scale_up.py:0 WAIT:r1:ip route get vrf r1-cust1 10.0.195.79:dev:wait:VRF route available:100.0:10:
Tue Oct 31 08:14:26 2023 (#157) scripts/scale_up.py:0 COMMAND:r1:ip route get vrf r1-cust1 10.0.195.79:dev:wait:VRF route available:
COMMAND OUTPUT:10.0.195.79 via 192.168.1.2 dev r1-eth4 table 10 src 192.168.1.1 uid 0 
    cache:
R:157  r1     VRF route available +0.00 secs                           1    0
Done after 1 loops, time=0.004766225814819336, Found=dev
scripts/scale_up.py:0 WAIT:r1:ip route show vrf r1-cust1 | grep -c \^10\.:50000:wait:See 50000 linux routes:100.0:10:
Tue Oct 31 08:14:26 2023 (#158) scripts/scale_up.py:0 COMMAND:r1:ip route show vrf r1-cust1 | grep -c \^10\.:50000:wait:See 50000 linux routes:
COMMAND OUTPUT:50000:
R:158  r1     See 50000 linux routes +1.48 secs                        1    0
Done after 1 loops, time=1.481461524963379, Found=50000
scripts/scale_up.py:0 WAIT:r3:ip route get vrf r3-cust1 10.0.195.79:dev:wait:VRF route available:100.0:10:
Tue Oct 31 08:14:27 2023 (#159) scripts/scale_up.py:0 COMMAND:r3:ip route get vrf r3-cust1 10.0.195.79:dev:wait:VRF route available:
COMMAND OUTPUT:10.0.195.79 via 192.168.1.2 dev r3-eth4 table 10 src 192.168.1.1 uid 0 
    cache:
R:159  r3     VRF route available +0.00 secs                           1    0
Done after 1 loops, time=0.004649639129638672, Found=dev
scripts/scale_up.py:0 WAIT:r3:ip route show vrf r3-cust1 | grep -c \^10\.:50000:wait:See 50000 linux routes:100.0:10:
Tue Oct 31 08:14:27 2023 (#160) scripts/scale_up.py:0 COMMAND:r3:ip route show vrf r3-cust1 | grep -c \^10\.:50000:wait:See 50000 linux routes:
COMMAND OUTPUT:50000:
R:160  r3     See 50000 linux routes +1.49 secs                        1    0
Done after 1 loops, time=1.4867761135101318, Found=50000
scripts/scale_up.py:0 WAIT:r4:ip route get vrf r4-cust1 10.0.195.79:dev:wait:VRF route available:100.0:10:
Tue Oct 31 08:14:29 2023 (#161) scripts/scale_up.py:0 COMMAND:r4:ip route get vrf r4-cust1 10.0.195.79:dev:wait:VRF route available:
COMMAND OUTPUT:10.0.195.79 via 10.0.2.3 dev r4-eth0 table 10 src 10.0.2.4 uid 0 
    cache:
R:161  r4     VRF route available +0.00 secs                           1    0
Done after 1 loops, time=0.004462718963623047, Found=dev
scripts/scale_up.py:0 WAIT:r4:ip route show vrf r4-cust1 | grep -c \^10\.:50000:wait:See 50000 linux routes:100.0:10:
Tue Oct 31 08:14:29 2023 (#162) scripts/scale_up.py:0 COMMAND:r4:ip route show vrf r4-cust1 | grep -c \^10\.:50000:wait:See 50000 linux routes:
COMMAND OUTPUT:50000:
R:162  r4     See 50000 linux routes +1.54 secs                        1    0
Done after 1 loops, time=1.5378236770629883, Found=50000
Tue Oct 31 08:14:30 2023 (#163) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  57 MiB
  Holding block headers: 225 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  29 MiB
  Free small blocks:     82 KiB
  Free ordinary blocks:  28 MiB
  Ordinary blocks:       52720
  Small blocks:          1096
  Holding blocks:        29
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        6     24         144        6       160
Buffer data                   :        1   4120        4120       24     98880
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4956    356928
Command Token Text            :     3541 variable    117880     3545    117960
Command Token Help            :     3541 variable     85048     3545     85144
Command Argument              :        2 variable        48        6       144
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        6    128         816        6       816
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       12 variable       960       12       960
POSIX sync primitives         :       12 variable       592       12       592
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      952 variable     46400      952     46400
Hash Bucket                   :     1039     32       41720     1043     41880
Hash Index                    :      476 variable    134144      476    134144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       41     40        1704       47      2008
Link Node                     :      524     24       12640    49105   1179928
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        6    144         912    23309   3542984
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        8 variable    189888     8759  39105592
Stream FIFO                   :        9     64         648       12       864
Route table                   :       13     56         728       13       728
Route node                    :   100030 variable  12003824   100030  12003824
Thread                        :       30    160        5040       30      5040
Thread master                 :       28 variable 117500320       28 117500320
Thread Poll Info              :       14 8388608  117497632       14 117497632
Thread stats                  :       30     96        3136       30      3136
Typed-hash bucket             :       11 variable   1053088       11   1053088
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368744    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        7  24608      172312        7    172312
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0      558    566928
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        6    144         912    23007   3497064
Nexthop Group Connected       :        5     40         200        5       200
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :    50014    152     7602160    57520   8743088
RIB destination               :    50017     88     4402744    50017   4402744
WQ wrapper                    :        0    120           0    23000   2760016
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        4   3584       14368        4     14368

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  40 MiB
  Holding block headers: 97 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  39 MiB
  Free small blocks:     1856 bytes
  Free ordinary blocks:  1318 KiB
  Ordinary blocks:       10753
  Small blocks:          54
  Holding blocks:        13
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120      782   3221840
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2512     32      100832     2516    101024
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       52     40        2160       58      2416
Link Node                     :      355     24        8568      548     13296
Temporary memory              :       38 variable      1600       48      6080
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       29   1032       29928       29     29928
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295072
Route map                     :        3    120         360        3       360
Route map name                :       12 variable       288       14       336
Route map index               :        3    152         456        3       456
Route map rule                :       21     40         856       21       856
Route map rule str            :       21 variable       504       21       504
Route map compiled            :       24 variable       576       24       576
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        3     16          72        3        72
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       11    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      106     56        6000      106      6000
Route node                    :        6    120         720        6       720
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       22     96        2336       22      2336
Typed-hash bucket             :       12 variable   1054152       12   1054152
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       144
BGP attribute                 :        7    328        2296        8      2624
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :   100035    192    20007048   100035  20007048
BGP route                     :    50012    136     6801696    53013   7209832
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         760        5       760
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0     3737    269208
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :    50005     96     5200616    50005   5200616
community                     :        5     40         200        7       296
community val                 :        5 variable       120        7       168
community str                 :        2   8192       16400        3     24600
extcommunity                  :        4     40         160        6       256
extcommunity val              :        4 variable        96        6       144
extcommunity str              :        4 variable       368        5       504
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        40
BGP nexthop                   :        1    184         184        1       184
BGP own address               :        2     64         144        2       144
BGP redistribution            :        1     24          24        1        24
Large Community               :        6     40         240        8       336
Large Community display string:        3     35         136        4       192
Large Community value         :        6     12         144        8       192
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for sharpd:
System allocator statistics:
  Total heap allocated:  1320 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1264 KiB
  Free small blocks:     1392 bytes
  Free ordinary blocks:  56 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     1490     72      107280     1496    107712
Command Token Text            :     1144 variable     38160     1149     38328
Command Token Help            :     1144 variable     27472     1149     27592
Command Argument              :        2 variable        48        8       192
Command Argument Name         :      405 variable      9720      409      9816
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       10      8         240       11       280
Graph Node                    :     1722     32       68976     1724     69056
Hash                          :      218 variable     10544      218     10544
Hash Bucket                   :      302     32       12144      302     12144
Hash Index                    :      109 variable     33080      110     33600
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       15     40         648       24      1008
Link Node                     :      126     24        3040      182      4416
Temporary memory              :        4 variable        96        9       296
Northbound Node               :      139   1192      165688      139    165688
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        3     56         168        3       168
Stream                        :        2  23728       47472        2     47472
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        7     96         728        7       728
Typed-hash bucket             :        1 variable        40        1        40
Vector                        :     3467     24       83384     3470     83456
Vector index                  :     3467 variable    111688     3470    111968
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        4     48         224        4       224
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem sharpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1376 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 08:14:30 2023 (#163) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show thread cpu":.:pass:BGPd heap: 7488 KiB --&gt; 40 MiB (0.6502 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.007         1        7         7        8         8         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          2.225        50       44       159       45       160         0         0          0  R      vtysh_read
    0          0.304         1      304       304      305       305         0         0          0     E   frr_config_read_in
    0          0.115        40        2        20        3        20         0         0          0   W     mgmt_fe_client_write
    0          0.352        40        8        31        9        31         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.044        39        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    1          0.123        39        3         6        3         7         0         0          0  R      mgmt_fe_client_read
    0          0.043        39        1        11        1        11         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.035         1       35        35       36        36         0         0          0  R      mgmt_be_conn_accept
    1          0.207        40        5        16        5        17         0         0          0  R      mgmt_fe_adapter_read
    1          0.006         1        6         6        7         7         0         0          0  R      mgmt_be_adapter_read
    0          0.036         1       36        36       37        37         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.609        21       29       145       30       149         0         0          0  R      vtysh_accept
    0          0.028         1       28        28       28        28         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.009         1        9         9       10        10         0         0          0  R      mgmt_fe_conn_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.143       315       13       304       13       305         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.049         4       12        16       12        17         0         0          0  R      kernel_read
    0        496.596       472     1052      4796     1251     11598         0         0          0     E   rib_process_dplane_results
    0        133.494      5939       22      1678       23      1678         0         0          0     E   zserv_process_messages
    0          0.147         2       73       106       74       107         0         0          0    T    if_zebra_speed_update
    0          1.017         1     1017      1017     1019      1019         0         0          0     E   frr_config_read_in
    1          0.468         4      117       123      117       124         0         0          0  R      zserv_accept
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route
    1          1.250        21       59       748       62       785         0         0          0  R      vtysh_accept
    0        220.852     12725       17     11499       18     11542         0         0          0    TE   work_queue_run
    0         48.573        53      916     18298      917     18299         0         0          0  R      vtysh_read


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.080         3       26        72       27        72         0         0          0  R      dplane_incoming_read
    0       1835.877       624     2942     12541    21213    843244         0         0          0     E   dplane_thread_loop
    0          0.136         1      136       136      136       136         0         0          0     E   dplane_incoming_request


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.012         1       12        12       13        13         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.029         1       29        29       30        30         0         0          0  R      zserv_read
    0          0.020         2       10        17       10        17         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1        187.849      7127       26     30136       30     35996         0         0          0  R      zserv_read
    0        131.573     15886        8      7369       14     13637         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.015         1       15        15       15        15         0         0          0  R      zserv_read
    0          0.012         1       12        12       12        12         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1        110.223        51     2161      2555     2162      2556         0         0          0  R      zserv_read
    0        171.819     21255        8       823       10       831         0         0          0   W     zserv_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    8       3340.094     64175       52     30136      234    843244         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        385.027       102     3774    159542     4678    174917         0         0          0    T    work_queue_run
    0         48.216        73      660     10356      668     10419         0         0          0     E   bgp_process_packet
    1          0.576        21       27       137       29       138         0         0          0  R      vtysh_accept
    2        259.976     51520        5      1892        6      1892         0         0          0  R      zclient_read
    0          0.002         2        1         1        2         2         0         0          0    T    (bgp_routeadv_timer)
    0          0.049         6        8        13        9        14         0         0          0    T    update_group_refresh_default_originate_route_map
    0         16.152         1    16152     16152    16153     16153         0         0          0     E   frr_config_read_in
    2          0.081         1       81        81       82        82         0         0          0  R      bgp_accept
    0          0.102         2       51        83       82       144         0         0          0     E   bgp_event
    0         17.276       155      111      1324      113      1325         0         0          0    T    (bgp_generate_updgrp_packets)
    0          0.118         1      118       118      120       120         0         0          0    T    bgp_route_map_update_timer
    0          0.018         1       18        18       18        18         0         0          0    T    subgroup_coalesce_timer
    0         65.465        61     1073     60725     1076     60866         0         0          0  R      vtysh_read
    0          0.064         2       32        52       33        53         0         0          0     E   zclient_connect
    0          1.207        48       25       162       25       163         0         0          0   W     vtysh_write


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          1.621        77       21        52       21        53         0         0          0  R      bgp_process_reads
    0          3.525        87       40        79       41        80         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6        799.475     52160       15    159542       18    174917         0         0          0  RWTEX  TOTAL

Thread statistics for sharpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.058         1       58        58       60        60         0         0          0     E   zclient_connect
    1          0.408        21       19        45       20        48         0         0          0  R      vtysh_accept
    0          0.038         1       38        38       39        39         0         0          0     E   frr_config_read_in
    0         14.675        51      287     12678      288     12679         0         0          0  R      vtysh_read
    0         64.104         8     8013      9527     8025      9528         0         0          0   W     zclient_flush_data
    1        118.952     51510        2        36        2       538         0         0          0  R      zclient_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2        198.235     51592        3     12678        4     12679         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.070        17        4        18        4        19         0         0          0  R      zclient_read
    0          0.051         1       51        51       52        52         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.005         1        5         5        6         6         0         0          0   W     mgmt_be_client_write
    0          0.060         1       60        60       61        61         0         0          0     E   zclient_connect
    0          1.984        50       39       144       40       144         0         0          0  R      vtysh_read
    1          0.438        21       20        58       21        61         0         0          0  R      vtysh_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.608        91       28       144       29       144         0         0          0  RWTEX  TOTAL:
R:163  ce1    BGPd heap: 7488 KiB --&gt; 40 MiB (0.6502 KiB/vpn route)    1    0
Tue Oct 31 08:14:30 2023 (#164) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show thread cpu":.:pass:Zebra heap: 5196 KiB --&gt; 57 MiB (1.0361 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.007         1        7         7        8         8         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          2.481        53       46       159       47       160         0         0          0  R      vtysh_read
    0          0.304         1      304       304      305       305         0         0          0     E   frr_config_read_in
    0          0.125        42        2        20        3        20         0         0          0   W     mgmt_fe_client_write
    0          0.383        42        9        31        9        31         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.047        41        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    1          0.132        41        3         6        3         7         0         0          0  R      mgmt_fe_client_read
    0          0.047        41        1        11        1        11         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.035         1       35        35       36        36         0         0          0  R      mgmt_be_conn_accept
    1          0.225        42        5        16        6        17         0         0          0  R      mgmt_fe_adapter_read
    1          0.006         1        6         6        7         7         0         0          0  R      mgmt_be_adapter_read
    0          0.036         1       36        36       37        37         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.651        22       29       145       30       149         0         0          0  R      vtysh_accept
    0          0.028         1       28        28       28        28         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.009         1        9         9       10        10         0         0          0  R      mgmt_fe_conn_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.516       331       13       304       14       305         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.049         4       12        16       12        17         0         0          0  R      kernel_read
    0        496.596       472     1052      4796     1251     11598         0         0          0     E   rib_process_dplane_results
    0        133.494      5939       22      1678       23      1678         0         0          0     E   zserv_process_messages
    0          0.147         2       73       106       74       107         0         0          0    T    if_zebra_speed_update
    0          1.017         1     1017      1017     1019      1019         0         0          0     E   frr_config_read_in
    1          0.468         4      117       123      117       124         0         0          0  R      zserv_accept
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route
    1          1.263        22       57       748       60       785         0         0          0  R      vtysh_accept
    0        220.852     12725       17     11499       18     11542         0         0          0    TE   work_queue_run
    0         48.758        56      870     18298      871     18299         0         0          0  R      vtysh_read


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.080         3       26        72       27        72         0         0          0  R      dplane_incoming_read
    0       1835.877       624     2942     12541    21213    843244         0         0          0     E   dplane_thread_loop
    0          0.136         1      136       136      136       136         0         0          0     E   dplane_incoming_request


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.012         1       12        12       13        13         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.029         1       29        29       30        30         0         0          0  R      zserv_read
    0          0.020         2       10        17       10        17         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1        187.849      7127       26     30136       30     35996         0         0          0  R      zserv_read
    0        131.573     15886        8      7369       14     13637         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.015         1       15        15       15        15         0         0          0  R      zserv_read
    0          0.012         1       12        12       12        12         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1        110.223        51     2161      2555     2162      2556         0         0          0  R      zserv_read
    0        171.819     21255        8       823       10       831         0         0          0   W     zserv_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    8       3340.292     64179       52     30136      234    843244         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        385.027       102     3774    159542     4678    174917         0         0          0    T    work_queue_run
    0         48.216        73      660     10356      668     10419         0         0          0     E   bgp_process_packet
    1          0.602        22       27       137       29       138         0         0          0  R      vtysh_accept
    2        259.976     51520        5      1892        6      1892         0         0          0  R      zclient_read
    0          0.002         2        1         1        2         2         0         0          0    T    (bgp_routeadv_timer)
    0          0.049         6        8        13        9        14         0         0          0    T    update_group_refresh_default_originate_route_map
    0         16.152         1    16152     16152    16153     16153         0         0          0     E   frr_config_read_in
    2          0.081         1       81        81       82        82         0         0          0  R      bgp_accept
    0          0.102         2       51        83       82       144         0         0          0     E   bgp_event
    0         17.276       155      111      1324      113      1325         0         0          0    T    (bgp_generate_updgrp_packets)
    0          0.118         1      118       118      120       120         0         0          0    T    bgp_route_map_update_timer
    0          0.018         1       18        18       18        18         0         0          0    T    subgroup_coalesce_timer
    0         66.275        64     1035     60725     1038     60866         0         0          0  R      vtysh_read
    0          0.064         2       32        52       33        53         0         0          0     E   zclient_connect
    0          1.207        48       25       162       25       163         0         0          0   W     vtysh_write


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          1.621        77       21        52       21        53         0         0          0  R      bgp_process_reads
    0          3.525        87       40        79       41        80         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6        800.311     52164       15    159542       18    174917         0         0          0  RWTEX  TOTAL

Thread statistics for sharpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.058         1       58        58       60        60         0         0          0     E   zclient_connect
    1          0.420        22       19        45       20        48         0         0          0  R      vtysh_accept
    0          0.038         1       38        38       39        39         0         0          0     E   frr_config_read_in
    0         14.808        54      274     12678      274     12679         0         0          0  R      vtysh_read
    0         64.104         8     8013      9527     8025      9528         0         0          0   W     zclient_flush_data
    1        118.952     51510        2        36        2       538         0         0          0  R      zclient_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2        198.380     51596        3     12678        4     12679         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.070        17        4        18        4        19         0         0          0  R      zclient_read
    0          0.051         1       51        51       52        52         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.005         1        5         5        6         6         0         0          0   W     mgmt_be_client_write
    0          0.060         1       60        60       61        61         0         0          0     E   zclient_connect
    0          2.166        53       40       144       41       144         0         0          0  R      vtysh_read
    1          0.466        22       21        58       22        61         0         0          0  R      vtysh_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.818        95       29       144       30       144         0         0          0  RWTEX  TOTAL:
R:164  ce1    Zebra heap: 5196 KiB --&gt; 57 MiB (1.0361 KiB/vpn route)   1    0
Tue Oct 31 08:14:30 2023 (#165) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  33 MiB
  Holding block headers: 225 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  29 MiB
  Free small blocks:     2336 bytes
  Free ordinary blocks:  4063 KiB
  Ordinary blocks:       59774
  Small blocks:          70
  Holding blocks:        29
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        6     24         144        6       144
Buffer data                   :        1   4120        4120       70    288400
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4956    356976
Command Token Text            :     3541 variable    117880     3545    117960
Command Token Help            :     3541 variable     85048     3545     85144
Command Argument              :        2 variable        48        6       144
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        6    128         816        6       816
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       12 variable       960       12       960
POSIX sync primitives         :       12 variable       592       12       592
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      952 variable     46368      952     46368
Hash Bucket                   :     1039     32       41704     1043     41864
Hash Index                    :      476 variable    134144      476    134144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       41     40        1704       47      1976
Link Node                     :      524     24       12640    49575   1189992
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        6    144         912    32309   4910968
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        8 variable    189888     8497 118091720
Stream FIFO                   :        9     64         648       12       864
Route table                   :       13     56         728       13       728
Route node                    :   100030 variable  12003696   100030  12003696
Thread                        :       30    160        5040       30      5040
Thread master                 :       28 variable 117500320       28 117500320
Thread Poll Info              :       14 8388608  117497632       14 117497632
Thread stats                  :       30     96        3136       30      3136
Typed-hash bucket             :       11 variable   1053088       11   1053088
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368744    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        7  24608      172312        7    172312
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0      430    436880
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        6    144         912    32007   4865064
Nexthop Group Connected       :        5     40         200        5       200
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :    50014    152     7602160    55693   8465368
RIB destination               :    50017     88     4401576    50017   4401576
WQ wrapper                    :        0    120           0    32000   3840032
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        4   3584       14368        4     14368

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  40 MiB
  Holding block headers: 97 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  39 MiB
  Free small blocks:     1856 bytes
  Free ordinary blocks:  1057 KiB
  Ordinary blocks:       9206
  Small blocks:          54
  Holding blocks:        13
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120      782   3221840
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2513     32      100872     2517    101064
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       52     40        2128       58      2368
Link Node                     :      355     24        8568      548     13280
Temporary memory              :       38 variable      1600       48      6080
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       29   1032       29928       29     29928
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        3    120         360        3       360
Route map name                :       12 variable       288       14       336
Route map index               :        3    152         472        3       472
Route map rule                :       21     40         872       21       872
Route map rule str            :       21 variable       504       21       504
Route map compiled            :       24 variable       576       24       576
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        3     16          72        3        72
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       11    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      106     56        6000      106      6000
Route node                    :        6    120         736        6       736
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       22     96        2304       22      2304
Typed-hash bucket             :       12 variable   1054152       12   1054152
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       112
BGP attribute                 :        8    328        2624        9      2952
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :   100035    192    20007064   100035  20007064
BGP route                     :    50015    136     6802120    50015   6802120
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         760        5       760
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0     6292    453152
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :    50005     96     5200616    50005   5200616
community                     :        5     40         216        7       312
community val                 :        5 variable       120        7       168
community str                 :        2   8192       16400        3     24600
extcommunity                  :        4     40         160        6       272
extcommunity val              :        4 variable        96        6       144
extcommunity str              :        4 variable       352        5       488
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        56
BGP nexthop                   :        1    184         184        1       184
BGP own address               :        2     64         144        2       144
BGP redistribution            :        1     24          24        1        24
Large Community               :        6     40         256        8       352
Large Community display string:        3     35         136        4       192
Large Community value         :        6     12         144        8       192
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for sharpd:
System allocator statistics:
  Total heap allocated:  1320 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1264 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  56 KiB
  Ordinary blocks:       3
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     1490     72      107280     1496    107712
Command Token Text            :     1144 variable     38160     1149     38328
Command Token Help            :     1144 variable     27472     1149     27592
Command Argument              :        2 variable        48        8       192
Command Argument Name         :      405 variable      9720      409      9816
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       10      8         240       11       280
Graph Node                    :     1722     32       68976     1724     69056
Hash                          :      218 variable     10544      218     10544
Hash Bucket                   :      302     32       12144      302     12144
Hash Index                    :      109 variable     33080      110     33600
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       15     40         664       24      1008
Link Node                     :      126     24        3040      182      4400
Temporary memory              :        4 variable        96        9       296
Northbound Node               :      139   1192      165688      139    165688
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        3     56         168        3       168
Stream                        :        2  23728       47472        2     47472
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        7     96         728        7       728
Typed-hash bucket             :        1 variable        40        1        40
Vector                        :     3467     24       83384     3470     83456
Vector index                  :     3467 variable    111672     3470    111968
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        4     48         224        4       224
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem sharpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 08:14:30 2023 (#165) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show thread cpu":.:pass:BGPd heap: 7484 KiB --&gt; 40 MiB (0.6503 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.302        36        8        29        8        29         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.037        35        1         2        1         2         0         0          0   W     mgmt_fe_adapter_write
    0          0.329         1      329       329      330       330         0         0          0     E   frr_config_read_in
    0          0.091        36        2         9        3         9         0         0          0   W     mgmt_fe_client_write
    0          0.034         1       34        34       36        36         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.166        36        4        10        5        11         0         0          0  R      mgmt_fe_adapter_read
    0          0.065         1       65        65       65        65         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.087         1       87        87       88        88         0         0          0  R      mgmt_be_conn_accept
    1          0.020         1       20        20       20        20         0         0          0  R      mgmt_fe_conn_accept
    0          0.038        35        1         4        1         4         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          0.006         1        6         6        6         6         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.010         1       10        10       11        11         0         0          0  R      mgmt_be_adapter_read
    0          1.806        45       40       145       40       145         0         0          0  R      vtysh_read
    1          0.454        19       23        44       24        46         0         0          0  R      vtysh_accept
    1          0.103        35        2         6        3         7         0         0          0  R      mgmt_fe_client_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.548       284       12       329       13       330         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        179.857     11242       15     11191       18     11218         0         0          0    TE   work_queue_run
    0          0.003         1        3         3        3         3         0         0          0    T    rib_sweep_route
    0          0.102         2       51        82       52        84         0         0          0    T    if_zebra_speed_update
    0          1.075         1     1075      1075     1076      1076         0         0          0     E   frr_config_read_in
    1          0.364        19       19        49       20        52         0         0          0  R      vtysh_accept
    0         12.155        46      264      8243      264      8244         0         0          0  R      vtysh_read
    0         95.181      1310       72      1508       77      4808         0         0          0     E   zserv_process_messages
    0        431.320       501      860      3997     1001      4983         0         0          0     E   rib_process_dplane_results
    1          0.453         4      113       117      113       117         0         0          0  R      zserv_accept
    1          0.064         4       16        32       16        34         0         0          0  R      kernel_read


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.140         3       46       131       47       132         0         0          0  R      dplane_incoming_read
    0          0.187         1      187       187      188       188         0         0          0     E   dplane_incoming_request
    0       1649.030       578     2852     14149    20167    927847         0         0          0     E   dplane_thread_loop


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.008         1        8         8        9         9         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.033         1       33        33       34        34         0         0          0  R      zserv_read
    0          0.046         2       23        42       27        50         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1         75.274      1440       52      2013       53      3492         0         0          0  R      zserv_read
    0        112.707     12323        9      6909       13      6909         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.020         1       20        20       21        21         0         0          0  R      zserv_read
    0          0.012         1       12        12       13        13         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1        105.812        51     2074      2529     2086      2609         0         0          0  R      zserv_read
    0        136.820     15676        8       398       13       652         0         0          0   W     zserv_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    8       2800.663     43208       64     14149      301    927847         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.057         6        9        15       10        16         0         0          0    T    update_group_refresh_default_originate_route_map
    2          0.083         1       83        83       84        84         0         0          0  R      bgp_accept
    2        330.028     51472        6      5041        8      6116         0         0          0  R      zclient_read
    0          0.002         2        1         1        1         2         0         0          0    T    (bgp_routeadv_timer)
    0         16.164         1    16164     16164    16165     16165         0         0          0     E   frr_config_read_in
    0          0.075         2       37        64       38        65         0         0          0     E   zclient_connect
    0          0.010         1       10        10       11        11         0         0          0    T    subgroup_coalesce_timer
    0         71.988        57     1262     66926     1263     66926         0         0          0  R      vtysh_read
    0          0.078         2       39        50       68       109         0         0          0     E   bgp_event
    0          1.865        48       38       175       39       176         0         0          0   W     vtysh_write
    0          0.129         1      129       129      130       130         0         0          0    T    bgp_route_map_update_timer
    0         23.202        56      414      2990      424      2991         0         0          0     E   bgp_process_packet
    0         20.718       151      137      3728      161      4170         0         0          0    T    (bgp_generate_updgrp_packets)
    1          0.438        19       23        93       23        96         0         0          0  R      vtysh_accept
    0        206.941        78     2653     18050     2988     20026         0         0          0    T    work_queue_run


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          4.134        85       48       125       49       126         0         0          0   W     bgp_process_writes
    1          1.378        56       24        65       25        67         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6        677.290     52038       13     66926       15     66926         0         0          0  RWTEX  TOTAL

Thread statistics for sharpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         61.799         8     7724     10377     7726     10377         0         0          0   W     zclient_flush_data
    1        117.054     51462        2        43        3       781         0         0          0  R      zclient_read
    0          0.063         1       63        63       63        63         0         0          0     E   zclient_connect
    0         13.936        46      302     12145      303     12146         0         0          0  R      vtysh_read
    1          0.338        19       17        39       18        41         0         0          0  R      vtysh_accept
    0          0.052         1       52        52       53        53         0         0          0     E   frr_config_read_in


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2        193.242     51537        3     12145        4     12146         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.066         1       66        66       67        67         0         0          0    T    mgmt_be_client_conn_timeout
    1          0.063        17        3        11        4        12         0         0          0  R      zclient_read
    0          0.005         1        5         5        6         6         0         0          0   W     mgmt_be_client_write
    1          0.344        19       18        56       19        58         0         0          0  R      vtysh_accept
    0          0.068         1       68        68       69        69         0         0          0     E   zclient_connect
    0          1.775        45       39       162       40       163         0         0          0  R      vtysh_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.321        84       27       162       28       163         0         0          0  RWTEX  TOTAL:
R:165  ce2    BGPd heap: 7484 KiB --&gt; 40 MiB (0.6503 KiB/vpn route)    1    0
Tue Oct 31 08:14:31 2023 (#166) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show thread cpu":.:pass:Zebra heap: 5200 KiB --&gt; 33 MiB (0.556 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.319        38        8        29        8        29         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.039        37        1         2        1         2         0         0          0   W     mgmt_fe_adapter_write
    0          0.329         1      329       329      330       330         0         0          0     E   frr_config_read_in
    0          0.094        38        2         9        3         9         0         0          0   W     mgmt_fe_client_write
    0          0.034         1       34        34       36        36         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.173        38        4        10        5        11         0         0          0  R      mgmt_fe_adapter_read
    0          0.065         1       65        65       65        65         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.087         1       87        87       88        88         0         0          0  R      mgmt_be_conn_accept
    1          0.020         1       20        20       20        20         0         0          0  R      mgmt_fe_conn_accept
    0          0.039        37        1         4        1         4         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          0.006         1        6         6        6         6         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.010         1       10        10       11        11         0         0          0  R      mgmt_be_adapter_read
    0          1.974        48       41       145       41       145         0         0          0  R      vtysh_read
    1          0.470        20       23        44       24        46         0         0          0  R      vtysh_accept
    1          0.109        37        2         6        3         7         0         0          0  R      mgmt_fe_client_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.768       300       12       329       13       330         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        179.857     11242       15     11191       18     11218         0         0          0    TE   work_queue_run
    0          0.003         1        3         3        3         3         0         0          0    T    rib_sweep_route
    0          0.102         2       51        82       52        84         0         0          0    T    if_zebra_speed_update
    0          1.075         1     1075      1075     1076      1076         0         0          0     E   frr_config_read_in
    1          0.379        20       18        49       20        52         0         0          0  R      vtysh_accept
    0         12.327        49      251      8243      252      8244         0         0          0  R      vtysh_read
    0         95.181      1310       72      1508       77      4808         0         0          0     E   zserv_process_messages
    0        431.320       501      860      3997     1001      4983         0         0          0     E   rib_process_dplane_results
    1          0.453         4      113       117      113       117         0         0          0  R      zserv_accept
    1          0.064         4       16        32       16        34         0         0          0  R      kernel_read


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.140         3       46       131       47       132         0         0          0  R      dplane_incoming_read
    0          0.187         1      187       187      188       188         0         0          0     E   dplane_incoming_request
    0       1649.030       578     2852     14149    20167    927847         0         0          0     E   dplane_thread_loop


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.008         1        8         8        9         9         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.033         1       33        33       34        34         0         0          0  R      zserv_read
    0          0.046         2       23        42       27        50         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1         75.274      1440       52      2013       53      3492         0         0          0  R      zserv_read
    0        112.707     12323        9      6909       13      6909         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.020         1       20        20       21        21         0         0          0  R      zserv_read
    0          0.012         1       12        12       13        13         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1        105.812        51     2074      2529     2086      2609         0         0          0  R      zserv_read
    0        136.820     15676        8       398       13       652         0         0          0   W     zserv_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    8       2800.850     43212       64     14149      301    927847         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.057         6        9        15       10        16         0         0          0    T    update_group_refresh_default_originate_route_map
    2          0.083         1       83        83       84        84         0         0          0  R      bgp_accept
    2        330.028     51472        6      5041        8      6116         0         0          0  R      zclient_read
    0          0.002         2        1         1        1         2         0         0          0    T    (bgp_routeadv_timer)
    0         16.164         1    16164     16164    16165     16165         0         0          0     E   frr_config_read_in
    0          0.075         2       37        64       38        65         0         0          0     E   zclient_connect
    0          0.010         1       10        10       11        11         0         0          0    T    subgroup_coalesce_timer
    0         72.275        60     1204     66926     1205     66926         0         0          0  R      vtysh_read
    0          0.078         2       39        50       68       109         0         0          0     E   bgp_event
    0          1.865        48       38       175       39       176         0         0          0   W     vtysh_write
    0          0.129         1      129       129      130       130         0         0          0    T    bgp_route_map_update_timer
    0         23.202        56      414      2990      424      2991         0         0          0     E   bgp_process_packet
    0         20.718       151      137      3728      161      4170         0         0          0    T    (bgp_generate_updgrp_packets)
    1          0.521        20       26        93       27        96         0         0          0  R      vtysh_accept
    0        206.941        78     2653     18050     2988     20026         0         0          0    T    work_queue_run


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          4.134        85       48       125       49       126         0         0          0   W     bgp_process_writes
    1          1.378        56       24        65       25        67         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6        677.660     52042       13     66926       15     66926         0         0          0  RWTEX  TOTAL

Thread statistics for sharpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         61.799         8     7724     10377     7726     10377         0         0          0   W     zclient_flush_data
    1        117.054     51462        2        43        3       781         0         0          0  R      zclient_read
    0          0.063         1       63        63       63        63         0         0          0     E   zclient_connect
    0         14.049        49      286     12145      287     12146         0         0          0  R      vtysh_read
    1          0.352        20       17        39       18        41         0         0          0  R      vtysh_accept
    0          0.052         1       52        52       53        53         0         0          0     E   frr_config_read_in


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2        193.369     51541        3     12145        4     12146         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.066         1       66        66       67        67         0         0          0    T    mgmt_be_client_conn_timeout
    1          0.063        17        3        11        4        12         0         0          0  R      zclient_read
    0          0.005         1        5         5        6         6         0         0          0   W     mgmt_be_client_write
    1          0.357        20       17        56       18        58         0         0          0  R      vtysh_accept
    0          0.068         1       68        68       69        69         0         0          0     E   zclient_connect
    0          1.914        48       39       162       40       163         0         0          0  R      vtysh_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.473        88       28       162       28       163         0         0          0  RWTEX  TOTAL:
R:166  ce2    Zebra heap: 5200 KiB --&gt; 33 MiB (0.556 KiB/vpn route)    1    0
Tue Oct 31 08:14:31 2023 (#167) scripts/scale_up.py:0 COMMAND:ce3:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        56
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  32 MiB
  Holding block headers: 193 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  29 MiB
  Free small blocks:     292 KiB
  Free ordinary blocks:  3938 KiB
  Ordinary blocks:       43525
  Small blocks:          3155
  Holding blocks:        25
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        5     24         120        5       136
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4955    356872
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        5    128         680        5       680
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       10 variable       800       10       800
POSIX sync primitives         :       10 variable       496       10       496
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      746 variable     36448      746     36448
Hash Bucket                   :     1032     32       41424     1034     41504
Hash Index                    :      373 variable    107144      373    107144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       40     40        1680       43      1800
Link Node                     :      418     24       10096    10672    256192
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        5    144         760     8103   1231656
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        6 variable    142416     3091    413896
Stream FIFO                   :        7     64         504        9       648
Route table                   :       13     56         728       13       728
Route node                    :   100030 variable  12003712   100030  12003712
Thread                        :       27    160        4536       27      4536
Thread master                 :       24 variable 100714560       24 100714560
Thread Poll Info              :       12 8388608  100712256       12 100712256
Thread stats                  :       27     96        2824       27      2824
Typed-hash bucket             :       11 variable   1053088       11   1053088
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368744    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        2      8          48        2        48
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        6  24608      147696        6    147696
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0      601    610616
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        5    144         760     7801   1185752
Nexthop Group Connected       :        4     40         160        4       160
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :    50014    152     7602128    50301   7645752
RIB destination               :    50017     88     4401608    50017   4401608
WQ wrapper                    :        0    120           0     7795    935400
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        3   3584       10776        3     10776

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  34 MiB
  Holding block headers: 97 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  33 MiB
  Free small blocks:     1904 bytes
  Free ordinary blocks:  477 KiB
  Ordinary blocks:       6
  Small blocks:          52
  Holding blocks:        13
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120      782   3221840
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2502     32      100400     2505    100536
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       49     40        2008       55      2264
Link Node                     :      352     24        8496      545     13240
Temporary memory              :       31 variable      1208       41      5688
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       20   1032       20640       20     20640
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        2    120         240        2       240
Route map name                :        9 variable       216       11       264
Route map index               :        2    152         320        2       320
Route map rule                :       14     40         560       14       560
Route map rule str            :       14 variable       336       14       336
Route map compiled            :       16 variable       384       16       384
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        2     16          48        2        48
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      104     56        5888      104      5888
Route node                    :        4    120         480        4       480
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       23     96        2472       23      2472
Typed-hash bucket             :       10 variable   1054104       10   1054104
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       112
BGP attribute                 :        8    328        2624        9      2952
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :   100035    192    20007048   100035  20007048
BGP route                     :    50013    136     6801800    50013   6801800
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         776        5       776
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0        4       288
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :        5     96         536        5       536
community                     :        4     40         176        6       256
community val                 :        4 variable        96        6       144
community str                 :        2   8192       16400        3     24600
extcommunity                  :        4     40         160        6       240
extcommunity val              :        4 variable        96        6       144
extcommunity str              :        4 variable       416        5       552
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        56
BGP nexthop                   :        1    184         184        1       184
BGP own address               :        2     64         144        2       144
Large Community               :        5     40         216        7       312
Large Community display string:        3     35         136        4       176
Large Community value         :        5     12         120        7       168
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1424 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109064     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 08:14:31 2023 (#167) scripts/scale_up.py:0 COMMAND:ce3:vtysh -c "show thread cpu":.:pass:BGPd heap: 7464 KiB --&gt; 34 MiB (0.5307 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.031        29        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    1          0.426        17       25        41       25        42         0         0          0  R      vtysh_accept
    1          0.005         1        5         5        6         6         0         0          0  R      mgmt_be_adapter_read
    0          0.030         1       30        30       31        31         0         0          0    T    mgmt_be_adapter_conn_init
    0          0.029        29        1         3        1         3         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          1.875        41       45       150       46       150         0         0          0  R      vtysh_read
    1          0.040         1       40        40       41        41         0         0          0  R      mgmt_be_conn_accept
    0          0.270        30        9        26        9        26         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    1          0.140        30        4        10        5        10         0         0          0  R      mgmt_fe_adapter_read
    1          0.010         1       10        10       11        11         0         0          0  R      mgmt_fe_conn_accept
    0          0.040         1       40        40       41        41         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.083        29        2         5        3         6         0         0          0  R      mgmt_fe_client_read
    0          0.078        30        2         7        3         8         0         0          0   W     mgmt_fe_client_write
    0          0.004         1        4         4        4         4         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          0.307         1      307       307      308       308         0         0          0     E   frr_config_read_in


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.368       242       13       307       14       308         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          7.301        41      178      5489      178      5498         0         0          0  R      vtysh_read
    0          1.011         1     1011      1011     1012      1012         0         0          0     E   frr_config_read_in
    0        443.302      5094       87     66112       94     72843         0         0          0     E   zserv_process_messages
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route
    0          0.126         2       63        77       63        78         0         0          0    T    if_zebra_speed_update
    1          0.418        17       24       112       25       116         0         0          0  R      vtysh_accept
    0        458.512     11520       39     58697       45     61042         0         0          0    TE   work_queue_run
    1          0.359         3      119       130      119       130         0         0          0  R      zserv_accept
    1          0.058         4       14        28       15        29         0         0          0  R      kernel_read
    0         87.524       568      154      1156      177      1188         0         0          0     E   rib_process_dplane_results


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.070         3       23        62       24        63         0         0          0  R      dplane_incoming_read
    0       1635.341       592     2762     17848    20201   1477919         0         0          0     E   dplane_thread_loop
    0          0.137         1      137       137      137       137         0         0          0     E   dplane_incoming_request


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.005         1        5         5        7         7         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.039         2       19        34       19        34         0         0          0   W     zserv_write
    1          0.036         1       36        36       37        37         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.028         3        9        11       10        13         0         0          0   W     zserv_write
    1        157.175      5955       26      2145       30     11399         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.012         1       12        12       13        13         0         0          0   W     zserv_write
    1          0.032         1       32        32       32        32         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    7       2791.489     23811      117     66112      556   1477919         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          1.387        48       28       151       29       152         0         0          0   W     vtysh_write
    2          0.112        27        4        16        4        16         0         0          0  R      zclient_read
    0        181.422        60     3023     18942     4572     36770         0         0          0    T    work_queue_run
    0          0.042         6        7        13        7        13         0         0          0    T    update_group_refresh_default_originate_route_map
    0        102.019        79     1291     10992     1315     10993         0         0          0     E   bgp_process_packet
    0          0.091         2       45        60       82       134         0         0          0     E   bgp_event
    0          0.009         1        9         9       10        10         0         0          0    T    subgroup_coalesce_timer
    0          0.087        27        3        25        3        26         0         0          0    T    (bgp_generate_updgrp_packets)
    0          0.631         5      126       552     1215      2624         0         0          0   W     zclient_flush_data
    0          0.003         2        1         2        2         3         0         0          0    T    (bgp_routeadv_timer)
    2          0.131         1      131       131      132       132         0         0          0  R      bgp_accept
    1          0.298        17       17        32       18        35         0         0          0  R      vtysh_accept
    0         64.318        53     1213     60771     1214     60791         0         0          0  R      vtysh_read
    0          0.067         2       33        54       35        56         0         0          0     E   zclient_connect
    0          0.084         1       84        84       85        85         0         0          0    T    bgp_route_map_update_timer
    0          9.017         1     9017      9017     9017      9017         0         0          0     E   frr_config_read_in


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          1.091        23       47        82       48        82         0         0          0   W     bgp_process_writes
    1          2.069        81       25        80       26        82         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6        362.878       436      832     60771     1063     60791         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.048         1       48        48       49        49         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.069         1       69        69       70        70         0         0          0     E   zclient_connect
    0          1.731        41       42       169       42       170         0         0          0  R      vtysh_read
    1          0.063        17        3        11        4        12         0         0          0  R      zclient_read
    0          0.005         1        5         5        6         6         0         0          0   W     mgmt_be_client_write
    1          0.323        17       19        52       20        55         0         0          0  R      vtysh_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.239        78       28       169       29       170         0         0          0  RWTEX  TOTAL:
R:167  ce3    BGPd heap: 7464 KiB --&gt; 34 MiB (0.5307 KiB/vpn route)    1    0
Tue Oct 31 08:14:31 2023 (#168) scripts/scale_up.py:0 COMMAND:ce3:vtysh -c "show thread cpu":.:pass:Zebra heap: 4924 KiB --&gt; 32 MiB (0.5415 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.033        31        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    1          0.459        18       25        41       26        42         0         0          0  R      vtysh_accept
    1          0.005         1        5         5        6         6         0         0          0  R      mgmt_be_adapter_read
    0          0.030         1       30        30       31        31         0         0          0    T    mgmt_be_adapter_conn_init
    0          0.033        31        1         3        1         3         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          2.064        44       46       150       47       150         0         0          0  R      vtysh_read
    1          0.040         1       40        40       41        41         0         0          0  R      mgmt_be_conn_accept
    0          0.285        32        8        26        9        26         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    1          0.152        32        4        10        5        10         0         0          0  R      mgmt_fe_adapter_read
    1          0.010         1       10        10       11        11         0         0          0  R      mgmt_fe_conn_accept
    0          0.040         1       40        40       41        41         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.090        31        2         5        3         6         0         0          0  R      mgmt_fe_client_read
    0          0.085        32        2         7        3         8         0         0          0   W     mgmt_fe_client_write
    0          0.004         1        4         4        4         4         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          0.307         1      307       307      308       308         0         0          0     E   frr_config_read_in


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.637       258       14       307       14       308         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          7.575        44      172      5489      172      5498         0         0          0  R      vtysh_read
    0          1.011         1     1011      1011     1012      1012         0         0          0     E   frr_config_read_in
    0        443.302      5094       87     66112       94     72843         0         0          0     E   zserv_process_messages
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route
    0          0.126         2       63        77       63        78         0         0          0    T    if_zebra_speed_update
    1          0.435        18       24       112       25       116         0         0          0  R      vtysh_accept
    0        458.512     11520       39     58697       45     61042         0         0          0    TE   work_queue_run
    1          0.359         3      119       130      119       130         0         0          0  R      zserv_accept
    1          0.058         4       14        28       15        29         0         0          0  R      kernel_read
    0         87.524       568      154      1156      177      1188         0         0          0     E   rib_process_dplane_results


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.070         3       23        62       24        63         0         0          0  R      dplane_incoming_read
    0       1635.341       592     2762     17848    20201   1477919         0         0          0     E   dplane_thread_loop
    0          0.137         1      137       137      137       137         0         0          0     E   dplane_incoming_request


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.005         1        5         5        7         7         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.039         2       19        34       19        34         0         0          0   W     zserv_write
    1          0.036         1       36        36       37        37         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.028         3        9        11       10        13         0         0          0   W     zserv_write
    1        157.175      5955       26      2145       30     11399         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.012         1       12        12       13        13         0         0          0   W     zserv_write
    1          0.032         1       32        32       32        32         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    7       2791.780     23815      117     66112      556   1477919         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          1.387        48       28       151       29       152         0         0          0   W     vtysh_write
    2          0.112        27        4        16        4        16         0         0          0  R      zclient_read
    0        181.422        60     3023     18942     4572     36770         0         0          0    T    work_queue_run
    0          0.042         6        7        13        7        13         0         0          0    T    update_group_refresh_default_originate_route_map
    0        102.019        79     1291     10992     1315     10993         0         0          0     E   bgp_process_packet
    0          0.091         2       45        60       82       134         0         0          0     E   bgp_event
    0          0.009         1        9         9       10        10         0         0          0    T    subgroup_coalesce_timer
    0          0.087        27        3        25        3        26         0         0          0    T    (bgp_generate_updgrp_packets)
    0          0.631         5      126       552     1215      2624         0         0          0   W     zclient_flush_data
    0          0.003         2        1         2        2         3         0         0          0    T    (bgp_routeadv_timer)
    2          0.131         1      131       131      132       132         0         0          0  R      bgp_accept
    1          0.326        18       18        32       19        35         0         0          0  R      vtysh_accept
    0         64.482        56     1151     60771     1152     60791         0         0          0  R      vtysh_read
    0          0.067         2       33        54       35        56         0         0          0     E   zclient_connect
    0          0.084         1       84        84       85        85         0         0          0    T    bgp_route_map_update_timer
    0          9.017         1     9017      9017     9017      9017         0         0          0     E   frr_config_read_in


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          1.091        23       47        82       48        82         0         0          0   W     bgp_process_writes
    1          2.069        81       25        80       26        82         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6        363.070       440      825     60771     1053     60791         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.048         1       48        48       49        49         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.069         1       69        69       70        70         0         0          0     E   zclient_connect
    0          1.850        44       42       169       42       170         0         0          0  R      vtysh_read
    1          0.063        17        3        11        4        12         0         0          0  R      zclient_read
    0          0.005         1        5         5        6         6         0         0          0   W     mgmt_be_client_write
    1          0.342        18       19        52       20        55         0         0          0  R      vtysh_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.377        82       28       169       29       170         0         0          0  RWTEX  TOTAL:
R:168  ce3    Zebra heap: 4924 KiB --&gt; 32 MiB (0.5415 KiB/vpn route)   1    0
Tue Oct 31 08:14:31 2023 (#169) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1780 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  152 KiB
  Ordinary blocks:       6
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117896
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       488
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       16     45280
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1664       16      1664
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  34 MiB
  Holding block headers: 289 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  29 MiB
  Free small blocks:     106 KiB
  Free ordinary blocks:  5452 KiB
  Ordinary blocks:       45749
  Small blocks:          1177
  Holding blocks:        37
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         192        8       192
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356624     4955    356840
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231584     5785    231784
Hash                          :     1372 variable     66736     1372     66736
Hash Bucket                   :     1088     32       43680     1092     43856
Hash Index                    :      686 variable    188816      687    188952
Hook entry                    :        9     48         504        9       504
Interface                     :        4    272        1120        4      1120
Intf Desc                     :        2      7          48        2        48
Connected                     :        5     48         280        5       280
Link List                     :       61     40        2504       65      2648
Link Node                     :      750     24       18080    12412    297968
Temporary memory              :        4 variable        96        7       344
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       35    144        5352    11991   1822664
Nexthop label                 :       21 variable       504     4085     98040
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        3   1032        3096        3      3096
Prefix                        :        5     56         280        5       280
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832     1106    500536
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       25     56        1400       25      1400
Route node                    :   100071 variable  12008760   100071  12008760
ASCII table                   :        0 variable         0       14       544
Thread                        :       37    160        6216       37      6216
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       18 variable   1053608       18   1053608
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368728    11634    369056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        6       144
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        4    608        2464        4      2464
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0     1394   1416304
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        6     80         528        6       528
MPLS nexthop object           :        6     48         352       11       632
Nexthop Group Entry           :       25    144        3800    11560   1757120
Nexthop Group Connected       :       24     40         960       24       960
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :    50034    152     7605184    52717   8013000
RIB destination               :    50035     88     4403176    50035   4403176
WQ wrapper                    :        0 variable         0    11534   1384080
RIB table info                :        8     24         192        8       192
Zebra VRF table               :        8     56         448        8       448
Nexthop tracking object       :        5    248        1256        5      1256
ZEBRA VRF                     :        2   5072       10160        2     10160
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        2     80         192        2       192
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2465 KiB
  Free small blocks:     1680 bytes
  Free ordinary blocks:  99 KiB
  Ordinary blocks:       4
  Small blocks:          45
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     4296     72      309392     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      824     32       33088      824     33088
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         280        5       280
Informational Link Parameters :        0    120           0        1       120
Link List                     :       65     40        2648       81      3288
Link Node                     :      198     24        4768      241      5944
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        1   1032        1032        1      1032
Prefix                        :        5     56         280        5       280
Privilege information         :        3 variable       136        3       136
Stream                        :        6 variable    160608        9    165208
Route table                   :      148     56        8368      150      8480
Route node                    :       44    120        5296       48      5776
Thread                        :       16    160        2704       16      2704
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       22     96        2304       22      2304
Typed-hash bucket             :       13 variable       872       15       936
Skiplist overflow             :        0 variable         0        1        40
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        2    304         624        2       624
OSPF neighbor                 :        3   1520        4584        3      4584
OSPF route                    :       14     64        1008       16      1152
OSPF LSA                      :        7    128         952        9      1224
OSPF LSA data                 :        7 variable       376        9       472
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        1     24          24        4        96
OSPF FIFO queue               :        2     24          48        2        48
OSPF vertex                   :        0     80           0        7       616
OSPF vertex parent            :        0     32           0        6       240
OSPF nexthop                  :        0      8           0       11       280
OSPF path                     :       14     48         784       16       896
OSPF if info                  :        4     40         160        4       160
OSPF if params                :        4    120         480        4       480
OSPF MPLS parameters          :        4    248         992        4       992
OSPF Extended parameters      :        4    136         544        4       544
OSPF opaque function table    :        6    112         736        6       736
OSPF External route table     :        1     16          24        1        24
OSPF Redistriute              :        1     32          40        1        40

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1584 KiB
  Free small blocks:     1488 bytes
  Free ordinary blocks:  92 KiB
  Ordinary blocks:       5
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156304
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         296        5       296
Link List                     :       17     40         712       22       912
Link Node                     :      142     24        3472      195      4792
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        5     56         296        5       296
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1040       10      1040
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163880     5182    164128
VRF                           :        2    216         432        2       432
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  231 MiB
  Holding block headers: 100 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  228 MiB
  Free small blocks:     1856 bytes
  Free ordinary blocks:  2882 KiB
  Ordinary blocks:       63244
  Small blocks:          54
  Holding blocks:        16
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       112
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937928
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      627 variable     30776      627     30776
Hash Bucket                   :     2519     32      101112     2521    101192
Hash Index                    :      314 variable    480432      314    480432
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         328        5       328
Link List                     :       65     40        2696       73      3032
Link Node                     :      382     24        9216      623     15128
Temporary memory              :   100041 variable  13603720   100046  13603920
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        5    144         760        6       912
Nexthop label                 :        3      8          72        3        72
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        5     56         296        5       296
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        8 variable    393408       10    491760
Skip List                     :    50013     56     2962744    50014   2962800
Skip Node                     :   100028 variable  10413552   100029  10413720
Skiplist Counters             :    50013     68     3600936    50014   3601008
Socket union                  :        6    112         720        9      1080
Stream                        :        9 variable    425896       21    661400
Stream FIFO                   :        8     64         576       10       720
Route table                   :      170     56        9584      170      9584
Thread                        :       24    160        4048       24      4048
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       23     96        2440       23      2440
Typed-hash bucket             :       13 variable   4212248       13   4212248
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
VTY output buffer             :        0 variable         0        1      1288
Work queue                    :        4    144         608        5       760
Work queue item               :        0     24           0        2        48
Work queue name string        :        4 variable        96        5       120
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        2     24          48        2        48
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        4     16          96        4        96
Mac Hash Entry Intf String    :        4 variable        96        5       120
BGP instance                  :       10 variable     21584       10     21584
BGP listen socket details     :        6 variable       672        6       672
BGP peer                      :        6  20864      125232        7    146104
BGP peer hostname             :       10 variable       240       12       288
BGP peer af                   :        2     80         176        4       352
BGP update group              :        2    104         208        2       208
BGP update subgroup           :        2    240         496        2       496
BGP packet                    :        2     56         112        3       216
BGP attribute                 :       32    328       10496       32     10496
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :      157     56        8904      157      8904
BGP node                      :   300070    192    60014144   300070  60014144
BGP route                     :   250055    136    34008168   250055  34008168
BGP ancillary route info      :   200050    432    88022032   200050  88022032
BGP connected                 :        3      4          72        3        72
BGP adv attr                  :        0     24           0        3        72
BGP adv                       :        0     64           0     7439    535608
BGP synchronise               :        2     48         112        2       112
BGP adj out                   :    50012     96     5201552    51813   5388856
community                     :        3     40         120        4       160
community val                 :        3      4          72        4        96
community str                 :        3   8192       24600        3     24600
extcommunity                  :        9     40         376       10       432
extcommunity val              :        9 variable       216       10       240
extcommunity str              :        7 variable       792        8       944
community-list handler        :        1    120         136        1       136
Cluster list                  :        1     24          24        1        24
Cluster list val              :        1      4          24        1        24
BGP Process queue             :        0     32           0        2        80
BGP nexthop                   :        5    184         920        5       920
BGP own address               :        3     64         216        3       216
Large Community               :        7     40         296        8       336
Large Community display string:        7     35         296        7       296
Large Community value         :        7     12         168        8       192
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        2     34          80        2        80
BGP Martian Addr Intf String  :        3 variable        72        3        72
BGP PBR Context               :        2     32          80        2        80
BGP interface context         :        4      4          96        4        96
BGP EVPN instance information :        2     56         112        2       112
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :    50015     40     2009288    50015   2009288
RFAPI IT Extra                :    50013     40     2010488    50013   2010488

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1370 KiB
  Free small blocks:     1392 bytes
  Free ordinary blocks:  94 KiB
  Ordinary blocks:       1
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      290     32       11648      290     11648
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         296        5       296
Link List                     :       17     40         728       22       928
Link Node                     :      128     24        3104      178      4320
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        5     56         280        5       280
Stream                        :        3 variable     63896        4     80320
Route table                   :        8     56         448        8       448
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        72        1        72
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :       10 variable       720       10       720:
Tue Oct 31 08:14:31 2023 (#169) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show thread cpu":.:pass:BGPd heap: 7860 KiB --&gt; 231 MiB (4.4628 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.069        71        0         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    1          0.285        72        3        12        4        13         0         0          0  R      mgmt_fe_adapter_read
    0          0.470        72        6        49        7        49         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.061         1       61        61       62        62         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.198        71        2        12        3        13         0         0          0  R      mgmt_fe_client_read
    0          0.005         1        5         5        5         5         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          0.484         1      484       484      486       486         0         0          0     E   frr_config_read_in
    1          0.047         1       47        47       48        48         0         0          0  R      mgmt_be_conn_accept
    0          0.160        72        2        16        2        17         0         0          0   W     mgmt_fe_client_write
    1          0.842        37       22       107       23       111         0         0          0  R      vtysh_accept
    1          0.007         1        7         7        8         8         0         0          0  R      mgmt_be_adapter_read
    1          0.015         1       15        15       16        16         0         0          0  R      mgmt_fe_conn_accept
    0          0.039        71        0         4        1         4         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          0.041         1       41        41       41        41         0         0          0    T    mgmt_be_adapter_conn_init
    0          3.111        81       38       226       39       234         0         0          0  R      vtysh_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          5.834       554       10       484       11       486         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.730        37       19       127       20       128         0         0          0  R      vtysh_accept
    1          0.824         6      137       196      138       197         0         0          0  R      zserv_accept
    0        278.017     12497       22     20193       24     21983         0         0          0    TE   work_queue_run
    0        127.559       577      221     19908      230     24153         0         0          0     E   rib_process_dplane_results
    0        154.588     17376        8     28699       10     31335         0         0          0     E   zserv_process_messages
    1          0.129         8       16        44       17        46         0         0          0  R      kernel_read
    0          0.004         1        4         4        4         4         0         0          0    T    rib_sweep_route
    0          0.265         5       53        99       53        99         0         0          0    T    if_zebra_speed_update
    0          7.617        82       92      4709       93      4710         0         0          0  R      vtysh_read
    0          1.480         1     1480      1480     1482      1482         0         0          0     E   frr_config_read_in


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.191         1      191       191      191       191         0         0          0     E   dplane_incoming_request
    0       1751.201       911     1922      9619    14173   1061565         0         0          0     E   dplane_thread_loop
    1          0.139         6       23        86       23        86         0         0          0  R      dplane_incoming_read


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.035         4        8        20       10        22         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.108         7       15        39       16        39         0         0          0   W     zserv_write
    1          0.064         2       32        47       33        49         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.081         7       11        21       13        22         0         0          0   W     zserv_write
    1          0.346        13       26        41       27        43         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.157        13       12        33       14        44         0         0          0   W     zserv_write
    1        241.103     21999       10      3944       12      4460         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.060         5       12        18       13        19         0         0          0   W     zserv_write
    1          0.012         1       12        12       13        13         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.195        10       19        34       20        35         0         0          0   W     zserv_write
    1          0.173         5       34        53       35        55         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.043         3       14        16       15        17         0         0          0   W     zserv_write
    1          0.059         3       19        35       21        37         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10       2565.180     53580       47     28699      257   1061565         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.640        39       16        44       17        47         0         0          0  R      ospf_read
    1          0.691        37       18        27       19        28         0         0          0  R      vtysh_accept
    1          0.007         1        7         7        8         8         0         0          0    T    ospf_lsa_maxage_walker
    0          0.004         1        4         4        4         4         0         0          0    T    (ospf_wait_timer)
    0          1.504        40       37        81       38        82         0         0          0   W     ospf_write
    1          0.303        30       10        22       10        22         0         0          0    T    (ospf_hello_timer)
    0          0.216        63        3        29        3        30         0         0          0     EX  ospf_nsm_event
    1          0.173        42        4        23        4        25         0         0          0  R      zclient_read
    0          0.121         4       30        44       30        45         0         0          0     E   ospf_ism_event
    0          0.477         1      477       477      478       478         0         0          0     E   frr_config_read_in
    0          0.008         4        2         5        2         5         0         0          0    T    ospf_ase_calculate_timer
    0          0.007         4        1         3        2         4         0         0          0     E   ospf_ls_upd_send_queue_event
    1          0.021         9        2         7        3         8         0         0          0    T    (ospf_ls_upd_timer)
    0          2.308        81       28       124       29       124         0         0          0  R      vtysh_read
    1          0.172        48        3        16        4        17         0         0          0    T    (ospf_ls_ack_timer)
    1          0.014         5        2         6        3         8         0         0          0    T    ospf_lsa_refresh_walker
    0          0.053         1       53        53       54        54         0         0          0     E   zclient_connect
    0          0.158         7       22        58       23        59         0         0          0    T    ospf_spf_calculate_schedule_worker
    1          0.001         9        0         1        0         2         0         0          0    T    (ospf_ls_req_timer)


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    9          6.878       426       16       477       16       478         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          2.523        81       31       129       31       130         0         0          0  R      vtysh_read
    2          0.201         8       25        59       25        60         0         0          0  R      iev_ldpe-&gt;handler_read
    0          0.337         1      337       337      338       338         0         0          0     E   frr_config_read_in
    0          0.227        48        4        23        5        24         0         0          0   W     iev-&gt;handler_write
    1          0.259        43        6        34        6        36         0         0          0  R      zclient_read
    0          0.008         1        8         8        9         9         0         0          0     E   ldp_config_fork_apply
    0          0.039         1       39        39       39        39         0         0          0     E   zclient_connect
    1          0.564        37       15        43       16        45         0         0          0  R      vtysh_accept
    2          0.155         7       22        43       22        44         0         0          0  R      iev_lde-&gt;handler_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.313       227       19       337       19       338         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.033         1       33        33       33        33         0         0          0    T    (bgp_start_timer)
    0          0.036         2       18        22       18        22         0         0          0    T    subgroup_coalesce_timer
    0          1.573         1     1573      1573     1573      1573         0         0          0     E   frr_config_read_in
    1          0.541        37       14        75       15        78         0         0          0  R      vtysh_accept
    0          0.005         4        1         2        1         3         0         0          0    T    (bgp_routeadv_timer)
    2          0.500        63        7       131        8       131         0         0          0  R      zclient_read
    4          0.162         1      162       162      162       162         0         0          0  R      bgp_accept
    0        532.021       172     3093     51013     3122     51079         0         0          0     E   bgp_process_packet
    0          0.434         9       48        84       73       141         0         0          0     E   bgp_event
    0        404.498       178     2272     20522     3277     39318         0         0          0    T    work_queue_run
    0          0.081        10        8        16        9        18         0         0          0    T    update_group_refresh_default_originate_route_map
    0          0.000         1        0         0        1         1         0         0          0    T    update_subgroup_merge_check_thread_cb
    0          0.068         2       34        55       35        57         0         0          0     E   zclient_connect
    0          0.010         1       10        10       12        12         0         0          0   W     bgp_connect_check
    0          9.906       112       88      3269       89      3270         0         0          0  R      vtysh_read
    0         29.666       262      113      1862      156      1957         0         0          0    T    (bgp_generate_updgrp_packets)


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          6.029       148       40        90       41        91         0         0          0   W     bgp_process_writes
    2          3.864       181       21       105       21       106         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    9        989.427      1185      834     51013     1000     51079         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.005         1        5         5        5         5         0         0          0   W     mgmt_be_client_write
    1          0.177        36        4        26        5        27         0         0          0  R      zclient_read
    0          2.346        81       28       153       29       153         0         0          0  R      vtysh_read
    1          0.406        37       10        58       11        59         0         0          0  R      vtysh_accept
    0          0.051         1       51        51       51        51         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.072         1       72        72       73        73         0         0          0     E   zclient_connect


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          3.057       157       19       153       20       153         0         0          0  RWTEX  TOTAL:
R:169  r1     BGPd heap: 7860 KiB --&gt; 231 MiB (4.4628 KiB/vpn route)   1    0
Tue Oct 31 08:14:31 2023 (#170) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show thread cpu":.:pass:Zebra heap: 5708 KiB --&gt; 34 MiB (0.5658 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.071        73        0         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    1          0.306        74        4        12        4        13         0         0          0  R      mgmt_fe_adapter_read
    0          0.518        74        7        49        7        49         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.061         1       61        61       62        62         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.206        73        2        12        3        13         0         0          0  R      mgmt_fe_client_read
    0          0.005         1        5         5        5         5         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          0.484         1      484       484      486       486         0         0          0     E   frr_config_read_in
    1          0.047         1       47        47       48        48         0         0          0  R      mgmt_be_conn_accept
    0          0.181        74        2        16        3        17         0         0          0   W     mgmt_fe_client_write
    1          0.926        38       24       107       25       111         0         0          0  R      vtysh_accept
    1          0.007         1        7         7        8         8         0         0          0  R      mgmt_be_adapter_read
    1          0.015         1       15        15       16        16         0         0          0  R      mgmt_fe_conn_accept
    0          0.042        73        0         4        1         4         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          0.041         1       41        41       41        41         0         0          0    T    mgmt_be_adapter_conn_init
    0          3.410        84       40       226       41       234         0         0          0  R      vtysh_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          6.320       570       11       484       11       486         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.746        38       19       127       20       128         0         0          0  R      vtysh_accept
    1          0.824         6      137       196      138       197         0         0          0  R      zserv_accept
    0        278.017     12497       22     20193       24     21983         0         0          0    TE   work_queue_run
    0        127.559       577      221     19908      230     24153         0         0          0     E   rib_process_dplane_results
    0        154.588     17376        8     28699       10     31335         0         0          0     E   zserv_process_messages
    1          0.129         8       16        44       17        46         0         0          0  R      kernel_read
    0          0.004         1        4         4        4         4         0         0          0    T    rib_sweep_route
    0          0.265         5       53        99       53        99         0         0          0    T    if_zebra_speed_update
    0          7.810        85       91      4709       92      4710         0         0          0  R      vtysh_read
    0          1.480         1     1480      1480     1482      1482         0         0          0     E   frr_config_read_in


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.191         1      191       191      191       191         0         0          0     E   dplane_incoming_request
    0       1751.201       911     1922      9619    14173   1061565         0         0          0     E   dplane_thread_loop
    1          0.139         6       23        86       23        86         0         0          0  R      dplane_incoming_read


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.035         4        8        20       10        22         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.108         7       15        39       16        39         0         0          0   W     zserv_write
    1          0.064         2       32        47       33        49         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.081         7       11        21       13        22         0         0          0   W     zserv_write
    1          0.346        13       26        41       27        43         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.157        13       12        33       14        44         0         0          0   W     zserv_write
    1        241.103     21999       10      3944       12      4460         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.060         5       12        18       13        19         0         0          0   W     zserv_write
    1          0.012         1       12        12       13        13         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.195        10       19        34       20        35         0         0          0   W     zserv_write
    1          0.173         5       34        53       35        55         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.043         3       14        16       15        17         0         0          0   W     zserv_write
    1          0.059         3       19        35       21        37         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10       2565.389     53584       47     28699      257   1061565         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.652        40       16        44       17        47         0         0          0  R      ospf_read
    1          0.728        38       19        37       20        41         0         0          0  R      vtysh_accept
    1          0.007         1        7         7        8         8         0         0          0    T    ospf_lsa_maxage_walker
    0          0.004         1        4         4        4         4         0         0          0    T    (ospf_wait_timer)
    0          1.504        40       37        81       38        82         0         0          0   W     ospf_write
    1          0.303        30       10        22       10        22         0         0          0    T    (ospf_hello_timer)
    0          0.218        65        3        29        3        30         0         0          0     EX  ospf_nsm_event
    1          0.173        42        4        23        4        25         0         0          0  R      zclient_read
    0          0.121         4       30        44       30        45         0         0          0     E   ospf_ism_event
    0          0.477         1      477       477      478       478         0         0          0     E   frr_config_read_in
    0          0.008         4        2         5        2         5         0         0          0    T    ospf_ase_calculate_timer
    0          0.007         4        1         3        2         4         0         0          0     E   ospf_ls_upd_send_queue_event
    1          0.021         9        2         7        3         8         0         0          0    T    (ospf_ls_upd_timer)
    0          2.461        84       29       124       30       124         0         0          0  R      vtysh_read
    1          0.172        48        3        16        4        17         0         0          0    T    (ospf_ls_ack_timer)
    1          0.014         5        2         6        3         8         0         0          0    T    ospf_lsa_refresh_walker
    0          0.053         1       53        53       54        54         0         0          0     E   zclient_connect
    0          0.158         7       22        58       23        59         0         0          0    T    ospf_spf_calculate_schedule_worker
    1          0.001         9        0         1        0         2         0         0          0    T    (ospf_ls_req_timer)


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    9          7.082       433       16       477       17       478         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          2.671        84       31       129       32       130         0         0          0  R      vtysh_read
    2          0.201         8       25        59       25        60         0         0          0  R      iev_ldpe-&gt;handler_read
    0          0.337         1      337       337      338       338         0         0          0     E   frr_config_read_in
    0          0.227        48        4        23        5        24         0         0          0   W     iev-&gt;handler_write
    1          0.259        43        6        34        6        36         0         0          0  R      zclient_read
    0          0.008         1        8         8        9         9         0         0          0     E   ldp_config_fork_apply
    0          0.039         1       39        39       39        39         0         0          0     E   zclient_connect
    1          0.579        38       15        43       16        45         0         0          0  R      vtysh_accept
    2          0.155         7       22        43       22        44         0         0          0  R      iev_lde-&gt;handler_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.476       231       19       337       20       338         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.033         1       33        33       33        33         0         0          0    T    (bgp_start_timer)
    0          0.036         2       18        22       18        22         0         0          0    T    subgroup_coalesce_timer
    0          1.573         1     1573      1573     1573      1573         0         0          0     E   frr_config_read_in
    1          0.570        38       15        75       15        78         0         0          0  R      vtysh_accept
    0          0.005         4        1         2        1         3         0         0          0    T    (bgp_routeadv_timer)
    2          0.500        63        7       131        8       131         0         0          0  R      zclient_read
    4          0.162         1      162       162      162       162         0         0          0  R      bgp_accept
    0        532.021       172     3093     51013     3122     51079         0         0          0     E   bgp_process_packet
    0          0.434         9       48        84       73       141         0         0          0     E   bgp_event
    0        404.498       178     2272     20522     3277     39318         0         0          0    T    work_queue_run
    0          0.081        10        8        16        9        18         0         0          0    T    update_group_refresh_default_originate_route_map
    0          0.000         1        0         0        1         1         0         0          0    T    update_subgroup_merge_check_thread_cb
    0          0.068         2       34        55       35        57         0         0          0     E   zclient_connect
    0          0.010         1       10        10       12        12         0         0          0   W     bgp_connect_check
    0         10.088       115       87      3269       88      3270         0         0          0  R      vtysh_read
    0         29.666       262      113      1862      156      1957         0         0          0    T    (bgp_generate_updgrp_packets)


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          6.029       148       40        90       41        91         0         0          0   W     bgp_process_writes
    2          3.864       181       21       105       21       106         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    9        989.638      1189      832     51013      997     51079         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.005         1        5         5        5         5         0         0          0   W     mgmt_be_client_write
    1          0.177        36        4        26        5        27         0         0          0  R      zclient_read
    0          2.471        84       29       153       30       153         0         0          0  R      vtysh_read
    1          0.416        38       10        58       11        59         0         0          0  R      vtysh_accept
    0          0.051         1       51        51       51        51         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.072         1       72        72       73        73         0         0          0     E   zclient_connect


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          3.192       161       19       153       20       153         0         0          0  RWTEX  TOTAL:
R:170  r1     Zebra heap: 5708 KiB --&gt; 34 MiB (0.5658 KiB/vpn route)   1    0
Tue Oct 31 08:14:31 2023 (#171) scripts/scale_up.py:0 COMMAND:r2:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1796 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1392 bytes
  Free ordinary blocks:  168 KiB
  Ordinary blocks:       5
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       80      2048
Temporary memory              :        4 variable        96       20     61696
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1664       16      1664
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5724 KiB
  Holding block headers: 288 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4595 KiB
  Free small blocks:     2784 bytes
  Free ordinary blocks:  1129 KiB
  Ordinary blocks:       13
  Small blocks:          73
  Holding blocks:        36
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         208        8       208
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356624     4955    356840
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231584     5785    231784
Hash                          :     1364 variable     66272     1364     66272
Hash Bucket                   :     1085     32       43592     1085     43592
Hash Index                    :      682 variable    188544      683    188680
Hook entry                    :        8     48         448        8       448
Interface                     :        4    272        1120        4      1120
Intf Desc                     :        3      7          72        3        72
Connected                     :        7     48         392        7       392
Link List                     :       60     40        2464       63      2600
Link Node                     :      748     24       18096      814     19736
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       31    144        4712       37      5640
Nexthop label                 :       14      8         336       16       384
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        4   1032        4128        4      4128
Prefix                        :        7     56         392        7       392
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832       50    834080
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       15     56         840       15       840
Route node                    :       42 variable      5104       42      5104
Thread                        :       38    160        6384       38      6384
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       14 variable       864       14       864
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368776    11634    369104
VRF                           :        1    216         216        1       216
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        3        72
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        4    608        2464        4      2464
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       24     24384
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        3     80         280        3       280
MPLS nexthop object           :        4     48         224        6       336
Nexthop Group Entry           :       24    144        3664       25      3832
Nexthop Group Connected       :       27     40        1080       30      1200
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :       24    152        3664       24      3664
RIB destination               :       17     88        1512       17      1512
WQ wrapper                    :        0 variable         0       12    181568
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        3    248         744        3       744
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        4     80         352        4       352
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2494 KiB
  Free small blocks:     1632 bytes
  Free ordinary blocks:  70 KiB
  Ordinary blocks:       10
  Small blocks:          45
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     4296     72      309408     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      826     32       33184      826     33184
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Informational Link Parameters :        0    120           0        1       120
Link List                     :       80     40        3248      101      4104
Link Node                     :      214     24        5152      257      6264
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        3   1032        3096        3      3096
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Stream                        :        9 variable    160888       13    168392
Route table                   :      316     56       17872      318     18000
Route node                    :       62    120        7472       75      9032
Thread                        :       30    160        5040       30      5040
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       23     96        2424       23      2424
Typed-hash bucket             :       19 variable      1144       27      1376
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        4    304        1248        4      1248
OSPF neighbor                 :        8   1520       12224        8     12224
OSPF route                    :       18     64        1296       24      1728
OSPF LSA                      :        7    128         952       11      1496
OSPF LSA data                 :        7 variable       376       11       584
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        4     24          96        8       192
OSPF FIFO queue               :        4     24          96        4        96
OSPF vertex                   :        0     80           0        7       616
OSPF vertex parent            :        0     32           0        7       280
OSPF nexthop                  :        0      8           0       14       336
OSPF path                     :       22     48        1232       28      1568
OSPF if info                  :        4     40         160        4       160
OSPF if params                :        5    120         600        5       600
OSPF MPLS parameters          :        4    248         992        4       992
OSPF Extended parameters      :        4    136         544        4       544
OSPF opaque function table    :        6    112         736        6       736

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1584 KiB
  Free small blocks:     1504 bytes
  Free ordinary blocks:  92 KiB
  Ordinary blocks:       6
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156304
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Link List                     :       17     40         712       22       912
Link Node                     :      144     24        3520      199      4888
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1056       10      1056
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124408     5182    124560
Vector index                  :     5175 variable    163864     5182    164128
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  215 MiB
  Holding block headers: 99 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  211 MiB
  Free small blocks:     1856 bytes
  Free ordinary blocks:  3885 KiB
  Ordinary blocks:       100996
  Small blocks:          54
  Holding blocks:        15
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      577 variable     28328      579     28424
Hash Bucket                   :     2505     32      100616     2507    100712
Hash Index                    :      289 variable    434984      290    437040
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Link List                     :       53     40        2168       59      2424
Link Node                     :      357     24        8616      547     13304
Temporary memory              :   100045 variable  13604264   100046  13604304
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        4    144         624        6       928
Nexthop label                 :        4      8          96        4        96
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        8 variable    393408       10    491776
Skip List                     :    50014     56     2989232    50015   2989304
Skip Node                     :   150034 variable  12425984   150035  12426152
Skiplist Counters             :    50014     68     3601024    50015   3601096
Socket union                  :        9    112        1080       10      1200
Stream                        :        7 variable    293720       23    900248
Stream FIFO                   :        8     64         576       10       720
Route table                   :      104     56        5904      104      5904
Thread                        :       24    160        4048       24      4048
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       22     96        2336       22      2336
Typed-hash bucket             :       11 variable   3159632       11   3159632
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        2        48
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        3     24          72        3        72
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        4     16          96        4        96
Mac Hash Entry Intf String    :        4 variable        96        5       120
BGP instance                  :        6 variable     10816        6     10816
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        5  20864      104360        6    125232
BGP peer hostname             :        9 variable       216       10       240
BGP peer af                   :        3     80         264        5       440
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        2       512
BGP packet                    :        1     56          72        8       448
BGP attribute                 :       24    328        7872       24      7872
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       91     56        5144       91      5144
BGP node                      :   200050    192    40010048   200050  40010048
BGP route                     :   200040    136    27205840   200040  27205840
BGP ancillary route info      :   200040    432    88017616   200040  88017616
BGP connected                 :        4      4          96        4        96
BGP adv attr                  :        0     24           0       10       240
BGP adv                       :        0     64           0    11240    809296
BGP synchronise               :        1     48          56        2       112
BGP adj out                   :   100020     96    10402560   100020  10402560
community                     :        3     40         136        4       176
community val                 :        3      4          72        4        96
community str                 :        3   8192       24600        3     24600
extcommunity                  :        4     40         176        5       216
extcommunity val              :        4 variable        96        5       120
extcommunity str              :        4 variable       480        4       480
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        2        80
BGP nexthop                   :        3    184         552        3       552
BGP own address               :        4     64         288        4       288
Large Community               :        7     40         312        8       352
Large Community display string:        7     35         296        7       296
Large Community value         :        7     12         168        8       192
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        3     34         120        3       120
BGP Martian Addr Intf String  :        4 variable        96        4        96
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        4      4          96        4        96
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :   100020     40     4001600   100020   4001600
RFAPI IT Extra                :    50015     40     2006728    50015   2006728

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1369 KiB
  Free small blocks:     1376 bytes
  Free ordinary blocks:  95 KiB
  Ordinary blocks:       2
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Link List                     :       17     40         728       22       928
Link Node                     :      130     24        3152      182      4448
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        7     56         392        7       392
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        72        1        72
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 08:14:31 2023 (#171) scripts/scale_up.py:0 COMMAND:r2:vtysh -c "show thread cpu":.:pass:BGPd heap: 7636 KiB --&gt; 215 MiB (4.1473 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.005         1        5         5        5         5         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          0.035        33        1         6        1         7         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          0.036        33        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    1          0.007         1        7         7        7         7         0         0          0  R      mgmt_be_adapter_read
    1          0.173        34        5        18        5        18         0         0          0  R      mgmt_fe_adapter_read
    1          0.462        18       25        52       26        54         0         0          0  R      vtysh_accept
    1          0.012         1       12        12       13        13         0         0          0  R      mgmt_fe_conn_accept
    0          1.961        43       45       120       46       121         0         0          0  R      vtysh_read
    0          0.312        34        9        43        9        43         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    1          0.035         1       35        35       35        35         0         0          0  R      mgmt_be_conn_accept
    1          0.123        33        3        21        4        21         0         0          0  R      mgmt_fe_client_read
    0          0.500         1      500       500      501       501         0         0          0     E   frr_config_read_in
    0          0.104        34        3        11        3        12         0         0          0   W     mgmt_fe_client_write
    0          0.033         1       33        33       33        33         0         0          0    T    mgmt_be_adapter_conn_init
    0          0.042         1       42        42       43        43         0         0          0    T    mgmt_fe_client_conn_timeout


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.840       269       14       500       14       501         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.004         1        4         4        4         4         0         0          0    T    rib_sweep_route
    1          0.286        18       15        26       16        26         0         0          0  R      vtysh_accept
    0          0.438        38       11        87       12        98         0         0          0     E   rib_process_dplane_results
    0          0.370        15       24        88       46       243         0         0          0    T    work_queue_run
    0          1.777         1     1777      1777     1778      1778         0         0          0     E   frr_config_read_in
    0          1.834        43       42       173       43       174         0         0          0  R      vtysh_read
    1          0.109        10       10        22       11        23         0         0          0  R      kernel_read
    1          0.773         6      128       197      129       197         0         0          0  R      zserv_accept
    0          0.122         4       30        63       31        64         0         0          0    T    if_zebra_speed_update
    0          1.362        55       24       151       26       191         0         0          0     E   zserv_process_messages


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.126         6       21        91       23       102         0         0          0  R      dplane_incoming_read
    0          0.177         1      177       177      205       205         0         0          0     E   dplane_incoming_request
    0          4.897        44      111       290      115       291         0         0          0     E   dplane_thread_loop


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.029         5        5         8        6         9         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.104         3       34        64       40        81         0         0          0   W     zserv_write
    1          0.068         1       68        68       69        69         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.086         3       28        45       40        80         0         0          0   W     zserv_write
    1          0.691        32       21        47       22        49         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.176        11       16        28       16        28         0         0          0   W     zserv_write
    1          0.337        10       33        75       34        77         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.022         2       11        14       12        15         0         0          0   W     zserv_write
    1          0.030         1       30        30       31        31         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.152        13       11        23       13        34         0         0          0   W     zserv_write
    1          0.241         9       26        49       27        50         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.041         3       13        15       13        15         0         0          0   W     zserv_write
    1          0.065         3       21        29       22        30         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10         14.317       338       42      1777       44      1778         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    4          0.034        36        0         6        1         7         0         0          0    T    (ospf_ls_upd_timer)
    1          0.263        18       14        35       15        36         0         0          0  R      vtysh_accept
    0          0.228        11       20        64       21        64         0         0          0     E   ospf_ism_event
    0          0.009         3        3         4        3         4         0         0          0     E   ospf_ls_ack_send_event
    1          2.140       124       17        53       18        53         0         0          0  R      ospf_read
    1          0.007         1        7         7        8         8         0         0          0    T    ospf_lsa_maxage_walker
    0          0.261         8       32        61       57       148         0         0          0    T    ospf_spf_calculate_schedule_worker
    0          0.769         1      769       769      769       769         0         0          0     E   frr_config_read_in
    4          0.008        36        0         2        0         3         0         0          0    T    (ospf_ls_req_timer)
    3          0.129       144        0        12        1        12         0         0          0    T    (ospf_ls_ack_timer)
    0          3.559        62       57       160       63       166         0         0          0   W     ospf_write
    0          2.559       250       10      1475       10      1475         0         0          0     EX  ospf_nsm_event
    0          1.574        43       36       133       37       134         0         0          0  R      vtysh_read
    0          0.005         3        1         3        1         3         0         0          0    T    (ospf_wait_timer)
    1          0.008         5        1         3        2         4         0         0          0    T    ospf_lsa_refresh_walker
    0          0.059         1       59        59       60        60         0         0          0     E   zclient_connect
    3          0.356        90        3        28        4        30         0         0          0    T    (ospf_hello_timer)
    1          0.149        47        3        15        3        16         0         0          0  R      zclient_read
    0          0.008         5        1         4        2         5         0         0          0    T    ospf_ase_calculate_timer
    0          0.039        22        1         5        2         5         0         0          0     E   ospf_ls_upd_send_queue_event


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   19         12.164       910       13      1475       14      1475         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.044         1       44        44       45        45         0         0          0     E   zclient_connect
    0          0.010         1       10        10       11        11         0         0          0     E   ldp_config_fork_apply
    1          0.383        18       21        56       22        57         0         0          0  R      vtysh_accept
    0          0.315         1      315       315      315       315         0         0          0     E   frr_config_read_in
    0          0.187        52        3        18        3        19         0         0          0   W     iev-&gt;handler_write
    1          0.206        46        4        22        5        23         0         0          0  R      zclient_read
    2          0.188        11       17        27       17        28         0         0          0  R      iev_lde-&gt;handler_read
    0          1.727        43       40       126       40       127         0         0          0  R      vtysh_read
    2          0.545        19       28        95       29        97         0         0          0  R      iev_ldpe-&gt;handler_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.605       192       18       315       19       315         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    2          0.330        59        5        80        6        83         0         0          0  R      zclient_read
    0          0.057         2       28        44       29        45         0         0          0     E   zclient_connect
    1          0.277        18       15        25       16        27         0         0          0  R      vtysh_accept
    0        469.033       161     2913     35741     2927     35740         0         0          0     E   bgp_process_packet
    0        164.854        71     2321     20384     2332     20962         0         0          0    T    work_queue_run
    0          0.003         2        1         2        2         2         0         0          0   W     bgp_connect_check
    0          0.048         3       16        39       16        40         0         0          0    T    (bgp_start_timer)
    0          1.485         1     1485      1485     1485      1485         0         0          0     E   frr_config_read_in
    0          0.005         6        0         1        1         2         0         0          0    T    (bgp_routeadv_timer)
    2          0.112         1      112       112      112       112         0         0          0  R      bgp_accept
    0         38.739       471       82      4171      115     14911         0         0          0    T    (bgp_generate_updgrp_packets)
    0          0.034         4        8        11        9        11         0         0          0    T    update_group_refresh_default_originate_route_map
    0          0.073         2       36        42       36        42         0         0          0    T    subgroup_coalesce_timer
    0          0.614        12       51       132       71       132         0         0          0     E   bgp_event
    0          8.730        56      155      5581      156      5581         0         0          0  R      vtysh_read


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    3          4.237       177       23        95       24        95         0         0          0  R      bgp_process_reads
    0         11.196       257       43       129       44       130         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    8        699.827      1303      537     35741      551     35740         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.108        32        3        17        3        17         0         0          0  R      zclient_read
    0          1.468        43       34       153       34       154         0         0          0  R      vtysh_read
    1          0.323        18       17        35       19        37         0         0          0  R      vtysh_accept
    0          0.069         1       69        69       70        70         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.005         1        5         5        5         5         0         0          0   W     mgmt_be_client_write
    0          0.064         1       64        64       65        65         0         0          0     E   zclient_connect


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.037        96       21       153       21       154         0         0          0  RWTEX  TOTAL:
R:171  r2     BGPd heap: 7636 KiB --&gt; 215 MiB (4.1473 KiB/vpn route)   1    0
Tue Oct 31 08:14:31 2023 (#172) scripts/scale_up.py:0 COMMAND:r2:vtysh -c "show thread cpu":.:pass:Zebra heap: 5724 KiB --&gt; 5724 KiB (0.0 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.005         1        5         5        5         5         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          0.037        35        1         6        1         7         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          0.038        35        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    1          0.007         1        7         7        7         7         0         0          0  R      mgmt_be_adapter_read
    1          0.193        36        5        18        5        18         0         0          0  R      mgmt_fe_adapter_read
    1          0.479        19       25        52       26        54         0         0          0  R      vtysh_accept
    1          0.012         1       12        12       13        13         0         0          0  R      mgmt_fe_conn_accept
    0          2.136        46       46       120       47       121         0         0          0  R      vtysh_read
    0          0.333        36        9        43        9        43         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    1          0.035         1       35        35       35        35         0         0          0  R      mgmt_be_conn_accept
    1          0.128        35        3        21        4        21         0         0          0  R      mgmt_fe_client_read
    0          0.500         1      500       500      501       501         0         0          0     E   frr_config_read_in
    0          0.108        36        3        11        3        12         0         0          0   W     mgmt_fe_client_write
    0          0.033         1       33        33       33        33         0         0          0    T    mgmt_be_adapter_conn_init
    0          0.042         1       42        42       43        43         0         0          0    T    mgmt_fe_client_conn_timeout


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.086       285       14       500       14       501         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.004         1        4         4        4         4         0         0          0    T    rib_sweep_route
    1          0.304        19       16        26       16        26         0         0          0  R      vtysh_accept
    0          0.438        38       11        87       12        98         0         0          0     E   rib_process_dplane_results
    0          0.370        15       24        88       46       243         0         0          0    T    work_queue_run
    0          1.777         1     1777      1777     1778      1778         0         0          0     E   frr_config_read_in
    0          2.006        46       43       173       44       174         0         0          0  R      vtysh_read
    1          0.109        10       10        22       11        23         0         0          0  R      kernel_read
    1          0.773         6      128       197      129       197         0         0          0  R      zserv_accept
    0          0.122         4       30        63       31        64         0         0          0    T    if_zebra_speed_update
    0          1.362        55       24       151       26       191         0         0          0     E   zserv_process_messages


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.126         6       21        91       23       102         0         0          0  R      dplane_incoming_read
    0          0.177         1      177       177      205       205         0         0          0     E   dplane_incoming_request
    0          4.897        44      111       290      115       291         0         0          0     E   dplane_thread_loop


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.029         5        5         8        6         9         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.104         3       34        64       40        81         0         0          0   W     zserv_write
    1          0.068         1       68        68       69        69         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.086         3       28        45       40        80         0         0          0   W     zserv_write
    1          0.691        32       21        47       22        49         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.176        11       16        28       16        28         0         0          0   W     zserv_write
    1          0.337        10       33        75       34        77         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.022         2       11        14       12        15         0         0          0   W     zserv_write
    1          0.030         1       30        30       31        31         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.152        13       11        23       13        34         0         0          0   W     zserv_write
    1          0.241         9       26        49       27        50         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.041         3       13        15       13        15         0         0          0   W     zserv_write
    1          0.065         3       21        29       22        30         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10         14.507       342       42      1777       45      1778         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    4          0.034        36        0         6        1         7         0         0          0    T    (ospf_ls_upd_timer)
    1          0.275        19       14        35       15        36         0         0          0  R      vtysh_accept
    0          0.228        11       20        64       21        64         0         0          0     E   ospf_ism_event
    0          0.009         3        3         4        3         4         0         0          0     E   ospf_ls_ack_send_event
    1          2.140       124       17        53       18        53         0         0          0  R      ospf_read
    1          0.007         1        7         7        8         8         0         0          0    T    ospf_lsa_maxage_walker
    0          0.261         8       32        61       57       148         0         0          0    T    ospf_spf_calculate_schedule_worker
    0          0.769         1      769       769      769       769         0         0          0     E   frr_config_read_in
    4          0.008        36        0         2        0         3         0         0          0    T    (ospf_ls_req_timer)
    3          0.129       144        0        12        1        12         0         0          0    T    (ospf_ls_ack_timer)
    0          3.559        62       57       160       63       166         0         0          0   W     ospf_write
    0          2.559       250       10      1475       10      1475         0         0          0     EX  ospf_nsm_event
    0          1.676        46       36       133       37       134         0         0          0  R      vtysh_read
    0          0.005         3        1         3        1         3         0         0          0    T    (ospf_wait_timer)
    1          0.008         5        1         3        2         4         0         0          0    T    ospf_lsa_refresh_walker
    0          0.059         1       59        59       60        60         0         0          0     E   zclient_connect
    3          0.356        90        3        28        4        30         0         0          0    T    (ospf_hello_timer)
    1          0.149        47        3        15        3        16         0         0          0  R      zclient_read
    0          0.008         5        1         4        2         5         0         0          0    T    ospf_ase_calculate_timer
    0          0.039        22        1         5        2         5         0         0          0     E   ospf_ls_upd_send_queue_event


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   19         12.278       914       13      1475       14      1475         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.044         1       44        44       45        45         0         0          0     E   zclient_connect
    0          0.010         1       10        10       11        11         0         0          0     E   ldp_config_fork_apply
    1          0.398        19       20        56       22        57         0         0          0  R      vtysh_accept
    0          0.315         1      315       315      315       315         0         0          0     E   frr_config_read_in
    0          0.187        52        3        18        3        19         0         0          0   W     iev-&gt;handler_write
    1          0.206        46        4        22        5        23         0         0          0  R      zclient_read
    2          0.188        11       17        27       17        28         0         0          0  R      iev_lde-&gt;handler_read
    0          1.888        46       41       126       41       127         0         0          0  R      vtysh_read
    2          0.545        19       28        95       29        97         0         0          0  R      iev_ldpe-&gt;handler_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.781       196       19       315       19       315         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    2          0.330        59        5        80        6        83         0         0          0  R      zclient_read
    0          0.057         2       28        44       29        45         0         0          0     E   zclient_connect
    1          0.289        19       15        25       16        27         0         0          0  R      vtysh_accept
    0        469.033       161     2913     35741     2927     35740         0         0          0     E   bgp_process_packet
    0        164.854        71     2321     20384     2332     20962         0         0          0    T    work_queue_run
    0          0.003         2        1         2        2         2         0         0          0   W     bgp_connect_check
    0          0.048         3       16        39       16        40         0         0          0    T    (bgp_start_timer)
    0          1.485         1     1485      1485     1485      1485         0         0          0     E   frr_config_read_in
    0          0.005         6        0         1        1         2         0         0          0    T    (bgp_routeadv_timer)
    2          0.112         1      112       112      112       112         0         0          0  R      bgp_accept
    0         38.739       471       82      4171      115     14911         0         0          0    T    (bgp_generate_updgrp_packets)
    0          0.034         4        8        11        9        11         0         0          0    T    update_group_refresh_default_originate_route_map
    0          0.073         2       36        42       36        42         0         0          0    T    subgroup_coalesce_timer
    0          0.614        12       51       132       71       132         0         0          0     E   bgp_event
    0          8.934        59      151      5581      152      5581         0         0          0  R      vtysh_read


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    3          4.237       177       23        95       24        95         0         0          0  R      bgp_process_reads
    0         11.196       257       43       129       44       130         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    8        700.043      1307      535     35741      550     35740         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.108        32        3        17        3        17         0         0          0  R      zclient_read
    0          1.570        46       34       153       34       154         0         0          0  R      vtysh_read
    1          0.346        19       18        35       19        37         0         0          0  R      vtysh_accept
    0          0.069         1       69        69       70        70         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.005         1        5         5        5         5         0         0          0   W     mgmt_be_client_write
    0          0.064         1       64        64       65        65         0         0          0     E   zclient_connect


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.162       100       21       153       22       154         0         0          0  RWTEX  TOTAL:
R:172  r2     Zebra heap: 5724 KiB --&gt; 5724 KiB (0.0 KiB/vpn route)    1    0
Tue Oct 31 08:14:31 2023 (#173) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1796 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  168 KiB
  Ordinary blocks:       5
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       80      2048
Temporary memory              :        4 variable        96       20     61696
MGMTD Frontend session        :        1     40          40        1        56
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1664       16      1664
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  32 MiB
  Holding block headers: 289 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  29 MiB
  Free small blocks:     111 KiB
  Free ordinary blocks:  3648 KiB
  Ordinary blocks:       37359
  Small blocks:          1234
  Holding blocks:        37
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         208        8       224
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356640     4955    356856
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :     1372 variable     66736     1372     66736
Hash Bucket                   :     1112     32       44640     1116     44816
Hash Index                    :      686 variable    189360      687    189624
Hook entry                    :       11     48         648       11       648
Interface                     :        5    272        1400        5      1400
Intf Desc                     :        3      7          72        3        72
Connected                     :        7     48         392        7       392
Link List                     :       68     40        2800       72      2960
Link Node                     :      754     24       18192     9588    230208
Temporary memory              :        4 variable        96        7       696
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       56    144        8512     8564   1301728
Nexthop label                 :       35 variable       840     3728     89488
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        56
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        4   1032        4128        4      4128
Prefix                        :        7     56         408        7       408
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832     1166    719504
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       26     56        1456       26      1456
Route node                    :   100076 variable  12009360   100076  12009360
ASCII table                   :        0 variable         0       49      2056
Thread                        :       39    160        6552       39      6552
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       19 variable   1053696       19   1053696
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279448    11634    279664
Vector index                  :    11625 variable    368744    11634    369072
VRF                           :        2    216         432        2       432
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        5       120
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        5    608        3080        5      3080
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0      704    715264
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        5     80         456        5       456
MPLS nexthop object           :        8     48         480       15       872
Nexthop Group Entry           :       37    144        5624     7942   1207184
Nexthop Group Connected       :       48     40        1936       48      1936
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :    50038    152     7605808    50038   7605808
RIB destination               :    50036     88     4403264    50036   4403264
WQ wrapper                    :        0 variable         0     7904    948480
RIB table info                :        8     24         192        8       192
Zebra VRF table               :        8     56         448        8       448
Nexthop tracking object       :        5    248        1240        5      1240
ZEBRA VRF                     :        2   5072       10160        2     10160
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        4     80         352        4       352
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2484 KiB
  Free small blocks:     1648 bytes
  Free ordinary blocks:  80 KiB
  Ordinary blocks:       7
  Small blocks:          44
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       112
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :     4296     72      309408     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      826     32       33168      826     33168
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         392        7       392
Informational Link Parameters :        0    120           0        1       120
Link List                     :       77     40        3112       97      3928
Link Node                     :      214     24        5152      257      6312
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Stream                        :        8 variable    160816       11    165384
Route table                   :      251     56       14200      253     14312
Route node                    :       54    120        6512       65      7848
Thread                        :       25    160        4200       25      4200
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       23     96        2408       23      2408
Typed-hash bucket             :       17 variable      1032       23      1232
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        3    304         936        3       936
OSPF neighbor                 :        6   1520        9168        6      9168
OSPF route                    :       16     64        1184       21      1544
OSPF LSA                      :        7    128         952       11      1496
OSPF LSA data                 :        7 variable       392       11       624
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        3     24          72        6       160
OSPF FIFO queue               :        3     24          72        3        72
OSPF vertex                   :        0     80           0        7       648
OSPF vertex parent            :        0     32           0        9       360
OSPF nexthop                  :        0      8           0       16       384
OSPF path                     :       22     48        1264       27      1544
OSPF if info                  :        5     40         200        5       200
OSPF if params                :        6    120         720        6       720
OSPF MPLS parameters          :        5    248        1240        5      1240
OSPF Extended parameters      :        5    136         680        5       680
OSPF opaque function table    :        6    112         736        6       736
OSPF External route table     :        1     16          24        1        24
OSPF Redistriute              :        1     32          40        1        40

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1585 KiB
  Free small blocks:     1552 bytes
  Free ordinary blocks:  91 KiB
  Ordinary blocks:       5
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156304
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         392        7       392
Link List                     :       19     40         808       24       992
Link Node                     :      144     24        3520      199      4904
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1056       10      1056
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124408     5182    124560
Vector index                  :     5175 variable    163880     5182    164128
VRF                           :        2    216         448        2       448
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  230 MiB
  Holding block headers: 100 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  228 MiB
  Free small blocks:     1872 bytes
  Free ordinary blocks:  2507 KiB
  Ordinary blocks:       64527
  Small blocks:          54
  Holding blocks:        16
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       128
Buffer data                   :        1   4120        4120       60    247200
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      627 variable     30776      627     30776
Hash Bucket                   :     2523     32      101288     2524    101344
Hash Index                    :      314 variable    480432      314    480432
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         424        7       424
Link List                     :       69     40        2840       77      3176
Link Node                     :      386     24        9328      627     15272
Temporary memory              :   100041 variable  13603720   100046  13603920
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        7    144        1064        7      1064
Nexthop label                 :        5      8         120        5       120
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         408        7       408
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        8 variable    393408        8    393408
Skip List                     :    50013     56     2980680    50014   2980736
Skip Node                     :   100028 variable  10410288   100029  10410456
Skiplist Counters             :    50013     68     3600936    50014   3601008
Socket union                  :        6    112         736        6       736
Stream                        :        9 variable    425896       18    661400
Stream FIFO                   :        8     64         576        8       576
Route table                   :      170     56        9584      170      9584
Thread                        :       23    160        3864       23      3864
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       24     96        2544       24      2544
Typed-hash bucket             :       13 variable   4212280       13   4212280
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
VTY output buffer             :        0 variable         0        1      1288
Work queue                    :        4    144         608        4       608
Work queue item               :        0     24           0        4        96
Work queue name string        :        4 variable        96        4        96
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        2     24          48        2        48
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        5     16         120        5       120
Mac Hash Entry Intf String    :        5 variable       120        6       144
BGP instance                  :       10 variable     21584       10     21584
BGP listen socket details     :        6 variable       672        6       672
BGP peer                      :        6  20864      125232        6    125232
BGP peer hostname             :       10 variable       240       11       264
BGP peer af                   :        2     80         176        2       176
BGP update group              :        2    104         208        2       208
BGP update subgroup           :        2    240         496        2       496
BGP packet                    :        2     56         128        3       216
BGP attribute                 :       33    328       10824       33     10824
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :      157     56        8920      157      8920
BGP node                      :   300072    192    60014496   300072  60014496
BGP route                     :   250055    136    34007928   250055  34007928
BGP ancillary route info      :   200050    432    88022032   200050  88022032
BGP connected                 :        4      4          96        4        96
BGP adv attr                  :        0     24           0        3        72
BGP adv                       :        0     64           0     7795    561240
BGP synchronise               :        2     48         128        2       128
BGP adj out                   :    50015     96     5201736    50015   5201736
community                     :        3     40         120        4       160
community val                 :        3      4          72        4        96
community str                 :        3   8192       24600        3     24600
extcommunity                  :        9     40         424       10       480
extcommunity val              :        9 variable       216       10       240
extcommunity str              :        7 variable       776        8       928
community-list handler        :        1    120         136        1       136
Cluster list                  :        1     24          24        1        24
Cluster list val              :        1      4          24        1        24
BGP Process queue             :        0     32           0        4       160
BGP nexthop                   :        5    184         920        5       920
BGP own address               :        4     64         288        4       288
Large Community               :        7     40         280        8       320
Large Community display string:        7     35         296        7       296
Large Community value         :        7     12         168        8       192
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        2     34          80        2        80
BGP Martian Addr Intf String  :        4 variable        96        4        96
BGP PBR Context               :        2     32          80        2        80
BGP interface context         :        5      4         120        5       120
BGP EVPN instance information :        2     56         112        2       112
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :    50015     40     2014792    50015   2014792
RFAPI IT Extra                :    50013     40     2009560    50013   2009560

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1371 KiB
  Free small blocks:     1424 bytes
  Free ordinary blocks:  93 KiB
  Ordinary blocks:       2
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      290     32       11648      290     11648
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         392        7       392
Link List                     :       19     40         808       24      1008
Link Node                     :      130     24        3152      182      4416
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        7     56         392        7       392
Stream                        :        3 variable     63896        4     80320
Route table                   :        8     56         448        8       448
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        72        1        72
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :       10 variable       720       10       720:
Tue Oct 31 08:14:31 2023 (#173) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show thread cpu":.:pass:BGPd heap: 7744 KiB --&gt; 230 MiB (4.4451 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.066        61        1         2        1         2         0         0          0   W     mgmt_fe_adapter_write
    1          0.187        61        3        11        3        12         0         0          0  R      mgmt_fe_client_read
    1          0.671        32       20        76       21        76         0         0          0  R      vtysh_accept
    1          0.271        62        4        11        4        12         0         0          0  R      mgmt_fe_adapter_read
    0          0.407         1      407       407      408       408         0         0          0     E   frr_config_read_in
    0          0.044        61        0         3        1         3         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          0.450        62        7        38        7        38         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    1          0.051         1       51        51       51        51         0         0          0  R      mgmt_be_conn_accept
    1          0.014         1       14        14       14        14         0         0          0  R      mgmt_fe_conn_accept
    0          2.684        71       37       160       38       160         0         0          0  R      vtysh_read
    1          0.007         1        7         7        8         8         0         0          0  R      mgmt_be_adapter_read
    0          0.159        62        2        22        3        23         0         0          0   W     mgmt_fe_client_write
    0          0.030         1       30        30       31        31         0         0          0    T    mgmt_be_adapter_conn_init
    0          0.047         1       47        47       48        48         0         0          0    T    mgmt_fe_client_conn_timeout
    0          0.008         1        8         8        9         9         0         0          0    T    mgmt_be_adapter_proc_msgbufs


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          5.096       479       10       407       11       408         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          6.592        72       91      3747       92      3747         0         0          0  R      vtysh_read
    0          0.005         1        5         5        6         6         0         0          0    T    rib_sweep_route
    1          0.647        32       20        51       21        53         0         0          0  R      vtysh_accept
    0          1.904         1     1904      1904     1905      1905         0         0          0     E   frr_config_read_in
    0        114.522       545      210      2573      246      5414         0         0          0     E   rib_process_dplane_results
    0        135.441     13018       10      1844       11      1844         0         0          0     E   zserv_process_messages
    1          0.111        11       10        21       13        38         0         0          0  R      kernel_read
    0        247.378     12715       19     10825       22     11090         0         0          0    TE   work_queue_run
    1          0.695         6      115       125      116       126         0         0          0  R      zserv_accept
    0          0.354         6       59       152       59       153         0         0          0    T    if_zebra_speed_update


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.164         7       23        93       23        93         0         0          0  R      dplane_incoming_read
    0       1675.340       632     2650     38413    20662   1476917         0         0          0     E   dplane_thread_loop
    0          0.181         1      181       181      182       182         0         0          0     E   dplane_incoming_request


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.020         4        5         7        5         8         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.063         2       31        39       32        40         0         0          0  R      zserv_read
    0          0.110         5       22        43       30        72         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.613        26       23        71       24        75         0         0          0  R      zserv_read
    0          0.087         8       10        21       11        21         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1        391.397     16821       23     84386       25     88620         0         0          0  R      zserv_read
    0          0.203        12       16        38       17        40         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.031         1       31        31       32        32         0         0          0  R      zserv_read
    0          0.054         3       18        30       18        32         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.235         7       33        54       34        54         0         0          0  R      zserv_read
    0          0.275        11       25        64       28        90         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.077         3       25        33       26        35         0         0          0  R      zserv_read
    0          0.039         3       13        16       13        17         0         0          0   W     zserv_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10       2576.538     43953       58     84386      320   1476917         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    3          0.009        27        0         1        0         1         0         0          0    T    (ospf_ls_req_timer)
    1          0.432        32       13        55       14        57         0         0          0  R      vtysh_accept
    1          1.598        83       19        55       19        56         0         0          0  R      ospf_read
    0          0.178         7       25        49       26        49         0         0          0     E   ospf_ism_event
    3          0.057        27        2        12        2        14         0         0          0    T    (ospf_ls_upd_timer)
    0          2.205        71       31       134       31       135         0         0          0  R      vtysh_read
    1          0.223        56        3        47        4        49         0         0          0  R      zclient_read
    0          0.210         8       26        43       79       357         0         0          0    T    ospf_spf_calculate_schedule_worker
    0          2.870        51       56       130       56       130         0         0          0   W     ospf_write
    2          0.256        58        4        21        5        23         0         0          0    T    (ospf_hello_timer)
    0          0.005         3        1         2        1         2         0         0          0     E   ospf_ls_ack_send_event
    1          0.013         1       13        13       14        14         0         0          0    T    ospf_lsa_maxage_walker
    0          0.069         1       69        69       70        70         0         0          0     E   zclient_connect
    0          0.007         4        1         5        2         6         0         0          0    T    ospf_ase_calculate_timer
    0          0.440       187        2        36        2        37         0         0          0     EX  ospf_nsm_event
    2          0.097        94        1        14        1        15         0         0          0    T    (ospf_ls_ack_timer)
    0          0.003         2        1         2        2         3         0         0          0    T    (ospf_wait_timer)
    0          0.738         1      738       738      738       738         0         0          0     E   frr_config_read_in
    0          0.032        14        2         6        2         7         0         0          0     E   ospf_ls_upd_send_queue_event
    1          0.012         5        2         3        2         3         0         0          0    T    ospf_lsa_refresh_walker


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   15          9.454       732       12       738       14       738         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.008         1        8         8        9         9         0         0          0     E   ldp_config_fork_apply
    1          0.280        54        5        30        5        31         0         0          0  R      zclient_read
    0          2.576        71       36       113       36       114         0         0          0  R      vtysh_read
    2          0.238        11       21        51       22        52         0         0          0  R      iev_lde-&gt;handler_read
    0          0.240        58        4        23        4        23         0         0          0   W     iev-&gt;handler_write
    2          0.338        11       30        67       31        68         0         0          0  R      iev_ldpe-&gt;handler_read
    1          0.571        32       17        30       18        33         0         0          0  R      vtysh_accept
    0          0.045         1       45        45       45        45         0         0          0     E   zclient_connect
    0          0.334         1      334       334      334       334         0         0          0     E   frr_config_read_in


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.630       240       19       334       19       334         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.019         1       19        19       20        20         0         0          0    T    (bgp_start_timer)
    0          0.043         2       21        37       22        37         0         0          0    T    subgroup_coalesce_timer
    0        361.026       169     2136     19608     3112     31751         0         0          0    T    work_queue_run
    0          0.067         2       33        54       34        55         0         0          0     E   zclient_connect
    0          0.009         2        4         7        5         7         0         0          0   W     bgp_connect_check
    0          1.575         1     1575      1575     1575      1575         0         0          0     E   frr_config_read_in
    0          0.398         9       44        95       66       120         0         0          0     E   bgp_event
    1          0.602        32       18        47       19        50         0         0          0  R      vtysh_accept
    0         25.742       217      118      2757      136      2881         0         0          0    T    (bgp_generate_updgrp_packets)
    0          0.007         4        1         2        2         2         0         0          0    T    (bgp_routeadv_timer)
    0          0.090        10        9        13        9        13         0         0          0    T    update_group_refresh_default_originate_route_map
    2          0.492        76        6       152        6       160         0         0          0  R      zclient_read
    0          0.105         4       26        45       27        46         0         0          0   W     zclient_flush_data
    0          0.000         1        0         0        1         1         0         0          0    T    update_subgroup_merge_check_thread_cb
    0        544.333       168     3240     32290     3265     32309         0         0          0     E   bgp_process_packet
    0         10.158        97      104      3827      105      3828         0         0          0  R      vtysh_read


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          5.655       125       45        99       45       100         0         0          0   W     bgp_process_writes
    2          3.896       187       20       129       21       129         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    5        954.217      1107      861     32290     1018     32309         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          2.334        71       32       142       33       143         0         0          0  R      vtysh_read
    0          0.005         1        5         5        6         6         0         0          0   W     mgmt_be_client_write
    1          0.188        46        4        45        4        47         0         0          0  R      zclient_read
    0          0.059         1       59        59       60        60         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.062         1       62        62       63        63         0         0          0     E   zclient_connect
    1          0.514        32       16        34       17        35         0         0          0  R      vtysh_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          3.162       152       20       142       21       143         0         0          0  RWTEX  TOTAL:
R:173  r3     BGPd heap: 7744 KiB --&gt; 230 MiB (4.4451 KiB/vpn route)   1    0
Tue Oct 31 08:14:31 2023 (#174) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show thread cpu":.:pass:Zebra heap: 6028 KiB --&gt; 32 MiB (0.5194 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.068        63        1         2        1         2         0         0          0   W     mgmt_fe_adapter_write
    1          0.194        63        3        11        3        12         0         0          0  R      mgmt_fe_client_read
    1          0.701        33       21        76       22        76         0         0          0  R      vtysh_accept
    1          0.287        64        4        11        5        12         0         0          0  R      mgmt_fe_adapter_read
    0          0.407         1      407       407      408       408         0         0          0     E   frr_config_read_in
    0          0.047        63        0         3        1         3         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          0.481        64        7        38        8        38         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    1          0.051         1       51        51       51        51         0         0          0  R      mgmt_be_conn_accept
    1          0.014         1       14        14       14        14         0         0          0  R      mgmt_fe_conn_accept
    0          2.839        74       38       160       39       160         0         0          0  R      vtysh_read
    1          0.007         1        7         7        8         8         0         0          0  R      mgmt_be_adapter_read
    0          0.172        64        2        22        3        23         0         0          0   W     mgmt_fe_client_write
    0          0.030         1       30        30       31        31         0         0          0    T    mgmt_be_adapter_conn_init
    0          0.047         1       47        47       48        48         0         0          0    T    mgmt_fe_client_conn_timeout
    0          0.008         1        8         8        9         9         0         0          0    T    mgmt_be_adapter_proc_msgbufs


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          5.353       495       10       407       11       408         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          6.789        75       90      3747       91      3747         0         0          0  R      vtysh_read
    0          0.005         1        5         5        6         6         0         0          0    T    rib_sweep_route
    1          0.676        33       20        51       21        53         0         0          0  R      vtysh_accept
    0          1.904         1     1904      1904     1905      1905         0         0          0     E   frr_config_read_in
    0        114.522       545      210      2573      246      5414         0         0          0     E   rib_process_dplane_results
    0        135.441     13018       10      1844       11      1844         0         0          0     E   zserv_process_messages
    1          0.111        11       10        21       13        38         0         0          0  R      kernel_read
    0        247.378     12715       19     10825       22     11090         0         0          0    TE   work_queue_run
    1          0.695         6      115       125      116       126         0         0          0  R      zserv_accept
    0          0.354         6       59       152       59       153         0         0          0    T    if_zebra_speed_update


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.164         7       23        93       23        93         0         0          0  R      dplane_incoming_read
    0       1675.340       632     2650     38413    20662   1476917         0         0          0     E   dplane_thread_loop
    0          0.181         1      181       181      182       182         0         0          0     E   dplane_incoming_request


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.020         4        5         7        5         8         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.063         2       31        39       32        40         0         0          0  R      zserv_read
    0          0.110         5       22        43       30        72         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.613        26       23        71       24        75         0         0          0  R      zserv_read
    0          0.087         8       10        21       11        21         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1        391.397     16821       23     84386       25     88620         0         0          0  R      zserv_read
    0          0.203        12       16        38       17        40         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.031         1       31        31       32        32         0         0          0  R      zserv_read
    0          0.054         3       18        30       18        32         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.235         7       33        54       34        54         0         0          0  R      zserv_read
    0          0.275        11       25        64       28        90         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.077         3       25        33       26        35         0         0          0  R      zserv_read
    0          0.039         3       13        16       13        17         0         0          0   W     zserv_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10       2576.764     43957       58     84386      320   1476917         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    3          0.009        27        0         1        0         1         0         0          0    T    (ospf_ls_req_timer)
    1          0.452        33       13        55       14        57         0         0          0  R      vtysh_accept
    1          1.598        83       19        55       19        56         0         0          0  R      ospf_read
    0          0.178         7       25        49       26        49         0         0          0     E   ospf_ism_event
    3          0.057        27        2        12        2        14         0         0          0    T    (ospf_ls_upd_timer)
    0          2.387        74       32       134       32       135         0         0          0  R      vtysh_read
    1          0.223        56        3        47        4        49         0         0          0  R      zclient_read
    0          0.210         8       26        43       79       357         0         0          0    T    ospf_spf_calculate_schedule_worker
    0          2.870        51       56       130       56       130         0         0          0   W     ospf_write
    2          0.256        58        4        21        5        23         0         0          0    T    (ospf_hello_timer)
    0          0.005         3        1         2        1         2         0         0          0     E   ospf_ls_ack_send_event
    1          0.013         1       13        13       14        14         0         0          0    T    ospf_lsa_maxage_walker
    0          0.069         1       69        69       70        70         0         0          0     E   zclient_connect
    0          0.007         4        1         5        2         6         0         0          0    T    ospf_ase_calculate_timer
    0          0.440       187        2        36        2        37         0         0          0     EX  ospf_nsm_event
    2          0.097        94        1        14        1        15         0         0          0    T    (ospf_ls_ack_timer)
    0          0.003         2        1         2        2         3         0         0          0    T    (ospf_wait_timer)
    0          0.738         1      738       738      738       738         0         0          0     E   frr_config_read_in
    0          0.032        14        2         6        2         7         0         0          0     E   ospf_ls_upd_send_queue_event
    1          0.012         5        2         3        2         3         0         0          0    T    ospf_lsa_refresh_walker


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   15          9.656       736       13       738       14       738         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.008         1        8         8        9         9         0         0          0     E   ldp_config_fork_apply
    1          0.280        54        5        30        5        31         0         0          0  R      zclient_read
    0          2.739        74       37       113       37       114         0         0          0  R      vtysh_read
    2          0.238        11       21        51       22        52         0         0          0  R      iev_lde-&gt;handler_read
    0          0.240        58        4        23        4        23         0         0          0   W     iev-&gt;handler_write
    2          0.338        11       30        67       31        68         0         0          0  R      iev_ldpe-&gt;handler_read
    1          0.598        33       18        30       19        33         0         0          0  R      vtysh_accept
    0          0.045         1       45        45       45        45         0         0          0     E   zclient_connect
    0          0.334         1      334       334      334       334         0         0          0     E   frr_config_read_in


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.820       244       19       334       20       334         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.019         1       19        19       20        20         0         0          0    T    (bgp_start_timer)
    0          0.043         2       21        37       22        37         0         0          0    T    subgroup_coalesce_timer
    0        361.026       169     2136     19608     3112     31751         0         0          0    T    work_queue_run
    0          0.067         2       33        54       34        55         0         0          0     E   zclient_connect
    0          0.009         2        4         7        5         7         0         0          0   W     bgp_connect_check
    0          1.575         1     1575      1575     1575      1575         0         0          0     E   frr_config_read_in
    0          0.398         9       44        95       66       120         0         0          0     E   bgp_event
    1          0.630        33       19        47       19        50         0         0          0  R      vtysh_accept
    0         25.742       217      118      2757      136      2881         0         0          0    T    (bgp_generate_updgrp_packets)
    0          0.007         4        1         2        2         2         0         0          0    T    (bgp_routeadv_timer)
    0          0.090        10        9        13        9        13         0         0          0    T    update_group_refresh_default_originate_route_map
    2          0.492        76        6       152        6       160         0         0          0  R      zclient_read
    0          0.105         4       26        45       27        46         0         0          0   W     zclient_flush_data
    0          0.000         1        0         0        1         1         0         0          0    T    update_subgroup_merge_check_thread_cb
    0        544.333       168     3240     32290     3265     32309         0         0          0     E   bgp_process_packet
    0         10.355       100      103      3827      104      3828         0         0          0  R      vtysh_read


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          5.655       125       45        99       45       100         0         0          0   W     bgp_process_writes
    2          3.896       187       20       129       21       129         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    5        954.442      1111      859     32290     1015     32309         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          2.479        74       33       142       34       143         0         0          0  R      vtysh_read
    0          0.005         1        5         5        6         6         0         0          0   W     mgmt_be_client_write
    1          0.188        46        4        45        4        47         0         0          0  R      zclient_read
    0          0.059         1       59        59       60        60         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.062         1       62        62       63        63         0         0          0     E   zclient_connect
    1          0.528        33       16        34       16        35         0         0          0  R      vtysh_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          3.321       156       21       142       21       143         0         0          0  RWTEX  TOTAL:
R:174  r3     Zebra heap: 6028 KiB --&gt; 32 MiB (0.5194 KiB/vpn route)   1    0
Tue Oct 31 08:14:31 2023 (#175) scripts/scale_up.py:0 COMMAND:r4:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1796 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  168 KiB
  Ordinary blocks:       5
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       13000      323     13000
Hash Index                    :       16 variable     11920       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       80      2064
Temporary memory              :        4 variable        96       20     61696
MGMTD Frontend session        :        1     40          40        1        56
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  60 MiB
  Holding block headers: 290 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  53 MiB
  Free small blocks:     237 KiB
  Free ordinary blocks:  7258 KiB
  Ordinary blocks:       86583
  Small blocks:          2568
  Holding blocks:        38
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         192        8       192
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356656     4958    357088
Command Token Text            :     3541 variable    117896     3547    118056
Command Token Help            :     3541 variable     85048     3547     85192
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     1198 variable     28752     1202     28848
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231632     5785    231832
Hash                          :     1380 variable     66992     1380     66992
Hash Bucket                   :     1112     32       44800     1116     44960
Hash Index                    :      690 variable    189136      691    189272
Hook entry                    :       14     48         784       14       784
Interface                     :        6    272        1680        6      1680
Intf Desc                     :        3      7          72        3        72
Connected                     :        7     48         392        8       448
Link List                     :       76     40        3200       83      3464
Link Node                     :      760     24       18384    35673    856312
Temporary memory              :        4 variable        96        7       696
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       55    144        8360    21781   3310712
Nexthop label                 :       22 variable       528    21748    521968
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        56
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        4   1032        4128        4      4128
Prefix                        :        7     56         392        8       448
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832     2507    965472
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       37     56        2072       37      2072
Route node                    :   200110 variable  24013392   200110  24013392
ASCII table                   :        0 variable         0       49      2056
Thread                        :       40    160        6720       40      6720
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       24 variable   2106624       24   2106624
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279400    11634    279616
Vector index                  :    11625 variable    368760    11634    369088
VRF                           :        3    216         648        3       648
VRF bit-map                   :       11      8         264       11       264
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        6       144
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        6    608        3696        6      3696
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0     1163   1181608
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        7     80         616        7       616
MPLS nexthop object           :        8     48         464       14       800
Nexthop Group Entry           :       37    144        5624    21186   3220272
Nexthop Group Connected       :       44     40        1808       44      1808
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :   100052    152    15207920   100626  15295168
RIB destination               :   100055     88     8804952   100055   8804952
WQ wrapper                    :        0 variable         0    21148   2537760
RIB table info                :       12     24         288       12       288
Zebra VRF table               :       12     56         672       12       672
Nexthop tracking object       :        7    248        1736        7      1736
ZEBRA VRF                     :        3   5072       15240        3     15240
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        4     80         352        4       352
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2474 KiB
  Free small blocks:     1696 bytes
  Free ordinary blocks:  90 KiB
  Ordinary blocks:       6
  Small blocks:          45
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     4296     72      309392     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      825     32       33128      825     33128
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Informational Link Parameters :        0    120           0        1       120
Link List                     :       75     40        3048       97      3960
Link Node                     :      210     24        5056      253      6248
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        1   1032        1032        1      1032
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Stream                        :        7 variable    160728       11    166904
Route table                   :      185     56       10440      187     10552
Route node                    :       50    120        6048       63      7608
Thread                        :       22    160        3696       22      3696
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       23     96        2392       23      2392
Typed-hash bucket             :       15 variable       952       20      1136
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        3    216         648        3       648
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        2    304         624        2       624
OSPF neighbor                 :        4   1520        6112        4      6112
OSPF route                    :       16     64        1152       23      1656
OSPF LSA                      :        7    128         968       16      2208
OSPF LSA data                 :        7 variable       392       16       640
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        2     24          48        6       144
OSPF FIFO queue               :        2     24          48        2        48
OSPF vertex                   :        0     80           0        7       616
OSPF vertex parent            :        0     32           0        7       280
OSPF nexthop                  :        0      8           0       13       312
OSPF path                     :       18     48        1008       25      1400
OSPF if info                  :        6     40         240        6       240
OSPF if params                :        7    120         840        7       840
OSPF MPLS parameters          :        6    248        1488        6      1488
OSPF Extended parameters      :        6    136         816        6       816
OSPF opaque function table    :        6    112         736        6       736
OSPF External route table     :        1     16          24        1        24
OSPF Redistriute              :        1     32          40        1        40

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1585 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  91 KiB
  Ordinary blocks:       6
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156288
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Link List                     :       21     40         872       26      1072
Link Node                     :      144     24        3520      199      4888
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1040       10      1040
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163880     5182    164128
VRF                           :        3    216         664        3       664
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  368 MiB
  Holding block headers: 101 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  364 MiB
  Free small blocks:     1872 bytes
  Free ordinary blocks:  4105 KiB
  Ordinary blocks:       106063
  Small blocks:          54
  Holding blocks:        17
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       112
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      677 variable     33224      677     33224
Hash Bucket                   :     2542     32      102048     2546    102224
Hash Index                    :      339 variable    525880      339    525880
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Link List                     :       85     40        3480       93      3816
Link Node                     :      417     24       10056      658     15952
Temporary memory              :   100031 variable  13602376   100035  13602536
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        7    144        1064        7      1080
Nexthop label                 :        3      8          72        3        72
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Ring buffer                   :       12 variable    590112       14    688480
Skip List                     :    50008     56     2981824    50009   2981896
Skip Node                     :   150018 variable  12429824   150019  12429992
Skiplist Counters             :    50008     68     3600576    50009   3600648
Socket union                  :        9    112        1096       12      1456
Stream                        :       11 variable    558072       20    793576
Stream FIFO                   :       12     64         864       14      1008
Route table                   :      236     56       13312      236     13312
Thread                        :       32    160        5376       32      5376
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       23     96        2440       23      2440
Typed-hash bucket             :       15 variable   5265056       15   5265056
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        3    216         648        3       648
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
VTY output buffer             :        0 variable         0        1      1304
Work queue                    :        5    144         760        6       912
Work queue item               :        0     24           0        4        96
Work queue name string        :        5 variable       120        6       144
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        3     24          72        3        72
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        6     16         160        6       160
Mac Hash Entry Intf String    :        6 variable       144        7       168
BGP instance                  :       16 variable     32400       16     32400
BGP listen socket details     :       10 variable      1008       10      1008
BGP peer                      :        9  20864      187848       10    208720
BGP peer hostname             :       15 variable       360       17       408
BGP peer af                   :        3     80         280        5       456
BGP update group              :        3    104         312        3       312
BGP update subgroup           :        3    240         744        3       744
BGP packet                    :        3     56         184        4       272
BGP attribute                 :       47    328       15416       47     15416
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :      223     56       12600      223     12600
BGP node                      :   400094    192    80018832   400094  80018832
BGP route                     :   400070    136    54410016   400070  54410016
BGP ancillary route info      :   400060    432   176026480   400060 176026480
BGP connected                 :        4      4          96        4        96
BGP adv attr                  :        0     24           0        4        96
BGP adv                       :        0     64           0    15590   1122480
BGP synchronise               :        3     48         168        3       168
BGP adj out                   :   100027     96    10403080   100027  10403080
BGP multipath info            :        8     48         448        8       448
community                     :        3     40         120        4       160
community val                 :        3      4          72        4        96
community str                 :        3   8192       24600        3     24600
extcommunity                  :       10     40         416       11       456
extcommunity val              :       10 variable       240       11       264
extcommunity str              :        6 variable       688        6       688
community-list handler        :        1    120         136        1       136
Cluster list                  :        1     24          24        1        24
Cluster list val              :        1      4          24        1        24
BGP Process queue             :        0     32           0        4       160
BGP nexthop                   :        7    184        1304        7      1304
BGP own address               :        4     64         288        4       288
Large Community               :        7     40         296        8       336
Large Community display string:        7     35         296        7       296
Large Community value         :        7     12         168        8       192
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        3     34         120        3       120
BGP Martian Addr Intf String  :        4 variable        96        4        96
BGP PBR Context               :        3     32         120        3       120
BGP interface context         :        6      4         144        6       144
BGP EVPN instance information :        3     56         168        3       168
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :   100010     40     4000800   100010   4000800
RFAPI IT Extra                :    50008     40     2015504    50008   2015504

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1372 KiB
  Free small blocks:     1392 bytes
  Free ordinary blocks:  92 KiB
  Ordinary blocks:       2
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3       104
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      293     32       11768      293     11768
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Link List                     :       21     40         888       26      1088
Link Node                     :      130     24        3152      182      4432
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        7     56         392        7       392
Stream                        :        3 variable     63896        4     80320
Route table                   :       12     56         672       12       672
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable       136        1       136
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        3    216         648        3       648
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :       15 variable      1080       15      1080:
Tue Oct 31 08:14:31 2023 (#175) scripts/scale_up.py:0 COMMAND:r4:vtysh -c "show thread cpu":.:pass:BGPd heap: 8340 KiB --&gt; 368 MiB (7.1932 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.007         1        7         7        8         8         0         0          0  R      mgmt_be_adapter_read
    0          0.655        72        9        38        9        39         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    1          0.010         1       10        10       11        11         0         0          0  R      mgmt_fe_conn_accept
    1          1.028        37       27        63       28        65         0         0          0  R      vtysh_accept
    1          0.031         1       31        31       31        31         0         0          0  R      mgmt_be_conn_accept
    0          0.217        72        3        12        3        12         0         0          0   W     mgmt_fe_client_write
    0          0.041         1       41        41       42        42         0         0          0    T    mgmt_be_adapter_conn_init
    0          0.039         1       39        39       40        40         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.368        72        5        12        5        12         0         0          0  R      mgmt_fe_adapter_read
    1          0.225        71        3         9        3         9         0         0          0  R      mgmt_fe_client_read
    0          0.007         1        7         7        8         8         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          0.086        71        1        10        1        12         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          0.487         1      487       487      488       488         0         0          0     E   frr_config_read_in
    0          3.291        81       40       111       41       112         0         0          0  R      vtysh_read
    0          0.077        71        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          6.569       554       11       487       12       488         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.643         8       80       229       84       230         0         0          0    T    if_zebra_speed_update
    0          0.010         1       10        10       11        11         0         0          0    T    rib_sweep_route
    0        460.280     13343       34     11568       35     11568         0         0          0    TE   work_queue_run
    0        172.011       881      195      1722      195      1722         0         0          0     E   rib_process_dplane_results
    0        242.010     29790        8      2126        8      2126         0         0          0     E   zserv_process_messages
    0          1.896         1     1896      1896     1898      1898         0         0          0     E   frr_config_read_in
    1          0.137        12       11        31       12        33         0         0          0  R      kernel_read
    0         14.005        84      166      9528      167      9528         0         0          0  R      vtysh_read
    1          1.187        37       32       218       33       221         0         0          0  R      vtysh_accept
    1          0.931         6      155       201      155       201         0         0          0  R      zserv_accept


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.104         5       20        82       22        88         0         0          0  R      dplane_incoming_read
    0          0.193         1      193       193      209       209         0         0          0     E   dplane_incoming_request
    0       2526.775      1281     1972      9817    10763    842208         0         0          0     E   dplane_thread_loop


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.027         4        6        10        8        15         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.063         2       31        41       32        42         0         0          0  R      zserv_read
    0          0.146         6       24        57       33        91         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          3.104        20      155      2557      155      2557         0         0          0  R      zserv_read
    0          0.169         4       42        62       67       132         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1        446.939     39345       11     13936       12     16106         0         0          0  R      zserv_read
    0          0.254        17       14        46       18        61         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.013         1       13        13       14        14         0         0          0  R      zserv_read
    0          0.061         4       15        27       18        36         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.223         7       31        49       33        51         0         0          0  R      zserv_read
    0          0.240        13       18        64       26        92         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.080         3       26        35       27        36         0         0          0  R      zserv_read
    0          0.046         3       15        21       16        21         0         0          0   W     zserv_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10       3871.547     84879       45     13936      179    842208         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.091        47        1        11        2        12         0         0          0    T    (ospf_ls_ack_timer)
    1          0.009         5        1         3        2         3         0         0          0    T    ospf_lsa_refresh_walker
    0          2.894        81       35       130       36       131         0         0          0  R      vtysh_read
    0          0.067         1       67        67       67        67         0         0          0     E   zclient_connect
    2          0.020        18        1         8        1         8         0         0          0    T    (ospf_ls_upd_timer)
    0          0.005         4        1         2        1         3         0         0          0    T    ospf_ase_calculate_timer
    1          0.238        29        8        27        8        29         0         0          0    T    (ospf_hello_timer)
    0          0.405       121        3        43        3        44         0         0          0     EX  ospf_nsm_event
    0          0.271         7       38        82       39        82         0         0          0    T    ospf_spf_calculate_schedule_worker
    1          1.426        77       18        71       19        72         0         0          0  R      ospf_read
    0          0.001         1        1         1        2         2         0         0          0     E   ospf_ls_ack_send_event
    0          0.110         4       27        61       28        61         0         0          0     E   ospf_ism_event
    0          2.034        40       50       103       51       103         0         0          0   W     ospf_write
    0          0.017         5        3         6        4         7         0         0          0     E   ospf_ls_upd_send_queue_event
    1          0.672        37       18        55       19        58         0         0          0  R      vtysh_accept
    2          0.012        18        0         8        1         8         0         0          0    T    (ospf_ls_req_timer)
    1          0.021         1       21        21       23        23         0         0          0    T    ospf_lsa_maxage_walker
    0          0.673         1      673       673      673       673         0         0          0     E   frr_config_read_in
    1          0.211        67        3        20        3        20         0         0          0  R      zclient_read
    0          0.003         1        3         3        4         4         0         0          0    T    (ospf_wait_timer)


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   11          9.180       565       16       673       16       673         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.314        63        4        33        5        35         0         0          0  R      zclient_read
    0          2.868        81       35       119       36       120         0         0          0  R      vtysh_read
    0          0.332         1      332       332      332       332         0         0          0     E   frr_config_read_in
    0          0.008         1        8         8        9         9         0         0          0     E   ldp_config_fork_apply
    2          0.261         9       29        53       29        54         0         0          0  R      iev_lde-&gt;handler_read
    0          0.223        64        3        22        4        22         0         0          0   W     iev-&gt;handler_write
    0          0.042         1       42        42       43        43         0         0          0     E   zclient_connect
    1          0.742        37       20        49       21        51         0         0          0  R      vtysh_accept
    2          0.535        21       25        69       26        71         0         0          0  R      iev_ldpe-&gt;handler_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          5.325       278       19       332       19       332         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.032         1       32        32       33        33         0         0          0    T    (bgp_start_timer)
    0          0.070         2       35        57       36        58         0         0          0     E   zclient_connect
    0          1.868         1     1868      1868     1868      1868         0         0          0     E   frr_config_read_in
    0        675.309       209     3231     38198     3441     38197         0         0          0    T    work_queue_run
    0          0.078         3       26        49       27        50         0         0          0    T    subgroup_coalesce_timer
    2          0.689        99        6       135        7       136         0         0          0  R      zclient_read
    0          0.497        15       33        66       53       127         0         0          0     E   bgp_event
    0          0.010         6        1         3        2         4         0         0          0    T    (bgp_routeadv_timer)
    0          0.016         2        8        11        9        12         0         0          0   W     bgp_connect_check
    1          0.703        37       19        38       19        39         0         0          0  R      vtysh_accept
    0        802.978       135     5947     92121     6088     92127         0         0          0     E   bgp_process_packet
    6          0.226         2      113       118      113       118         0         0          0  R      bgp_accept
    0          0.108        15        7        11        7        12         0         0          0    T    update_group_refresh_default_originate_route_map
    0         14.892       110      135      6371      136      6372         0         0          0  R      vtysh_read
    0          0.000         1        0         0        1         1         0         0          0    T    update_subgroup_merge_check_thread_cb
    0         47.235       297      159      2818      159      2818         0         0          0    T    (bgp_generate_updgrp_packets)


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          8.704       176       49       514       50       514         0         0          0   W     bgp_process_writes
    3          3.675       138       26       176       27       177         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   12       1557.090      1249     1246     92121     1297     92127         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.069         1       69        69       70        70         0         0          0    T    mgmt_be_client_conn_timeout
    0          3.018        81       37       156       37       157         0         0          0  R      vtysh_read
    0          0.072         1       72        72       73        73         0         0          0     E   zclient_connect
    1          0.715        37       19        88       20        92         0         0          0  R      vtysh_accept
    0          0.014         1       14        14       14        14         0         0          0   W     mgmt_be_client_write
    1          0.209        61        3        37        4        39         0         0          0  R      zclient_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          4.097       182       22       156       23       157         0         0          0  RWTEX  TOTAL:
R:175  r4     BGPd heap: 8340 KiB --&gt; 368 MiB (7.1932 KiB/vpn route)   1    0
Tue Oct 31 08:14:31 2023 (#176) scripts/scale_up.py:0 COMMAND:r4:vtysh -c "show thread cpu":.:pass:Zebra heap: 5868 KiB --&gt; 60 MiB (1.0826 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.007         1        7         7        8         8         0         0          0  R      mgmt_be_adapter_read
    0          0.665        74        8        38        9        39         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    1          0.010         1       10        10       11        11         0         0          0  R      mgmt_fe_conn_accept
    1          1.046        38       27        63       28        65         0         0          0  R      vtysh_accept
    1          0.031         1       31        31       31        31         0         0          0  R      mgmt_be_conn_accept
    0          0.222        74        3        12        3        12         0         0          0   W     mgmt_fe_client_write
    0          0.041         1       41        41       42        42         0         0          0    T    mgmt_be_adapter_conn_init
    0          0.039         1       39        39       40        40         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.377        74        5        12        5        12         0         0          0  R      mgmt_fe_adapter_read
    1          0.233        73        3         9        3         9         0         0          0  R      mgmt_fe_client_read
    0          0.007         1        7         7        8         8         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          0.087        73        1        10        1        12         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          0.487         1      487       487      488       488         0         0          0     E   frr_config_read_in
    0          3.424        84       40       111       41       112         0         0          0  R      vtysh_read
    0          0.080        73        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          6.756       570       11       487       12       488         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.643         8       80       229       84       230         0         0          0    T    if_zebra_speed_update
    0          0.010         1       10        10       11        11         0         0          0    T    rib_sweep_route
    0        460.280     13343       34     11568       35     11568         0         0          0    TE   work_queue_run
    0        172.011       881      195      1722      195      1722         0         0          0     E   rib_process_dplane_results
    0        242.010     29790        8      2126        8      2126         0         0          0     E   zserv_process_messages
    0          1.896         1     1896      1896     1898      1898         0         0          0     E   frr_config_read_in
    1          0.137        12       11        31       12        33         0         0          0  R      kernel_read
    0         14.235        87      163      9528      164      9528         0         0          0  R      vtysh_read
    1          1.206        38       31       218       33       221         0         0          0  R      vtysh_accept
    1          0.931         6      155       201      155       201         0         0          0  R      zserv_accept


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.104         5       20        82       22        88         0         0          0  R      dplane_incoming_read
    0          0.193         1      193       193      209       209         0         0          0     E   dplane_incoming_request
    0       2526.775      1281     1972      9817    10763    842208         0         0          0     E   dplane_thread_loop


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.027         4        6        10        8        15         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.063         2       31        41       32        42         0         0          0  R      zserv_read
    0          0.146         6       24        57       33        91         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          3.104        20      155      2557      155      2557         0         0          0  R      zserv_read
    0          0.169         4       42        62       67       132         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1        446.939     39345       11     13936       12     16106         0         0          0  R      zserv_read
    0          0.254        17       14        46       18        61         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.013         1       13        13       14        14         0         0          0  R      zserv_read
    0          0.061         4       15        27       18        36         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.223         7       31        49       33        51         0         0          0  R      zserv_read
    0          0.240        13       18        64       26        92         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.080         3       26        35       27        36         0         0          0  R      zserv_read
    0          0.046         3       15        21       16        21         0         0          0   W     zserv_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10       3871.796     84883       45     13936      179    842208         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.091        47        1        11        2        12         0         0          0    T    (ospf_ls_ack_timer)
    1          0.009         5        1         3        2         3         0         0          0    T    ospf_lsa_refresh_walker
    0          3.005        84       35       130       36       131         0         0          0  R      vtysh_read
    0          0.067         1       67        67       67        67         0         0          0     E   zclient_connect
    2          0.020        18        1         8        1         8         0         0          0    T    (ospf_ls_upd_timer)
    0          0.005         4        1         2        1         3         0         0          0    T    ospf_ase_calculate_timer
    1          0.238        29        8        27        8        29         0         0          0    T    (ospf_hello_timer)
    0          0.405       121        3        43        3        44         0         0          0     EX  ospf_nsm_event
    0          0.271         7       38        82       39        82         0         0          0    T    ospf_spf_calculate_schedule_worker
    1          1.426        77       18        71       19        72         0         0          0  R      ospf_read
    0          0.001         1        1         1        2         2         0         0          0     E   ospf_ls_ack_send_event
    0          0.110         4       27        61       28        61         0         0          0     E   ospf_ism_event
    0          2.034        40       50       103       51       103         0         0          0   W     ospf_write
    0          0.017         5        3         6        4         7         0         0          0     E   ospf_ls_upd_send_queue_event
    1          0.680        38       17        55       18        58         0         0          0  R      vtysh_accept
    2          0.012        18        0         8        1         8         0         0          0    T    (ospf_ls_req_timer)
    1          0.021         1       21        21       23        23         0         0          0    T    ospf_lsa_maxage_walker
    0          0.673         1      673       673      673       673         0         0          0     E   frr_config_read_in
    1          0.211        67        3        20        3        20         0         0          0  R      zclient_read
    0          0.003         1        3         3        4         4         0         0          0    T    (ospf_wait_timer)


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   11          9.299       569       16       673       16       673         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.314        63        4        33        5        35         0         0          0  R      zclient_read
    0          2.974        84       35       119       36       120         0         0          0  R      vtysh_read
    0          0.332         1      332       332      332       332         0         0          0     E   frr_config_read_in
    0          0.008         1        8         8        9         9         0         0          0     E   ldp_config_fork_apply
    2          0.261         9       29        53       29        54         0         0          0  R      iev_lde-&gt;handler_read
    0          0.223        64        3        22        4        22         0         0          0   W     iev-&gt;handler_write
    0          0.042         1       42        42       43        43         0         0          0     E   zclient_connect
    1          0.756        38       19        49       21        51         0         0          0  R      vtysh_accept
    2          0.535        21       25        69       26        71         0         0          0  R      iev_ldpe-&gt;handler_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          5.445       282       19       332       19       332         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.032         1       32        32       33        33         0         0          0    T    (bgp_start_timer)
    0          0.070         2       35        57       36        58         0         0          0     E   zclient_connect
    0          1.868         1     1868      1868     1868      1868         0         0          0     E   frr_config_read_in
    0        675.309       209     3231     38198     3441     38197         0         0          0    T    work_queue_run
    0          0.078         3       26        49       27        50         0         0          0    T    subgroup_coalesce_timer
    2          0.689        99        6       135        7       136         0         0          0  R      zclient_read
    0          0.497        15       33        66       53       127         0         0          0     E   bgp_event
    0          0.010         6        1         3        2         4         0         0          0    T    (bgp_routeadv_timer)
    0          0.016         2        8        11        9        12         0         0          0   W     bgp_connect_check
    1          0.713        38       18        38       19        39         0         0          0  R      vtysh_accept
    0        802.978       135     5947     92121     6088     92127         0         0          0     E   bgp_process_packet
    6          0.226         2      113       118      113       118         0         0          0  R      bgp_accept
    0          0.108        15        7        11        7        12         0         0          0    T    update_group_refresh_default_originate_route_map
    0         15.034       113      133      6371      133      6372         0         0          0  R      vtysh_read
    0          0.000         1        0         0        1         1         0         0          0    T    update_subgroup_merge_check_thread_cb
    0         47.235       297      159      2818      159      2818         0         0          0    T    (bgp_generate_updgrp_packets)


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          8.704       176       49       514       50       514         0         0          0   W     bgp_process_writes
    3          3.675       138       26       176       27       177         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   12       1557.242      1253     1242     92121     1293     92127         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.069         1       69        69       70        70         0         0          0    T    mgmt_be_client_conn_timeout
    0          3.138        84       37       156       38       157         0         0          0  R      vtysh_read
    0          0.072         1       72        72       73        73         0         0          0     E   zclient_connect
    1          0.727        38       19        88       20        92         0         0          0  R      vtysh_accept
    0          0.014         1       14        14       14        14         0         0          0   W     mgmt_be_client_write
    1          0.209        61        3        37        4        39         0         0          0  R      zclient_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          4.229       186       22       156       23       157         0         0          0  RWTEX  TOTAL:
R:176  r4     Zebra heap: 5868 KiB --&gt; 60 MiB (1.0826 KiB/vpn route)   1    0

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_check_scale_down" time="52.559"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/scale_down.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/scale_down.py
Tue Oct 31 08:14:31 2023 (#177) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show ip route" | grep -c \ 10\.\*/32:(.*):pass:Looking for sharp routes:
COMMAND OUTPUT:50000:
R:177  ce1    Looking for sharp routes                                 1    0
Tue Oct 31 08:14:31 2023 (#178) scripts/scale_down.py:0 COMMAND:ce3:vtysh -c "show bgp sum":.:pass:See 50000 sharp routes:
COMMAND OUTPUT:
IPv4 Unicast Summary (VRF default):
BGP router identifier 99.0.0.3, local AS number 5227 vrf-id 0
BGP table version 64658
RIB entries 100023, using 18 MiB of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.1     4       5227       101        24    64658    0    0 00:00:56        50008        5 N/A

Total number of neighbors 1:
R:178  ce3    See 50000 sharp routes                                   1    0
Tue Oct 31 08:14:31 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni" | grep Display:.:none:BGP routes pre remove:
COMMAND OUTPUT:Displayed  50012 routes and 50012 total paths:
Tue Oct 31 08:14:32 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:ip route show | cat -n | tail:.:none:Linux routes pre remove:
COMMAND OUTPUT: 49999	10.0.195.74 nhid 10 via 99.0.0.1 dev lo proto 194 metric 20 
 50000	10.0.195.75 nhid 10 via 99.0.0.1 dev lo proto 194 metric 20 
 50001	10.0.195.76 nhid 10 via 99.0.0.1 dev lo proto 194 metric 20 
 50002	10.0.195.77 nhid 10 via 99.0.0.1 dev lo proto 194 metric 20 
 50003	10.0.195.78 nhid 10 via 99.0.0.1 dev lo proto 194 metric 20 
 50004	10.0.195.79 nhid 10 via 99.0.0.1 dev lo proto 194 metric 20 
 50005	99.0.0.2 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
 50006	99.0.0.3 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
 50007	99.0.0.4 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
 50008	192.168.1.0/24 dev ce1-eth0 proto kernel scope link src 192.168.1.2:
Tue Oct 31 08:14:33 2023 (#179) scripts/scale_down.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni" | grep Display:.:none:BGP routes pre remove:
COMMAND OUTPUT:Displayed  50012 routes and 50015 total paths:
Tue Oct 31 08:14:33 2023 (#179) scripts/scale_down.py:0 COMMAND:ce2:ip route show | cat -n | tail:.:none:Linux routes pre remove:
COMMAND OUTPUT: 49999	10.0.195.74 nhid 11 via 99.0.0.2 dev lo proto 194 metric 20 
 50000	10.0.195.75 nhid 11 via 99.0.0.2 dev lo proto 194 metric 20 
 50001	10.0.195.76 nhid 11 via 99.0.0.2 dev lo proto 194 metric 20 
 50002	10.0.195.77 nhid 11 via 99.0.0.2 dev lo proto 194 metric 20 
 50003	10.0.195.78 nhid 11 via 99.0.0.2 dev lo proto 194 metric 20 
 50004	10.0.195.79 nhid 11 via 99.0.0.2 dev lo proto 194 metric 20 
 50005	99.0.0.1 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
 50006	99.0.0.3 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
 50007	99.0.0.4 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
 50008	192.168.1.0/24 dev ce2-eth0 proto kernel scope link src 192.168.1.2:
Tue Oct 31 08:14:34 2023 (#179) scripts/scale_down.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni" | grep Display:.:none:BGP routes pre remove:
COMMAND OUTPUT:Displayed  50012 routes and 50013 total paths:
Tue Oct 31 08:14:34 2023 (#179) scripts/scale_down.py:0 COMMAND:ce3:ip route show | cat -n | tail:.:none:Linux routes pre remove:
COMMAND OUTPUT: 49999	10.0.195.74 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50000	10.0.195.75 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50001	10.0.195.76 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50002	10.0.195.77 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50003	10.0.195.78 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50004	10.0.195.79 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50005	99.0.0.1 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50006	99.0.0.2 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50007	99.0.0.4 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50008	192.168.1.0/24 dev ce3-eth0 proto kernel scope link src 192.168.1.2:
Tue Oct 31 08:14:36 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "sharp remove routes 10.0.0.0 50000":.:none:Removing 50000 routes:
COMMAND OUTPUT:&lt;no output&gt;:
Tue Oct 31 08:14:36 2023 (#179) scripts/scale_down.py:0 COMMAND:ce2:vtysh -c "sharp remove routes 10.0.0.0 50000":.:none:Removing 50000 routes:
COMMAND OUTPUT:&lt;no output&gt;:
scripts/scale_down.py:0 WAIT:ce1:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:200.0:10:
Tue Oct 31 08:14:36 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:
COMMAND OUTPUT:Displayed  48817 routes and 48817 total paths:
Tue Oct 31 08:14:46 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:
COMMAND OUTPUT:Displayed  12875 routes and 12875 total paths:
Tue Oct 31 08:14:56 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:
COMMAND OUTPUT:Displayed  6379 routes and 6379 total paths:
Tue Oct 31 08:15:06 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:
COMMAND OUTPUT:Displayed  12 routes and 12 total paths:
R:179  ce1    BGP routes removed +30.28 secs                           1    0
Done after 4 loops, time=30.281959295272827, Found= 12 route
Tue Oct 31 08:15:06 2023 (#180) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni":.:none:BGP routes post remove:
COMMAND OUTPUT:BGP table version is 187093, local router ID is 99.0.0.1, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       99.0.0.1                98    123  32768 i
 *&gt; 5.1.1.0/24       99.0.0.1                98    123  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 *&gt; 6.0.1.0/24       99.0.0.1                98    123  32768 i
 *&gt; 6.0.2.0/24       99.0.0.1               100    100  32768 i
 *&gt; 99.0.0.1/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 12 total paths:
scripts/scale_down.py:0 WAIT:ce2:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:200.0:10:
Tue Oct 31 08:15:06 2023 (#180) scripts/scale_down.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:
COMMAND OUTPUT:Displayed  12 routes and 15 total paths:
R:180  ce2    BGP routes removed +0.04 secs                            1    0
Done after 1 loops, time=0.03618812561035156, Found= 12 route
Tue Oct 31 08:15:06 2023 (#181) scripts/scale_down.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni":.:none:BGP routes post remove:
COMMAND OUTPUT:BGP table version is 188240, local router ID is 99.0.0.2, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 * i5.1.0.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 * i5.1.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 *&gt; 6.0.2.0/24       99.0.0.2               100    100  32768 i
 *&gt;i99.0.0.1/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.2/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 15 total paths:
scripts/scale_down.py:0 WAIT:ce3:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:200.0:10:
Tue Oct 31 08:15:06 2023 (#181) scripts/scale_down.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:
COMMAND OUTPUT:Displayed  12 routes and 13 total paths:
R:181  ce3    BGP routes removed +0.04 secs                            1    0
Done after 1 loops, time=0.036295413970947266, Found= 12 route
Tue Oct 31 08:15:06 2023 (#182) scripts/scale_down.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni":.:none:BGP routes post remove:
COMMAND OUTPUT:BGP table version is 131410, local router ID is 99.0.0.3, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.1.1             98    123      0 i
 *&gt;i5.1.1.0/24       192.168.1.1             98    123      0 i
 *&gt; 5.1.2.0/24       99.0.0.3               200     50  32768 i
 *&gt; 5.1.3.0/24       99.0.0.3               200     50  32768 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.3               200     50  32768 i
 *&gt; 6.0.2.0/24       99.0.0.3               100    100  32768 i
 *&gt;i99.0.0.1/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.3/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 13 total paths:
scripts/scale_down.py:0 WAIT:ce1:ip route show | grep -c \^10\.:^0$:wait:Linux routes removed:200.0:10:
Tue Oct 31 08:15:06 2023 (#182) scripts/scale_down.py:0 COMMAND:ce1:ip route show | grep -c \^10\.:^0$:wait:Linux routes removed:
COMMAND OUTPUT:0:
R:182  ce1    Linux routes removed +0.01 secs                          1    0
Done after 1 loops, time=0.006215572357177734, Found=0
Tue Oct 31 08:15:06 2023 (#183) scripts/scale_down.py:0 COMMAND:ce1:ip route show:.:none:Linux routes post remove:
COMMAND OUTPUT:5.1.2.0/24 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
5.1.3.0/24 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
5.4.2.0/24 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
5.4.3.0/24 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
99.0.0.2 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
99.0.0.3 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
99.0.0.4 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
192.168.1.0/24 dev ce1-eth0 proto kernel scope link src 192.168.1.2:
scripts/scale_down.py:0 WAIT:ce2:ip route show | grep -c \^10\.:^0$:wait:Linux routes removed:200.0:10:
Tue Oct 31 08:15:06 2023 (#183) scripts/scale_down.py:0 COMMAND:ce2:ip route show | grep -c \^10\.:^0$:wait:Linux routes removed:
COMMAND OUTPUT:0:
R:183  ce2    Linux routes removed +0.01 secs                          1    0
Done after 1 loops, time=0.0060312747955322266, Found=0
Tue Oct 31 08:15:06 2023 (#184) scripts/scale_down.py:0 COMMAND:ce2:ip route show:.:none:Linux routes post remove:
COMMAND OUTPUT:5.1.2.0/24 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
5.1.3.0/24 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
5.4.2.0/24 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
5.4.3.0/24 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
99.0.0.1 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
99.0.0.3 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
99.0.0.4 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
192.168.1.0/24 dev ce2-eth0 proto kernel scope link src 192.168.1.2:
scripts/scale_down.py:0 WAIT:ce3:ip route show | grep -c \^10\.:^0$:wait:Linux routes removed:200.0:10:
Tue Oct 31 08:15:06 2023 (#184) scripts/scale_down.py:0 COMMAND:ce3:ip route show | grep -c \^10\.:^0$:wait:Linux routes removed:
COMMAND OUTPUT:0:
R:184  ce3    Linux routes removed +0.01 secs                          1    0
Done after 1 loops, time=0.005705118179321289, Found=0
Tue Oct 31 08:15:06 2023 (#185) scripts/scale_down.py:0 COMMAND:ce3:ip route show:.:none:Linux routes post remove:
COMMAND OUTPUT:5.1.0.0/24 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
5.1.1.0/24 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
5.4.2.0/24 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
5.4.3.0/24 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
99.0.0.1 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
99.0.0.2 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
99.0.0.4 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
192.168.1.0/24 dev ce3-eth0 proto kernel scope link src 192.168.1.2:
scripts/scale_down.py:0 WAIT:r1:ip route show vrf r1-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:200.0:10:
Tue Oct 31 08:15:06 2023 (#185) scripts/scale_down.py:0 COMMAND:r1:ip route show vrf r1-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:
COMMAND OUTPUT:0:
R:185  r1     VRF route removed +0.01 secs                             1    0
Done after 1 loops, time=0.006528139114379883, Found=0
scripts/scale_down.py:0 WAIT:r3:ip route show vrf r3-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:200.0:10:
Tue Oct 31 08:15:06 2023 (#186) scripts/scale_down.py:0 COMMAND:r3:ip route show vrf r3-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:
COMMAND OUTPUT:0:
R:186  r3     VRF route removed +0.01 secs                             1    0
Done after 1 loops, time=0.007773637771606445, Found=0
scripts/scale_down.py:0 WAIT:r4:ip route show vrf r4-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:200.0:10:
Tue Oct 31 08:15:06 2023 (#187) scripts/scale_down.py:0 COMMAND:r4:ip route show vrf r4-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:
COMMAND OUTPUT:149:
Tue Oct 31 08:15:16 2023 (#187) scripts/scale_down.py:0 COMMAND:r4:ip route show vrf r4-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:
COMMAND OUTPUT:0:
R:187  r4     VRF route removed +10.03 secs                            1    0
Done after 2 loops, time=10.029543399810791, Found=0
******************************************************************************
Total 187                                                            187  0
******************************************************************************

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase></testsuite></testsuites>