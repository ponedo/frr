<?xml version="1.0" encoding="utf-8"?><testsuites><testsuite name="pytest" errors="0" failures="0" skipped="1" tests="8" time="105.008" timestamp="2023-10-31T07:34:58.278191" hostname="cnic"><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_memory_leak" time="7.884"><skipped type="pytest.skip" message="Memory leak test/report is disabled">/home/cnic/frr-pr/tests/topotests/lib/ltemplate.py:197: Memory leak test/report is disabled</skipped><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_check_linux_vrf" time="0.170"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/check_linux_vrf.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/check_linux_vrf.py
Tue Oct 31 07:35:06 2023 (#1) scripts/check_linux_vrf.py:0 COMMAND:r1:ip link show type vrf r1-cust1:cust1: .*UP:pass:VRF cust1 intf up:
COMMAND OUTPUT:4: r1-cust1: &lt;NOARP,MASTER,UP,LOWER_UP&gt; mtu 65575 qdisc noqueue state UP mode DEFAULT group default qlen 1000
    link/ether a6:4d:64:59:f0:06 brd ff:ff:ff:ff:ff:ff:
R:1    r1     VRF cust1 intf up                                        1    0
Tue Oct 31 07:35:06 2023 (#2) scripts/check_linux_vrf.py:0 COMMAND:r1:ip add show vrf r1-cust1:r..eth4.*UP:pass:VRF cust1 IP intf up:
COMMAND OUTPUT:2: r1-eth4@if2: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r1-cust1 state UP group default qlen 1000
    link/ether 22:a4:61:bd:6c:9a brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.168.1.1/24 brd 192.168.1.255 scope global r1-eth4
       valid_lft forever preferred_lft forever
    inet6 fe80::20a4:61ff:febd:6c9a/64 scope link 
       valid_lft forever preferred_lft forever:
R:2    r1     VRF cust1 IP intf up                                     1    0
Tue Oct 31 07:35:06 2023 (#3) scripts/check_linux_vrf.py:0 COMMAND:r1:ip add show vrf r1-cust1:192.168:pass:VRF cust1 IP config:
COMMAND OUTPUT:2: r1-eth4@if2: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r1-cust1 state UP group default qlen 1000
    link/ether 22:a4:61:bd:6c:9a brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.168.1.1/24 brd 192.168.1.255 scope global r1-eth4
       valid_lft forever preferred_lft forever
    inet6 fe80::20a4:61ff:febd:6c9a/64 scope link 
       valid_lft forever preferred_lft forever:
R:3    r1     VRF cust1 IP config                                      1    0
Tue Oct 31 07:35:06 2023 (#4) scripts/check_linux_vrf.py:0 COMMAND:r1:ip route show vrf r1-cust1:192.168...0/24 dev r.-eth:pass:VRF cust1 interface route:
COMMAND OUTPUT:99.0.0.1 nhid 16 via 192.168.1.2 dev r1-eth4 proto bgp metric 20 
192.168.1.0/24 dev r1-eth4 proto kernel scope link src 192.168.1.1:
R:4    r1     VRF cust1 interface route                                1    0
Tue Oct 31 07:35:06 2023 (#5) scripts/check_linux_vrf.py:0 COMMAND:r3:ip link show type vrf r3-cust1:cust1: .*UP:pass:VRF cust1 intf up:
COMMAND OUTPUT:5: r3-cust1: &lt;NOARP,MASTER,UP,LOWER_UP&gt; mtu 65575 qdisc noqueue state UP mode DEFAULT group default qlen 1000
    link/ether 22:6e:3c:f4:57:ec brd ff:ff:ff:ff:ff:ff:
R:5    r3     VRF cust1 intf up                                        1    0
Tue Oct 31 07:35:06 2023 (#6) scripts/check_linux_vrf.py:0 COMMAND:r3:ip add show vrf r3-cust1:r..eth4.*UP:pass:VRF cust1 IP intf up:
COMMAND OUTPUT:2: r3-eth4@if3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r3-cust1 state UP group default qlen 1000
    link/ether 7a:84:f9:4b:15:0e brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.168.1.1/24 brd 192.168.1.255 scope global r3-eth4
       valid_lft forever preferred_lft forever
    inet6 fe80::7884:f9ff:fe4b:150e/64 scope link 
       valid_lft forever preferred_lft forever:
R:6    r3     VRF cust1 IP intf up                                     1    0
Tue Oct 31 07:35:06 2023 (#7) scripts/check_linux_vrf.py:0 COMMAND:r3:ip add show vrf r3-cust1:192.168:pass:VRF cust1 IP config:
COMMAND OUTPUT:2: r3-eth4@if3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r3-cust1 state UP group default qlen 1000
    link/ether 7a:84:f9:4b:15:0e brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.168.1.1/24 brd 192.168.1.255 scope global r3-eth4
       valid_lft forever preferred_lft forever
    inet6 fe80::7884:f9ff:fe4b:150e/64 scope link 
       valid_lft forever preferred_lft forever:
R:7    r3     VRF cust1 IP config                                      1    0
Tue Oct 31 07:35:06 2023 (#8) scripts/check_linux_vrf.py:0 COMMAND:r3:ip route show vrf r3-cust1:192.168...0/24 dev r.-eth:pass:VRF cust1 interface route:
COMMAND OUTPUT:192.168.1.0/24 dev r3-eth4 proto kernel scope link src 192.168.1.1:
R:8    r3     VRF cust1 interface route                                1    0
Tue Oct 31 07:35:06 2023 (#9) scripts/check_linux_vrf.py:0 COMMAND:r4:ip link show type vrf r4-cust1:cust1: .*UP:pass:VRF cust1 intf up:
COMMAND OUTPUT:5: r4-cust1: &lt;NOARP,MASTER,UP,LOWER_UP&gt; mtu 65575 qdisc noqueue state UP mode DEFAULT group default qlen 1000
    link/ether 2a:03:3c:51:6c:60 brd ff:ff:ff:ff:ff:ff:
R:9    r4     VRF cust1 intf up                                        1    0
Tue Oct 31 07:35:06 2023 (#10) scripts/check_linux_vrf.py:0 COMMAND:r4:ip add show vrf r4-cust1:r..eth4.*UP:pass:VRF cust1 IP intf up:
COMMAND OUTPUT:2: r4-eth4@if4: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r4-cust1 state UP group default qlen 1000
    link/ether 22:22:83:84:f5:37 brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.168.1.1/24 brd 192.168.1.255 scope global r4-eth4
       valid_lft forever preferred_lft forever
    inet6 fe80::2022:83ff:fe84:f537/64 scope link 
       valid_lft forever preferred_lft forever:
R:10   r4     VRF cust1 IP intf up                                     1    0
Tue Oct 31 07:35:06 2023 (#11) scripts/check_linux_vrf.py:0 COMMAND:r4:ip add show vrf r4-cust1:192.168:pass:VRF cust1 IP config:
COMMAND OUTPUT:2: r4-eth4@if4: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r4-cust1 state UP group default qlen 1000
    link/ether 22:22:83:84:f5:37 brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 192.168.1.1/24 brd 192.168.1.255 scope global r4-eth4
       valid_lft forever preferred_lft forever
    inet6 fe80::2022:83ff:fe84:f537/64 scope link 
       valid_lft forever preferred_lft forever:
R:11   r4     VRF cust1 IP config                                      1    0
Tue Oct 31 07:35:06 2023 (#12) scripts/check_linux_vrf.py:0 COMMAND:r4:ip route show vrf r4-cust1:192.168...0/24 dev r.-eth:pass:VRF cust1 interface route:
COMMAND OUTPUT:192.168.1.0/24 dev r4-eth4 proto kernel scope link src 192.168.1.1:
R:12   r4     VRF cust1 interface route                                1    0
Tue Oct 31 07:35:06 2023 (#13) scripts/check_linux_vrf.py:0 COMMAND:r4:ip link show type vrf r4-cust2:cust2: .*UP:pass:VRF cust2 up:
COMMAND OUTPUT:6: r4-cust2: &lt;NOARP,MASTER,UP,LOWER_UP&gt; mtu 65575 qdisc noqueue state UP mode DEFAULT group default qlen 1000
    link/ether 86:1d:be:2f:3b:dd brd ff:ff:ff:ff:ff:ff:
R:13   r4     VRF cust2 up                                             1    0
Tue Oct 31 07:35:06 2023 (#14) scripts/check_linux_vrf.py:0 COMMAND:r4:ip add show vrf r4-cust2:r..eth5.*UP.* 192.168:pass:VRF cust1 IP config:
COMMAND OUTPUT:3: r4-eth5@if5: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master r4-cust2 state UP group default qlen 1000
    link/ether 86:af:4d:f3:e3:77 brd ff:ff:ff:ff:ff:ff link-netnsid 1
    inet 192.168.2.1/24 brd 192.168.2.255 scope global r4-eth5
       valid_lft forever preferred_lft forever
    inet6 fe80::84af:4dff:fef3:e377/64 scope link 
       valid_lft forever preferred_lft forever:
R:14   r4     VRF cust1 IP config                                      1    0
Tue Oct 31 07:35:06 2023 (#15) scripts/check_linux_vrf.py:0 COMMAND:r4:ip route show vrf r4-cust2:192.168...0/24 dev r.-eth:pass:VRF cust2 interface route:
COMMAND OUTPUT:192.168.2.0/24 dev r4-eth5 proto kernel scope link src 192.168.2.1:
R:15   r4     VRF cust2 interface route                                1    0
Tue Oct 31 07:35:06 2023 (#16) scripts/check_linux_vrf.py:0 COMMAND:ce1:ip route show:192.168...0/24 dev ce.-eth0:pass:CE interface route:
COMMAND OUTPUT:192.168.1.0/24 dev ce1-eth0 proto kernel scope link src 192.168.1.2:
R:16   ce1    CE interface route                                       1    0
scripts/check_linux_vrf.py:0 WAIT:ce1:ping 192.168.1.1 -c 1: 0. packet loss:wait:CE-&gt;PE ping:10:0.5:
Tue Oct 31 07:35:06 2023 (#17) scripts/check_linux_vrf.py:0 COMMAND:ce1:ping 192.168.1.1 -c 1: 0. packet loss:wait:CE-&gt;PE ping:
COMMAND OUTPUT:PING 192.168.1.1 (192.168.1.1) 56(84) bytes of data.
64 bytes from 192.168.1.1: icmp_seq=1 ttl=64 time=0.028 ms

--- 192.168.1.1 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.028/0.028/0.028/0.000 ms:
R:17   ce1    CE-&gt;PE ping +0.00 secs                                   1    0
Done after 1 loops, time=0.004053831100463867, Found= 0% packet loss
Tue Oct 31 07:35:06 2023 (#18) scripts/check_linux_vrf.py:0 COMMAND:ce2:ip route show:192.168...0/24 dev ce.-eth0:pass:CE interface route:
COMMAND OUTPUT:192.168.1.0/24 dev ce2-eth0 proto kernel scope link src 192.168.1.2:
R:18   ce2    CE interface route                                       1    0
scripts/check_linux_vrf.py:0 WAIT:ce2:ping 192.168.1.1 -c 1: 0. packet loss:wait:CE-&gt;PE ping:10:0.5:
Tue Oct 31 07:35:06 2023 (#19) scripts/check_linux_vrf.py:0 COMMAND:ce2:ping 192.168.1.1 -c 1: 0. packet loss:wait:CE-&gt;PE ping:
COMMAND OUTPUT:PING 192.168.1.1 (192.168.1.1) 56(84) bytes of data.
64 bytes from 192.168.1.1: icmp_seq=1 ttl=64 time=0.029 ms

--- 192.168.1.1 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.029/0.029/0.029/0.000 ms:
R:19   ce2    CE-&gt;PE ping +0.00 secs                                   1    0
Done after 1 loops, time=0.004362344741821289, Found= 0% packet loss
Tue Oct 31 07:35:06 2023 (#20) scripts/check_linux_vrf.py:0 COMMAND:ce3:ip route show:192.168...0/24 dev ce.-eth0:pass:CE interface route:
COMMAND OUTPUT:192.168.1.0/24 dev ce3-eth0 proto kernel scope link src 192.168.1.2:
R:20   ce3    CE interface route                                       1    0
scripts/check_linux_vrf.py:0 WAIT:ce3:ping 192.168.1.1 -c 1: 0. packet loss:wait:CE-&gt;PE ping:10:0.5:
Tue Oct 31 07:35:06 2023 (#21) scripts/check_linux_vrf.py:0 COMMAND:ce3:ping 192.168.1.1 -c 1: 0. packet loss:wait:CE-&gt;PE ping:
COMMAND OUTPUT:PING 192.168.1.1 (192.168.1.1) 56(84) bytes of data.
64 bytes from 192.168.1.1: icmp_seq=1 ttl=64 time=0.022 ms

--- 192.168.1.1 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.022/0.022/0.022/0.000 ms:
R:21   ce3    CE-&gt;PE ping +0.00 secs                                   1    0
Done after 1 loops, time=0.0038945674896240234, Found= 0% packet loss
Tue Oct 31 07:35:06 2023 (#22) scripts/check_linux_vrf.py:0 COMMAND:ce4:ip link show type vrf ce4-cust2:cust2: .*UP:pass:VRF cust2 up:
COMMAND OUTPUT:2: ce4-cust2: &lt;NOARP,MASTER,UP,LOWER_UP&gt; mtu 65575 qdisc noqueue state UP mode DEFAULT group default qlen 1000
    link/ether 02:7e:2f:d5:4e:34 brd ff:ff:ff:ff:ff:ff:
R:22   ce4    VRF cust2 up                                             1    0
Tue Oct 31 07:35:06 2023 (#23) scripts/check_linux_vrf.py:0 COMMAND:ce4:ip route show vrf ce4-cust2:192.168...0/24 dev ce.-eth0:pass:CE interface route:
COMMAND OUTPUT:192.168.2.0/24 dev ce4-eth0 proto kernel scope link src 192.168.2.2:
R:23   ce4    CE interface route                                       1    0
scripts/check_linux_vrf.py:0 WAIT:ce4:ping 192.168.2.1 -c 1 -I ce4-cust2: 0. packet loss:wait:CE4-&gt;PE4 ping:10:0.5:
Tue Oct 31 07:35:06 2023 (#24) scripts/check_linux_vrf.py:0 COMMAND:ce4:ping 192.168.2.1 -c 1 -I ce4-cust2: 0. packet loss:wait:CE4-&gt;PE4 ping:
COMMAND OUTPUT:ping: Warning: source address might be selected on device other than: ce4-cust2
PING 192.168.2.1 (192.168.2.1) from 192.168.2.2 ce4-cust2: 56(84) bytes of data.
64 bytes from 192.168.2.1: icmp_seq=1 ttl=64 time=0.018 ms

--- 192.168.2.1 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.018/0.018/0.018/0.000 ms:
R:24   ce4    CE4-&gt;PE4 ping +0.00 secs                                 1    0
Done after 1 loops, time=0.0040493011474609375, Found= 0% packet loss

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_adjacencies" time="17.245"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/adjacencies.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/adjacencies.py
scripts/adjacencies.py:0 WAIT:ce1:vtysh -c "show bgp summary": 00:0:wait:Adjacencies up:180:0.5:
Tue Oct 31 07:35:06 2023 (#25) scripts/adjacencies.py:0 COMMAND:ce1:vtysh -c "show bgp summary": 00:0:wait:Adjacencies up:
COMMAND OUTPUT:
IPv4 Unicast Summary (VRF default):
BGP router identifier 99.0.0.1, local AS number 5227 vrf-id 0
BGP table version 1
RIB entries 1, using 192 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.1     4       5227         3         4        1    0    0 00:00:01            0        1 N/A

Total number of neighbors 1:
R:25   ce1    Adjacencies up +0.03 secs                                1    0
Done after 1 loops, time=0.03391098976135254, Found= 00:0
scripts/adjacencies.py:0 WAIT:ce2:vtysh -c "show bgp summary": 00:0:wait:Adjacencies up:180:0.5:
Tue Oct 31 07:35:06 2023 (#26) scripts/adjacencies.py:0 COMMAND:ce2:vtysh -c "show bgp summary": 00:0:wait:Adjacencies up:
COMMAND OUTPUT:
IPv4 Unicast Summary (VRF default):
BGP router identifier 99.0.0.2, local AS number 5227 vrf-id 0
BGP table version 1
RIB entries 1, using 192 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.1     4       5227         2         2        0    0    0 00:00:00            0        0 N/A

Total number of neighbors 1:
R:26   ce2    Adjacencies up +0.03 secs                                1    0
Done after 1 loops, time=0.0339202880859375, Found= 00:0
scripts/adjacencies.py:0 WAIT:ce3:vtysh -c "show bgp summary": 00:0:wait:Adjacencies up:180:0.5:
Tue Oct 31 07:35:06 2023 (#27) scripts/adjacencies.py:0 COMMAND:ce3:vtysh -c "show bgp summary": 00:0:wait:Adjacencies up:
COMMAND OUTPUT:
IPv4 Unicast Summary (VRF default):
BGP router identifier 99.0.0.3, local AS number 5227 vrf-id 0
BGP table version 1
RIB entries 1, using 192 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.1     4       5227         2         2        0    0    0 00:00:00            0        0 N/A

Total number of neighbors 1:
R:27   ce3    Adjacencies up +0.03 secs                                1    0
Done after 1 loops, time=0.03363156318664551, Found= 00:0
scripts/adjacencies.py:0 WAIT:ce4:vtysh -c "show bgp vrf all summary": 00:0:wait:Adjacencies up:180:0.5:
Tue Oct 31 07:35:06 2023 (#28) scripts/adjacencies.py:0 COMMAND:ce4:vtysh -c "show bgp vrf all summary": 00:0:wait:Adjacencies up:
COMMAND OUTPUT:
IPv4 Unicast Summary (VRF ce4-cust2):
BGP router identifier 99.0.0.4, local AS number 5228 vrf-id 2
BGP table version 1
RIB entries 1, using 192 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.2.1     4       5228         3         4        0    0    0 00:00:00            0        0 N/A

Total number of neighbors 1:
R:28   ce4    Adjacencies up +0.03 secs                                1    0
Done after 1 loops, time=0.033249616622924805, Found= 00:0
scripts/adjacencies.py:0 WAIT:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:60:0.5:
Tue Oct 31 07:35:06 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:06 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:07 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:08 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:08 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:09 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:09 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:10 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:10 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:11 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:11 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:12 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:12 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:13 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:13 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:14 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:14 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:15 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:15 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:16 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:16 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:17 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:17 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:18 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:18 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:19 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:ping: connect: Network is unreachable:
Tue Oct 31 07:35:19 2023 (#29) scripts/adjacencies.py:0 COMMAND:r1:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:PING 2.2.2.2 (2.2.2.2) 56(84) bytes of data.
64 bytes from 2.2.2.2: icmp_seq=1 ttl=64 time=0.034 ms

--- 2.2.2.2 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.034/0.034/0.034/0.000 ms:
R:29   r1     PE-&gt;P2 (loopback) ping +13.12 secs                       1    0
Done after 27 loops, time=13.115768909454346, Found= 0% packet loss
scripts/adjacencies.py:0 WAIT:r3:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:60:0.5:
Tue Oct 31 07:35:19 2023 (#30) scripts/adjacencies.py:0 COMMAND:r3:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:PING 2.2.2.2 (2.2.2.2) 56(84) bytes of data.
64 bytes from 2.2.2.2: icmp_seq=1 ttl=64 time=0.020 ms

--- 2.2.2.2 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.020/0.020/0.020/0.000 ms:
R:30   r3     PE-&gt;P2 (loopback) ping +0.00 secs                        1    0
Done after 1 loops, time=0.004509925842285156, Found= 0% packet loss
scripts/adjacencies.py:0 WAIT:r4:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:60:0.5:
Tue Oct 31 07:35:19 2023 (#31) scripts/adjacencies.py:0 COMMAND:r4:ping 2.2.2.2 -c 1: 0. packet loss:wait:PE-&gt;P2 (loopback) ping:
COMMAND OUTPUT:PING 2.2.2.2 (2.2.2.2) 56(84) bytes of data.
64 bytes from 2.2.2.2: icmp_seq=1 ttl=64 time=0.018 ms

--- 2.2.2.2 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.018/0.018/0.018/0.000 ms:
R:31   r4     PE-&gt;P2 (loopback) ping +0.00 secs                        1    0
Done after 1 loops, time=0.0037004947662353516, Found= 0% packet loss
scripts/adjacencies.py:0 WAIT:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:180:0.5:
Tue Oct 31 07:35:19 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 0, using 0 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         2         2        0    0    0 00:00:00            0        0 N/A
4.4.4.4         4       5226         2         2        0    0    0 00:00:00            0        0 N/A

Total number of neighbors 3:
Tue Oct 31 07:35:20 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 0, using 0 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         2         2        0    0    0 00:00:01            0        0 N/A
4.4.4.4         4       5226         2         2        0    0    0 00:00:01            0        0 N/A

Total number of neighbors 3:
Tue Oct 31 07:35:20 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         6        10        5    0    0 00:00:02            5       15 N/A
4.4.4.4         4       5226         7        10        5    0    0 00:00:02           10       15 N/A

Total number of neighbors 3:
Tue Oct 31 07:35:21 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         6        10        5    0    0 00:00:02            5       15 N/A
4.4.4.4         4       5226         7        10        5    0    0 00:00:02           10       15 N/A

Total number of neighbors 3:
Tue Oct 31 07:35:21 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         6        10        5    0    0 00:00:03            5       15 N/A
4.4.4.4         4       5226         7        10        5    0    0 00:00:03           10       15 N/A

Total number of neighbors 3:
Tue Oct 31 07:35:22 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         7        11        5    0    0 00:00:03            5       15 N/A
4.4.4.4         4       5226         8        11        5    0    0 00:00:03           10       15 N/A

Total number of neighbors 3:
Tue Oct 31 07:35:22 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         0         0        0    0    0    never       Active        0 N/A
3.3.3.3         4       5226         7        11        5    0    0 00:00:04            5       15 N/A
4.4.4.4         4       5226         8        11        5    0    0 00:00:04           10       15 N/A

Total number of neighbors 3:
Tue Oct 31 07:35:23 2023 (#32) scripts/adjacencies.py:0 COMMAND:r2:vtysh -c "show bgp summary": 00:0.* 00:0.* 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 2.2.2.2, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 3, using 61 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
1.1.1.1         4       5226         2         2        0    0    0 00:00:00            0        0 N/A
3.3.3.3         4       5226         7        11        5    0    0 00:00:04            5       15 N/A
4.4.4.4         4       5226         8        11        5    0    0 00:00:04           10       15 N/A

Total number of neighbors 3:
R:32   r2     Core adjacencies up +3.77 secs                           1    0
Done after 8 loops, time=3.769690752029419, Found= 00:00:00            0        0 N/A 3.3.3.3         4       5226         7        11        5    0    0 00:00:04            5       15 N/A 4.4.4.4         4       5226         8        11        5    0    0 00:0
scripts/adjacencies.py:0 WAIT:r1:vtysh -c "show bgp summary": 00:0:wait:Core adjacencies up:180:0.5:
Tue Oct 31 07:35:23 2023 (#33) scripts/adjacencies.py:0 COMMAND:r1:vtysh -c "show bgp summary": 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 1.1.1.1, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 1, using 192 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
2.2.2.2         4       5226         2         2        0    0    0 00:00:00            0        0 N/A

Total number of neighbors 1:
R:33   r1     Core adjacencies up +0.03 secs                           1    0
Done after 1 loops, time=0.033962249755859375, Found= 00:0
scripts/adjacencies.py:0 WAIT:r3:vtysh -c "show bgp summary": 00:0:wait:Core adjacencies up:180:0.5:
Tue Oct 31 07:35:23 2023 (#34) scripts/adjacencies.py:0 COMMAND:r3:vtysh -c "show bgp summary": 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 3.3.3.3, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
2.2.2.2         4       5226        11         7        5    0    0 00:00:04           10        5 N/A

Total number of neighbors 1:
R:34   r3     Core adjacencies up +0.03 secs                           1    0
Done after 1 loops, time=0.033911705017089844, Found= 00:0
scripts/adjacencies.py:0 WAIT:r4:vtysh -c "show bgp summary": 00:0:wait:Core adjacencies up:180:0.5:
Tue Oct 31 07:35:23 2023 (#35) scripts/adjacencies.py:0 COMMAND:r4:vtysh -c "show bgp summary": 00:0:wait:Core adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 4.4.4.4, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
2.2.2.2         4       5226        11         8        5    0    0 00:00:04            5       10 N/A

Total number of neighbors 1:
R:35   r4     Core adjacencies up +0.03 secs                           1    0
Done after 1 loops, time=0.03331112861633301, Found= 00:0
Tue Oct 31 07:35:23 2023 (#36) scripts/adjacencies.py:0 COMMAND:r1:vtysh -c "show bgp vrf all summary": 00:0.* 00:0:pass:All adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 1.1.1.1, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 1, using 192 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
2.2.2.2         4       5226         2         2        0    0    0 00:00:00            0        0 N/A

Total number of neighbors 1

IPv4 Unicast Summary (VRF r1-cust1):
BGP router identifier 192.168.1.1, local AS number 5227 vrf-id 4
BGP table version 5
RIB entries 9, using 1728 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.2     4       5227        12         9        5    0    0 00:00:18            5        0 N/A

Total number of neighbors 1:
R:36   r1     All adjacencies up                                       1    0
Tue Oct 31 07:35:23 2023 (#37) scripts/adjacencies.py:0 COMMAND:r3:vtysh -c "show bgp vrf all summary": 00:0.* 00:0:pass:All adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 3.3.3.3, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
2.2.2.2         4       5226        11         7        5    0    0 00:00:04           10        5 N/A

Total number of neighbors 1

IPv4 Unicast Summary (VRF r3-cust1):
BGP router identifier 192.168.1.1, local AS number 5227 vrf-id 5
BGP table version 11
RIB entries 21, using 4032 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.2     4       5227        11        10       11    0    0 00:00:17            5        6 N/A

Total number of neighbors 1:
R:37   r3     All adjacencies up                                       1    0
Tue Oct 31 07:35:23 2023 (#38) scripts/adjacencies.py:0 COMMAND:r4:vtysh -c "show bgp vrf all summary": 00:0.* 00:0.* 00:0:pass:All adjacencies up:
COMMAND OUTPUT:
IPv4 VPN Summary (VRF default):
BGP router identifier 4.4.4.4, local AS number 5226 vrf-id 0
BGP table version 0
RIB entries 5, using 960 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
2.2.2.2         4       5226        11         8        5    0    0 00:00:04            5       10 N/A

Total number of neighbors 1

IPv4 Unicast Summary (VRF r4-cust1):
BGP router identifier 192.168.1.1, local AS number 5227 vrf-id 5
BGP table version 14
RIB entries 21, using 4032 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.2     4       5227        11        12       14    0    0 00:00:17            5        7 N/A

Total number of neighbors 1

IPv4 Unicast Summary (VRF r4-cust2):
BGP router identifier 192.168.2.1, local AS number 5228 vrf-id 6
BGP table version 14
RIB entries 21, using 4032 bytes of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.2.2     4       5228        11        13       14    0    0 00:00:17            5        8 N/A

Total number of neighbors 1:
R:38   r4     All adjacencies up                                       1    0
scripts/adjacencies.py:0 WAIT:r1:ping 3.3.3.3 -c 1: 0. packet loss:wait:PE-&gt;PE3 (loopback) ping:10:0.5:
Tue Oct 31 07:35:23 2023 (#39) scripts/adjacencies.py:0 COMMAND:r1:ping 3.3.3.3 -c 1: 0. packet loss:wait:PE-&gt;PE3 (loopback) ping:
COMMAND OUTPUT:PING 3.3.3.3 (3.3.3.3) 56(84) bytes of data.
64 bytes from 3.3.3.3: icmp_seq=1 ttl=63 time=0.059 ms

--- 3.3.3.3 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.059/0.059/0.059/0.000 ms:
R:39   r1     PE-&gt;PE3 (loopback) ping +0.00 secs                       1    0
Done after 1 loops, time=0.004164218902587891, Found= 0% packet loss
scripts/adjacencies.py:0 WAIT:r1:ping 4.4.4.4 -c 1: 0. packet loss:wait:PE-&gt;PE4 (loopback) ping:10:0.5:
Tue Oct 31 07:35:23 2023 (#40) scripts/adjacencies.py:0 COMMAND:r1:ping 4.4.4.4 -c 1: 0. packet loss:wait:PE-&gt;PE4 (loopback) ping:
COMMAND OUTPUT:PING 4.4.4.4 (4.4.4.4) 56(84) bytes of data.
64 bytes from 4.4.4.4: icmp_seq=1 ttl=63 time=0.048 ms

--- 4.4.4.4 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.048/0.048/0.048/0.000 ms:
R:40   r1     PE-&gt;PE4 (loopback) ping +0.00 secs                       1    0
Done after 1 loops, time=0.0035979747772216797, Found= 0% packet loss
scripts/adjacencies.py:0 WAIT:r4:ping 3.3.3.3 -c 1: 0. packet loss:wait:PE-&gt;PE3 (loopback) ping:10:0.5:
Tue Oct 31 07:35:23 2023 (#41) scripts/adjacencies.py:0 COMMAND:r4:ping 3.3.3.3 -c 1: 0. packet loss:wait:PE-&gt;PE3 (loopback) ping:
COMMAND OUTPUT:PING 3.3.3.3 (3.3.3.3) 56(84) bytes of data.
64 bytes from 3.3.3.3: icmp_seq=1 ttl=64 time=0.046 ms

--- 3.3.3.3 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.046/0.046/0.046/0.000 ms:
R:41   r4     PE-&gt;PE3 (loopback) ping +0.00 secs                       1    0
Done after 1 loops, time=0.004079103469848633, Found= 0% packet loss

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_notification_check" time="0.305"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/notification_check.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/notification_check.py
Tue Oct 31 07:35:23 2023 (#42) scripts/notification_check.py:0 COMMAND:ce1:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 192.168.1.1, remote AS 5227, local AS 5227, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r1
  BGP version 4, remote router ID 192.168.1.1, local router ID 99.0.0.1
  BGP state = Established, up for 00:00:18
  Last read 00:00:00, Last write 00:00:00
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 Unicast: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 Unicast: advertised and received
    Hostname Capability: advertised (name: ce1,domain name: n/a) received (name: r1,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 Unicast
    End-of-RIB received: IPv4 Unicast
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 Unicast:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: No
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                4          1
    Keepalives:             7          7
    Route Refresh:          0          0
    Capability:             0          0
    Total:                 12          9
  Minimum time between advertisement runs is 0 seconds
  Update source is 192.168.1.2

 For address family: IPv4 Unicast
  Update group 1, subgroup 1
  Packet Queue length 0
  Community attribute sent to this neighbor(all)
  0 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:19,   No AFI/SAFI activated for peer (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 192.168.1.2, Local port: 179
Foreign host: 192.168.1.1, Foreign port: 46827
Nexthop: 192.168.1.2
Nexthop global: fe80::dccb:9dff:fe05:5b9a
Nexthop local: fe80::dccb:9dff:fe05:5b9a
BGP connection: shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 5:
Tue Oct 31 07:35:23 2023 (#42) scripts/notification_check.py:0 COMMAND:ce2:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 192.168.1.1, remote AS 5227, local AS 5227, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r3
  BGP version 4, remote router ID 192.168.1.1, local router ID 99.0.0.2
  BGP state = Established, up for 00:00:18
  Last read 00:00:00, Last write 00:00:00
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 Unicast: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 Unicast: advertised and received
    Hostname Capability: advertised (name: ce2,domain name: n/a) received (name: r3,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 Unicast
    End-of-RIB received: IPv4 Unicast
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 Unicast:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: No
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                4          3
    Keepalives:             7          7
    Route Refresh:          0          0
    Capability:             0          0
    Total:                 12         11
  Minimum time between advertisement runs is 0 seconds
  Update source is 192.168.1.2

 For address family: IPv4 Unicast
  Update group 1, subgroup 1
  Packet Queue length 0
  Community attribute sent to this neighbor(all)
  6 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:19,   No AFI/SAFI activated for peer (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 192.168.1.2, Local port: 179
Foreign host: 192.168.1.1, Foreign port: 37735
Nexthop: 192.168.1.2
Nexthop global: fe80::20:49ff:fe30:3a0e
Nexthop local: fe80::20:49ff:fe30:3a0e
BGP connection: shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 5:
Tue Oct 31 07:35:23 2023 (#42) scripts/notification_check.py:0 COMMAND:ce3:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 192.168.1.1, remote AS 5227, local AS 5227, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r4
  BGP version 4, remote router ID 192.168.1.1, local router ID 99.0.0.3
  BGP state = Established, up for 00:00:18
  Last read 00:00:01, Last write 00:00:03
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 Unicast: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 Unicast: advertised and received
    Hostname Capability: advertised (name: ce3,domain name: n/a) received (name: r4,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 Unicast
    End-of-RIB received: IPv4 Unicast
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 Unicast:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: No
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                4          5
    Keepalives:             6          6
    Route Refresh:          0          0
    Capability:             0          0
    Total:                 11         12
  Minimum time between advertisement runs is 0 seconds
  Update source is 192.168.1.2

 For address family: IPv4 Unicast
  Update group 1, subgroup 1
  Packet Queue length 0
  Community attribute sent to this neighbor(all)
  7 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:19,   No AFI/SAFI activated for peer (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 192.168.1.2, Local port: 179
Foreign host: 192.168.1.1, Foreign port: 41225
Nexthop: 192.168.1.2
Nexthop global: fe80::ac33:f1ff:fefe:c859
Nexthop local: fe80::ac33:f1ff:fefe:c859
BGP connection: shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 5:
Tue Oct 31 07:35:23 2023 (#42) scripts/notification_check.py:0 COMMAND:r1:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 2.2.2.2, remote AS 5226, local AS 5226, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r2
  BGP version 4, remote router ID 2.2.2.2, local router ID 1.1.1.1
  BGP state = Established, up for 00:00:01
  Last read 00:00:22, Last write never
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 VPN: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 VPN: advertised and received
    Hostname Capability: advertised (name: r1,domain name: n/a) received (name: r2,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: 
    End-of-RIB received: 
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 VPN:
      F bit: False
      End-of-RIB sent: No
      End-of-RIB sent after update: No
      End-of-RIB received: No
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                0          0
    Keepalives:             1          1
    Route Refresh:          0          0
    Capability:             0          0
    Total:                  2          2
  Minimum time between advertisement runs is 0 seconds
  Update source is 1.1.1.1

 For address family: IPv4 VPN
  Update group 2, subgroup 2
  Packet Queue length 0
  Community attribute sent to this neighbor(all)
  0 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:22,   No AFI/SAFI activated for peer (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 1.1.1.1, Local port: 179
Foreign host: 2.2.2.2, Foreign port: 38845
Nexthop: 1.1.1.1
Nexthop global: ::
Nexthop local: ::
BGP connection: non shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 27:
Tue Oct 31 07:35:23 2023 (#42) scripts/notification_check.py:0 COMMAND:r2:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 1.1.1.1, remote AS 5226, local AS 5226, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r1
  BGP version 4, remote router ID 1.1.1.1, local router ID 2.2.2.2
  BGP state = Established, up for 00:00:01
  Last read 00:00:01, Last write 00:00:01
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 VPN: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 VPN: advertised and received
    Hostname Capability: advertised (name: r2,domain name: n/a) received (name: r1,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: 
    End-of-RIB received: 
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 VPN:
      F bit: False
      End-of-RIB sent: No
      End-of-RIB sent after update: No
      End-of-RIB received: No
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                0          0
    Keepalives:             1          1
    Route Refresh:          0          0
    Capability:             0          0
    Total:                  2          2
  Minimum time between advertisement runs is 0 seconds
  Update source is 2.2.2.2

 For address family: IPv4 VPN
  Update group 1, subgroup 2
  Packet Queue length 0
  Route-Reflector Client
  Community attribute sent to this neighbor(all)
  0 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:21,   Waiting for peer OPEN (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 2.2.2.2, Local port: 38845
Foreign host: 1.1.1.1, Foreign port: 179
Nexthop: 2.2.2.2
Nexthop global: ::
Nexthop local: ::
BGP connection: non shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 5

BGP neighbor is 3.3.3.3, remote AS 5226, local AS 5226, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r3
  BGP version 4, remote router ID 3.3.3.3, local router ID 2.2.2.2
  BGP state = Established, up for 00:00:05
  Last read 00:00:02, Last write 00:00:02
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 VPN: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 VPN: advertised and received
    Hostname Capability: advertised (name: r2,domain name: n/a) received (name: r3,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 VPN
    End-of-RIB received: IPv4 VPN
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 VPN:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: Yes
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                8          4
    Keepalives:             2          2
    Route Refresh:          0          0
    Capability:             0          0
    Total:                 11          7
  Minimum time between advertisement runs is 0 seconds
  Update source is 2.2.2.2

 For address family: IPv4 VPN
  Update group 1, subgroup 1
  Packet Queue length 0
  Route-Reflector Client
  Community attribute sent to this neighbor(all)
  5 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:21,   Waiting for peer OPEN (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 2.2.2.2, Local port: 179
Foreign host: 3.3.3.3, Foreign port: 41859
Nexthop: 2.2.2.2
Nexthop global: ::
Nexthop local: ::
BGP connection: non shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 25

BGP neighbor is 4.4.4.4, remote AS 5226, local AS 5226, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r4
  BGP version 4, remote router ID 4.4.4.4, local router ID 2.2.2.2
  BGP state = Established, up for 00:00:05
  Last read 00:00:02, Last write 00:00:02
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 VPN: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 VPN: advertised and received
    Hostname Capability: advertised (name: r2,domain name: n/a) received (name: r4,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 VPN
    End-of-RIB received: IPv4 VPN
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 VPN:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: Yes
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                8          5
    Keepalives:             2          2
    Route Refresh:          0          0
    Capability:             0          0
    Total:                 11          8
  Minimum time between advertisement runs is 0 seconds
  Update source is 2.2.2.2

 For address family: IPv4 VPN
  Update group 1, subgroup 1
  Packet Queue length 0
  Route-Reflector Client
  Community attribute sent to this neighbor(all)
  10 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:21,   Waiting for peer OPEN (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 2.2.2.2, Local port: 40959
Foreign host: 4.4.4.4, Foreign port: 179
Nexthop: 2.2.2.2
Nexthop global: ::
Nexthop local: ::
BGP connection: non shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 21:
Tue Oct 31 07:35:23 2023 (#42) scripts/notification_check.py:0 COMMAND:r3:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 2.2.2.2, remote AS 5226, local AS 5226, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r2
  BGP version 4, remote router ID 2.2.2.2, local router ID 3.3.3.3
  BGP state = Established, up for 00:00:05
  Last read 00:00:02, Last write 00:00:02
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 VPN: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 VPN: advertised and received
    Hostname Capability: advertised (name: r3,domain name: n/a) received (name: r2,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 VPN
    End-of-RIB received: IPv4 VPN
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 VPN:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: Yes
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                4          8
    Keepalives:             2          2
    Route Refresh:          0          0
    Capability:             0          0
    Total:                  7         11
  Minimum time between advertisement runs is 0 seconds
  Update source is 3.3.3.3

 For address family: IPv4 VPN
  Update group 2, subgroup 2
  Packet Queue length 0
  Community attribute sent to this neighbor(all)
  10 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:21,   Waiting for peer OPEN (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 3.3.3.3, Local port: 41859
Foreign host: 2.2.2.2, Foreign port: 179
Nexthop: 3.3.3.3
Nexthop global: ::
Nexthop local: ::
BGP connection: non shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 5:
Tue Oct 31 07:35:23 2023 (#42) scripts/notification_check.py:0 COMMAND:r4:vtysh -c "show bgp neigh":Notification received .([A-Za-z0-9/ ]*):none:collect neighbor stats:
COMMAND OUTPUT:BGP neighbor is 2.2.2.2, remote AS 5226, local AS 5226, internal link
  Local Role: undefined
  Remote Role: undefined
Hostname: r2
  BGP version 4, remote router ID 2.2.2.2, local router ID 4.4.4.4
  BGP state = Established, up for 00:00:05
  Last read 00:00:02, Last write 00:00:02
  Hold time is 10 seconds, keepalive interval is 3 seconds
  Configured hold time is 10 seconds, keepalive interval is 3 seconds
  Configured conditional advertisements interval is 60 seconds
  Neighbor capabilities:
    4 Byte AS: advertised and received
    Extended Message: advertised and received
    AddPath:
      IPv4 VPN: RX advertised and received
    Long-lived Graceful Restart: advertised and received
      Address families by peer:
    Route refresh: advertised and received(old &amp; new)
    Enhanced Route Refresh: advertised and received
    Address Family IPv4 VPN: advertised and received
    Hostname Capability: advertised (name: r4,domain name: n/a) received (name: r2,domain name: n/a)
    Version Capability: advertised software version (FRRouting/9.0-dev-my-manual-build) received software version (FRRouting/9.0-dev-my-manual-build)
    Graceful Restart Capability: advertised and received
      Remote Restart timer is 120 seconds
      Address families by peer:
        none
  Graceful restart information:
    End-of-RIB send: IPv4 VPN
    End-of-RIB received: IPv4 VPN
    Local GR Mode: Helper*

    Remote GR Mode: Helper

    R bit: True
    N bit: True
    Timers:
      Configured Restart Time(sec): 120
      Received Restart Time(sec): 120
    IPv4 VPN:
      F bit: False
      End-of-RIB sent: Yes
      End-of-RIB sent after update: Yes
      End-of-RIB received: Yes
      Timers:
        Configured Stale Path Time(sec): 360
  Message statistics:
    Inq depth is 0
    Outq depth is 0
                         Sent       Rcvd
    Opens:                  1          1
    Notifications:          0          0
    Updates:                5          8
    Keepalives:             2          2
    Route Refresh:          0          0
    Capability:             0          0
    Total:                  8         11
  Minimum time between advertisement runs is 0 seconds
  Update source is 4.4.4.4

 For address family: IPv4 VPN
  Update group 3, subgroup 3
  Packet Queue length 0
  Community attribute sent to this neighbor(all)
  5 accepted prefixes

  Connections established 1; dropped 0
  Last reset 00:00:20,   Waiting for peer OPEN (FRRouting/9.0-dev-my-manual-build)
  Internal BGP neighbor may be up to 255 hops away.
Local host: 4.4.4.4, Local port: 179
Foreign host: 2.2.2.2, Foreign port: 40959
Nexthop: 4.4.4.4
Nexthop global: ::
Nexthop local: ::
BGP connection: non shared network
BGP Connect Retry Timer in Seconds: 120
Estimated round trip time: 0 ms
Read thread: on  Write thread: on  FD used: 30:

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_check_routes" time="6.165"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/check_routes.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/check_routes.py
Tue Oct 31 07:35:23 2023 (#42) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp  ipv4 unicast":.:None:Get  ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 99.0.0.1, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       99.0.0.1                98    123  32768 i
 *&gt; 5.1.1.0/24       99.0.0.1                98    123  32768 i
 *&gt; 6.0.1.0/24       99.0.0.1                98    123  32768 i
 *&gt; 6.0.2.0/24       99.0.0.1               100    100  32768 i
 *&gt; 99.0.0.1/32      0.0.0.0                  0         32768 i

Displayed  5 routes and 5 total paths:
Tue Oct 31 07:35:23 2023 (#42) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp  ipv4 unicast json":.*:None:Get  ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 5,
 "routerId": "99.0.0.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":4,"metric":98,"locPrf":123,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":5,"metric":98,"locPrf":123,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce1","afi":"ipv4","used":true}]}]
 }  }:
R:42 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '99.0.0.1'}, {'p': '5.1.1.0/24', 'n': '99.0.0.1'}, {'p': '6.0.1.0/24', 'n': '99.0.0.1'}, {'p': '6.0.2.0/24', 'n': '99.0.0.1'}, {'p': '99.0.0.1/32', 'n': '0.0.0.0'}]
R:42   ce1    Cust 1 routes in ce1                                     1    0
Tue Oct 31 07:35:23 2023 (#43) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp  ipv4 unicast":.:None:Get  ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 11, local router ID is 99.0.0.2, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       99.0.0.2               100    100  32768 i
 *&gt; 5.1.1.0/24       99.0.0.2               100    100  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 *&gt; 6.0.1.0/24       99.0.0.2               100    100  32768 i
 *&gt; 6.0.2.0/24       99.0.0.2               100    100  32768 i
 *&gt; 99.0.0.2/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  11 routes and 11 total paths:
Tue Oct 31 07:35:24 2023 (#43) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp  ipv4 unicast json":.*:None:Get  ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 11,
 "routerId": "99.0.0.2",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":4,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":9,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":11,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":5,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":7,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":6,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
 }  }:
R:43 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '99.0.0.2'}, {'p': '5.1.1.0/24', 'n': '99.0.0.2'}, {'p': '6.0.1.0/24', 'n': '99.0.0.2'}, {'p': '6.0.2.0/24', 'n': '99.0.0.2'}, {'p': '99.0.0.2/32', 'n': '0.0.0.0'}]
R:43   ce2    Cust 2 routes in ce1                                     1    0
Tue Oct 31 07:35:24 2023 (#44) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp  ipv4 unicast":.:None:Get  ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 11, local router ID is 99.0.0.3, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.1.1            100    100      0 i
 *&gt;i5.1.1.0/24       192.168.1.1            100    100      0 i
 *&gt; 5.1.2.0/24       99.0.0.3               200     50  32768 i
 *&gt; 5.1.3.0/24       99.0.0.3               200     50  32768 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1            100    100      0 i
 *&gt;                  99.0.0.3               200     50  32768 i
 *&gt; 6.0.2.0/24       99.0.0.3               100    100  32768 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.3/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  11 routes and 12 total paths:
Tue Oct 31 07:35:24 2023 (#44) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp  ipv4 unicast json":.*:None:Get  ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 11,
 "routerId": "99.0.0.3",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":11,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":10,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":5,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":7,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":6,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":6,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":3,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":9,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }:
R:44 PASS: RequireUnicastRoutes [{'p': '5.1.2.0/24', 'n': '99.0.0.3'}, {'p': '5.1.3.0/24', 'n': '99.0.0.3'}, {'p': '6.0.1.0/24', 'n': '99.0.0.3'}, {'p': '6.0.2.0/24', 'n': '99.0.0.3'}, {'p': '99.0.0.3/32', 'n': '0.0.0.0'}]
R:44   ce3    Cust 3 routes in ce1                                     1    0
Tue Oct 31 07:35:24 2023 (#45) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 unicast":.:None:Get vrf ce4-cust2 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 13, local router ID is 99.0.0.4, vrf id 2
Default local pref 100, local AS 5228
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.2.1            100    100      0 i
 *&gt;i5.1.1.0/24       192.168.2.1            100    100      0 i
 *&gt;i5.1.2.0/24       192.168.2.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.2.1            200     50      0 i
 *&gt; 5.4.2.0/24       99.0.0.4               200     50  32768 i
 *&gt; 5.4.3.0/24       99.0.0.4               200     50  32768 i
 *&gt; 6.0.1.0/24       99.0.0.4               200     50  32768 i
 * i                 192.168.2.1            100    100      0 i
 *&gt; 6.0.2.0/24       99.0.0.4               100    100  32768 i
 * i                 192.168.2.1            100    100      0 i
 *&gt;i99.0.0.2/32      192.168.2.1              0    100      0 i
 *&gt;i99.0.0.3/32      192.168.2.1              0    100      0 i
 *&gt; 99.0.0.4/32      0.0.0.0                  0         32768 i

Displayed  11 routes and 13 total paths:
Tue Oct 31 07:35:24 2023 (#45) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 unicast json":.*:None:Get vrf ce4-cust2 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 2,
 "vrfName": "ce4-cust2",
 "tableVersion": 13,
 "routerId": "99.0.0.4",
 "defaultLocPrf": 100,
 "localAS": 5228,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":13,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":12,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":5,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":8,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":9,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":10,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":10,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":11,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce4","afi":"ipv4","used":true}]}]
 }  }:
R:45 PASS: RequireUnicastRoutes [{'p': '5.4.2.0/24', 'n': '99.0.0.4'}, {'p': '5.4.3.0/24', 'n': '99.0.0.4'}, {'p': '6.0.1.0/24', 'n': '99.0.0.4'}, {'p': '6.0.2.0/24', 'n': '99.0.0.4'}, {'p': '99.0.0.4/32', 'n': '0.0.0.0'}]
R:45   ce4    Cust 4 routes in ce1                                     1    0
Tue Oct 31 07:35:24 2023 (#46) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 unicast":.:None:Get vrf r1-cust1 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 192.168.1.1, vrf id 4
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       99.0.0.1                98    123      0 i
 *&gt;i5.1.1.0/24       99.0.0.1                98    123      0 i
 *&gt;i6.0.1.0/24       99.0.0.1                98    123      0 i
 *&gt;i6.0.2.0/24       99.0.0.1               100    100      0 i
 *&gt;i99.0.0.1/32      192.168.1.2              0    100      0 i

Displayed  5 routes and 5 total paths:
Tue Oct 31 07:35:24 2023 (#46) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 unicast json":.*:None:Get vrf r1-cust1 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 4,
 "vrfName": "r1-cust1",
 "tableVersion": 5,
 "routerId": "192.168.1.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.2","hostname":"ce1","afi":"ipv4","used":true}]}]
 }  }:
R:46 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '99.0.0.1'}, {'p': '5.1.1.0/24', 'n': '99.0.0.1'}, {'p': '6.0.1.0/24', 'n': '99.0.0.1'}, {'p': '6.0.2.0/24', 'n': '99.0.0.1'}, {'p': '99.0.0.1/32', 'n': '192.168.1.2'}]
R:46   r1     Customer 1 routes in r1 vrf                              1    0
Tue Oct 31 07:35:24 2023 (#47) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 unicast":.:None:Get vrf r3-cust1 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 11, local router ID is 192.168.1.1, vrf id 5
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       99.0.0.2               100    100      0 i
 *&gt;i5.1.1.0/24       99.0.0.2               100    100      0 i
 *&gt; 5.1.2.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.1.3.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.4.2.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.4.3.0/24       4.4.4.4@0&lt;             200     50      0 i
 *  6.0.1.0/24       4.4.4.4@0&lt;             200     50      0 i
 *                   4.4.4.4@0&lt;             200     50      0 i
 *&gt;i                 99.0.0.2               100    100      0 i
 *  6.0.2.0/24       4.4.4.4@0&lt;             100    100      0 i
 *                   4.4.4.4@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.2               100    100      0 i
 *&gt;i99.0.0.2/32      192.168.1.2              0    100      0 i
 *&gt; 99.0.0.3/32      4.4.4.4@0&lt;               0    100      0 i
 *&gt; 99.0.0.4/32      4.4.4.4@0&lt;               0    100      0 i

Displayed  11 routes and 15 total paths:
Tue Oct 31 07:35:24 2023 (#47) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 unicast json":.*:None:Get vrf r3-cust1 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 5,
 "vrfName": "r3-cust1",
 "tableVersion": 11,
 "routerId": "192.168.1.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":11,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":9,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"IGP Metric","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":0,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":7,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":6,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
 }  }:
R:47 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '99.0.0.2'}, {'p': '5.1.1.0/24', 'n': '99.0.0.2'}, {'p': '6.0.1.0/24', 'n': '99.0.0.2'}, {'p': '6.0.2.0/24', 'n': '99.0.0.2'}, {'p': '99.0.0.2/32', 'n': '192.168.1.2'}]
R:47   r3     Customer 1 routes in r3 vrf                              1    0
Tue Oct 31 07:35:24 2023 (#48) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 unicast":.:None:Get vrf r4-cust1 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 18, local router ID is 192.168.1.1, vrf id 5
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt;i5.1.2.0/24       99.0.0.3               200     50      0 i
 *&gt;i5.1.3.0/24       99.0.0.3               200     50      0 i
 *&gt; 5.4.2.0/24       99.0.0.4@6&lt;            200     50      0 i
 *&gt; 5.4.3.0/24       99.0.0.4@6&lt;            200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *                   99.0.0.4@6&lt;            200     50      0 i
 * i                 99.0.0.3               200     50      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *=                  99.0.0.4@6&lt;            100    100      0 i
 *&gt;i                 99.0.0.3               100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt;i99.0.0.3/32      192.168.1.2              0    100      0 i
 *&gt; 99.0.0.4/32      192.168.2.2@6&lt;           0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 07:35:24 2023 (#48) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 unicast json":.*:None:Get vrf r4-cust1 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 5,
 "vrfName": "r4-cust1",
 "tableVersion": 18,
 "routerId": "192.168.1.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":6,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"multipath":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Router ID","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":18,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":11,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.2","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"192.168.2.2","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }:
R:48 PASS: RequireUnicastRoutes [{'p': '5.1.2.0/24', 'n': '99.0.0.3'}, {'p': '5.1.3.0/24', 'n': '99.0.0.3'}, {'p': '6.0.1.0/24', 'n': '99.0.0.3'}, {'p': '6.0.2.0/24', 'n': '99.0.0.3'}, {'p': '99.0.0.3/32', 'n': '192.168.1.2'}]
R:48   r4     Customer 1 routes in r4 vrf                              1    0
Tue Oct 31 07:35:24 2023 (#49) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust2 ipv4 unicast":.:None:Get vrf r4-cust2 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 18, local router ID is 192.168.2.1, vrf id 6
Default local pref 100, local AS 5228
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.2.0/24       99.0.0.3@5&lt;            200     50      0 i
 *&gt; 5.1.3.0/24       99.0.0.3@5&lt;            200     50      0 i
 *&gt;i5.4.2.0/24       99.0.0.4               200     50      0 i
 *&gt;i5.4.3.0/24       99.0.0.4               200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 * i                 99.0.0.4               200     50      0 i
 *                   99.0.0.3@5&lt;            200     50      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *=i                 99.0.0.4               100    100      0 i
 *&gt;                  99.0.0.3@5&lt;            100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt; 99.0.0.3/32      192.168.1.2@5&lt;           0    100      0 i
 *&gt;i99.0.0.4/32      192.168.2.2              0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 07:35:24 2023 (#49) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust2 ipv4 unicast json":.*:None:Get vrf r4-cust2 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 6,
 "vrfName": "r4-cust2",
 "tableVersion": 18,
 "routerId": "192.168.2.1",
 "defaultLocPrf": 100,
 "localAS": 5228,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":6,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"multipath":true,"pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Router ID","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":18,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":11,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"192.168.1.2","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.2","hostname":"ce4","afi":"ipv4","used":true}]}]
 }  }:
R:49 PASS: RequireUnicastRoutes [{'p': '5.4.2.0/24', 'n': '99.0.0.4'}, {'p': '5.4.3.0/24', 'n': '99.0.0.4'}, {'p': '6.0.1.0/24', 'n': '99.0.0.4'}, {'p': '6.0.2.0/24', 'n': '99.0.0.4'}, {'p': '99.0.0.4/32', 'n': '192.168.2.2'}]
R:49   r4     Customer 2 routes in r4 vrf                              1    0
Tue Oct 31 07:35:24 2023 (#50) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp ipv4 uni":No BGP prefixes displayed:pass:Core Unicast SAFI clean:
COMMAND OUTPUT:No BGP prefixes displayed, 0 exist:
R:50   r1     Core Unicast SAFI clean                                  1    0
Tue Oct 31 07:35:24 2023 (#51) scripts/check_routes.py:0 COMMAND:r2:vtysh -c "show bgp ipv4 uni":No BGP prefixes displayed:pass:Core Unicast SAFI clean:
COMMAND OUTPUT:No BGP prefixes displayed, 0 exist:
R:51   r2     Core Unicast SAFI clean                                  1    0
Tue Oct 31 07:35:24 2023 (#52) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp ipv4 uni":No BGP prefixes displayed:pass:Core Unicast SAFI clean:
COMMAND OUTPUT:No BGP prefixes displayed, 0 exist:
R:52   r3     Core Unicast SAFI clean                                  1    0
Tue Oct 31 07:35:24 2023 (#53) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp ipv4 uni":No BGP prefixes displayed:pass:Core Unicast SAFI clean:
COMMAND OUTPUT:No BGP prefixes displayed, 0 exist:
R:53   r4     Core Unicast SAFI clean                                  1    0
Tue Oct 31 07:35:24 2023 (#54) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp ipv4 vpn":Distinguisher:  *10:1.*5.1.0.0/24 *99.0.0.1\b.*5.1.1.0/24 *99.0.0.1\b.*6.0.1.0/24 *99.0.0.1\b.*6.0.2.0/24 *99.0.0.1\b.*99.0.0.1/32 *192.168.1.2\b:pass:vrf-&gt;vpn routes:
COMMAND OUTPUT:BGP table version is 5, local router ID is 1.1.1.1, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt; 5.1.0.0/24       99.0.0.1@4&lt;             98    123      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 5.1.1.0/24       99.0.0.1@4&lt;             98    123      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.1@4&lt;             98    123      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.1@4&lt;            100    100      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 99.0.0.1/32      192.168.1.2@4&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=101 type=bgp, subtype=5
Route Distinguisher: 10:3
 *&gt;i5.1.0.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i99.0.0.2/32      3.3.3.3                  0    100      0 i
    UN=3.3.3.3 EC{52:100} label=103 type=bgp, subtype=0
Route Distinguisher: 10:41
 *&gt;i5.1.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i5.1.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i99.0.0.3/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1041 type=bgp, subtype=0
Route Distinguisher: 10:42
 *&gt;i5.4.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i5.4.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i99.0.0.4/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1042 type=bgp, subtype=0

Displayed  20 routes and 20 total paths:
R:54   r1     vrf-&gt;vpn routes                                          1    0
Tue Oct 31 07:35:24 2023 (#55) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp ipv4 vpn":Distinguisher:  *10:3.*5.1.0.0/24 *99.0.0.2\b.*5.1.1.0/24 *99.0.0.2\b.*6.0.1.0/24 *99.0.0.2\b.*6.0.2.0/24 *99.0.0.2\b.*99.0.0.2/32 *192.168.1.2\b:pass:vrf-&gt;vpn routes:
COMMAND OUTPUT:BGP table version is 5, local router ID is 3.3.3.3, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt;i5.1.0.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       1.1.1.1                100    100      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i99.0.0.1/32      1.1.1.1                  0    100      0 i
    UN=1.1.1.1 EC{52:100} label=101 type=bgp, subtype=0
Route Distinguisher: 10:3
 *&gt; 5.1.0.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 5.1.1.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 99.0.0.2/32      192.168.1.2@5&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=103 type=bgp, subtype=5
Route Distinguisher: 10:41
 *&gt;i5.1.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i5.1.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i99.0.0.3/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1041 type=bgp, subtype=0
Route Distinguisher: 10:42
 *&gt;i5.4.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i5.4.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i99.0.0.4/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1042 type=bgp, subtype=0

Displayed  20 routes and 20 total paths:
R:55   r3     vrf-&gt;vpn routes                                          1    0
Tue Oct 31 07:35:24 2023 (#56) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp ipv4 vpn":.:None:Get VPN RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 4.4.4.4, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt;i5.1.0.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       1.1.1.1                100    100      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i99.0.0.1/32      1.1.1.1                  0    100      0 i
    UN=1.1.1.1 EC{52:100} label=101 type=bgp, subtype=0
Route Distinguisher: 10:3
 *&gt;i5.1.0.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i99.0.0.2/32      3.3.3.3                  0    100      0 i
    UN=3.3.3.3 EC{52:100} label=103 type=bgp, subtype=0
Route Distinguisher: 10:41
 *&gt; 5.1.2.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 5.1.3.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.3@5&lt;            100    100      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 99.0.0.3/32      192.168.1.2@5&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=1041 type=bgp, subtype=5
Route Distinguisher: 10:42
 *&gt; 5.4.2.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 5.4.3.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.4@6&lt;            100    100      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 99.0.0.4/32      192.168.2.2@6&lt;           0    100      0 i
    UN=192.168.2.2 EC{52:100} label=1042 type=bgp, subtype=5

Displayed  20 routes and 20 total paths:
Tue Oct 31 07:35:24 2023 (#56) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp ipv4 vpn json":.*:None:Get VPN RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 5,
 "routerId": "4.4.4.4",
 "defaultLocPrf": 100,
 "localAS": 5226,
 "routes": {  "routeDistinguishers" : { "10:1" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":2,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:3" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:41" : { "5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":5,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"192.168.1.2","hostname":"r4","afi":"ipv4","used":true}]}]
 },  "10:42" : { "5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":5,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"192.168.2.2","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }  }  }:
R:56 PASS: RequireVpnRoutes [{'rd': '10:41', 'p': '5.1.2.0/24', 'n': '99.0.0.3'}, {'rd': '10:41', 'p': '5.1.3.0/24', 'n': '99.0.0.3'}, {'rd': '10:41', 'p': '6.0.1.0/24', 'n': '99.0.0.3'}, {'rd': '10:41', 'p': '6.0.2.0/24', 'n': '99.0.0.3'}, {'rd': '10:41', 'p': '99.0.0.3/32', 'n': '192.168.1.2'}, {'rd': '10:42', 'p': '5.4.2.0/24', 'n': '99.0.0.4'}, {'rd': '10:42', 'p': '5.4.3.0/24', 'n': '99.0.0.4'}, {'rd': '10:42', 'p': '6.0.1.0/24', 'n': '99.0.0.4'}, {'rd': '10:42', 'p': '6.0.2.0/24', 'n': '99.0.0.4'}, {'rd': '10:42', 'p': '99.0.0.4/32', 'n': '192.168.2.2'}]
R:56   r4     vrf-&gt;vpn routes                                          1    0
Tue Oct 31 07:35:24 2023 (#57) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show mpls table": 101 *BGP *r1-cust1:pass:vrf labels:
COMMAND OUTPUT: Inbound Label  Type  Nexthop   Outbound Label  
 -----------------------------------------------
 101            BGP   r1-cust1  -:
R:57   r1     vrf labels                                               1    0
Tue Oct 31 07:35:24 2023 (#58) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show mpls table": 103 *BGP *r3-cust1:pass:vrf labels:
COMMAND OUTPUT: Inbound Label  Type  Nexthop   Outbound Label  
 -----------------------------------------------
 16             LDP   10.0.2.4  implicit-null   
 17             LDP   10.0.2.2  implicit-null   
 17             LDP   10.0.3.2  implicit-null   
 18             LDP   10.0.2.2  implicit-null   
 18             LDP   10.0.3.2  implicit-null   
 19             LDP   10.0.2.2  18              
 19             LDP   10.0.3.2  18              
 103            BGP   r3-cust1  -:
R:58   r3     vrf labels                                               1    0
Tue Oct 31 07:35:24 2023 (#59) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show mpls table": 1041 *BGP *r4-cust1 .*1042 *BGP *r4-cust2:pass:vrf labels:
COMMAND OUTPUT: Inbound Label  Type  Nexthop   Outbound Label  
 -----------------------------------------------
 16             LDP   10.0.2.2  implicit-null   
 17             LDP   10.0.2.3  implicit-null   
 18             LDP   10.0.2.2  implicit-null   
 19             LDP   10.0.2.3  implicit-null   
 19             LDP   10.0.2.2  implicit-null   
 20             LDP   10.0.2.2  18              
 1041           BGP   r4-cust1  -               
 1042           BGP   r4-cust2  -:
R:59   r4     vrf labels                                               1    0
Tue Oct 31 07:35:24 2023 (#60) scripts/check_routes.py:0 COMMAND:r2:vtysh -c "show bgp ipv4 vpn":.:None:Get VPN RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 2.2.2.2, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt;i5.1.0.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       1.1.1.1                100    100      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i99.0.0.1/32      1.1.1.1                  0    100      0 i
    UN=1.1.1.1 EC{52:100} label=101 type=bgp, subtype=0
Route Distinguisher: 10:3
 *&gt;i5.1.0.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i99.0.0.2/32      3.3.3.3                  0    100      0 i
    UN=3.3.3.3 EC{52:100} label=103 type=bgp, subtype=0
Route Distinguisher: 10:41
 *&gt;i5.1.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i5.1.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i99.0.0.3/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1041 type=bgp, subtype=0
Route Distinguisher: 10:42
 *&gt;i5.4.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i5.4.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i99.0.0.4/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1042 type=bgp, subtype=0

Displayed  20 routes and 20 total paths:
Tue Oct 31 07:35:24 2023 (#60) scripts/check_routes.py:0 COMMAND:r2:vtysh -c "show bgp ipv4 vpn json":.*:None:Get VPN RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 5,
 "routerId": "2.2.2.2",
 "defaultLocPrf": 100,
 "localAS": 5226,
 "routes": {  "routeDistinguishers" : { "10:1" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":98,"locPrf":123,"weight":0,"peerId":"1.1.1.1","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"1.1.1.1","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":98,"locPrf":123,"weight":0,"peerId":"1.1.1.1","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"1.1.1.1","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"1.1.1.1","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
 },  "10:3" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":100,"locPrf":100,"weight":0,"peerId":"3.3.3.3","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"3.3.3.3","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"3.3.3.3","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"3.3.3.3","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"3.3.3.3","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r3","afi":"ipv4","used":true}]}]
 },  "10:41" : { "5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":1,"metric":200,"locPrf":50,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":200,"locPrf":50,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
 },  "10:42" : { "5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":2,"metric":200,"locPrf":50,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":1,"metric":200,"locPrf":50,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":5,"metric":100,"locPrf":100,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":4,"metric":0,"locPrf":100,"weight":0,"peerId":"4.4.4.4","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }  }  }:
R:60 PASS: RequireVpnRoutes [{'rd': '10:1', 'p': '5.1.0.0/24', 'n': '1.1.1.1'}, {'rd': '10:1', 'p': '5.1.0.0/24', 'n': '1.1.1.1'}, {'rd': '10:1', 'p': '99.0.0.1/32', 'n': '1.1.1.1'}, {'rd': '10:3', 'p': '5.1.0.0/24', 'n': '3.3.3.3'}, {'rd': '10:3', 'p': '5.1.0.0/24', 'n': '3.3.3.3'}, {'rd': '10:3', 'p': '99.0.0.2/32', 'n': '3.3.3.3'}, {'rd': '10:41', 'p': '5.1.2.0/24', 'n': '4.4.4.4'}, {'rd': '10:41', 'p': '5.1.3.0/24', 'n': '4.4.4.4'}, {'rd': '10:41', 'p': '99.0.0.3/32', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '5.4.2.0/24', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '5.4.3.0/24', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '99.0.0.4/32', 'n': '4.4.4.4'}]
R:60   r2     Customer routes in provider vpn core                     1    0
Tue Oct 31 07:35:24 2023 (#61) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp ipv4 vpn":.:None:Get VPN RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 1.1.1.1, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt; 5.1.0.0/24       99.0.0.1@4&lt;             98    123      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 5.1.1.0/24       99.0.0.1@4&lt;             98    123      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.1@4&lt;             98    123      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.1@4&lt;            100    100      0 i
    UN=99.0.0.1 EC{89:123 52:100} label=101 type=bgp, subtype=5
 *&gt; 99.0.0.1/32      192.168.1.2@4&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=101 type=bgp, subtype=5
Route Distinguisher: 10:3
 *&gt;i5.1.0.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i99.0.0.2/32      3.3.3.3                  0    100      0 i
    UN=3.3.3.3 EC{52:100} label=103 type=bgp, subtype=0
Route Distinguisher: 10:41
 *&gt;i5.1.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i5.1.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i99.0.0.3/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1041 type=bgp, subtype=0
Route Distinguisher: 10:42
 *&gt;i5.4.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i5.4.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i99.0.0.4/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1042 type=bgp, subtype=0

Displayed  20 routes and 20 total paths:
Tue Oct 31 07:35:24 2023 (#61) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp ipv4 vpn json":.*:None:Get VPN RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 5,
 "routerId": "1.1.1.1",
 "defaultLocPrf": 100,
 "localAS": 5226,
 "routes": {  "routeDistinguishers" : { "10:1" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r1-cust1","nhVrfId":4,"nexthops":[{"ip":"99.0.0.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r1-cust1","nhVrfId":4,"nexthops":[{"ip":"99.0.0.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r1-cust1","nhVrfId":4,"nexthops":[{"ip":"99.0.0.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r1-cust1","nhVrfId":4,"nexthops":[{"ip":"99.0.0.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r1-cust1","nhVrfId":4,"nexthops":[{"ip":"192.168.1.2","hostname":"r1","afi":"ipv4","used":true}]}]
 },  "10:3" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:41" : { "5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":1,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:42" : { "5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":2,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":1,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":5,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":4,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
 }  }  }  }:
R:61 PASS: RequireVpnRoutes [{'rd': '10:3', 'p': '5.1.0.0/24', 'n': '3.3.3.3'}, {'rd': '10:3', 'p': '5.1.1.0/24', 'n': '3.3.3.3'}, {'rd': '10:3', 'p': '99.0.0.2/32', 'n': '3.3.3.3'}, {'rd': '10:41', 'p': '5.1.2.0/24', 'n': '4.4.4.4'}, {'rd': '10:41', 'p': '5.1.3.0/24', 'n': '4.4.4.4'}, {'rd': '10:41', 'p': '99.0.0.3/32', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '5.4.2.0/24', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '5.4.3.0/24', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '99.0.0.4/32', 'n': '4.4.4.4'}]
R:61   r1     Remote Customer routes in R1 vpn                         1    0
Tue Oct 31 07:35:24 2023 (#62) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp ipv4 vpn":.:None:Get VPN RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 3.3.3.3, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt;i5.1.0.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       1.1.1.1                100    100      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i99.0.0.1/32      1.1.1.1                  0    100      0 i
    UN=1.1.1.1 EC{52:100} label=101 type=bgp, subtype=0
Route Distinguisher: 10:3
 *&gt; 5.1.0.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 5.1.1.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.2@5&lt;            100    100      0 i
    UN=99.0.0.2 EC{89:123 52:100} label=103 type=bgp, subtype=5
 *&gt; 99.0.0.2/32      192.168.1.2@5&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=103 type=bgp, subtype=5
Route Distinguisher: 10:41
 *&gt;i5.1.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i5.1.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1041 type=bgp, subtype=0
 *&gt;i99.0.0.3/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1041 type=bgp, subtype=0
Route Distinguisher: 10:42
 *&gt;i5.4.2.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i5.4.3.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       4.4.4.4                200     50      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       4.4.4.4                100    100      0 i
    UN=4.4.4.4 EC{52:100 89:123} label=1042 type=bgp, subtype=0
 *&gt;i99.0.0.4/32      4.4.4.4                  0    100      0 i
    UN=4.4.4.4 EC{52:100} label=1042 type=bgp, subtype=0

Displayed  20 routes and 20 total paths:
Tue Oct 31 07:35:24 2023 (#62) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp ipv4 vpn json":.*:None:Get VPN RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 5,
 "routerId": "3.3.3.3",
 "defaultLocPrf": 100,
 "localAS": 5226,
 "routes": {  "routeDistinguishers" : { "10:1" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":2,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:3" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r3-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.2","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r3-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.2","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r3-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.2","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r3-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.2","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r3-cust1","nhVrfId":5,"nexthops":[{"ip":"192.168.1.2","hostname":"r3","afi":"ipv4","used":true}]}]
 },  "10:41" : { "5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":1,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:42" : { "5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":2,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":1,"metric":200,"locPrf":50,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":5,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":4,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"4.4.4.4","hostname":"r2","afi":"ipv4","used":true}]}]
 }  }  }  }:
R:62 PASS: RequireVpnRoutes [{'rd': '10:1', 'p': '5.1.0.0/24', 'n': '1.1.1.1'}, {'rd': '10:1', 'p': '5.1.1.0/24', 'n': '1.1.1.1'}, {'rd': '10:1', 'p': '99.0.0.1/32', 'n': '1.1.1.1'}, {'rd': '10:41', 'p': '5.1.2.0/24', 'n': '4.4.4.4'}, {'rd': '10:41', 'p': '5.1.3.0/24', 'n': '4.4.4.4'}, {'rd': '10:41', 'p': '99.0.0.3/32', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '5.4.2.0/24', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '5.4.3.0/24', 'n': '4.4.4.4'}, {'rd': '10:42', 'p': '99.0.0.4/32', 'n': '4.4.4.4'}]
R:62   r3     Remote Customer routes in R3 vpn                         1    0
Tue Oct 31 07:35:25 2023 (#63) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp ipv4 vpn":.:None:Get VPN RIB (non-json):
COMMAND OUTPUT:BGP table version is 5, local router ID is 4.4.4.4, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt;i5.1.0.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       1.1.1.1                100    100      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i99.0.0.1/32      1.1.1.1                  0    100      0 i
    UN=1.1.1.1 EC{52:100} label=101 type=bgp, subtype=0
Route Distinguisher: 10:3
 *&gt;i5.1.0.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i99.0.0.2/32      3.3.3.3                  0    100      0 i
    UN=3.3.3.3 EC{52:100} label=103 type=bgp, subtype=0
Route Distinguisher: 10:41
 *&gt; 5.1.2.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 5.1.3.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.3@5&lt;            100    100      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 99.0.0.3/32      192.168.1.2@5&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=1041 type=bgp, subtype=5
Route Distinguisher: 10:42
 *&gt; 5.4.2.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 5.4.3.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.4@6&lt;            100    100      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 99.0.0.4/32      192.168.2.2@6&lt;           0    100      0 i
    UN=192.168.2.2 EC{52:100} label=1042 type=bgp, subtype=5

Displayed  20 routes and 20 total paths:
Tue Oct 31 07:35:25 2023 (#63) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp ipv4 vpn json":.*:None:Get VPN RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 5,
 "routerId": "4.4.4.4",
 "defaultLocPrf": 100,
 "localAS": 5226,
 "routes": {  "routeDistinguishers" : { "10:1" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":2,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"1.1.1.1","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:3" : { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":1,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":5,"metric":0,"locPrf":100,"weight":0,"peerId":"2.2.2.2","path":"","origin":"IGP","nexthops":[{"ip":"3.3.3.3","hostname":"r2","afi":"ipv4","used":true}]}]
 },  "10:41" : { "5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":5,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"192.168.1.2","hostname":"r4","afi":"ipv4","used":true}]}]
 },  "10:42" : { "5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":3,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":5,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"192.168.2.2","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }  }  }:
R:63 PASS: RequireVpnRoutes [{'rd': '10:1', 'p': '5.1.0.0/24', 'n': '1.1.1.1'}, {'rd': '10:1', 'p': '5.1.1.0/24', 'n': '1.1.1.1'}, {'rd': '10:1', 'p': '99.0.0.1/32', 'n': '1.1.1.1'}, {'rd': '10:3', 'p': '5.1.0.0/24', 'n': '3.3.3.3'}, {'rd': '10:3', 'p': '5.1.1.0/24', 'n': '3.3.3.3'}, {'rd': '10:3', 'p': '99.0.0.2/32', 'n': '3.3.3.3'}]
R:63   r4     Remote Customer routes in R4 vpn                         1    0
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.0.0/24":2 available, best:wait:Ensure 5.1.0.0 shows up on r1:10:0.5:
Tue Oct 31 07:35:25 2023 (#64) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.0.0/24":2 available, best:wait:Ensure 5.1.0.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.0.0/24, version 3
Paths: (2 available, best #2, vrf r1-cust1)
  Not advertised to any peer
  Imported from 10:3:5.1.0.0/24
  Local
    3.3.3.3 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:35:24 2023
  Local
    99.0.0.1 from 192.168.1.2 (99.0.0.1)
      Origin IGP, metric 98, localpref 123, valid, internal, best (First path received)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:35:09 2023:
R:64   r1     Ensure 5.1.0.0 shows up on r1 +0.03 secs                 1    0
Done after 1 loops, time=0.0332181453704834, Found=2 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.1.0/24":2 available, best:wait:Ensure 5.1.1.0 shows up on r1:10:0.5:
Tue Oct 31 07:35:25 2023 (#65) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.1.0/24":2 available, best:wait:Ensure 5.1.1.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.1.0/24, version 5
Paths: (2 available, best #2, vrf r1-cust1)
  Not advertised to any peer
  Imported from 10:3:5.1.1.0/24
  Local
    3.3.3.3 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:35:24 2023
  Local
    99.0.0.1 from 192.168.1.2 (99.0.0.1)
      Origin IGP, metric 98, localpref 123, valid, internal, best (First path received)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:35:09 2023:
R:65   r1     Ensure 5.1.1.0 shows up on r1 +0.03 secs                 1    0
Done after 1 loops, time=0.034006595611572266, Found=2 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:10:0.5:
Tue Oct 31 07:35:25 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 0
Paths: (1 available, no best path)
  Not advertised to any peer
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:35:24 2023:
Tue Oct 31 07:35:25 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 0
Paths: (1 available, no best path)
  Not advertised to any peer
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:35:23 2023:
Tue Oct 31 07:35:26 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 0
Paths: (1 available, no best path)
  Not advertised to any peer
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:35:24 2023:
Tue Oct 31 07:35:26 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 0
Paths: (1 available, no best path)
  Not advertised to any peer
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:35:23 2023:
Tue Oct 31 07:35:27 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 0
Paths: (1 available, no best path)
  Not advertised to any peer
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, invalid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:35:24 2023:
Tue Oct 31 07:35:27 2023 (#66) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 12
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:35:23 2023:
R:66   r1     Ensure 5.1.2.0 shows up on r1 +2.71 secs                 1    0
Done after 6 loops, time=2.709472417831421, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.3.0/24":1 available, best:wait:Ensure 5.1.3.0 shows up on r1:10:0.5:
Tue Oct 31 07:35:27 2023 (#67) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.1.3.0/24":1 available, best:wait:Ensure 5.1.3.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.1.3.0/24, version 9
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:41:5.1.3.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:35:23 2023:
R:67   r1     Ensure 5.1.3.0 shows up on r1 +0.03 secs                 1    0
Done after 1 loops, time=0.03335118293762207, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.4.2.0/24":1 available, best:wait:Ensure 5.4.2.0 shows up on r1:10:0.5:
Tue Oct 31 07:35:27 2023 (#68) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.4.2.0/24":1 available, best:wait:Ensure 5.4.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.4.2.0/24, version 10
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:5.4.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 07:35:23 2023:
R:68   r1     Ensure 5.4.2.0 shows up on r1 +0.04 secs                 1    0
Done after 1 loops, time=0.03528881072998047, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.4.2.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r1:10:0.5:
Tue Oct 31 07:35:27 2023 (#69) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 5.4.2.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 5.4.2.0/24, version 10
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:5.4.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 07:35:23 2023:
R:69   r1     Ensure 5.4.3.0 shows up on r1 +0.03 secs                 1    0
Done after 1 loops, time=0.034787893295288086, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 6.0.1.0/24":4 available, best:wait:Ensure 6.0.1.0 shows up on r1:10:0.5:
Tue Oct 31 07:35:27 2023 (#70) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 6.0.1.0/24":4 available, best:wait:Ensure 6.0.1.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 4
Paths: (4 available, best #4, vrf r1-cust1)
  Not advertised to any peer
  Imported from 10:41:6.0.1.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:35:24 2023
  Imported from 10:42:6.0.1.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 07:35:24 2023
  Imported from 10:3:6.0.1.0/24
  Local
    3.3.3.3 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:35:24 2023
  Local
    99.0.0.1 from 192.168.1.2 (99.0.0.1)
      Origin IGP, metric 98, localpref 123, valid, internal, best (Local Pref)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:35:09 2023:
R:70   r1     Ensure 6.0.1.0 shows up on r1 +0.03 secs                 1    0
Done after 1 loops, time=0.034456729888916016, Found=4 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 6.0.2.0/24":4 available, best:wait:Ensure 6.0.2.0 shows up on r1:10:0.5:
Tue Oct 31 07:35:28 2023 (#71) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 6.0.2.0/24":4 available, best:wait:Ensure 6.0.2.0 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 2
Paths: (4 available, best #4, vrf r1-cust1)
  Not advertised to any peer
  Imported from 10:42:6.0.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:14
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 07:35:24 2023
  Imported from 10:41:6.0.2.0/24
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:13
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:35:24 2023
  Imported from 10:3:6.0.2.0/24
  Local
    3.3.3.3 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:35:24 2023
  Local
    99.0.0.1 from 192.168.1.2 (99.0.0.1)
      Origin IGP, metric 100, localpref 100, valid, internal, best (IGP Metric)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:11
      Last update: Tue Oct 31 07:35:09 2023:
R:71   r1     Ensure 6.0.2.0 shows up on r1 +0.03 secs                 1    0
Done after 1 loops, time=0.03410482406616211, Found=4 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.1/32":1 available, best:wait:Ensure 99.0.0.1 shows up on r1:10:0.5:
Tue Oct 31 07:35:28 2023 (#72) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.1/32":1 available, best:wait:Ensure 99.0.0.1 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.1/32, version 1
Paths: (1 available, best #1, vrf r1-cust1)
  Not advertised to any peer
  Local
    192.168.1.2 from 192.168.1.2 (99.0.0.1)
      Origin IGP, metric 0, localpref 100, valid, internal, best (First path received)
      Last update: Tue Oct 31 07:35:06 2023:
R:72   r1     Ensure 99.0.0.1 shows up on r1 +0.03 secs                1    0
Done after 1 loops, time=0.033355712890625, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.2/32":1 available, best:wait:Ensure 99.0.0.2 shows up on r1:10:0.5:
Tue Oct 31 07:35:28 2023 (#73) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.2/32":1 available, best:wait:Ensure 99.0.0.2 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.2/32, version 6
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:3:99.0.0.2/32
  Local
    3.3.3.3 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:35:24 2023:
R:73   r1     Ensure 99.0.0.2 shows up on r1 +0.03 secs                1    0
Done after 1 loops, time=0.03347134590148926, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.3/32":1 available, best:wait:Ensure 99.0.0.3 shows up on r1:10:0.5:
Tue Oct 31 07:35:28 2023 (#74) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.3/32":1 available, best:wait:Ensure 99.0.0.3 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.3/32, version 8
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:41:99.0.0.3/32
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:35:24 2023:
R:74   r1     Ensure 99.0.0.3 shows up on r1 +0.03 secs                1    0
Done after 1 loops, time=0.03501081466674805, Found=1 available, best
scripts/check_routes.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.4/32":1 available, best:wait:Ensure 99.0.0.4 shows up on r1:10:0.5:
Tue Oct 31 07:35:28 2023 (#75) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 99.0.0.4/32":1 available, best:wait:Ensure 99.0.0.4 shows up on r1:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.4/32, version 7
Paths: (1 available, best #1, vrf r1-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:99.0.0.4/32
  Local
    4.4.4.4 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 07:35:24 2023:
R:75   r1     Ensure 99.0.0.4 shows up on r1 +0.03 secs                1    0
Done after 1 loops, time=0.0335850715637207, Found=1 available, best
Tue Oct 31 07:35:28 2023 (#76) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 unicast":.:None:Get vrf r1-cust1 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 12, local router ID is 192.168.1.1, vrf id 4
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *  5.1.0.0/24       3.3.3.3@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.1                98    123      0 i
 *  5.1.1.0/24       3.3.3.3@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.1                98    123      0 i
 *&gt; 5.1.2.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.1.3.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.4.2.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.4.3.0/24       4.4.4.4@0&lt;             200     50      0 i
 *  6.0.1.0/24       4.4.4.4@0&lt;             200     50      0 i
 *                   4.4.4.4@0&lt;             200     50      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.1                98    123      0 i
 *  6.0.2.0/24       4.4.4.4@0&lt;             100    100      0 i
 *                   4.4.4.4@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.1               100    100      0 i
 *&gt;i99.0.0.1/32      192.168.1.2              0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt; 99.0.0.3/32      4.4.4.4@0&lt;               0    100      0 i
 *&gt; 99.0.0.4/32      4.4.4.4@0&lt;               0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 07:35:28 2023 (#76) scripts/check_routes.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 unicast json":.*:None:Get vrf r1-cust1 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 4,
 "vrfName": "r1-cust1",
 "tableVersion": 12,
 "routerId": "192.168.1.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":5,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":12,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":9,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":11,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":4,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"IGP Metric","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.2","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":6,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":8,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":7,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r1","afi":"ipv4","used":true}]}]
 }  }:
R:76 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '5.1.0.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '5.1.1.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '5.1.2.0/24', 'n': '4.4.4.4'}, {'p': '5.1.3.0/24', 'n': '4.4.4.4'}, {'p': '5.4.2.0/24', 'n': '4.4.4.4'}, {'p': '5.4.3.0/24', 'n': '4.4.4.4'}, {'p': '6.0.1.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '4.4.4.4', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '6.0.2.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.2.0/24', 'n': '4.4.4.4', 'bp': False}, {'p': '6.0.2.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '99.0.0.1/32', 'n': '192.168.1.2', 'bp': True}, {'p': '99.0.0.2/32', 'n': '3.3.3.3'}, {'p': '99.0.0.3/32', 'n': '4.4.4.4'}, {'p': '99.0.0.4/32', 'n': '4.4.4.4'}]
R:76   r1     Customer 1 routes in r1 vrf (2)                          1    0
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.0.0/24":2 available, best:wait:Ensure 5.1.0.0 shows up r3:10:0.5:
Tue Oct 31 07:35:28 2023 (#77) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.0.0/24":2 available, best:wait:Ensure 5.1.0.0 shows up r3:
COMMAND OUTPUT:BGP routing table entry for 5.1.0.0/24, version 12
Paths: (2 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:5.1.0.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 98, localpref 123, valid, sourced, local, best (Local Pref)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:35:24 2023
  Local
    99.0.0.2 from 192.168.1.2 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, valid, internal
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:35:10 2023:
R:77   r3     Ensure 5.1.0.0 shows up r3 +0.03 secs                    1    0
Done after 1 loops, time=0.03438615798950195, Found=2 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.1.0/24":2 available, best:wait:Ensure 5.1.1.0 shows up on r3:10:0.5:
Tue Oct 31 07:35:28 2023 (#78) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.1.0/24":2 available, best:wait:Ensure 5.1.1.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 5.1.1.0/24, version 13
Paths: (2 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:5.1.1.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 98, localpref 123, valid, sourced, local, best (Local Pref)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:35:24 2023
  Local
    99.0.0.2 from 192.168.1.2 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, valid, internal
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:35:10 2023:
R:78   r3     Ensure 5.1.1.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.03348493576049805, Found=2 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r3:10:0.5:
Tue Oct 31 07:35:28 2023 (#79) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.2.0/24":1 available, best:wait:Ensure 5.1.2.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 5.1.2.0/24, version 11
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:41:5.1.2.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:35:20 2023:
R:79   r3     Ensure 5.1.2.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.0334925651550293, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.3.0/24":1 available, best:wait:Ensure 5.1.3.0 shows up on r3:10:0.5:
Tue Oct 31 07:35:28 2023 (#80) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.1.3.0/24":1 available, best:wait:Ensure 5.1.3.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 5.1.3.0/24, version 8
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:41:5.1.3.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:35:20 2023:
R:80   r3     Ensure 5.1.3.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.03431081771850586, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.4.3.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r3:10:0.5:
Tue Oct 31 07:35:28 2023 (#81) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.4.3.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 5.4.3.0/24, version 10
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:5.4.3.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 07:35:20 2023:
R:81   r3     Ensure 5.4.3.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.03345823287963867, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.4.3.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r3:10:0.5:
Tue Oct 31 07:35:28 2023 (#82) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.4.3.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 5.4.3.0/24, version 10
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:5.4.3.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 07:35:20 2023:
R:82   r3     Ensure 5.4.3.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.03398394584655762, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.4.3.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r3:10:0.5:
Tue Oct 31 07:35:28 2023 (#83) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 5.4.3.0/24":1 available, best:wait:Ensure 5.4.3.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 5.4.3.0/24, version 10
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:5.4.3.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 07:35:20 2023:
R:83   r3     Ensure 5.4.3.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.033055782318115234, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 6.0.1.0/24":4 available, best:wait:Ensure 6.0.1.0 shows up on r3:10:0.5:
Tue Oct 31 07:35:28 2023 (#84) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 6.0.1.0/24":4 available, best:wait:Ensure 6.0.1.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 14
Paths: (4 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:6.0.1.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 98, localpref 123, valid, sourced, local, best (Local Pref)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:35:24 2023
  Imported from 10:41:6.0.1.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:35:20 2023
  Imported from 10:42:6.0.1.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 07:35:20 2023
  Local
    99.0.0.2 from 192.168.1.2 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, valid, internal
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:35:10 2023:
R:84   r3     Ensure 6.0.1.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.032813072204589844, Found=4 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 6.0.2.0/24":4 available, best:wait:Ensure 6.0.2.0 shows up on r3:10:0.5:
Tue Oct 31 07:35:28 2023 (#85) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 6.0.2.0/24":4 available, best:wait:Ensure 6.0.2.0 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 2
Paths: (4 available, best #4, vrf r3-cust1)
  Not advertised to any peer
  Imported from 10:1:6.0.2.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:11
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:35:24 2023
  Imported from 10:42:6.0.2.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:14
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 07:35:20 2023
  Imported from 10:41:6.0.2.0/24
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:13
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:35:20 2023
  Local
    99.0.0.2 from 192.168.1.2 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, valid, internal, best (IGP Metric)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:12
      Last update: Tue Oct 31 07:35:10 2023:
R:85   r3     Ensure 6.0.2.0 shows up on r3 +0.03 secs                 1    0
Done after 1 loops, time=0.034542083740234375, Found=4 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 99.0.0.1/32":1 available, best:wait:Ensure 99.0.0.1 shows up on r3:10:0.5:
Tue Oct 31 07:35:28 2023 (#86) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 99.0.0.1/32":1 available, best:wait:Ensure 99.0.0.1 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.1/32, version 15
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:99.0.0.1/32
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:35:24 2023:
R:86   r3     Ensure 99.0.0.1 shows up on r3 +0.03 secs                1    0
Done after 1 loops, time=0.03328084945678711, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 99.0.0.3/32":1 available, best:wait:Ensure 99.0.0.3 shows up on r3:10:0.5:
Tue Oct 31 07:35:28 2023 (#87) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 99.0.0.3/32":1 available, best:wait:Ensure 99.0.0.3 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.3/32, version 7
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:41:99.0.0.3/32
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1041
      Last update: Tue Oct 31 07:35:20 2023:
R:87   r3     Ensure 99.0.0.3 shows up on r3 +0.03 secs                1    0
Done after 1 loops, time=0.03447389602661133, Found=1 available, best
scripts/check_routes.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 99.0.0.4/32":1 available, best:wait:Ensure 99.0.0.4 shows up on r3:10:0.5:
Tue Oct 31 07:35:28 2023 (#88) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 99.0.0.4/32":1 available, best:wait:Ensure 99.0.0.4 shows up on r3:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.4/32, version 6
Paths: (1 available, best #1, vrf r3-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:99.0.0.4/32
  Local
    4.4.4.4 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 4.4.4.4, Cluster list: 2.2.2.2 
      Remote label: 1042
      Last update: Tue Oct 31 07:35:20 2023:
R:88   r3     Ensure 99.0.0.4 shows up on r3 +0.03 secs                1    0
Done after 1 loops, time=0.03328394889831543, Found=1 available, best
Tue Oct 31 07:35:28 2023 (#89) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 unicast":.:None:Get vrf r3-cust1 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 15, local router ID is 192.168.1.1, vrf id 5
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 * i                 99.0.0.2               100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 * i                 99.0.0.2               100    100      0 i
 *&gt; 5.1.2.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.1.3.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.4.2.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 5.4.3.0/24       4.4.4.4@0&lt;             200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   4.4.4.4@0&lt;             200     50      0 i
 *                   4.4.4.4@0&lt;             200     50      0 i
 * i                 99.0.0.2               100    100      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   4.4.4.4@0&lt;             100    100      0 i
 *                   4.4.4.4@0&lt;             100    100      0 i
 *&gt;i                 99.0.0.2               100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt;i99.0.0.2/32      192.168.1.2              0    100      0 i
 *&gt; 99.0.0.3/32      4.4.4.4@0&lt;               0    100      0 i
 *&gt; 99.0.0.4/32      4.4.4.4@0&lt;               0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 07:35:28 2023 (#89) scripts/check_routes.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 unicast json":.*:None:Get vrf r3-cust1 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 5,
 "vrfName": "r3-cust1",
 "tableVersion": 15,
 "routerId": "192.168.1.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":12,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":12,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":13,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":13,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":11,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":9,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":14,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":14,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":14,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":14,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"IGP Metric","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":15,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":7,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":6,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"4.4.4.4","hostname":"r3","afi":"ipv4","used":true}]}]
 }  }:
R:89 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '5.1.0.0/24', 'n': '99.0.0.2', 'bp': False}, {'p': '5.1.1.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '99.0.0.2', 'bp': False}, {'p': '5.1.2.0/24', 'n': '4.4.4.4', 'bp': True}, {'p': '5.1.3.0/24', 'n': '4.4.4.4', 'bp': True}, {'p': '5.4.2.0/24', 'n': '4.4.4.4', 'bp': True}, {'p': '5.4.3.0/24', 'n': '4.4.4.4', 'bp': True}, {'p': '6.0.1.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '4.4.4.4', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.2', 'bp': False}, {'p': '6.0.2.0/24', 'n': '1.1.1.1', 'bp': False}, {'p': '6.0.2.0/24', 'n': '4.4.4.4', 'bp': False}, {'p': '6.0.2.0/24', 'n': '99.0.0.2', 'bp': True}, {'p': '99.0.0.1/32', 'n': '1.1.1.1', 'bp': True}, {'p': '99.0.0.3/32', 'n': '4.4.4.4', 'bp': True}, {'p': '99.0.0.4/32', 'n': '4.4.4.4', 'bp': True}]
R:89   r3     Customer 1 routes in r3 vrf (2)                          1    0
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 5.1.0.0/24":2 available, best:wait:Ensure 5.1.0.0 shows up on r4:10:0.5:
Tue Oct 31 07:35:28 2023 (#90) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 5.1.0.0/24":2 available, best:wait:Ensure 5.1.0.0 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 5.1.0.0/24, version 15
Paths: (2 available, best #1, vrf r4-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:5.1.0.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 98, localpref 123, valid, sourced, local, best (Local Pref)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:35:23 2023
  Imported from 10:3:5.1.0.0/24
  Local
    3.3.3.3 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:35:19 2023:
R:90   r4     Ensure 5.1.0.0 shows up on r4 +0.03 secs                 1    0
Done after 1 loops, time=0.0334165096282959, Found=2 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 5.1.1.0/24":2 available, best:wait:Ensure 5.1.1.0 shows up on r4:10:0.5:
Tue Oct 31 07:35:28 2023 (#91) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 5.1.1.0/24":2 available, best:wait:Ensure 5.1.1.0 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 5.1.1.0/24, version 16
Paths: (2 available, best #1, vrf r4-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:5.1.1.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 98, localpref 123, valid, sourced, local, best (Local Pref)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:35:23 2023
  Imported from 10:3:5.1.1.0/24
  Local
    3.3.3.3 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:35:19 2023:
R:91   r4     Ensure 5.1.1.0 shows up on r4 +0.03 secs                 1    0
Done after 1 loops, time=0.03306293487548828, Found=2 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 6.0.1.0/24":4 available, best:wait:Ensure 6.0.1.0 shows up on r4:10:0.5:
Tue Oct 31 07:35:28 2023 (#92) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 6.0.1.0/24":4 available, best:wait:Ensure 6.0.1.0 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 17
Paths: (4 available, best #1, vrf r4-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:6.0.1.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 98, localpref 123, valid, sourced, local, best (Local Pref)
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:35:23 2023
  Imported from 10:3:6.0.1.0/24
  Local
    3.3.3.3 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:35:19 2023
  Imported from 10:42:6.0.1.0/24
  Local
    99.0.0.4 from 0.0.0.0 (192.168.1.1) vrf r4-cust2(6) announce-nh-self
      Origin IGP, metric 200, localpref 50, valid, sourced, local
      Community: 0:67
      Extended Community: RT:89:123 RT:52:100
      Large Community: 12:34:56
      Originator: 4.4.4.4
      Last update: Tue Oct 31 07:35:10 2023
  Local
    99.0.0.3 from 192.168.1.2 (99.0.0.3)
      Origin IGP, metric 200, localpref 50, valid, internal
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:35:09 2023:
R:92   r4     Ensure 6.0.1.0 shows up on r4 +0.03 secs                 1    0
Done after 1 loops, time=0.034088850021362305, Found=4 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 6.0.2.0/24":4 available, best:wait:Ensure 6.0.2.0 shows up on r4:10:0.5:
Tue Oct 31 07:35:28 2023 (#93) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 6.0.2.0/24":4 available, best:wait:Ensure 6.0.2.0 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 7
Paths: (4 available, best #4, vrf r4-cust1)
  Not advertised to any peer
  Imported from 10:1:6.0.2.0/24
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:11
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:35:23 2023
  Imported from 10:3:6.0.2.0/24
  Local
    3.3.3.3 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:35:19 2023
  Imported from 10:42:6.0.2.0/24
  Local
    99.0.0.4 from 0.0.0.0 (192.168.1.1) vrf r4-cust2(6) announce-nh-self
      Origin IGP, metric 100, localpref 100, valid, sourced, local, multipath
      Community: 0:67
      Extended Community: RT:89:123 RT:52:100
      Large Community: 12:34:14
      Originator: 4.4.4.4
      Last update: Tue Oct 31 07:35:10 2023
  Local
    99.0.0.3 from 192.168.1.2 (99.0.0.3)
      Origin IGP, metric 100, localpref 100, valid, internal, multipath, best (Router ID)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:13
      Last update: Tue Oct 31 07:35:09 2023:
R:93   r4     Ensure 6.0.2.0 shows up on r4 +0.03 secs                 1    0
Done after 1 loops, time=0.03288841247558594, Found=4 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.1/32":1 available, best:wait:Ensure 99.0.0.1 shows up on r4:10:0.5:
Tue Oct 31 07:35:28 2023 (#94) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.1/32":1 available, best:wait:Ensure 99.0.0.1 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.1/32, version 18
Paths: (1 available, best #1, vrf r4-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:1:99.0.0.1/32
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:35:23 2023:
R:94   r4     Ensure 99.0.0.1 shows up on r4 +0.03 secs                1    0
Done after 1 loops, time=0.03429293632507324, Found=1 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.2/32":1 available, best:wait:Ensure 99.0.0.2 shows up on r4:10:0.5:
Tue Oct 31 07:35:28 2023 (#95) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.2/32":1 available, best:wait:Ensure 99.0.0.2 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.2/32, version 11
Paths: (1 available, best #1, vrf r4-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:3:99.0.0.2/32
  Local
    3.3.3.3 (metric 10) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:35:19 2023:
R:95   r4     Ensure 99.0.0.2 shows up on r4 +0.03 secs                1    0
Done after 1 loops, time=0.03304743766784668, Found=1 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.3/32":1 available, best:wait:Ensure 99.0.0.3 shows up on r4:10:0.5:
Tue Oct 31 07:35:28 2023 (#96) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.3/32":1 available, best:wait:Ensure 99.0.0.3 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.3/32, version 2
Paths: (1 available, best #1, vrf r4-cust1)
  Not advertised to any peer
  Local
    192.168.1.2 from 192.168.1.2 (99.0.0.3)
      Origin IGP, metric 0, localpref 100, valid, internal, best (First path received)
      Last update: Tue Oct 31 07:35:06 2023:
R:96   r4     Ensure 99.0.0.3 shows up on r4 +0.03 secs                1    0
Done after 1 loops, time=0.033477067947387695, Found=1 available, best
scripts/check_routes.py:0 WAIT:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.4/32":1 available, best:wait:Ensure 99.0.0.4 shows up on r4:10:0.5:
Tue Oct 31 07:35:28 2023 (#97) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni 99.0.0.4/32":1 available, best:wait:Ensure 99.0.0.4 shows up on r4:
COMMAND OUTPUT:BGP routing table entry for 99.0.0.4/32, version 1
Paths: (1 available, best #1, vrf r4-cust1)
  Advertised to non peer-group peers:
  192.168.1.2
  Imported from 10:42:99.0.0.4/32
  Local
    192.168.2.2 from 0.0.0.0 (192.168.1.1) vrf r4-cust2(6) announce-nh-self
      Origin IGP, metric 0, localpref 100, valid, sourced, local, best (First path received)
      Extended Community: RT:52:100
      Originator: 4.4.4.4
      Last update: Tue Oct 31 07:35:06 2023:
R:97   r4     Ensure 99.0.0.4 shows up on r4 +0.03 secs                1    0
Done after 1 loops, time=0.032811880111694336, Found=1 available, best
Tue Oct 31 07:35:28 2023 (#98) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 unicast":.:None:Get vrf r4-cust1 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 18, local router ID is 192.168.1.1, vrf id 5
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt;i5.1.2.0/24       99.0.0.3               200     50      0 i
 *&gt;i5.1.3.0/24       99.0.0.3               200     50      0 i
 *&gt; 5.4.2.0/24       99.0.0.4@6&lt;            200     50      0 i
 *&gt; 5.4.3.0/24       99.0.0.4@6&lt;            200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *                   99.0.0.4@6&lt;            200     50      0 i
 * i                 99.0.0.3               200     50      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *=                  99.0.0.4@6&lt;            100    100      0 i
 *&gt;i                 99.0.0.3               100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt;i99.0.0.3/32      192.168.1.2              0    100      0 i
 *&gt; 99.0.0.4/32      192.168.2.2@6&lt;           0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 07:35:29 2023 (#98) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 unicast json":.*:None:Get vrf r4-cust1 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 5,
 "vrfName": "r4-cust1",
 "tableVersion": 18,
 "routerId": "192.168.1.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":6,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"multipath":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"99.0.0.4","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Router ID","pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":18,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":11,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.2","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust2","nhVrfId":6,"nexthops":[{"ip":"192.168.2.2","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }:
R:98 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '5.1.0.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '5.1.1.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.4', 'bp': False}, {'p': '6.0.2.0/24', 'n': '1.1.1.1', 'bp': False}, {'p': '6.0.2.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.2.0/24', 'n': '99.0.0.3', 'bp': True}, {'p': '6.0.2.0/24', 'n': '99.0.0.4', 'bp': False}, {'p': '99.0.0.1/32', 'n': '1.1.1.1', 'bp': True}, {'p': '99.0.0.2/32', 'n': '3.3.3.3', 'bp': True}, {'p': '99.0.0.3/32', 'n': '192.168.1.2', 'bp': True}, {'p': '99.0.0.4/32', 'n': '192.168.2.2', 'bp': True}]
R:98   r4     Customer 1 routes in r4 vrf (2)                          1    0
Tue Oct 31 07:35:29 2023 (#99) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust2 ipv4 unicast":.:None:Get vrf r4-cust2 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 18, local router ID is 192.168.2.1, vrf id 6
Default local pref 100, local AS 5228
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.2.0/24       99.0.0.3@5&lt;            200     50      0 i
 *&gt; 5.1.3.0/24       99.0.0.3@5&lt;            200     50      0 i
 *&gt;i5.4.2.0/24       99.0.0.4               200     50      0 i
 *&gt;i5.4.3.0/24       99.0.0.4               200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 * i                 99.0.0.4               200     50      0 i
 *                   99.0.0.3@5&lt;            200     50      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *=i                 99.0.0.4               100    100      0 i
 *&gt;                  99.0.0.3@5&lt;            100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt; 99.0.0.3/32      192.168.1.2@5&lt;           0    100      0 i
 *&gt;i99.0.0.4/32      192.168.2.2              0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 07:35:29 2023 (#99) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust2 ipv4 unicast json":.*:None:Get vrf r4-cust2 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 6,
 "vrfName": "r4-cust2",
 "tableVersion": 18,
 "routerId": "192.168.2.1",
 "defaultLocPrf": 100,
 "localAS": 5228,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":15,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":16,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":6,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Local Pref","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":98,"locPrf":123,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":17,"metric":200,"locPrf":50,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"multipath":true,"pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Router ID","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"99.0.0.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":18,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"1.1.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":11,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"default","nhVrfId":0,"nexthops":[{"ip":"3.3.3.3","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"(unspec)","path":"","origin":"IGP","announceNexthopSelf":true,"nhVrfName":"r4-cust1","nhVrfId":5,"nexthops":[{"ip":"192.168.1.2","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.2","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.2","hostname":"ce4","afi":"ipv4","used":true}]}]
 }  }:
R:99 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '5.1.0.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '5.1.1.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '1.1.1.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.3', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.4', 'bp': False}, {'p': '6.0.2.0/24', 'n': '1.1.1.1', 'bp': False}, {'p': '6.0.2.0/24', 'n': '3.3.3.3', 'bp': False}, {'p': '6.0.2.0/24', 'n': '99.0.0.3', 'bp': True}, {'p': '6.0.2.0/24', 'n': '99.0.0.4', 'bp': False}, {'p': '99.0.0.1/32', 'n': '1.1.1.1', 'bp': True}, {'p': '99.0.0.2/32', 'n': '3.3.3.3', 'bp': True}, {'p': '99.0.0.3/32', 'n': '192.168.1.2', 'bp': True}, {'p': '99.0.0.4/32', 'n': '192.168.2.2', 'bp': True}]
R:99   r4     Customer 2 routes in r4 vrf (2)                          1    0
scripts/check_routes.py:0 WAIT:ce1:vtysh -c "show bgp ipv4 uni":12 routes and 12:wait:Local and remote routes:10:0.5:
Tue Oct 31 07:35:29 2023 (#100) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni":12 routes and 12:wait:Local and remote routes:
COMMAND OUTPUT:BGP table version is 12, local router ID is 99.0.0.1, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       99.0.0.1                98    123  32768 i
 *&gt; 5.1.1.0/24       99.0.0.1                98    123  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 *&gt; 6.0.1.0/24       99.0.0.1                98    123  32768 i
 *&gt; 6.0.2.0/24       99.0.0.1               100    100  32768 i
 *&gt; 99.0.0.1/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 12 total paths:
R:100  ce1    Local and remote routes +0.03 secs                       1    0
Done after 1 loops, time=0.03357100486755371, Found=12 routes and 12
Tue Oct 31 07:35:29 2023 (#101) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp  ipv4 unicast":.:None:Get  ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 12, local router ID is 99.0.0.1, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       99.0.0.1                98    123  32768 i
 *&gt; 5.1.1.0/24       99.0.0.1                98    123  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 *&gt; 6.0.1.0/24       99.0.0.1                98    123  32768 i
 *&gt; 6.0.2.0/24       99.0.0.1               100    100  32768 i
 *&gt; 99.0.0.1/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 12 total paths:
Tue Oct 31 07:35:29 2023 (#101) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp  ipv4 unicast json":.*:None:Get  ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 12,
 "routerId": "99.0.0.1",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":4,"metric":98,"locPrf":123,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":9,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":12,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":11,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":5,"metric":98,"locPrf":123,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.1","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce1","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":6,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":8,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":7,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r1","afi":"ipv4","used":true}]}]
 }  }:
R:101 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '5.1.2.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.1.3.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.4.2.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.4.3.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '99.0.0.1', 'bp': True}, {'p': '6.0.2.0/24', 'n': '99.0.0.1', 'bp': True}]
R:101  ce1    Cust 1 routes from remote                                1    0
scripts/check_routes.py:0 WAIT:ce2:vtysh -c "show bgp ipv4 uni":12 routes and 15:wait:Local and remote routes:10:0.5:
Tue Oct 31 07:35:29 2023 (#102) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni":12 routes and 15:wait:Local and remote routes:
COMMAND OUTPUT:BGP table version is 12, local router ID is 99.0.0.2, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 * i5.1.0.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 * i5.1.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 *&gt; 6.0.2.0/24       99.0.0.2               100    100  32768 i
 *&gt;i99.0.0.1/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.2/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 15 total paths:
R:102  ce2    Local and remote routes +0.03 secs                       1    0
Done after 1 loops, time=0.03354334831237793, Found=12 routes and 15
Tue Oct 31 07:35:29 2023 (#103) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp  ipv4 unicast":.:None:Get  ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 12, local router ID is 99.0.0.2, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 * i5.1.0.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 * i5.1.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 *&gt; 6.0.2.0/24       99.0.0.2               100    100  32768 i
 *&gt;i99.0.0.1/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.2/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 15 total paths:
Tue Oct 31 07:35:29 2023 (#103) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp  ipv4 unicast json":.*:None:Get  ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 12,
 "routerId": "99.0.0.2",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":3,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":4,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":4,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":9,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":11,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":10,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":5,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":5,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":2,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.2","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":12,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce2","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":7,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":6,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r3","afi":"ipv4","used":true}]}]
 }  }:
R:103 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '192.168.1.1', 'bp': False}, {'p': '5.1.0.0/24', 'n': '99.0.0.2', 'bp': True}, {'p': '5.1.1.0/24', 'n': '192.168.1.1', 'bp': False}, {'p': '5.1.1.0/24', 'n': '99.0.0.2', 'bp': True}, {'p': '5.1.2.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.1.3.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.4.2.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.4.3.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '192.168.1.1', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.2', 'bp': True}, {'p': '6.0.2.0/24', 'n': '99.0.0.2', 'bp': True}]
R:103  ce2    Cust 1 routes from remote                                1    0
Tue Oct 31 07:35:29 2023 (#104) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust1 ipv4 uni":.:none::
COMMAND OUTPUT:BGP table version is 18, local router ID is 192.168.1.1, vrf id 5
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt;i5.1.2.0/24       99.0.0.3               200     50      0 i
 *&gt;i5.1.3.0/24       99.0.0.3               200     50      0 i
 *&gt; 5.4.2.0/24       99.0.0.4@6&lt;            200     50      0 i
 *&gt; 5.4.3.0/24       99.0.0.4@6&lt;            200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *                   99.0.0.4@6&lt;            200     50      0 i
 * i                 99.0.0.3               200     50      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *=                  99.0.0.4@6&lt;            100    100      0 i
 *&gt;i                 99.0.0.3               100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt;i99.0.0.3/32      192.168.1.2              0    100      0 i
 *&gt; 99.0.0.4/32      192.168.2.2@6&lt;           0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 07:35:29 2023 (#104) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp vrf r4-cust2 ipv4 uni":.:none::
COMMAND OUTPUT:BGP table version is 18, local router ID is 192.168.2.1, vrf id 6
Default local pref 100, local AS 5228
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *&gt; 5.1.2.0/24       99.0.0.3@5&lt;            200     50      0 i
 *&gt; 5.1.3.0/24       99.0.0.3@5&lt;            200     50      0 i
 *&gt;i5.4.2.0/24       99.0.0.4               200     50      0 i
 *&gt;i5.4.3.0/24       99.0.0.4               200     50      0 i
 *&gt; 6.0.1.0/24       1.1.1.1@0&lt;              98    123      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 * i                 99.0.0.4               200     50      0 i
 *                   99.0.0.3@5&lt;            200     50      0 i
 *  6.0.2.0/24       1.1.1.1@0&lt;             100    100      0 i
 *                   3.3.3.3@0&lt;             100    100      0 i
 *=i                 99.0.0.4               100    100      0 i
 *&gt;                  99.0.0.3@5&lt;            100    100      0 i
 *&gt; 99.0.0.1/32      1.1.1.1@0&lt;               0    100      0 i
 *&gt; 99.0.0.2/32      3.3.3.3@0&lt;               0    100      0 i
 *&gt; 99.0.0.3/32      192.168.1.2@5&lt;           0    100      0 i
 *&gt;i99.0.0.4/32      192.168.2.2              0    100      0 i

Displayed  12 routes and 20 total paths:
Tue Oct 31 07:35:29 2023 (#104) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show bgp ipv4 vpn":.:none::
COMMAND OUTPUT:BGP table version is 5, local router ID is 4.4.4.4, vrf id 0
Default local pref 100, local AS 5226
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
Route Distinguisher: 10:1
 *&gt;i5.1.0.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       1.1.1.1                 98    123      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       1.1.1.1                100    100      0 i
    UN=1.1.1.1 EC{52:100 89:123} label=101 type=bgp, subtype=0
 *&gt;i99.0.0.1/32      1.1.1.1                  0    100      0 i
    UN=1.1.1.1 EC{52:100} label=101 type=bgp, subtype=0
Route Distinguisher: 10:3
 *&gt;i5.1.0.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i5.1.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.1.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i6.0.2.0/24       3.3.3.3                100    100      0 i
    UN=3.3.3.3 EC{52:100 89:123} label=103 type=bgp, subtype=0
 *&gt;i99.0.0.2/32      3.3.3.3                  0    100      0 i
    UN=3.3.3.3 EC{52:100} label=103 type=bgp, subtype=0
Route Distinguisher: 10:41
 *&gt; 5.1.2.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 5.1.3.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.3@5&lt;            200     50      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.3@5&lt;            100    100      0 i
    UN=99.0.0.3 EC{89:123 52:100} label=1041 type=bgp, subtype=5
 *&gt; 99.0.0.3/32      192.168.1.2@5&lt;           0    100      0 i
    UN=192.168.1.2 EC{52:100} label=1041 type=bgp, subtype=5
Route Distinguisher: 10:42
 *&gt; 5.4.2.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 5.4.3.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 6.0.1.0/24       99.0.0.4@6&lt;            200     50      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 6.0.2.0/24       99.0.0.4@6&lt;            100    100      0 i
    UN=99.0.0.4 EC{89:123 52:100} label=1042 type=bgp, subtype=5
 *&gt; 99.0.0.4/32      192.168.2.2@6&lt;           0    100      0 i
    UN=192.168.2.2 EC{52:100} label=1042 type=bgp, subtype=5

Displayed  20 routes and 20 total paths:
Tue Oct 31 07:35:29 2023 (#104) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show ip route vrf r4-cust1":.:none::
COMMAND OUTPUT:Codes: K - kernel route, C - connected, S - static, R - RIP,
       O - OSPF, I - IS-IS, B - BGP, E - EIGRP, N - NHRP,
       T - Table, v - VNC, V - VNC-Direct, A - Babel, D - SHARP,
       F - PBR, f - OpenFabric,
       &gt; - selected route, * - FIB route, q - queued, r - rejected, b - backup
       t - trapped, o - offload failure

VRF r4-cust1:
B&gt;  5.1.0.0/24 [200/98] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:05
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:05
B&gt;  5.1.1.0/24 [200/98] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:05
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:05
B&gt;  5.1.2.0/24 [200/200] via 99.0.0.3 (recursive), weight 1, 00:00:19
  *                        via 192.168.1.2, r4-eth4, weight 1, 00:00:19
B&gt;  5.1.3.0/24 [200/200] via 99.0.0.3 (recursive), weight 1, 00:00:19
  *                        via 192.168.1.2, r4-eth4, weight 1, 00:00:19
B   5.4.2.0/24 [200/200] via 99.0.0.4 (vrf r4-cust2) inactive, weight 1, 00:00:18
B   5.4.3.0/24 [200/200] via 99.0.0.4 (vrf r4-cust2) inactive, weight 1, 00:00:18
B&gt;  6.0.1.0/24 [200/98] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:05
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:05
B&gt;  6.0.2.0/24 [200/100] via 99.0.0.3 (recursive), weight 1, 00:00:18
  *                        via 192.168.1.2, r4-eth4, weight 1, 00:00:18
                         via 99.0.0.4 (vrf r4-cust2) (recursive), weight 1, 00:00:18
  *                        via 192.168.2.2, r4-eth5 (vrf r4-cust2), weight 1, 00:00:18
B&gt;  99.0.0.1/32 [200/0] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:05
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:05
B&gt;  99.0.0.2/32 [200/0] via 3.3.3.3 (vrf default) (recursive), label 103, weight 1, 00:00:06
  *                       via 10.0.2.3, r4-eth0 (vrf default), label implicit-null/103, weight 1, 00:00:06
B&gt;* 99.0.0.3/32 [200/0] via 192.168.1.2, r4-eth4, weight 1, 00:00:22
B&gt;* 99.0.0.4/32 [200/0] via 192.168.2.2, r4-eth5 (vrf r4-cust2), weight 1, 00:00:22
C&gt;* 192.168.1.0/24 is directly connected, r4-eth4, 00:00:25:
Tue Oct 31 07:35:29 2023 (#104) scripts/check_routes.py:0 COMMAND:r4:vtysh -c "show ip route vrf r4-cust2":.:none::
COMMAND OUTPUT:Codes: K - kernel route, C - connected, S - static, R - RIP,
       O - OSPF, I - IS-IS, B - BGP, E - EIGRP, N - NHRP,
       T - Table, v - VNC, V - VNC-Direct, A - Babel, D - SHARP,
       F - PBR, f - OpenFabric,
       &gt; - selected route, * - FIB route, q - queued, r - rejected, b - backup
       t - trapped, o - offload failure

VRF r4-cust2:
B&gt;  5.1.0.0/24 [200/98] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:05
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:05
B&gt;  5.1.1.0/24 [200/98] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:05
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:05
B   5.1.2.0/24 [200/200] via 99.0.0.3 (vrf r4-cust1) inactive, weight 1, 00:00:19
B   5.1.3.0/24 [200/200] via 99.0.0.3 (vrf r4-cust1) inactive, weight 1, 00:00:19
B&gt;  5.4.2.0/24 [200/200] via 99.0.0.4 (recursive), weight 1, 00:00:18
  *                        via 192.168.2.2, r4-eth5, weight 1, 00:00:18
B&gt;  5.4.3.0/24 [200/200] via 99.0.0.4 (recursive), weight 1, 00:00:18
  *                        via 192.168.2.2, r4-eth5, weight 1, 00:00:18
B&gt;  6.0.1.0/24 [200/98] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:05
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:05
B   6.0.2.0/24 [200/100] via 99.0.0.3 (vrf r4-cust1) inactive, weight 1, 00:00:18
                         via 99.0.0.4 inactive, weight 1, 00:00:18
B&gt;  99.0.0.1/32 [200/0] via 1.1.1.1 (vrf default) (recursive), label 101, weight 1, 00:00:05
  *                       via 10.0.2.2, r4-eth0 (vrf default), label 18/101, weight 1, 00:00:05
B&gt;  99.0.0.2/32 [200/0] via 3.3.3.3 (vrf default) (recursive), label 103, weight 1, 00:00:06
  *                       via 10.0.2.3, r4-eth0 (vrf default), label implicit-null/103, weight 1, 00:00:06
B&gt;* 99.0.0.3/32 [200/0] via 192.168.1.2, r4-eth4 (vrf r4-cust1), weight 1, 00:00:22
B&gt;* 99.0.0.4/32 [200/0] via 192.168.2.2, r4-eth5, weight 1, 00:00:22
C&gt;* 192.168.2.0/24 is directly connected, r4-eth5, 00:00:25:
scripts/check_routes.py:0 WAIT:ce3:vtysh -c "show bgp ipv4 uni":12 routes and 13:wait:Local and remote routes:10:0.5:
Tue Oct 31 07:35:29 2023 (#104) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni":12 routes and 13:wait:Local and remote routes:
COMMAND OUTPUT:BGP table version is 14, local router ID is 99.0.0.3, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.1.1             98    123      0 i
 *&gt;i5.1.1.0/24       192.168.1.1             98    123      0 i
 *&gt; 5.1.2.0/24       99.0.0.3               200     50  32768 i
 *&gt; 5.1.3.0/24       99.0.0.3               200     50  32768 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.3               200     50  32768 i
 *&gt; 6.0.2.0/24       99.0.0.3               100    100  32768 i
 *&gt;i99.0.0.1/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.3/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 13 total paths:
R:104  ce3    Local and remote routes +0.03 secs                       1    0
Done after 1 loops, time=0.03393411636352539, Found=12 routes and 13
Tue Oct 31 07:35:29 2023 (#105) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp  ipv4 unicast":.:None:Get  ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 14, local router ID is 99.0.0.3, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.1.1             98    123      0 i
 *&gt;i5.1.1.0/24       192.168.1.1             98    123      0 i
 *&gt; 5.1.2.0/24       99.0.0.3               200     50  32768 i
 *&gt; 5.1.3.0/24       99.0.0.3               200     50  32768 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.3               200     50  32768 i
 *&gt; 6.0.2.0/24       99.0.0.3               100    100  32768 i
 *&gt;i99.0.0.1/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.3/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 13 total paths:
Tue Oct 31 07:35:29 2023 (#105) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp  ipv4 unicast json":.*:None:Get  ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 0,
 "vrfName": "default",
 "tableVersion": 14,
 "routerId": "99.0.0.3",
 "defaultLocPrf": 100,
 "localAS": 5227,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":12,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":13,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":5,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":7,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":8,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":6,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]},{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":6,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":3,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.3","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":14,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":9,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce3","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.1.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.1.1","hostname":"r4","afi":"ipv4","used":true}]}]
 }  }:
R:105 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.4.2.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '5.4.3.0/24', 'n': '192.168.1.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '192.168.1.1', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.3', 'bp': True}, {'p': '6.0.2.0/24', 'n': '99.0.0.3', 'bp': True}]
R:105  ce3    Cust 1 routes from remote                                1    0
scripts/check_routes.py:0 WAIT:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 uni":12 routes and 14:wait:Local and remote routes:10:0.5:
Tue Oct 31 07:35:29 2023 (#106) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 uni":12 routes and 14:wait:Local and remote routes:
COMMAND OUTPUT:BGP table version is 16, local router ID is 99.0.0.4, vrf id 2
Default local pref 100, local AS 5228
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.2.1             98    123      0 i
 *&gt;i5.1.1.0/24       192.168.2.1             98    123      0 i
 *&gt;i5.1.2.0/24       192.168.2.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.2.1            200     50      0 i
 *&gt; 5.4.2.0/24       99.0.0.4               200     50  32768 i
 *&gt; 5.4.3.0/24       99.0.0.4               200     50  32768 i
 *&gt; 6.0.1.0/24       99.0.0.4               200     50  32768 i
 * i                 192.168.2.1             98    123      0 i
 *&gt; 6.0.2.0/24       99.0.0.4               100    100  32768 i
 * i                 192.168.2.1            100    100      0 i
 *&gt;i99.0.0.1/32      192.168.2.1              0    100      0 i
 *&gt;i99.0.0.2/32      192.168.2.1              0    100      0 i
 *&gt;i99.0.0.3/32      192.168.2.1              0    100      0 i
 *&gt; 99.0.0.4/32      0.0.0.0                  0         32768 i

Displayed  12 routes and 14 total paths:
R:106  ce4    Local and remote routes +0.03 secs                       1    0
Done after 1 loops, time=0.03371095657348633, Found=12 routes and 14
Tue Oct 31 07:35:29 2023 (#107) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 unicast":.:None:Get vrf ce4-cust2 ipv4 RIB (non-json):
COMMAND OUTPUT:BGP table version is 16, local router ID is 99.0.0.4, vrf id 2
Default local pref 100, local AS 5228
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.2.1             98    123      0 i
 *&gt;i5.1.1.0/24       192.168.2.1             98    123      0 i
 *&gt;i5.1.2.0/24       192.168.2.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.2.1            200     50      0 i
 *&gt; 5.4.2.0/24       99.0.0.4               200     50  32768 i
 *&gt; 5.4.3.0/24       99.0.0.4               200     50  32768 i
 *&gt; 6.0.1.0/24       99.0.0.4               200     50  32768 i
 * i                 192.168.2.1             98    123      0 i
 *&gt; 6.0.2.0/24       99.0.0.4               100    100  32768 i
 * i                 192.168.2.1            100    100      0 i
 *&gt;i99.0.0.1/32      192.168.2.1              0    100      0 i
 *&gt;i99.0.0.2/32      192.168.2.1              0    100      0 i
 *&gt;i99.0.0.3/32      192.168.2.1              0    100      0 i
 *&gt; 99.0.0.4/32      0.0.0.0                  0         32768 i

Displayed  12 routes and 14 total paths:
Tue Oct 31 07:35:29 2023 (#107) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 unicast json":.*:None:Get vrf ce4-cust2 ipv4 RIB (json):
COMMAND OUTPUT:{
 "vrfId": 2,
 "vrfName": "ce4-cust2",
 "tableVersion": 16,
 "routerId": "99.0.0.4",
 "defaultLocPrf": 100,
 "localAS": 5228,
 "routes": { "5.1.0.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.0.0","prefixLen":24,"network":"5.1.0.0/24","version":14,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.1.0","prefixLen":24,"network":"5.1.1.0/24","version":15,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.2.0","prefixLen":24,"network":"5.1.2.0/24","version":4,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.1.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"5.1.3.0","prefixLen":24,"network":"5.1.3.0/24","version":5,"metric":200,"locPrf":50,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"5.4.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.2.0","prefixLen":24,"network":"5.4.2.0/24","version":8,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"5.4.3.0/24": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"5.4.3.0","prefixLen":24,"network":"5.4.3.0/24","version":9,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]}]
,"6.0.1.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":10,"metric":200,"locPrf":50,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.1.0","prefixLen":24,"network":"6.0.1.0/24","version":10,"metric":98,"locPrf":123,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"6.0.2.0/24": [{"valid":true,"bestpath":true,"selectionReason":"Weight","pathFrom":"external","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"99.0.0.4","hostname":"ce4","afi":"ipv4","used":true}]},{"valid":true,"pathFrom":"internal","prefix":"6.0.2.0","prefixLen":24,"network":"6.0.2.0/24","version":7,"metric":100,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.1/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.1","prefixLen":32,"network":"99.0.0.1/32","version":16,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.2/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.2","prefixLen":32,"network":"99.0.0.2/32","version":11,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.3/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"internal","prefix":"99.0.0.3","prefixLen":32,"network":"99.0.0.3/32","version":2,"metric":0,"locPrf":100,"weight":0,"peerId":"192.168.2.1","path":"","origin":"IGP","nexthops":[{"ip":"192.168.2.1","hostname":"r4","afi":"ipv4","used":true}]}]
,"99.0.0.4/32": [{"valid":true,"bestpath":true,"selectionReason":"First path received","pathFrom":"external","prefix":"99.0.0.4","prefixLen":32,"network":"99.0.0.4/32","version":1,"metric":0,"weight":32768,"peerId":"(unspec)","path":"","origin":"IGP","nexthops":[{"ip":"0.0.0.0","hostname":"ce4","afi":"ipv4","used":true}]}]
 }  }:
R:107 PASS: RequireUnicastRoutes [{'p': '5.1.0.0/24', 'n': '192.168.2.1', 'bp': True}, {'p': '5.1.1.0/24', 'n': '192.168.2.1', 'bp': True}, {'p': '5.1.2.0/24', 'n': '192.168.2.1', 'bp': True}, {'p': '5.1.3.0/24', 'n': '192.168.2.1', 'bp': True}, {'p': '6.0.1.0/24', 'n': '192.168.2.1', 'bp': False}, {'p': '6.0.2.0/24', 'n': '192.168.2.1', 'bp': False}, {'p': '6.0.1.0/24', 'n': '99.0.0.4', 'bp': True}, {'p': '6.0.2.0/24', 'n': '99.0.0.4', 'bp': True}]
R:107  ce4    Cust 2 routes from remote                                1    0
Tue Oct 31 07:35:29 2023 (#108) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni 6.0.1.0":1 available.*192.168.1.1.*99.0.0.1.*Community: 0:67.*Extended Community: RT:89:123.*Large Community: 12:34:56:pass:Redundant route 1 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 5
Paths: (1 available, best #1, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    99.0.0.1 from 0.0.0.0 (99.0.0.1)
      Origin IGP, metric 98, localpref 123, weight 32768, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:35:08 2023:
R:108  ce1    Redundant route 1 details                                1    0
Tue Oct 31 07:35:29 2023 (#109) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni 6.0.1.0":2 available, best .*192.168.1.1.* Local.* 192.168.1.1 from 192.168.1.1 .192.168.1.1.* Origin IGP, metric 98, localpref 123, valid, internal.* Community: 0:67.* Extended Community: RT:52:100 RT:89:123.* Large Community: 12:34:56:pass:Redundant route 1 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 5
Paths: (2 available, best #2, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    192.168.1.1 from 192.168.1.1 (192.168.1.1)
      Origin IGP, metric 98, localpref 123, valid, internal
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:35:23 2023
  Local
    99.0.0.2 from 0.0.0.0 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (Weight)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:35:09 2023:
R:109  ce2    Redundant route 1 details                                1    0
Tue Oct 31 07:35:29 2023 (#110) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni 6.0.1.0":2 available, best .*192.168.1.1.* Local.* 99.0.0.2 from 0.0.0.0 .99.0.0.2.* Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best .Weight.* Community: 0:67.* Extended Community: RT:89:123.* Large Community: 12:34:56:pass:Redundant route 1 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 5
Paths: (2 available, best #2, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    192.168.1.1 from 192.168.1.1 (192.168.1.1)
      Origin IGP, metric 98, localpref 123, valid, internal
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:35:23 2023
  Local
    99.0.0.2 from 0.0.0.0 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (Weight)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:35:09 2023:
R:110  ce2    Redundant route 1 details                                1    0
Tue Oct 31 07:35:29 2023 (#111) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni 6.0.1.0":2 available, best .* Local.* 99.0.0.3 from 0.0.0.0 .99.0.0.3.* Origin IGP, metric 200, localpref 50, weight 32768, valid, sourced, local, best .Weight.* Community: 0:67.* Extended Community: RT:89:123.* Large Community: 12:34:56:pass:Redundant route 1 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 6
Paths: (2 available, best #2, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    192.168.1.1 from 192.168.1.1 (192.168.1.1)
      Origin IGP, metric 98, localpref 123, valid, internal
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:35:23 2023
  Local
    99.0.0.3 from 0.0.0.0 (99.0.0.3)
      Origin IGP, metric 200, localpref 50, weight 32768, valid, sourced, local, best (Weight)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:35:09 2023:
R:111  ce3    Redundant route 1 details                                1    0
Tue Oct 31 07:35:29 2023 (#112) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni 6.0.1.0":2 available, best .* Local.* 192.168.1.1 from 192.168.1.1 .192.168.1.1.* Origin IGP, metric 98, localpref 123, valid, internal.* Community: 0:67.* Extended Community: RT:52:100 RT:89:123.* Large Community: 12:34:56:pass:Redundant route 1 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.1.0/24, version 6
Paths: (2 available, best #2, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    192.168.1.1 from 192.168.1.1 (192.168.1.1)
      Origin IGP, metric 98, localpref 123, valid, internal
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:35:23 2023
  Local
    99.0.0.3 from 0.0.0.0 (99.0.0.3)
      Origin IGP, metric 200, localpref 50, weight 32768, valid, sourced, local, best (Weight)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:56
      Last update: Tue Oct 31 07:35:09 2023:
R:112  ce3    Redundant route 1 details                                1    0
Tue Oct 31 07:35:29 2023 (#113) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp vrf ce4-cust2 ipv4 6.0.1.0 json":{"paths":[{"aspath":{"string":"Local"},"origin":"IGP","metric":200,"locPrf":50,"weight":32768,"valid":true,"sourced":true,"local":true,"bestpath":{"overall":true,"selectionReason":"Weight"},"community":{"string":"0:67"},"extendedCommunity":{"string":"RT:89:123"},"largeCommunity":{"string":"12:34:56"},"peer":{"peerId":"0.0.0.0","routerId":"99.0.0.4"}},{"aspath":{"string":"Local"},"origin":"IGP","metric":98,"locPrf":123,"valid":true,"community":{"string":"0:67"},"extendedCommunity":{"string":"RT:52:100 RT:89:123"},"largeCommunity":{"string":"12:34:56"},"peer":{"peerId":"192.168.2.1","routerId":"192.168.2.1"}}]}:jsoncmp_pass:Redundant route 1 details:
COMMAND OUTPUT:{
  "prefix":"6.0.1.0/24",
  "version":10,
  "advertisedTo":{
    "192.168.2.1":{
      "hostname":"r4"
    }
  },
  "paths":[
    {
      "aspath":{
        "string":"Local",
        "segments":[
        ],
        "length":0
      },
      "origin":"IGP",
      "metric":200,
      "locPrf":50,
      "weight":32768,
      "valid":true,
      "version":10,
      "sourced":true,
      "local":true,
      "bestpath":{
        "overall":true,
        "selectionReason":"Weight"
      },
      "community":{
        "string":"0:67",
        "list":[
          "0:67"
        ]
      },
      "extendedCommunity":{
        "string":"RT:89:123"
      },
      "largeCommunity":{
        "string":"12:34:56",
        "list":[
          "12:34:56"
        ]
      },
      "lastUpdate":{
        "epoch":1698737710,
        "string":"Tue Oct 31 07:35:10 2023\n"
      },
      "nexthops":[
        {
          "ip":"99.0.0.4",
          "hostname":"ce4",
          "afi":"ipv4",
          "metric":0,
          "accessible":true,
          "used":true
        }
      ],
      "peer":{
        "peerId":"0.0.0.0",
        "routerId":"99.0.0.4"
      }
    },
    {
      "aspath":{
        "string":"Local",
        "segments":[
        ],
        "length":0
      },
      "origin":"IGP",
      "metric":98,
      "locPrf":123,
      "valid":true,
      "version":10,
      "community":{
        "string":"0:67",
        "list":[
          "0:67"
        ]
      },
      "extendedCommunity":{
        "string":"RT:52:100 RT:89:123"
      },
      "largeCommunity":{
        "string":"12:34:56",
        "list":[
          "12:34:56"
        ]
      },
      "lastUpdate":{
        "epoch":1698737723,
        "string":"Tue Oct 31 07:35:23 2023\n"
      },
      "nexthops":[
        {
          "ip":"192.168.2.1",
          "hostname":"r4",
          "afi":"ipv4",
          "metric":0,
          "accessible":true,
          "used":true
        }
      ],
      "peer":{
        "peerId":"192.168.2.1",
        "routerId":"192.168.2.1",
        "hostname":"r4",
        "type":"internal"
      }
    }
  ]
}:
R:113  ce4    Redundant route 1 details                                1    0
Tue Oct 31 07:35:29 2023 (#114) scripts/check_routes.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni 6.0.2.0":1 available, best .*192.168.1.1.* Local.* 99.0.0.1 from 0.0.0.0 .99.0.0.1.* Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best .First path received.* Community: 0:67.* Extended Community: RT:89:123.* Large Community: 12:34:11:pass:Route 2 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 2
Paths: (1 available, best #1, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    99.0.0.1 from 0.0.0.0 (99.0.0.1)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:11
      Last update: Tue Oct 31 07:35:08 2023:
R:114  ce1    Route 2 details                                          1    0
Tue Oct 31 07:35:29 2023 (#115) scripts/check_routes.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni 6.0.2.0":1 available, best .*192.168.1.1.* Local.* 99.0.0.2 from 0.0.0.0 .99.0.0.2.* Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best .First path received.* Community: 0:67.* Extended Community: RT:89:123.* Large Community: 12:34:12:pass:Route 2 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 2
Paths: (1 available, best #1, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    99.0.0.2 from 0.0.0.0 (99.0.0.2)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:12
      Last update: Tue Oct 31 07:35:09 2023:
R:115  ce2    Route 2 details                                          1    0
Tue Oct 31 07:35:29 2023 (#116) scripts/check_routes.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni 6.0.2.0":1 available, best .*192.168.1.1.* Local.* 99.0.0.3 from 0.0.0.0 .99.0.0.3.* Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best .First path received.* Community: 0:67.* Extended Community: RT:89:123.* Large Community: 12:34:13:pass:Route 2 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 3
Paths: (1 available, best #1, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    99.0.0.3 from 0.0.0.0 (99.0.0.3)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (First path received)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:13
      Last update: Tue Oct 31 07:35:09 2023:
R:116  ce3    Route 2 details                                          1    0
Tue Oct 31 07:35:29 2023 (#117) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp  vrf ce4-cust2 ipv4 6.0.2.0":2 available, best .*192.168.2.1.* Local.* 192.168.2.1 from 192.168.2.1 .192.168.2.1.* Origin IGP, metric 100, localpref 100, valid, internal.* Community: 0:67.* Extended Community: RT:52:100 RT:89:123.* Large Community: 12:34:13:pass:Redundant route 2 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 7
Paths: (2 available, best #1, vrf ce4-cust2)
  Advertised to non peer-group peers:
  192.168.2.1
  Local
    99.0.0.4 from 0.0.0.0 (99.0.0.4)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (Weight)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:14
      Last update: Tue Oct 31 07:35:11 2023
  Local
    192.168.2.1 from 192.168.2.1 (192.168.2.1)
      Origin IGP, metric 100, localpref 100, valid, internal
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:13
      Last update: Tue Oct 31 07:35:10 2023:
R:117  ce4    Redundant route 2 details                                1    0
Tue Oct 31 07:35:30 2023 (#118) scripts/check_routes.py:0 COMMAND:ce4:vtysh -c "show bgp  vrf ce4-cust2 ipv4 6.0.2.0":2 available, best .*192.168.2.1.* Local.* 99.0.0.4 from 0.0.0.0 .99.0.0.4.* Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best .Weight.* Community: 0:67.* Extended Community: RT:89:123.* Large Community: 12:34:14:pass:Redundant route 2 details:
COMMAND OUTPUT:BGP routing table entry for 6.0.2.0/24, version 7
Paths: (2 available, best #1, vrf ce4-cust2)
  Advertised to non peer-group peers:
  192.168.2.1
  Local
    99.0.0.4 from 0.0.0.0 (99.0.0.4)
      Origin IGP, metric 100, localpref 100, weight 32768, valid, sourced, local, best (Weight)
      Community: 0:67
      Extended Community: RT:89:123
      Large Community: 12:34:14
      Last update: Tue Oct 31 07:35:11 2023
  Local
    192.168.2.1 from 192.168.2.1 (192.168.2.1)
      Origin IGP, metric 100, localpref 100, valid, internal
      Community: 0:67
      Extended Community: RT:52:100 RT:89:123
      Large Community: 12:34:13
      Last update: Tue Oct 31 07:35:10 2023:
R:118  ce4    Redundant route 2 details                                1    0

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_check_linux_mpls" time="0.134"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/check_linux_mpls.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/check_linux_mpls.py
scripts/check_linux_mpls.py:0 WAIT:r2:ip -M route show:\d*(?= via inet 10.0.2.4 dev r2-eth1):wait:See mpls route to r4:10:0.5:
Tue Oct 31 07:35:30 2023 (#119) scripts/check_linux_mpls.py:0 COMMAND:r2:ip -M route show:\d*(?= via inet 10.0.2.4 dev r2-eth1):wait:See mpls route to r4:
COMMAND OUTPUT:16 proto 193 
	nexthop via inet 10.0.2.3 dev r2-eth1 
	nexthop via inet 10.0.3.3 dev r2-eth2 
17 via inet 10.0.2.4 dev r2-eth1 proto 193 
18 via inet 10.0.1.1 dev r2-eth0 proto 193:
R:119  r2     See mpls route to r4 +0.01 secs                          1    0
Done after 1 loops, time=0.0053558349609375, Found=17
Tue Oct 31 07:35:30 2023 (#120) scripts/check_linux_mpls.py:0 COMMAND:r2:ip -M route show:.:pass:See 17 as label to r4:
COMMAND OUTPUT:16 proto 193 
	nexthop via inet 10.0.2.3 dev r2-eth1 
	nexthop via inet 10.0.3.3 dev r2-eth2 
17 via inet 10.0.2.4 dev r2-eth1 proto 193 
18 via inet 10.0.1.1 dev r2-eth0 proto 193:
R:120  r2     See 17 as label to r4                                    1    0
scripts/check_linux_mpls.py:0 WAIT:r2:ip -M route show:\d*(?= via inet 10.0.1.1 dev r2-eth0):wait:See mpls route to r1:10:0.5:
Tue Oct 31 07:35:30 2023 (#121) scripts/check_linux_mpls.py:0 COMMAND:r2:ip -M route show:\d*(?= via inet 10.0.1.1 dev r2-eth0):wait:See mpls route to r1:
COMMAND OUTPUT:16 proto 193 
	nexthop via inet 10.0.2.3 dev r2-eth1 
	nexthop via inet 10.0.3.3 dev r2-eth2 
17 via inet 10.0.2.4 dev r2-eth1 proto 193 
18 via inet 10.0.1.1 dev r2-eth0 proto 193:
R:121  r2     See mpls route to r1 +0.01 secs                          1    0
Done after 1 loops, time=0.005204200744628906, Found=18
Tue Oct 31 07:35:30 2023 (#122) scripts/check_linux_mpls.py:0 COMMAND:r2:ip -M route show:.:pass:See 18 as label to r1:
COMMAND OUTPUT:16 proto 193 
	nexthop via inet 10.0.2.3 dev r2-eth1 
	nexthop via inet 10.0.3.3 dev r2-eth2 
17 via inet 10.0.2.4 dev r2-eth1 proto 193 
18 via inet 10.0.1.1 dev r2-eth0 proto 193:
R:122  r2     See 18 as label to r1                                    1    0
Tue Oct 31 07:35:30 2023 (#123) scripts/check_linux_mpls.py:0 COMMAND:r1:ip route show vrf r1-cust1:99.0.0.4:pass:VRF-&gt;MPLS PHP route installed:
COMMAND OUTPUT:5.1.0.0/24 nhid 19 via 192.168.1.2 dev r1-eth4 proto bgp metric 20 
5.1.1.0/24 nhid 19 via 192.168.1.2 dev r1-eth4 proto bgp metric 20 
5.1.2.0/24 nhid 33  encap mpls  17/1041 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
5.1.3.0/24 nhid 33  encap mpls  17/1041 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
5.4.2.0/24 nhid 31  encap mpls  17/1042 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
5.4.3.0/24 nhid 31  encap mpls  17/1042 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
6.0.1.0/24 nhid 19 via 192.168.1.2 dev r1-eth4 proto bgp metric 20 
6.0.2.0/24 nhid 19 via 192.168.1.2 dev r1-eth4 proto bgp metric 20 
99.0.0.1 nhid 16 via 192.168.1.2 dev r1-eth4 proto bgp metric 20 
99.0.0.2 nhid 29  encap mpls  16/103 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
99.0.0.3 nhid 33  encap mpls  17/1041 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
99.0.0.4 nhid 31  encap mpls  17/1042 via 10.0.1.2 dev r1-eth0 proto bgp metric 20 
192.168.1.0/24 dev r1-eth4 proto kernel scope link src 192.168.1.1:
R:123  r1     VRF-&gt;MPLS PHP route installed                            1    0
Tue Oct 31 07:35:30 2023 (#124) scripts/check_linux_mpls.py:0 COMMAND:r4:ip route show vrf r4-cust2:99.0.0.1:pass:VRF-&gt;MPLS PHP route installed:
COMMAND OUTPUT:5.1.0.0/24 nhid 49  encap mpls  18/101 via 10.0.2.2 dev r4-eth0 proto bgp metric 20 
5.1.1.0/24 nhid 49  encap mpls  18/101 via 10.0.2.2 dev r4-eth0 proto bgp metric 20 
5.4.2.0/24 nhid 29 via 192.168.2.2 dev r4-eth5 proto bgp metric 20 
5.4.3.0/24 nhid 29 via 192.168.2.2 dev r4-eth5 proto bgp metric 20 
6.0.1.0/24 nhid 49  encap mpls  18/101 via 10.0.2.2 dev r4-eth0 proto bgp metric 20 
99.0.0.1 nhid 49  encap mpls  18/101 via 10.0.2.2 dev r4-eth0 proto bgp metric 20 
99.0.0.2 nhid 46  encap mpls  103 via 10.0.2.3 dev r4-eth0 proto bgp metric 20 
99.0.0.3 nhid 22 via 192.168.1.2 dev r4-eth4 proto bgp metric 20 
99.0.0.4 nhid 20 via 192.168.2.2 dev r4-eth5 proto bgp metric 20 
192.168.2.0/24 dev r4-eth5 proto kernel scope link src 192.168.2.1:
R:124  r4     VRF-&gt;MPLS PHP route installed                            1    0
Tue Oct 31 07:35:30 2023 (#125) scripts/check_linux_mpls.py:0 COMMAND:r1:ip -M route show:101:pass:MPLS-&gt;VRF route installed:
COMMAND OUTPUT:16 via inet 10.0.1.2 dev r1-eth0 proto 193 
17 as to 16 via inet 10.0.1.2 dev r1-eth0 proto 193 
18 as to 17 via inet 10.0.1.2 dev r1-eth0 proto 193 
19 via inet 10.0.1.2 dev r1-eth0 proto 193 
20 via inet 10.0.1.2 dev r1-eth0 proto 193 
101 dev r1-cust1 proto bgp:
R:125  r1     MPLS-&gt;VRF route installed                                1    0
Tue Oct 31 07:35:30 2023 (#126) scripts/check_linux_mpls.py:0 COMMAND:r4:ip -M route show:1041:pass:MPLS-&gt;VRF1 route installed:
COMMAND OUTPUT:16 via inet 10.0.2.2 dev r4-eth0 proto 193 
17 via inet 10.0.2.3 dev r4-eth0 proto 193 
18 via inet 10.0.2.2 dev r4-eth0 proto 193 
19 proto 193 
	nexthop via inet 10.0.2.2 dev r4-eth0 
	nexthop via inet 10.0.2.3 dev r4-eth0 
20 as to 18 via inet 10.0.2.2 dev r4-eth0 proto 193 
1041 dev r4-cust1 proto bgp 
1042 dev r4-cust2 proto bgp:
R:126  r4     MPLS-&gt;VRF1 route installed                               1    0
Tue Oct 31 07:35:30 2023 (#127) scripts/check_linux_mpls.py:0 COMMAND:r4:ip -M route show:1042:pass:MPLS-&gt;VRF2 route installed:
COMMAND OUTPUT:16 via inet 10.0.2.2 dev r4-eth0 proto 193 
17 via inet 10.0.2.3 dev r4-eth0 proto 193 
18 via inet 10.0.2.2 dev r4-eth0 proto 193 
19 proto 193 
	nexthop via inet 10.0.2.2 dev r4-eth0 
	nexthop via inet 10.0.2.3 dev r4-eth0 
20 as to 18 via inet 10.0.2.2 dev r4-eth0 proto 193 
1041 dev r4-cust1 proto bgp 
1042 dev r4-cust2 proto bgp:
R:127  r4     MPLS-&gt;VRF2 route installed                               1    0
scripts/check_linux_mpls.py:0 WAIT:ce1:ping 99.0.0.4 -I 99.0.0.1 -c 1: 0. packet loss:wait:CE-&gt;CE (loopback) ping - l3vpn+zebra case:10:0.5:
Tue Oct 31 07:35:30 2023 (#128) scripts/check_linux_mpls.py:0 COMMAND:ce1:ping 99.0.0.4 -I 99.0.0.1 -c 1: 0. packet loss:wait:CE-&gt;CE (loopback) ping - l3vpn+zebra case:
COMMAND OUTPUT:PING 99.0.0.4 (99.0.0.4) from 99.0.0.1 : 56(84) bytes of data.
64 bytes from 99.0.0.4: icmp_seq=1 ttl=62 time=0.082 ms

--- 99.0.0.4 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.082/0.082/0.082/0.000 ms:
R:128  ce1    CE-&gt;CE (loopback) ping - l3vpn+zebra case +0.00 secs     1    0
Done after 1 loops, time=0.0039157867431640625, Found= 0% packet loss
scripts/check_linux_mpls.py:0 WAIT:ce1:ping 99.0.0.4 -I 99.0.0.1 -c 1: 0. packet loss:wait:CE-&gt;CE (loopback) ping:10:0.5:
Tue Oct 31 07:35:30 2023 (#129) scripts/check_linux_mpls.py:0 COMMAND:ce1:ping 99.0.0.4 -I 99.0.0.1 -c 1: 0. packet loss:wait:CE-&gt;CE (loopback) ping:
COMMAND OUTPUT:PING 99.0.0.4 (99.0.0.4) from 99.0.0.1 : 56(84) bytes of data.
64 bytes from 99.0.0.4: icmp_seq=1 ttl=62 time=0.057 ms

--- 99.0.0.4 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.057/0.057/0.057/0.000 ms:
R:129  ce1    CE-&gt;CE (loopback) ping +0.00 secs                        1    0
Done after 1 loops, time=0.003840208053588867, Found= 0% packet loss
Tue Oct 31 07:35:30 2023 (#130) scripts/check_linux_mpls.py:0 COMMAND:r3:ip -M route show:103:pass:MPLS-&gt;VRF route installed:
COMMAND OUTPUT:16 via inet 10.0.2.4 dev r3-eth0 proto 193 
17 proto 193 
	nexthop via inet 10.0.3.2 dev r3-eth1 
	nexthop via inet 10.0.2.2 dev r3-eth0 
18 proto 193 
	nexthop via inet 10.0.3.2 dev r3-eth1 
	nexthop via inet 10.0.2.2 dev r3-eth0 
19 proto 193 
	nexthop as to 18 via inet 10.0.3.2 dev r3-eth1 
	nexthop as to 18 via inet 10.0.2.2 dev r3-eth0 
103 dev r3-cust1 proto bgp:
R:130  r3     MPLS-&gt;VRF route installed                                1    0
scripts/check_linux_mpls.py:0 WAIT:ce2:ping 99.0.0.3 -I 99.0.0.2 -c 1: 0. packet loss:wait:CE2-&gt;CE3 (loopback) ping:10:0.5:
Tue Oct 31 07:35:30 2023 (#131) scripts/check_linux_mpls.py:0 COMMAND:ce2:ping 99.0.0.3 -I 99.0.0.2 -c 1: 0. packet loss:wait:CE2-&gt;CE3 (loopback) ping:
COMMAND OUTPUT:PING 99.0.0.3 (99.0.0.3) from 99.0.0.2 : 56(84) bytes of data.
64 bytes from 99.0.0.3: icmp_seq=1 ttl=62 time=0.042 ms

--- 99.0.0.3 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.042/0.042/0.042/0.000 ms:
R:131  ce2    CE2-&gt;CE3 (loopback) ping +0.00 secs                      1    0
Done after 1 loops, time=0.0038042068481445312, Found= 0% packet loss
scripts/check_linux_mpls.py:0 WAIT:ce3:ping 99.0.0.4 -I 99.0.0.3 -c 1: 0. packet loss:wait:CE3-&gt;CE4 (loopback) ping:10:0.5:
Tue Oct 31 07:35:30 2023 (#132) scripts/check_linux_mpls.py:0 COMMAND:ce3:ping 99.0.0.4 -I 99.0.0.3 -c 1: 0. packet loss:wait:CE3-&gt;CE4 (loopback) ping:
COMMAND OUTPUT:PING 99.0.0.4 (99.0.0.4) from 99.0.0.3 : 56(84) bytes of data.
64 bytes from 99.0.0.4: icmp_seq=1 ttl=63 time=0.032 ms

--- 99.0.0.4 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.032/0.032/0.032/0.000 ms:
R:132  ce3    CE3-&gt;CE4 (loopback) ping +0.00 secs                      1    0
Done after 1 loops, time=0.003776073455810547, Found= 0% packet loss

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_check_scale_up" time="30.798"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/scale_up.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/scale_up.py
Tue Oct 31 07:35:30 2023 (#133) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5200 KiB
  Holding block headers: 224 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4327 KiB
  Free small blocks:     4192 bytes
  Free ordinary blocks:  873 KiB
  Ordinary blocks:       10
  Small blocks:          90
  Holding blocks:        28
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        6     24         144        6       160
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4955    356856
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        6    128         816        6       816
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       12 variable       960       12       960
POSIX sync primitives         :       12 variable       592       12       592
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      952 variable     46368      952     46368
Hash Bucket                   :     1037     32       41624     1039     41704
Hash Index                    :      476 variable    134144      476    134144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       41     40        1688       44      1824
Link Node                     :      524     24       12640      593     14328
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        5    144         760       14      2128
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        8 variable    189888       29    370608
Stream FIFO                   :        9     64         648       11       792
Route table                   :       13     56         728       13       728
Route node                    :       30 variable      3680       30      3680
Thread                        :       30    160        5040       30      5040
Thread master                 :       28 variable 117500320       28 117500320
Thread Poll Info              :       14 8388608  117497632       14 117497632
Thread stats                  :       30     96        3136       30      3136
Typed-hash bucket             :       11 variable       696       11       696
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368744    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        7  24608      172312        7    172312
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       14     14224
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        5    144         760       12      1840
Nexthop Group Connected       :        4     40         160        4       160
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :       14    152        2128       14      2128
RIB destination               :       17     88        1528       17      1528
WQ wrapper                    :        0    120           0        7       840
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        4   3584       14368        4     14368

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7488 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  6918 KiB
  Free small blocks:     1856 bytes
  Free ordinary blocks:  570 KiB
  Ordinary blocks:       8
  Small blocks:          52
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2508     32      100640     2508    100640
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       52     40        2160       58      2400
Link Node                     :      355     24        8568      548     13248
Temporary memory              :       38 variable      1600       48      6080
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       29   1032       29928       29     29928
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        3    120         360        3       360
Route map name                :       12 variable       288       14       336
Route map index               :        3    152         456        3       456
Route map rule                :       21     40         856       21       856
Route map rule str            :       21 variable       504       21       504
Route map compiled            :       24 variable       576       24       576
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        3     16          72        3        72
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      106     56        6000      106      6000
Route node                    :        6    120         720        6       720
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       21     96        2216       21      2216
Typed-hash bucket             :       12 variable      1776       12      1776
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966984    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       112
BGP attribute                 :        6    328        1968        6      1968
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :       35    192        7048       35      7048
BGP route                     :       12    136        1648       12      1648
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         760        5       760
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0        4       304
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :        5     96         520        5       520
community                     :        4     40         160        5       200
community val                 :        4 variable        96        5       120
community str                 :        1   8192        8200        1      8200
extcommunity                  :        4     40         160        4       160
extcommunity val              :        4 variable        96        4        96
extcommunity str              :        4 variable       368        4       368
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        40
BGP nexthop                   :        1    184         200        1       200
BGP own address               :        2     64         144        2       144
BGP redistribution            :        1     24          24        1        24
Large Community               :        5     40         200        6       240
Large Community display string:        2     35          80        2        80
Large Community value         :        5     12         120        6       144
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for sharpd:
System allocator statistics:
  Total heap allocated:  1320 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1263 KiB
  Free small blocks:     1424 bytes
  Free ordinary blocks:  57 KiB
  Ordinary blocks:       2
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1490     72      107280     1493    107496
Command Token Text            :     1144 variable     38160     1146     38232
Command Token Help            :     1144 variable     27472     1146     27520
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      405 variable      9720      407      9768
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       10      8         240       11       280
Graph Node                    :     1722     32       68976     1724     69056
Hash                          :      218 variable     10544      218     10544
Hash Bucket                   :      301     32       12104      301     12104
Hash Index                    :      109 variable     33080      110     33600
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       15     40         648       20       864
Link Node                     :      126     24        3040      176      4272
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      139   1192      165688      139    165688
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        3     56         168        3       168
Stream                        :        2  23728       47472        2     47472
Thread                        :        5    160         840        5       840
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        6     96         624        6       624
Typed-hash bucket             :        1 variable        40        1        40
Vector                        :     3467     24       83384     3470     83456
Vector index                  :     3467 variable    111672     3470    111968
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        4     48         224        4       224
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem sharpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 07:35:30 2023 (#133) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5340 KiB
  Holding block headers: 224 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4328 KiB
  Free small blocks:     3584 bytes
  Free ordinary blocks:  1012 KiB
  Ordinary blocks:       11
  Small blocks:          83
  Holding blocks:        28
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        6     24         144        6       160
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4955    356856
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        6    128         816        6       816
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       12 variable       960       12       960
POSIX sync primitives         :       12 variable       592       12       592
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      952 variable     46384      952     46384
Hash Bucket                   :     1037     32       41640     1039     41720
Hash Index                    :      476 variable    134144      476    134144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       41     40        1688       44      1808
Link Node                     :      524     24       12640      593     14328
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        5    144         760       13      1976
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        8 variable    189888       29    469152
Stream FIFO                   :        9     64         648       11       792
Route table                   :       13     56         728       13       728
Route node                    :       30 variable      3680       30      3680
Thread                        :       30    160        5040       30      5040
Thread master                 :       28 variable 117500320       28 117500320
Thread Poll Info              :       14 8388608  117497632       14 117497632
Thread stats                  :       30     96        3136       30      3136
Typed-hash bucket             :       11 variable       696       11       696
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368776    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        7  24608      172312        7    172312
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       14     14224
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        5    144         760       11      1672
Nexthop Group Connected       :        4     40         160        4       160
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :       14    152        2128       14      2128
RIB destination               :       17     88        1528       17      1528
WQ wrapper                    :        0    120           0        6       720
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        4   3584       14368        4     14368

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7484 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  6916 KiB
  Free small blocks:     1856 bytes
  Free ordinary blocks:  568 KiB
  Ordinary blocks:       10
  Small blocks:          52
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2509     32      100696     2509    100696
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       52     40        2128       58      2368
Link Node                     :      355     24        8584      548     13280
Temporary memory              :       38 variable      1600       48      6080
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       29   1032       29928       29     29928
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        3    120         360        3       360
Route map name                :       12 variable       288       14       336
Route map index               :        3    152         472        3       472
Route map rule                :       21     40         872       21       872
Route map rule str            :       21 variable       504       21       504
Route map compiled            :       24 variable       576       24       576
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        3     16          72        3        72
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      106     56        6000      106      6000
Route node                    :        6    120         736        6       736
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       21     96        2200       21      2200
Typed-hash bucket             :       12 variable      1760       12      1760
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966984    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       112
BGP attribute                 :        7    328        2296        7      2296
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :       35    192        7032       35      7032
BGP route                     :       15    136        2040       15      2040
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         760        5       760
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0        4       288
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :        5     96         536        5       536
community                     :        4     40         176        5       216
community val                 :        4 variable        96        5       120
community str                 :        1   8192        8200        1      8200
extcommunity                  :        4     40         160        5       200
extcommunity val              :        4 variable        96        5       120
extcommunity str              :        4 variable       352        4       352
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        56
BGP nexthop                   :        1    184         184        1       184
BGP own address               :        2     64         144        2       144
BGP redistribution            :        1     24          24        1        24
Large Community               :        5     40         200        6       240
Large Community display string:        2     35          96        2        96
Large Community value         :        5     12         120        6       144
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for sharpd:
System allocator statistics:
  Total heap allocated:  1320 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1263 KiB
  Free small blocks:     1392 bytes
  Free ordinary blocks:  57 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1490     72      107280     1493    107496
Command Token Text            :     1144 variable     38160     1146     38232
Command Token Help            :     1144 variable     27472     1146     27520
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      405 variable      9720      407      9768
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       10      8         240       11       280
Graph Node                    :     1722     32       68976     1724     69056
Hash                          :      218 variable     10544      218     10544
Hash Bucket                   :      301     32       12104      301     12104
Hash Index                    :      109 variable     33080      110     33600
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       15     40         648       20       864
Link Node                     :      126     24        3040      176      4272
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      139   1192      165688      139    165688
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        3     56         168        3       168
Stream                        :        2  23728       47472        2     47472
Thread                        :        5    160         840        5       840
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        6     96         624        6       624
Typed-hash bucket             :        1 variable        40        1        40
Vector                        :     3467     24       83384     3470     83456
Vector index                  :     3467 variable    111672     3470    111968
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        4     48         224        4       224
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem sharpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 07:35:30 2023 (#133) scripts/scale_up.py:0 COMMAND:ce3:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        56
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  4928 KiB
  Holding block headers: 192 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4206 KiB
  Free small blocks:     3696 bytes
  Free ordinary blocks:  722 KiB
  Ordinary blocks:       10
  Small blocks:          84
  Holding blocks:        24
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        5     24         120        5       136
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4955    356856
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        5    128         680        5       680
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       10 variable       800       10       800
POSIX sync primitives         :       10 variable       496       10       496
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      746 variable     36432      746     36432
Hash Bucket                   :     1032     32       41456     1034     41536
Hash Index                    :      373 variable    107144      373    107144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       40     40        1664       43      1784
Link Node                     :      418     24       10128      487     11816
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        5    144         760        9      1368
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        6 variable    142416       27    310312
Stream FIFO                   :        7     64         504        9       648
Route table                   :       13     56         728       13       728
Route node                    :       30 variable      3664       30      3664
Thread                        :       27    160        4536       27      4536
Thread master                 :       24 variable 100714560       24 100714560
Thread Poll Info              :       12 8388608  100712256       12 100712256
Thread stats                  :       27     96        2824       27      2824
Typed-hash bucket             :       11 variable       696       11       696
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368760    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        2      8          48        2        48
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        6  24608      147696        6    147696
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       13     13208
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        5    144         776        9      1384
Nexthop Group Connected       :        4     40         176        4       176
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :       14    152        2128       16      2432
RIB destination               :       17     88        1544       17      1544
WQ wrapper                    :        0    120           0        4       480
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        3   3584       10776        3     10776

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7464 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  6894 KiB
  Free small blocks:     2032 bytes
  Free ordinary blocks:  570 KiB
  Ordinary blocks:       8
  Small blocks:          53
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2496     32      100144     2497    100184
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         576        2       576
Connected                     :        3     48         168        3       168
Link List                     :       49     40        2008       55      2264
Link Node                     :      352     24        8496      545     13240
Temporary memory              :       31 variable      1208       41      5688
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       20   1032       20640       20     20640
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        2    120         240        2       240
Route map name                :        9 variable       216       11       264
Route map index               :        2    152         320        2       320
Route map rule                :       14     40         560       14       560
Route map rule str            :       14 variable       336       14       336
Route map compiled            :       16 variable       384       16       384
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        2     16          48        2        48
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       736
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      104     56        5888      104      5888
Route node                    :        4    120         480        4       480
Thread                        :       19    160        3224       19      3224
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       21     96        2216       21      2216
Typed-hash bucket             :       10 variable      1712       10      1712
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966984    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       112
BGP attribute                 :        7    328        2296        8      2624
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :       35    192        7048       35      7048
BGP route                     :       13    136        1784       13      1784
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         776        5       776
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0        4       288
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :        5     96         536        5       536
community                     :        3     40         120        4       160
community val                 :        3 variable        72        4        96
community str                 :        1   8192        8200        1      8200
extcommunity                  :        3     40         120        4       160
extcommunity val              :        3 variable        72        4        96
extcommunity str              :        3 variable       280        3       280
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        56
BGP nexthop                   :        1    184         184        1       184
BGP own address               :        2     64         144        2       144
Large Community               :        4     40         160        5       200
Large Community display string:        2     35          96        2        96
Large Community value         :        4     12          96        5       120
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1456 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109064     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 07:35:30 2023 (#133) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1780 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  152 KiB
  Ordinary blocks:       6
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117896
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       488
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       16     45280
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1664       16      1664
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5884 KiB
  Holding block headers: 288 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4608 KiB
  Free small blocks:     3984 bytes
  Free ordinary blocks:  1276 KiB
  Ordinary blocks:       18
  Small blocks:          85
  Holding blocks:        36
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         192        8       192
Buffer data                   :        1   4120        4120        4     16480
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356624     4955    356840
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231584     5785    231784
Hash                          :     1372 variable     66736     1372     66736
Hash Bucket                   :     1088     32       43696     1092     43872
Hash Index                    :      686 variable    188816      687    188952
Hook entry                    :        9     48         504        9       504
Interface                     :        4    272        1120        4      1120
Intf Desc                     :        2      7          48        2        48
Connected                     :        5     48         280        5       280
Link List                     :       61     40        2536       65      2712
Link Node                     :      750     24       18096      822     19872
Temporary memory              :        4 variable        96        7       344
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       35    144        5320       53      8056
Nexthop label                 :       21 variable       504       39       952
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        3   1032        3096        3      3096
Prefix                        :        5     56         296        5       296
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832       43    688456
Stream FIFO                   :       13     64         936       16      1152
Route table                   :       25     56        1400       25      1400
Route node                    :       71 variable      8696       71      8696
ASCII table                   :        0 variable         0       14       544
Thread                        :       37    160        6216       37      6216
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       18 variable      1216       18      1216
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368744    11634    369056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        6       144
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        4    608        2464        4      2464
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       22     22352
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        6     80         528        6       528
MPLS nexthop object           :        6     48         400       11       680
Nexthop Group Entry           :       25    144        3816       28      4272
Nexthop Group Connected       :       24     40         960       24       960
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :       34    152        5184       34      5184
RIB destination               :       35     88        3128       35      3128
WQ wrapper                    :        0 variable         0       10    226960
RIB table info                :        8     24         192        8       192
Zebra VRF table               :        8     56         448        8       448
Nexthop tracking object       :        5    248        1240        5      1240
ZEBRA VRF                     :        2   5072       10160        2     10160
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        2     80         176        2       176
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2463 KiB
  Free small blocks:     1600 bytes
  Free ordinary blocks:  101 KiB
  Ordinary blocks:       4
  Small blocks:          44
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     4296     72      309392     4299    309624
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      824     32       33104      824     33104
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         280        5       280
Informational Link Parameters :        0    120           0        1       120
Link List                     :       62     40        2528       78      3168
Link Node                     :      195     24        4696      242      5856
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        1   1032        1032        1      1032
Prefix                        :        5     56         296        5       296
Privilege information         :        3 variable       136        3       136
Stream                        :        6 variable    160608        9    165208
Route table                   :      148     56        8336      150      8448
Route node                    :       38    120        4576       42      5072
Thread                        :       16    160        2704       16      2704
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       22     96        2320       22      2320
Typed-hash bucket             :       13 variable       776       15       840
Skiplist overflow             :        0 variable         0        1        24
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        2    304         624        2       624
OSPF neighbor                 :        3   1520        4584        3      4584
OSPF route                    :       11     64         792       13       936
OSPF LSA                      :        7    128         952        9      1240
OSPF LSA data                 :        7 variable       376        9       472
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        1     24          24        4        96
OSPF FIFO queue               :        2     24          48        2        48
OSPF vertex                   :        0     80           0        7       616
OSPF vertex parent            :        0     32           0        6       240
OSPF nexthop                  :        0      8           0       11       264
OSPF path                     :       11     48         616       13       728
OSPF if info                  :        4     40         160        4       160
OSPF if params                :        4    120         480        4       480
OSPF MPLS parameters          :        4    248         992        4       992
OSPF Extended parameters      :        4    136         544        4       544
OSPF opaque function table    :        6    112         736        6       736
OSPF External route table     :        1     16          24        1        24
OSPF Redistriute              :        1     32          40        1        40

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1584 KiB
  Free small blocks:     1536 bytes
  Free ordinary blocks:  92 KiB
  Ordinary blocks:       5
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156304
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         296        5       296
Link List                     :       17     40         712       22       912
Link Node                     :      142     24        3472      196      4816
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        5     56         296        5       296
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1040       10      1040
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163880     5182    164128
VRF                           :        2    216         432        2       432
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7860 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  7358 KiB
  Free small blocks:     1856 bytes
  Free ordinary blocks:  502 KiB
  Ordinary blocks:       13
  Small blocks:          52
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       112
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      627 variable     30776      627     30776
Hash Bucket                   :     2506     32      100560     2509    100680
Hash Index                    :      314 variable    480432      314    480432
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         312        5       312
Link List                     :       65     40        2680       73      3000
Link Node                     :      382     24        9216      623     15112
Temporary memory              :       41 variable      3688       46      4688
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        5    144         760        6       912
Nexthop label                 :        3      8          72        3        72
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        5     56         296        5       296
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        8 variable    393408       10    491760
Skip List                     :       13     56         744       14       800
Skip Node                     :       28 variable      2816       29      2984
Skiplist Counters             :       13     68         952       14      1024
Socket union                  :        6    112         720        9      1080
Stream                        :        9 variable    425896       21    491960
Stream FIFO                   :        8     64         576       10       720
Route table                   :      170     56        9584      170      9584
Thread                        :       21    160        3528       21      3528
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       23     96        2440       23      2440
Typed-hash bucket             :       13 variable      2424       13      2424
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
VTY output buffer             :        0 variable         0        1      1288
Work queue                    :        4    144         608        5       760
Work queue item               :        0     24           0        2        48
Work queue name string        :        4 variable        96        5       120
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        2     24          48        2        48
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        4     16          96        4        96
Mac Hash Entry Intf String    :        4 variable        96        5       120
BGP instance                  :       10 variable     21584       10     21584
BGP listen socket details     :        6 variable       672        6       672
BGP peer                      :        6  20864      125232        7    146104
BGP peer hostname             :       10 variable       240       12       288
BGP peer af                   :        2     80         176        4       352
BGP update group              :        2    104         208        2       208
BGP update subgroup           :        2    240         496        2       496
BGP packet                    :        2     56         112        3       168
BGP attribute                 :       26    328        8528       26      8528
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :      157     56        8904      157      8904
BGP node                      :       70    192       14000       70     14000
BGP route                     :       55    136        7496       55      7496
BGP ancillary route info      :       50    432       22016       50     22016
BGP connected                 :        3      4          72        3        72
BGP adv attr                  :        0     24           0        3        72
BGP adv                       :        0     64           0        7       504
BGP synchronise               :        2     48         112        2       112
BGP adj out                   :       12     96        1280       12      1280
community                     :        1     40          40        2        80
community val                 :        1      4          24        2        48
community str                 :        1   8192        8200        1      8200
extcommunity                  :        6     40         240        7       280
extcommunity val              :        6 variable       144        7       168
extcommunity str              :        4 variable       432        5       568
community-list handler        :        1    120         136        1       136
Cluster list                  :        1     24          24        1        24
Cluster list val              :        1      4          24        1        24
BGP Process queue             :        0     32           0        2        80
BGP nexthop                   :        5    184         920        5       920
BGP own address               :        3     64         216        3       216
Large Community               :        5     40         200        5       200
Large Community display string:        5     35         216        5       216
Large Community value         :        5     12         120        5       120
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        2     34          80        2        80
BGP Martian Addr Intf String  :        3 variable        72        3        72
BGP PBR Context               :        2     32          80        2        80
BGP interface context         :        4      4          96        4        96
BGP EVPN instance information :        2     56         112        2       112
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :       15     40         600       15       600
RFAPI IT Extra                :       13     40         520       13       520

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1370 KiB
  Free small blocks:     1376 bytes
  Free ordinary blocks:  94 KiB
  Ordinary blocks:       2
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      290     32       11648      290     11648
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         296        5       296
Link List                     :       17     40         728       22       928
Link Node                     :      128     24        3104      179      4344
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        5     56         296        5       296
Stream                        :        3 variable     63896        4     80320
Route table                   :        8     56         448        8       448
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        72        1        72
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :       10 variable       720       10       720:
Tue Oct 31 07:35:30 2023 (#133) scripts/scale_up.py:0 COMMAND:r2:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1796 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  168 KiB
  Ordinary blocks:       5
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       80      2048
Temporary memory              :        4 variable        96       20     61696
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1664       16      1664
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5756 KiB
  Holding block headers: 288 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4595 KiB
  Free small blocks:     2784 bytes
  Free ordinary blocks:  1161 KiB
  Ordinary blocks:       14
  Small blocks:          72
  Holding blocks:        36
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         208        8       240
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356624     4955    356840
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231552     5785    231752
Hash                          :     1364 variable     66256     1364     66256
Hash Bucket                   :     1085     32       43544     1085     43544
Hash Index                    :      682 variable    188544      683    188680
Hook entry                    :        8     48         448        8       448
Interface                     :        4    272        1120        4      1120
Intf Desc                     :        3      7          72        3        72
Connected                     :        7     48         392        7       392
Link List                     :       60     40        2448       63      2568
Link Node                     :      748     24       18080      814     19688
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       31    144        4712       37      5624
Nexthop label                 :       14      8         336       16       400
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        4   1032        4128        4      4128
Prefix                        :        7     56         408        7       408
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832       33    597000
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       15     56         840       15       840
Route node                    :       42 variable      5120       42      5120
Thread                        :       38    160        6384       38      6384
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3880       37      3880
Typed-hash bucket             :       14 variable       864       14       864
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279416    11634    279632
Vector index                  :    11625 variable    368760    11634    369088
VRF                           :        1    216         216        1       216
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        3        72
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        4    608        2464        4      2464
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       24     24384
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        3     80         280        3       280
MPLS nexthop object           :        4     48         240        6       368
Nexthop Group Entry           :       24    144        3648       25      3800
Nexthop Group Connected       :       27     40        1080       29      1160
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :       24    152        3648       24      3648
RIB destination               :       17     88        1512       17      1512
WQ wrapper                    :        0 variable         0       10    181568
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        3    248         744        3       744
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        4     80         352        4       352
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2494 KiB
  Free small blocks:     1648 bytes
  Free ordinary blocks:  70 KiB
  Ordinary blocks:       9
  Small blocks:          45
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     4296     72      309392     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      826     32       33200      826     33200
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Informational Link Parameters :        0    120           0        1       120
Link List                     :       80     40        3280      101      4168
Link Node                     :      214     24        5152      257      6296
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        3   1032        3096        3      3096
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Stream                        :        9 variable    160888       13    168392
Route table                   :      316     56       17840      318     17952
Route node                    :       62    120        7488       75      9048
Thread                        :       30    160        5040       30      5040
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       23     96        2408       23      2408
Typed-hash bucket             :       19 variable      1144       27      1376
Skiplist overflow             :        0     48           0        1        56
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        4    304        1248        4      1248
OSPF neighbor                 :        8   1520       12224        8     12224
OSPF route                    :       18     64        1296       24      1728
OSPF LSA                      :        7    128         952       11      1496
OSPF LSA data                 :        7 variable       376       11       600
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        4     24          96        8       192
OSPF FIFO queue               :        4     24          96        4        96
OSPF vertex                   :        0     80           0        7       616
OSPF vertex parent            :        0     32           0        7       280
OSPF nexthop                  :        0      8           0       14       368
OSPF path                     :       22     48        1232       28      1568
OSPF if info                  :        4     40         160        4       160
OSPF if params                :        5    120         600        5       600
OSPF MPLS parameters          :        4    248         992        4       992
OSPF Extended parameters      :        4    136         544        4       544
OSPF opaque function table    :        6    112         736        6       736

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1584 KiB
  Free small blocks:     1504 bytes
  Free ordinary blocks:  92 KiB
  Ordinary blocks:       5
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156304
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Link List                     :       17     40         712       22       912
Link Node                     :      144     24        3520      199      4888
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1056       10      1056
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124408     5182    124560
Vector index                  :     5175 variable    163864     5182    164128
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7636 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  7127 KiB
  Free small blocks:     2032 bytes
  Free ordinary blocks:  509 KiB
  Ordinary blocks:       11
  Small blocks:          53
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      577 variable     28328      579     28424
Hash Bucket                   :     2495     32      100216     2505    100616
Hash Index                    :      289 variable    434984      290    437040
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Link List                     :       53     40        2168       59      2408
Link Node                     :      357     24        8616      547     13304
Temporary memory              :       45 variable      4232       48      4688
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        4    144         640        6       928
Nexthop label                 :        4      8          96        4        96
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        8 variable    393408       10    491776
Skip List                     :       14     56         800       15       872
Skip Node                     :       34 variable      3152       35      3320
Skiplist Counters             :       14     68        1008       15      1080
Socket union                  :        9    112        1080       10      1200
Stream                        :        7 variable    293720       23    430032
Stream FIFO                   :        8     64         576       10       720
Route table                   :      104     56        5888      104      5888
Thread                        :       24    160        4032       24      4032
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       22     96        2320       22      2320
Typed-hash bucket             :       11 variable      2200       11      2200
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966984    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        3     24          72        3        72
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        4     16          96        4        96
Mac Hash Entry Intf String    :        4 variable        96        5       120
BGP instance                  :        6 variable     10816        6     10816
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        5  20864      104360        6    125232
BGP peer hostname             :        9 variable       216       10       240
BGP peer af                   :        3     80         264        5       440
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        2       496
BGP packet                    :        1     56          56        8       448
BGP attribute                 :       20    328        6576       20      6576
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       91     56        5144       91      5144
BGP node                      :       50    192       10000       50     10000
BGP route                     :       40    136        5472       40      5472
BGP ancillary route info      :       40    432       17600       40     17600
BGP connected                 :        4      4          96        4        96
BGP adv attr                  :        0     24           0       10       240
BGP adv                       :        0     64           0       20      1440
BGP synchronise               :        1     48          56        2       112
BGP adj out                   :       20     96        2144       40      4224
community                     :        1     40          56        2        96
community val                 :        1      4          24        2        48
community str                 :        1   8192        8200        1      8200
extcommunity                  :        2     40          80        3       120
extcommunity val              :        2 variable        48        3        72
extcommunity str              :        2 variable       208        3       360
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        40
BGP nexthop                   :        3    184         552        3       552
BGP own address               :        4     64         288        4       288
Large Community               :        5     40         216        5       216
Large Community display string:        5     35         200        5       200
Large Community value         :        5     12         120        5       120
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        3     34         120        3       120
BGP Martian Addr Intf String  :        4 variable        96        4        96
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        4      4          96        4        96
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :       20     40         800       20       800
RFAPI IT Extra                :       15     40         600       15       600

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1369 KiB
  Free small blocks:     1376 bytes
  Free ordinary blocks:  95 KiB
  Ordinary blocks:       2
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Link List                     :       17     40         728       22       928
Link Node                     :      130     24        3152      182      4448
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        7     56         392        7       392
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        72        1        72
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 07:35:30 2023 (#133) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1796 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  168 KiB
  Ordinary blocks:       5
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       80      2048
Temporary memory              :        4 variable        96       20     61696
MGMTD Frontend session        :        1     40          40        1        56
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1664       16      1664
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  6012 KiB
  Holding block headers: 288 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4624 KiB
  Free small blocks:     4432 bytes
  Free ordinary blocks:  1388 KiB
  Ordinary blocks:       17
  Small blocks:          89
  Holding blocks:        36
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         208        8       240
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356640     4955    356856
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :     1372 variable     66800     1372     66800
Hash Bucket                   :     1112     32       44672     1114     44752
Hash Index                    :      686 variable    189344      687    189608
Hook entry                    :       11     48         616       11       616
Interface                     :        5    272        1400        5      1400
Intf Desc                     :        3      7          72        3        72
Connected                     :        7     48         392        7       392
Link List                     :       68     40        2768       72      2944
Link Node                     :      754     24       18192      826     19984
Temporary memory              :        4 variable        96        7       696
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       56    144        8528       73     11112
Nexthop label                 :       35 variable       840       52      1248
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        4   1032        4128        4      4128
Prefix                        :        7     56         408        7       408
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832       38    587720
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       26     56        1456       26      1456
Route node                    :       76 variable      9360       76      9360
ASCII table                   :        0 variable         0       49      2056
Thread                        :       39    160        6552       39      6552
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       19 variable      1288       19      1288
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279448    11634    279664
Vector index                  :    11625 variable    368760    11634    369072
VRF                           :        2    216         432        2       432
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        5       120
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        5    608        3080        5      3080
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       27     27432
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        5     80         440        5       440
MPLS nexthop object           :        8     48         464       15       872
Nexthop Group Entry           :       37    144        5640       39      5944
Nexthop Group Connected       :       48     40        1936       48      1936
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :       38    152        5792       41      6248
RIB destination               :       36     88        3216       36      3216
WQ wrapper                    :        0 variable         0       20    453920
RIB table info                :        8     24         192        8       192
Zebra VRF table               :        8     56         448        8       448
Nexthop tracking object       :        5    248        1240        5      1240
ZEBRA VRF                     :        2   5072       10160        2     10160
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        4     80         352        4       352
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2484 KiB
  Free small blocks:     1616 bytes
  Free ordinary blocks:  80 KiB
  Ordinary blocks:       7
  Small blocks:          44
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     4296     72      309392     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      826     32       33168      826     33168
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         392        7       392
Informational Link Parameters :        0    120           0        1       136
Link List                     :       77     40        3112       97      3912
Link Node                     :      214     24        5168      257      6280
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Stream                        :        8 variable    160816       11    165384
Route table                   :      251     56       14248      253     14360
Route node                    :       54    120        6496       67      8056
Thread                        :       26    160        4384       26      4384
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       23     96        2408       23      2408
Typed-hash bucket             :       17 variable      1016       23      1232
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330856    10064    331056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        3    304         936        3       936
OSPF neighbor                 :        6   1520        9168        6      9168
OSPF route                    :       16     64        1152       21      1512
OSPF LSA                      :        7    128         952       11      1512
OSPF LSA data                 :        7 variable       392       11       624
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        3     24          72        6       160
OSPF FIFO queue               :        3     24          72        3        72
OSPF vertex                   :        0     80           0        7       632
OSPF vertex parent            :        0     32           0        9       360
OSPF nexthop                  :        0      8           0       16       400
OSPF path                     :       22     48        1232       27      1512
OSPF if info                  :        5     40         200        5       200
OSPF if params                :        6    120         720        6       720
OSPF MPLS parameters          :        5    248        1240        5      1240
OSPF Extended parameters      :        5    136         680        5       680
OSPF opaque function table    :        6    112         736        6       736
OSPF External route table     :        1     16          24        1        24
OSPF Redistriute              :        1     32          40        1        40

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1585 KiB
  Free small blocks:     1536 bytes
  Free ordinary blocks:  91 KiB
  Ordinary blocks:       5
  Small blocks:          43
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156304
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         392        7       392
Link List                     :       19     40         792       24       992
Link Node                     :      144     24        3520      199      4904
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1056       10      1056
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124408     5182    124560
Vector index                  :     5175 variable    163864     5182    164128
VRF                           :        2    216         448        2       448
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7744 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  7361 KiB
  Free small blocks:     2016 bytes
  Free ordinary blocks:  383 KiB
  Ordinary blocks:       16
  Small blocks:          53
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       112
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      627 variable     30776      627     30776
Hash Bucket                   :     2509     32      100680     2511    100760
Hash Index                    :      314 variable    480432      314    480432
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         424        7       424
Link List                     :       69     40        2840       77      3192
Link Node                     :      386     24        9328      627     15240
Temporary memory              :       41 variable      3688       46      4688
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        7    144        1064        7      1064
Nexthop label                 :        5      8         120        5       120
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         408        7       408
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        8 variable    393408        8    393408
Skip List                     :       13     56         760       14       816
Skip Node                     :       28 variable      2784       29      2952
Skiplist Counters             :       13     68         936       14      1008
Socket union                  :        6    112         720        6       720
Stream                        :        9 variable    425896       18    491960
Stream FIFO                   :        8     64         576        8       576
Route table                   :      170     56        9600      170      9600
Thread                        :       22    160        3696       22      3696
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       23     96        2456       23      2456
Typed-hash bucket             :       13 variable      2456       13      2456
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966984    30687    967176
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
VTY output buffer             :        0 variable         0        1      1288
Work queue                    :        4    144         608        4       608
Work queue item               :        0     24           0        2        48
Work queue name string        :        4 variable        96        4        96
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       368
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        2     24          48        2        48
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        5     16         120        5       120
Mac Hash Entry Intf String    :        5 variable       120        6       144
BGP instance                  :       10 variable     21584       10     21584
BGP listen socket details     :        6 variable       672        6       672
BGP peer                      :        6  20864      125232        6    125232
BGP peer hostname             :       10 variable       240       11       264
BGP peer af                   :        2     80         176        2       176
BGP update group              :        2    104         208        2       208
BGP update subgroup           :        2    240         496        2       496
BGP packet                    :        2     56         112        3       184
BGP attribute                 :       27    328        8856       27      8856
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :      157     56        8920      157      8920
BGP node                      :       72    192       14400       72     14400
BGP route                     :       55    136        7480       55      7480
BGP ancillary route info      :       50    432       22016       50     22016
BGP connected                 :        4      4          96        4        96
BGP adv attr                  :        0     24           0        3        72
BGP adv                       :        0     64           0        6       432
BGP synchronise               :        2     48         128        2       128
BGP adj out                   :       15     96        1560       15      1560
community                     :        1     40          40        2        80
community val                 :        1      4          24        2        48
community str                 :        1   8192        8200        1      8200
extcommunity                  :        6     40         240        7       280
extcommunity val              :        6 variable       144        7       168
extcommunity str              :        4 variable       416        5       552
community-list handler        :        1    120         136        1       136
Cluster list                  :        1     24          24        1        24
Cluster list val              :        1      4          24        1        24
BGP Process queue             :        0     32           0        2        80
BGP nexthop                   :        5    184         920        5       920
BGP own address               :        4     64         288        4       288
Large Community               :        5     40         200        5       200
Large Community display string:        5     35         200        5       200
Large Community value         :        5     12         120        5       120
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        2     34          80        2        80
BGP Martian Addr Intf String  :        4 variable        96        4        96
BGP PBR Context               :        2     32          80        2        80
BGP interface context         :        5      4         120        5       120
BGP EVPN instance information :        2     56         112        2       112
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :       15     40         600       15       600
RFAPI IT Extra                :       13     40         520       13       520

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1371 KiB
  Free small blocks:     1344 bytes
  Free ordinary blocks:  93 KiB
  Ordinary blocks:       2
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      290     32       11648      290     11648
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         392        7       392
Link List                     :       19     40         808       24      1008
Link Node                     :      130     24        3152      182      4416
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        7     56         392        7       392
Stream                        :        3 variable     63896        4     80320
Route table                   :        8     56         448        8       448
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        72        1        72
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :       10 variable       720       10       720:
Tue Oct 31 07:35:30 2023 (#133) scripts/scale_up.py:0 COMMAND:r4:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1796 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1424 bytes
  Free ordinary blocks:  168 KiB
  Ordinary blocks:       4
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11920       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       80      2064
Temporary memory              :        4 variable        96       20     61696
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5840 KiB
  Holding block headers: 288 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4641 KiB
  Free small blocks:     4048 bytes
  Free ordinary blocks:  1199 KiB
  Ordinary blocks:       19
  Small blocks:          86
  Holding blocks:        36
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         192        8       192
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356656     4958    357088
Command Token Text            :     3541 variable    117896     3547    118056
Command Token Help            :     3541 variable     85048     3547     85192
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     1198 variable     28752     1202     28848
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1296       16      1296
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231632     5785    231832
Hash                          :     1380 variable     66976     1380     66976
Hash Bucket                   :     1112     32       44784     1114     44864
Hash Index                    :      690 variable    189136      691    189272
Hook entry                    :       14     48         784       14       784
Interface                     :        6    272        1680        6      1680
Intf Desc                     :        3      7          72        3        72
Connected                     :        7     48         392        8       448
Link List                     :       76     40        3152       83      3432
Link Node                     :      760     24       18400      878     21296
Temporary memory              :        4 variable        96        7       696
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       55    144        8360       73     11096
Nexthop label                 :       22 variable       528       40       960
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        56
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        4   1032        4128        4      4128
Prefix                        :        7     56         392        8       448
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832       47    784808
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       37     56        2072       37      2072
Route node                    :      110 variable     13440      110     13440
ASCII table                   :        0 variable         0       49      2056
Thread                        :       40    160        6720       40      6720
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       24 variable      1824       24      1824
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279400    11634    279616
Vector index                  :    11625 variable    368776    11634    369088
VRF                           :        3    216         648        3       648
VRF bit-map                   :       11      8         264       11       264
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        6       144
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        6    608        3696        6      3696
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       30     30480
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        7     80         616        7       616
MPLS nexthop object           :        8     48         464       14       800
Nexthop Group Entry           :       37    144        5624       44      6688
Nexthop Group Connected       :       44     40        1856       44      1856
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :       52    152        7920       58      8832
RIB destination               :       55     88        4872       55      4872
WQ wrapper                    :        0 variable         0       14    272352
RIB table info                :       12     24         288       12       288
Zebra VRF table               :       12     56         672       12       672
Nexthop tracking object       :        7    248        1736        7      1736
ZEBRA VRF                     :        3   5072       15240        3     15240
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        4     80         352        4       352
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2474 KiB
  Free small blocks:     1600 bytes
  Free ordinary blocks:  90 KiB
  Ordinary blocks:       6
  Small blocks:          44
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     4296     72      309392     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      825     32       33128      825     33128
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Informational Link Parameters :        0    120           0        1       120
Link List                     :       76     40        3104       98      3984
Link Node                     :      210     24        5072      253      6200
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        1   1032        1032        1      1032
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Stream                        :        7 variable    160728       11    166904
Route table                   :      185     56       10440      187     10552
Route node                    :       51    120        6136       63      7576
Thread                        :       22    160        3696       22      3696
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       23     96        2392       23      2392
Typed-hash bucket             :       16 variable       976       20      1136
Skiplist overflow             :        0     16           0        1        24
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        3    216         648        3       648
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        2    304         624        2       624
OSPF neighbor                 :        4   1520        6112        4      6112
OSPF route                    :       16     64        1152       23      1656
OSPF LSA                      :        7    128         968       16      2192
OSPF LSA data                 :        7 variable       392       16       640
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        2     24          48        6       144
OSPF FIFO queue               :        2     24          48        2        48
OSPF vertex                   :        0     80           0        7       616
OSPF vertex parent            :        0     32           0        7       280
OSPF nexthop                  :        0      8           0       13       312
OSPF path                     :       18     48        1024       25      1416
OSPF if info                  :        6     40         240        6       240
OSPF if params                :        7    120         840        7       840
OSPF MPLS parameters          :        6    248        1488        6      1488
OSPF Extended parameters      :        6    136         816        6       816
OSPF opaque function table    :        6    112         736        6       736
OSPF External route table     :        1     16          24        1        24
OSPF Redistriute              :        1     32          40        1        40

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1585 KiB
  Free small blocks:     1520 bytes
  Free ordinary blocks:  91 KiB
  Ordinary blocks:       6
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156288
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Link List                     :       21     40         872       26      1088
Link Node                     :      144     24        3520      199      4936
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1040       10      1040
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163880     5182    164128
VRF                           :        3    216         664        3       664
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  8340 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  7833 KiB
  Free small blocks:     2000 bytes
  Free ordinary blocks:  507 KiB
  Ordinary blocks:       15
  Small blocks:          53
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       112
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937496    13017    937928
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      677 variable     33224      677     33224
Hash Bucket                   :     2530     32      101520     2534    101680
Hash Index                    :      339 variable    525880      339    525880
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Link List                     :       85     40        3480       93      3816
Link Node                     :      417     24       10056      658     15920
Temporary memory              :       31 variable      2328       36      4688
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        7    144        1064        7      1064
Nexthop label                 :        3      8          72        3        72
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Ring buffer                   :       12 variable    590112       14    688464
Skip List                     :        8     56         464        9       520
Skip Node                     :       18 variable      1744       19      1912
Skiplist Counters             :        8     68         576        9       648
Socket union                  :        9    112        1080       12      1440
Stream                        :       11 variable    558072       20    624368
Stream FIFO                   :       12     64         864       14      1008
Route table                   :      236     56       13312      236     13312
Thread                        :       31    160        5208       31      5208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       23     96        2424       23      2424
Typed-hash bucket             :       15 variable      2712       15      2712
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        3    216         648        3       648
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
VTY output buffer             :        0 variable         0        1      1304
Work queue                    :        5    144         760        6       912
Work queue item               :        0     24           0        3        72
Work queue name string        :        5 variable       120        6       144
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        3     24          72        3        72
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        6     16         160        6       160
Mac Hash Entry Intf String    :        6 variable       144        7       168
BGP instance                  :       16 variable     32400       16     32400
BGP listen socket details     :       10 variable      1008       10      1008
BGP peer                      :        9  20864      187848       10    208720
BGP peer hostname             :       15 variable       360       17       408
BGP peer af                   :        3     80         280        5       456
BGP update group              :        3    104         328        3       328
BGP update subgroup           :        3    240         744        3       744
BGP packet                    :        3     56         168        4       240
BGP attribute                 :       41    328       13448       41     13448
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :      223     56       12600      223     12600
BGP node                      :       94    192       18800       94     18800
BGP route                     :       70    136        9520       70      9520
BGP ancillary route info      :       60    432       26400       60     26400
BGP connected                 :        4      4          96        4        96
BGP adv attr                  :        0     24           0        4        96
BGP adv                       :        0     64           0       10       720
BGP synchronise               :        3     48         168        3       168
BGP adj out                   :       27     96        2808       27      2808
BGP multipath info            :        8     48         448        8       448
community                     :        1     40          40        2        80
community val                 :        1      4          24        2        48
community str                 :        1   8192        8200        1      8200
extcommunity                  :        8     40         320        9       360
extcommunity val              :        8 variable       192        9       216
extcommunity str              :        4 variable       416        5       568
community-list handler        :        1    120         136        1       136
Cluster list                  :        1     24          24        1        24
Cluster list val              :        1      4          24        1        24
BGP Process queue             :        0     32           0        3       120
BGP nexthop                   :        7    184        1288        7      1288
BGP own address               :        4     64         288        4       288
Large Community               :        5     40         200        5       200
Large Community display string:        5     35         216        5       216
Large Community value         :        5     12         120        5       120
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        3     34         120        3       120
BGP Martian Addr Intf String  :        4 variable        96        4        96
BGP PBR Context               :        3     32         120        3       120
BGP interface context         :        6      4         144        6       144
BGP EVPN instance information :        3     56         168        3       168
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :       10     40         400       10       400
RFAPI IT Extra                :        8     40         320        8       320

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1372 KiB
  Free small blocks:     1360 bytes
  Free ordinary blocks:  92 KiB
  Ordinary blocks:       2
  Small blocks:          38
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3       104
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      293     32       11768      293     11768
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Link List                     :       21     40         904       26      1088
Link Node                     :      130     24        3152      182      4432
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        7     56         392        7       392
Stream                        :        3 variable     63896        4     80320
Route table                   :       12     56         672       12       672
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable       136        1       136
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109080     3332    109360
VRF                           :        3    216         648        3       648
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :       15 variable      1080       15      1080:
Tue Oct 31 07:35:30 2023 (#133) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show mem":qmem sharpd:none:check if sharpd running:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1472 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5200 KiB
  Holding block headers: 224 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4327 KiB
  Free small blocks:     4256 bytes
  Free ordinary blocks:  873 KiB
  Ordinary blocks:       10
  Small blocks:          90
  Holding blocks:        28
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        6     24         144        6       160
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4955    356856
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        6    128         816        6       816
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       12 variable       960       12       960
POSIX sync primitives         :       12 variable       592       12       592
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      952 variable     46368      952     46368
Hash Bucket                   :     1037     32       41624     1039     41704
Hash Index                    :      476 variable    134144      476    134144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       41     40        1688       44      1824
Link Node                     :      524     24       12640      593     14328
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        5    144         760       14      2128
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        8 variable    189888       29    370608
Stream FIFO                   :        9     64         648       11       792
Route table                   :       13     56         728       13       728
Route node                    :       30 variable      3680       30      3680
Thread                        :       30    160        5040       30      5040
Thread master                 :       28 variable 117500320       28 117500320
Thread Poll Info              :       14 8388608  117497632       14 117497632
Thread stats                  :       30     96        3136       30      3136
Typed-hash bucket             :       11 variable       696       11       696
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279448    11634    279648
Vector index                  :    11625 variable    368744    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        7  24608      172312        7    172312
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       14     14224
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        5    144         760       12      1840
Nexthop Group Connected       :        4     40         160        4       160
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :       14    152        2128       14      2128
RIB destination               :       17     88        1528       17      1528
WQ wrapper                    :        0    120           0        7       840
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        4   3584       14368        4     14368

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  7488 KiB
  Holding block headers: 96 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  6918 KiB
  Free small blocks:     1888 bytes
  Free ordinary blocks:  570 KiB
  Ordinary blocks:       8
  Small blocks:          52
  Holding blocks:        12
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2508     32      100640     2508    100640
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       52     40        2160       58      2400
Link Node                     :      355     24        8568      548     13248
Temporary memory              :       38 variable      1600       48      6080
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       29   1032       29928       29     29928
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        3    120         360        3       360
Route map name                :       12 variable       288       14       336
Route map index               :        3    152         456        3       456
Route map rule                :       21     40         856       21       856
Route map rule str            :       21 variable       504       21       504
Route map compiled            :       24 variable       576       24       576
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        3     16          72        3        72
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      106     56        6000      106      6000
Route node                    :        6    120         720        6       720
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       21     96        2216       21      2216
Typed-hash bucket             :       12 variable      1776       12      1776
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       112
BGP attribute                 :        6    328        1968        6      1968
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :       35    192        7048       35      7048
BGP route                     :       12    136        1648       12      1648
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         760        5       760
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0        4       304
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :        5     96         520        5       520
community                     :        4     40         160        5       200
community val                 :        4 variable        96        5       120
community str                 :        1   8192        8200        1      8200
extcommunity                  :        4     40         160        4       160
extcommunity val              :        4 variable        96        4        96
extcommunity str              :        4 variable       368        4       368
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        40
BGP nexthop                   :        1    184         200        1       200
BGP own address               :        2     64         144        2       144
BGP redistribution            :        1     24          24        1        24
Large Community               :        5     40         200        6       240
Large Community display string:        2     35          80        2        80
Large Community value         :        5     12         120        6       144
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for sharpd:
System allocator statistics:
  Total heap allocated:  1320 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1263 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  57 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1490     72      107280     1493    107496
Command Token Text            :     1144 variable     38160     1146     38232
Command Token Help            :     1144 variable     27472     1146     27520
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      405 variable      9720      407      9768
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       10      8         240       11       280
Graph Node                    :     1722     32       68976     1724     69056
Hash                          :      218 variable     10544      218     10544
Hash Bucket                   :      301     32       12104      301     12104
Hash Index                    :      109 variable     33080      110     33600
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       15     40         648       20       864
Link Node                     :      126     24        3040      176      4272
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      139   1192      165688      139    165688
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        3     56         168        3       168
Stream                        :        2  23728       47472        2     47472
Thread                        :        5    160         840        5       840
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        6     96         624        6       624
Typed-hash bucket             :        1 variable        40        1        40
Vector                        :     3467     24       83384     3470     83456
Vector index                  :     3467 variable    111688     3470    111968
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        4     48         224        4       224
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem sharpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 07:35:30 2023 (#133) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "sharp install routes 10.0.0.0 nexthop 99.0.0.1 50000"::pass:Adding 50000 routes:
COMMAND OUTPUT:&lt;no output&gt;:
R:133  ce1    Adding 50000 routes                                      1    0
Tue Oct 31 07:35:30 2023 (#134) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "sharp install routes 10.0.0.0 nexthop 99.0.0.2 50000"::pass:Adding 50000 routes:
COMMAND OUTPUT:&lt;no output&gt;:
R:134  ce2    Adding 50000 routes                                      1    0
scripts/scale_up.py:0 WAIT:ce1:vtysh -c "show ip route summ" | grep "sharp" | cut -d " " -f 33:50000:wait:See all sharp routes in rib on ce1:100.0:10:
Tue Oct 31 07:35:30 2023 (#135) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show ip route summ" | grep "sharp" | cut -d " " -f 33:50000:wait:See all sharp routes in rib on ce1:
COMMAND OUTPUT:1228:
Tue Oct 31 07:35:40 2023 (#135) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show ip route summ" | grep "sharp" | cut -d " " -f 33:50000:wait:See all sharp routes in rib on ce1:
COMMAND OUTPUT:41986:
Tue Oct 31 07:35:50 2023 (#135) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show ip route summ" | grep "sharp" | cut -d " " -f 33:50000:wait:See all sharp routes in rib on ce1:
COMMAND OUTPUT:50000:
R:135  ce1    See all sharp routes in rib on ce1 +20.16 secs           1    0
Done after 3 loops, time=20.155670404434204, Found=50000
scripts/scale_up.py:0 WAIT:ce2:vtysh -c "show ip route summ" | grep "sharp" | cut -d " " -f 33:50000:wait:See all sharp routes in rib on ce2:100.0:10:
Tue Oct 31 07:35:50 2023 (#136) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show ip route summ" | grep "sharp" | cut -d " " -f 33:50000:wait:See all sharp routes in rib on ce2:
COMMAND OUTPUT:50000:
R:136  ce2    See all sharp routes in rib on ce2 +0.04 secs            1    0
Done after 1 loops, time=0.04313921928405762, Found=50000
scripts/scale_up.py:0 WAIT:ce1:vtysh -c "show bgp ipv4 uni 10.0.195.79":Last update::wait:RXed last route, 10.0.195.79:100.0:10:
Tue Oct 31 07:35:50 2023 (#137) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni 10.0.195.79":Last update::wait:RXed last route, 10.0.195.79:
COMMAND OUTPUT:BGP routing table entry for 10.0.195.79/32, version 50012
Paths: (1 available, best #1, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    99.0.0.1 from 0.0.0.0 (99.0.0.1)
      Origin incomplete, metric 200, localpref 200, weight 32768, valid, sourced, best (First path received)
      Community: 0:65
      Extended Community: RT:80:987
      Large Community: 90:12:34
      Last update: Tue Oct 31 07:35:41 2023:
R:137  ce1    RXed last route, 10.0.195.79 +0.03 secs                  1    0
Done after 1 loops, time=0.03379988670349121, Found=Last update:
scripts/scale_up.py:0 WAIT:ce1:vtysh -c "show bgp ipv4 uni" | grep -c 10\.\*/32:50000:wait:See all sharp routes in BGP:100.0:10:
Tue Oct 31 07:35:50 2023 (#138) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni" | grep -c 10\.\*/32:50000:wait:See all sharp routes in BGP:
COMMAND OUTPUT:50000:
R:138  ce1    See all sharp routes in BGP +0.10 secs                   1    0
Done after 1 loops, time=0.10061025619506836, Found=50000
scripts/scale_up.py:0 WAIT:ce2:vtysh -c "show bgp ipv4 uni 10.0.195.79":Last update::wait:RXed last route, 10.0.195.79:100.0:10:
Tue Oct 31 07:35:50 2023 (#139) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni 10.0.195.79":Last update::wait:RXed last route, 10.0.195.79:
COMMAND OUTPUT:BGP routing table entry for 10.0.195.79/32, version 89959
Paths: (1 available, best #1, table default)
  Advertised to non peer-group peers:
  192.168.1.1
  Local
    99.0.0.2 from 0.0.0.0 (99.0.0.2)
      Origin incomplete, metric 200, localpref 200, weight 32768, valid, sourced, best (First path received)
      Community: 0:66
      Extended Community: RT:70:456
      Large Community: 78:90:12
      Last update: Tue Oct 31 07:35:43 2023:
R:139  ce2    RXed last route, 10.0.195.79 +0.03 secs                  1    0
Done after 1 loops, time=0.03370094299316406, Found=Last update:
scripts/scale_up.py:0 WAIT:ce2:vtysh -c "show bgp ipv4 uni" | grep -c 10\.\*/32:50000:wait:See all sharp routes in BGP:100.0:10:
Tue Oct 31 07:35:51 2023 (#140) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni" | grep -c 10\.\*/32:50000:wait:See all sharp routes in BGP:
COMMAND OUTPUT:50000:
R:140  ce2    See all sharp routes in BGP +0.10 secs                   1    0
Done after 1 loops, time=0.10216760635375977, Found=50000
scripts/scale_up.py:0 WAIT:ce3:vtysh -c "show bgp ipv4 uni 10.0.195.79":Last update::wait:RXed last route, 10.0.195.79:100.0:10:
Tue Oct 31 07:35:51 2023 (#141) scripts/scale_up.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni 10.0.195.79":Last update::wait:RXed last route, 10.0.195.79:
COMMAND OUTPUT:BGP routing table entry for 10.0.195.79/32, version 94711
Paths: (1 available, best #1, table default)
  Not advertised to any peer
  Local
    192.168.1.1 from 192.168.1.1 (192.168.1.1)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:66
      Extended Community: RT:52:100 RT:70:456
      Large Community: 78:90:12
      Last update: Tue Oct 31 07:35:43 2023:
R:141  ce3    RXed last route, 10.0.195.79 +0.03 secs                  1    0
Done after 1 loops, time=0.033669471740722656, Found=Last update:
scripts/scale_up.py:0 WAIT:ce3:vtysh -c "show bgp ipv4 uni" | grep -c 10\.\*/32:50000:wait:See all sharp routes in BGP:100.0:10:
Tue Oct 31 07:35:51 2023 (#142) scripts/scale_up.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni" | grep -c 10\.\*/32:50000:wait:See all sharp routes in BGP:
COMMAND OUTPUT:50000:
R:142  ce3    See all sharp routes in BGP +0.10 secs                   1    0
Done after 1 loops, time=0.09970498085021973, Found=50000
scripts/scale_up.py:0 WAIT:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 10.0.195.79":99.0.0.1:wait:RXed -&gt; 10.0.195.79 from CE1:100.0:10:
Tue Oct 31 07:35:51 2023 (#143) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show bgp vrf r1-cust1 ipv4 uni 10.0.195.79":99.0.0.1:wait:RXed -&gt; 10.0.195.79 from CE1:
COMMAND OUTPUT:BGP routing table entry for 10.0.195.79/32, version 49305
Paths: (2 available, best #2, vrf r1-cust1)
  Not advertised to any peer
  Imported from 10:3:10.0.195.79/32
  Local
    3.3.3.3 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin incomplete, metric 200, localpref 200, valid, sourced, local
      Community: 0:66
      Extended Community: RT:52:100 RT:70:456
      Large Community: 78:90:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:35:43 2023
  Local
    99.0.0.1 from 192.168.1.2 (99.0.0.1)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (IGP Metric)
      Community: 0:65
      Extended Community: RT:80:987
      Large Community: 90:12:34
      Last update: Tue Oct 31 07:35:42 2023:
R:143  r1     RXed -&gt; 10.0.195.79 from CE1 +0.04 secs                  1    0
Done after 1 loops, time=0.03508782386779785, Found=99.0.0.1
scripts/scale_up.py:0 WAIT:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 10.0.195.79":99.0.0.2:wait:RXed -&gt; 10.0.195.79 from CE2:100.0:10:
Tue Oct 31 07:35:51 2023 (#144) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show bgp vrf r3-cust1 ipv4 uni 10.0.195.79":99.0.0.2:wait:RXed -&gt; 10.0.195.79 from CE2:
COMMAND OUTPUT:BGP routing table entry for 10.0.195.79/32, version 92068
Paths: (2 available, best #1, vrf r3-cust1)
  Not advertised to any peer
  Local
    99.0.0.2 from 192.168.1.2 (99.0.0.2)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (IGP Metric)
      Community: 0:66
      Extended Community: RT:70:456
      Large Community: 78:90:12
      Last update: Tue Oct 31 07:35:43 2023
  Imported from 10:1:10.0.195.79/32
  Local
    1.1.1.1 (metric 20) from 0.0.0.0 (192.168.1.1) vrf default(0) announce-nh-self
      Origin incomplete, metric 200, localpref 200, valid, sourced, local
      Community: 0:65
      Extended Community: RT:52:100 RT:80:987
      Large Community: 90:12:34
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:35:42 2023:
R:144  r3     RXed -&gt; 10.0.195.79 from CE2 +0.03 secs                  1    0
Done after 1 loops, time=0.034520864486694336, Found=99.0.0.2
scripts/scale_up.py:0 WAIT:r1:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":99.0.0.1:wait:see VPN safi -&gt; 10.0.195.79 from CE1:10:0.5:
Tue Oct 31 07:35:51 2023 (#145) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":99.0.0.1:wait:see VPN safi -&gt; 10.0.195.79 from CE1:
COMMAND OUTPUT:BGP routing table entry for 10:1:10.0.195.79/32, version 49298
not allocated
Paths: (1 available, best #1)
  Advertised to non peer-group peers:
  2.2.2.2
  Local
    99.0.0.1 from 0.0.0.0 (1.1.1.1) vrf r1-cust1(4) announce-nh-self
      Origin incomplete, metric 200, localpref 200, valid, sourced, local, best (First path received)
      Community: 0:65
      Extended Community: RT:80:987 RT:52:100
      Large Community: 90:12:34
      Originator: 1.1.1.1
      Remote label: 101
      Last update: Tue Oct 31 07:35:42 2023
BGP routing table entry for 10:3:10.0.195.79/32, version 48816
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    3.3.3.3 (metric 20) from 2.2.2.2 (3.3.3.3)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:66
      Extended Community: RT:52:100 RT:70:456
      Large Community: 78:90:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:35:43 2023:
R:145  r1     see VPN safi -&gt; 10.0.195.79 from CE1 +0.03 secs          1    0
Done after 1 loops, time=0.03439140319824219, Found=99.0.0.1
scripts/scale_up.py:0 WAIT:r3:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":99.0.0.2:wait:see VPN safi -&gt; 10.0.195.79 from CE2:10:0.5:
Tue Oct 31 07:35:51 2023 (#146) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":99.0.0.2:wait:see VPN safi -&gt; 10.0.195.79 from CE2:
COMMAND OUTPUT:BGP routing table entry for 10:1:10.0.195.79/32, version 49298
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    1.1.1.1 (metric 20) from 2.2.2.2 (1.1.1.1)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:65
      Extended Community: RT:52:100 RT:80:987
      Large Community: 90:12:34
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:35:42 2023
BGP routing table entry for 10:3:10.0.195.79/32, version 48816
not allocated
Paths: (1 available, best #1)
  Advertised to non peer-group peers:
  2.2.2.2
  Local
    99.0.0.2 from 0.0.0.0 (3.3.3.3) vrf r3-cust1(5) announce-nh-self
      Origin incomplete, metric 200, localpref 200, valid, sourced, local, best (First path received)
      Community: 0:66
      Extended Community: RT:70:456 RT:52:100
      Large Community: 78:90:12
      Originator: 3.3.3.3
      Remote label: 103
      Last update: Tue Oct 31 07:35:43 2023:
R:146  r3     see VPN safi -&gt; 10.0.195.79 from CE2 +0.03 secs          1    0
Done after 1 loops, time=0.03343796730041504, Found=99.0.0.2
scripts/scale_up.py:0 WAIT:r3:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":1.1.1.1:wait:see VPN safi -&gt; 10.0.195.79 from CE1:10:0.5:
Tue Oct 31 07:35:51 2023 (#147) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":1.1.1.1:wait:see VPN safi -&gt; 10.0.195.79 from CE1:
COMMAND OUTPUT:BGP routing table entry for 10:1:10.0.195.79/32, version 49298
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    1.1.1.1 (metric 20) from 2.2.2.2 (1.1.1.1)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:65
      Extended Community: RT:52:100 RT:80:987
      Large Community: 90:12:34
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:35:42 2023
BGP routing table entry for 10:3:10.0.195.79/32, version 48816
not allocated
Paths: (1 available, best #1)
  Advertised to non peer-group peers:
  2.2.2.2
  Local
    99.0.0.2 from 0.0.0.0 (3.3.3.3) vrf r3-cust1(5) announce-nh-self
      Origin incomplete, metric 200, localpref 200, valid, sourced, local, best (First path received)
      Community: 0:66
      Extended Community: RT:70:456 RT:52:100
      Large Community: 78:90:12
      Originator: 3.3.3.3
      Remote label: 103
      Last update: Tue Oct 31 07:35:43 2023:
R:147  r3     see VPN safi -&gt; 10.0.195.79 from CE1 +0.03 secs          1    0
Done after 1 loops, time=0.032854557037353516, Found=1.1.1.1
scripts/scale_up.py:0 WAIT:r1:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":3.3.3.3:wait:see VPN safi -&gt; 10.0.195.79 from CE2:10:0.5:
Tue Oct 31 07:35:51 2023 (#148) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":3.3.3.3:wait:see VPN safi -&gt; 10.0.195.79 from CE2:
COMMAND OUTPUT:BGP routing table entry for 10:1:10.0.195.79/32, version 49298
not allocated
Paths: (1 available, best #1)
  Advertised to non peer-group peers:
  2.2.2.2
  Local
    99.0.0.1 from 0.0.0.0 (1.1.1.1) vrf r1-cust1(4) announce-nh-self
      Origin incomplete, metric 200, localpref 200, valid, sourced, local, best (First path received)
      Community: 0:65
      Extended Community: RT:80:987 RT:52:100
      Large Community: 90:12:34
      Originator: 1.1.1.1
      Remote label: 101
      Last update: Tue Oct 31 07:35:42 2023
BGP routing table entry for 10:3:10.0.195.79/32, version 48816
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    3.3.3.3 (metric 20) from 2.2.2.2 (3.3.3.3)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:66
      Extended Community: RT:52:100 RT:70:456
      Large Community: 78:90:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:35:43 2023:
R:148  r1     see VPN safi -&gt; 10.0.195.79 from CE2 +0.03 secs          1    0
Done after 1 loops, time=0.03417325019836426, Found=3.3.3.3
scripts/scale_up.py:0 WAIT:r4:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":1.1.1.1:wait:see VPN safi -&gt; 10.0.195.79 from CE1:10:0.5:
Tue Oct 31 07:35:51 2023 (#149) scripts/scale_up.py:0 COMMAND:r4:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":1.1.1.1:wait:see VPN safi -&gt; 10.0.195.79 from CE1:
COMMAND OUTPUT:BGP routing table entry for 10:1:10.0.195.79/32, version 49298
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    1.1.1.1 (metric 20) from 2.2.2.2 (1.1.1.1)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:65
      Extended Community: RT:52:100 RT:80:987
      Large Community: 90:12:34
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:35:42 2023
BGP routing table entry for 10:3:10.0.195.79/32, version 48816
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    3.3.3.3 (metric 10) from 2.2.2.2 (3.3.3.3)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:66
      Extended Community: RT:52:100 RT:70:456
      Large Community: 78:90:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:35:43 2023:
R:149  r4     see VPN safi -&gt; 10.0.195.79 from CE1 +0.03 secs          1    0
Done after 1 loops, time=0.033429861068725586, Found=1.1.1.1
scripts/scale_up.py:0 WAIT:r4:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":3.3.3.3:wait:see VPN safi -&gt; 10.0.195.79 from CE2:10:0.5:
Tue Oct 31 07:35:51 2023 (#150) scripts/scale_up.py:0 COMMAND:r4:vtysh -c "show bgp  ipv4 vpn 10.0.195.79":3.3.3.3:wait:see VPN safi -&gt; 10.0.195.79 from CE2:
COMMAND OUTPUT:BGP routing table entry for 10:1:10.0.195.79/32, version 49298
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    1.1.1.1 (metric 20) from 2.2.2.2 (1.1.1.1)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:65
      Extended Community: RT:52:100 RT:80:987
      Large Community: 90:12:34
      Originator: 1.1.1.1, Cluster list: 2.2.2.2 
      Remote label: 101
      Last update: Tue Oct 31 07:35:42 2023
BGP routing table entry for 10:3:10.0.195.79/32, version 48816
not allocated
Paths: (1 available, best #1)
  Not advertised to any peer
  Local
    3.3.3.3 (metric 10) from 2.2.2.2 (3.3.3.3)
      Origin incomplete, metric 200, localpref 200, valid, internal, best (First path received)
      Community: 0:66
      Extended Community: RT:52:100 RT:70:456
      Large Community: 78:90:12
      Originator: 3.3.3.3, Cluster list: 2.2.2.2 
      Remote label: 103
      Last update: Tue Oct 31 07:35:43 2023:
R:150  r4     see VPN safi -&gt; 10.0.195.79 from CE2 +0.03 secs          1    0
Done after 1 loops, time=0.03294110298156738, Found=3.3.3.3
scripts/scale_up.py:0 WAIT:ce1:ip route get 10.0.195.79:dev:wait:Route to 10.0.195.79 available:100.0:10:
Tue Oct 31 07:35:51 2023 (#151) scripts/scale_up.py:0 COMMAND:ce1:ip route get 10.0.195.79:dev:wait:Route to 10.0.195.79 available:
COMMAND OUTPUT:10.0.195.79 dev lo src 99.0.0.1 uid 0 
    cache &lt;local&gt;:
R:151  ce1    Route to 10.0.195.79 available +0.00 secs                1    0
Done after 1 loops, time=0.004336357116699219, Found=dev
scripts/scale_up.py:0 WAIT:ce1:ip route show | grep -c \^10\.:50000:wait:See 50000 linux routes:100.0:10:
Tue Oct 31 07:35:51 2023 (#152) scripts/scale_up.py:0 COMMAND:ce1:ip route show | grep -c \^10\.:50000:wait:See 50000 linux routes:
COMMAND OUTPUT:50000:
R:152  ce1    See 50000 linux routes +1.42 secs                        1    0
Done after 1 loops, time=1.4220139980316162, Found=50000
scripts/scale_up.py:0 WAIT:ce2:ip route get 10.0.195.79:dev:wait:Route to 10.0.195.79 available:100.0:10:
Tue Oct 31 07:35:52 2023 (#153) scripts/scale_up.py:0 COMMAND:ce2:ip route get 10.0.195.79:dev:wait:Route to 10.0.195.79 available:
COMMAND OUTPUT:10.0.195.79 dev lo src 99.0.0.2 uid 0 
    cache &lt;local&gt;:
R:153  ce2    Route to 10.0.195.79 available +0.00 secs                1    0
Done after 1 loops, time=0.004312753677368164, Found=dev
scripts/scale_up.py:0 WAIT:ce2:ip route show | grep -c \^10\.:50000:wait:See 50000 linux routes:100.0:10:
Tue Oct 31 07:35:52 2023 (#154) scripts/scale_up.py:0 COMMAND:ce2:ip route show | grep -c \^10\.:50000:wait:See 50000 linux routes:
COMMAND OUTPUT:50000:
R:154  ce2    See 50000 linux routes +1.44 secs                        1    0
Done after 1 loops, time=1.442995309829712, Found=50000
scripts/scale_up.py:0 WAIT:ce3:ip route get 10.0.195.79:dev:wait:Route to 10.0.195.79 available:100.0:10:
Tue Oct 31 07:35:54 2023 (#155) scripts/scale_up.py:0 COMMAND:ce3:ip route get 10.0.195.79:dev:wait:Route to 10.0.195.79 available:
COMMAND OUTPUT:10.0.195.79 via 192.168.1.1 dev ce3-eth0 src 192.168.1.2 uid 0 
    cache:
R:155  ce3    Route to 10.0.195.79 available +0.00 secs                1    0
Done after 1 loops, time=0.004340171813964844, Found=dev
scripts/scale_up.py:0 WAIT:ce3:ip route show | grep -c \^10\.:50000:wait:See 50000 linux routes:100.0:10:
Tue Oct 31 07:35:54 2023 (#156) scripts/scale_up.py:0 COMMAND:ce3:ip route show | grep -c \^10\.:50000:wait:See 50000 linux routes:
COMMAND OUTPUT:50000:
R:156  ce3    See 50000 linux routes +1.39 secs                        1    0
Done after 1 loops, time=1.3879594802856445, Found=50000
scripts/scale_up.py:0 WAIT:r1:ip route get vrf r1-cust1 10.0.195.79:dev:wait:VRF route available:100.0:10:
Tue Oct 31 07:35:55 2023 (#157) scripts/scale_up.py:0 COMMAND:r1:ip route get vrf r1-cust1 10.0.195.79:dev:wait:VRF route available:
COMMAND OUTPUT:10.0.195.79 via 192.168.1.2 dev r1-eth4 table 10 src 192.168.1.1 uid 0 
    cache:
R:157  r1     VRF route available +0.00 secs                           1    0
Done after 1 loops, time=0.004372119903564453, Found=dev
scripts/scale_up.py:0 WAIT:r1:ip route show vrf r1-cust1 | grep -c \^10\.:50000:wait:See 50000 linux routes:100.0:10:
Tue Oct 31 07:35:55 2023 (#158) scripts/scale_up.py:0 COMMAND:r1:ip route show vrf r1-cust1 | grep -c \^10\.:50000:wait:See 50000 linux routes:
COMMAND OUTPUT:50000:
R:158  r1     See 50000 linux routes +1.51 secs                        1    0
Done after 1 loops, time=1.5057158470153809, Found=50000
scripts/scale_up.py:0 WAIT:r3:ip route get vrf r3-cust1 10.0.195.79:dev:wait:VRF route available:100.0:10:
Tue Oct 31 07:35:57 2023 (#159) scripts/scale_up.py:0 COMMAND:r3:ip route get vrf r3-cust1 10.0.195.79:dev:wait:VRF route available:
COMMAND OUTPUT:10.0.195.79 via 192.168.1.2 dev r3-eth4 table 10 src 192.168.1.1 uid 0 
    cache:
R:159  r3     VRF route available +0.00 secs                           1    0
Done after 1 loops, time=0.004353523254394531, Found=dev
scripts/scale_up.py:0 WAIT:r3:ip route show vrf r3-cust1 | grep -c \^10\.:50000:wait:See 50000 linux routes:100.0:10:
Tue Oct 31 07:35:57 2023 (#160) scripts/scale_up.py:0 COMMAND:r3:ip route show vrf r3-cust1 | grep -c \^10\.:50000:wait:See 50000 linux routes:
COMMAND OUTPUT:50000:
R:160  r3     See 50000 linux routes +1.39 secs                        1    0
Done after 1 loops, time=1.3894824981689453, Found=50000
scripts/scale_up.py:0 WAIT:r4:ip route get vrf r4-cust1 10.0.195.79:dev:wait:VRF route available:100.0:10:
Tue Oct 31 07:35:58 2023 (#161) scripts/scale_up.py:0 COMMAND:r4:ip route get vrf r4-cust1 10.0.195.79:dev:wait:VRF route available:
COMMAND OUTPUT:10.0.195.79 via 10.0.2.3 dev r4-eth0 table 10 src 10.0.2.4 uid 0 
    cache:
R:161  r4     VRF route available +0.01 secs                           1    0
Done after 1 loops, time=0.005057811737060547, Found=dev
scripts/scale_up.py:0 WAIT:r4:ip route show vrf r4-cust1 | grep -c \^10\.:50000:wait:See 50000 linux routes:100.0:10:
Tue Oct 31 07:35:58 2023 (#162) scripts/scale_up.py:0 COMMAND:r4:ip route show vrf r4-cust1 | grep -c \^10\.:50000:wait:See 50000 linux routes:
COMMAND OUTPUT:50000:
R:162  r4     See 50000 linux routes +1.42 secs                        1    0
Done after 1 loops, time=1.4195950031280518, Found=50000
Tue Oct 31 07:36:00 2023 (#163) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  35 MiB
  Holding block headers: 225 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  29 MiB
  Free small blocks:     2336 bytes
  Free ordinary blocks:  6849 KiB
  Ordinary blocks:       51294
  Small blocks:          70
  Holding blocks:        29
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        6     24         144        6       160
Buffer data                   :        1   4120        4120       32    131840
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4956    356928
Command Token Text            :     3541 variable    117880     3545    117960
Command Token Help            :     3541 variable     85048     3545     85144
Command Argument              :        2 variable        48        6       144
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        6    128         816        6       816
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       12 variable       960       12       960
POSIX sync primitives         :       12 variable       592       12       592
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      952 variable     46368      952     46368
Hash Bucket                   :     1039     32       41704     1041     41784
Hash Index                    :      476 variable    134144      476    134144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       41     40        1704       47      2008
Link Node                     :      524     24       12640    48994   1178832
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        6    144         912    22309   3390984
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        56
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        8 variable    189888    16186  53453968
Stream FIFO                   :        9     64         648       12       864
Route table                   :       13     56         728       13       728
Route node                    :   100030 variable  12003856   100030  12003856
Thread                        :       30    160        5040       30      5040
Thread master                 :       28 variable 117500320       28 117500320
Thread Poll Info              :       14 8388608  117497632       14 117497632
Thread stats                  :       30     96        3136       30      3136
Typed-hash bucket             :       11 variable   1053088       11   1053088
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368744    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        7  24608      172312        7    172312
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0      418    424688
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        6    144         912    22007   3345064
Nexthop Group Connected       :        5     40         200        5       200
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :    50014    152     7602144    50014   7602144
RIB destination               :    50017     88     4403272    50017   4403272
WQ wrapper                    :        0    120           0    22000   2640032
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        4   3584       14368        4     14368

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  40 MiB
  Holding block headers: 97 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  39 MiB
  Free small blocks:     2112 bytes
  Free ordinary blocks:  835 KiB
  Ordinary blocks:       4571
  Small blocks:          52
  Holding blocks:        13
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120      782   3221840
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2512     32      100816     2512    100816
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       52     40        2160       58      2400
Link Node                     :      355     24        8584      548     14672
Temporary memory              :       38 variable      1600       48      6080
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       29   1032       29928       29     29928
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        3    120         360        3       360
Route map name                :       12 variable       288       14       336
Route map index               :        3    152         456        3       456
Route map rule                :       21     40         856       21       856
Route map rule str            :       21 variable       504       21       504
Route map compiled            :       24 variable       576       24       576
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        3     16          72        3        72
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      106     56        6000      106      6000
Route node                    :        6    120         720        6       720
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       22     96        2320       22      2320
Typed-hash bucket             :       12 variable   1054152       12   1054152
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       112
BGP attribute                 :        7    328        2296        7      2296
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :   100035    192    20007048   100035  20007048
BGP route                     :    50012    136     6801680    50012   6801680
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         760        5       760
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0     4591    330600
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :    50005     96     5200616    50005   5200616
community                     :        5     40         216        6       256
community val                 :        5 variable       120        6       144
community str                 :        2   8192       16400        2     16400
extcommunity                  :        4     40         160        5       216
extcommunity val              :        4 variable        96        5       120
extcommunity str              :        4 variable       368        4       368
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        40
BGP nexthop                   :        1    184         200        1       200
BGP own address               :        2     64         144        2       144
BGP redistribution            :        1     24          24        1        24
Large Community               :        6     40         240        7       280
Large Community display string:        3     35         136        3       136
Large Community value         :        6     12         144        7       168
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for sharpd:
System allocator statistics:
  Total heap allocated:  1320 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1264 KiB
  Free small blocks:     1392 bytes
  Free ordinary blocks:  56 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     1490     72      107280     1496    107712
Command Token Text            :     1144 variable     38160     1149     38328
Command Token Help            :     1144 variable     27472     1149     27592
Command Argument              :        2 variable        48        8       192
Command Argument Name         :      405 variable      9720      409      9816
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       10      8         240       11       280
Graph Node                    :     1722     32       68976     1724     69056
Hash                          :      218 variable     10544      218     10544
Hash Bucket                   :      302     32       12144      302     12144
Hash Index                    :      109 variable     33080      110     33600
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       15     40         648       24      1008
Link Node                     :      126     24        3040      182      4416
Temporary memory              :        4 variable        96        9       296
Northbound Node               :      139   1192      165688      139    165688
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        3     56         168        3       168
Stream                        :        2  23728       47472        2     47472
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        7     96         728        7       728
Typed-hash bucket             :        1 variable        40        1        40
Vector                        :     3467     24       83384     3470     83456
Vector index                  :     3467 variable    111688     3470    111968
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        4     48         224        4       224
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem sharpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1376 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 07:36:00 2023 (#163) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show thread cpu":.:pass:BGPd heap: 7488 KiB --&gt; 40 MiB (0.6502 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.068         1       68        68       69        69         0         0          0    T    mgmt_fe_client_conn_timeout
    0          0.030         1       30        30       30        30         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.013         1       13        13       14        14         0         0          0  R      mgmt_fe_conn_accept
    0          0.251        40        6        29        6        30         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    1          0.010         1       10        10       10        10         0         0          0  R      mgmt_be_adapter_read
    0          0.021        39        0         2        1         2         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.156        40        3         8        4         8         0         0          0  R      mgmt_fe_adapter_read
    1          0.104        39        2         5        3         6         0         0          0  R      mgmt_fe_client_read
    0          0.302         1      302       302      303       303         0         0          0     E   frr_config_read_in
    0          0.084        40        2         9        2         9         0         0          0   W     mgmt_fe_client_write
    0          0.038        39        0         2        1         2         0         0          0   W     mgmt_fe_adapter_write
    1          0.413        21       19        38       20        40         0         0          0  R      vtysh_accept
    0          1.986        50       39       160       40       161         0         0          0  R      vtysh_read
    0          0.006         1        6         6        6         6         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.076         1       76        76       76        76         0         0          0  R      mgmt_be_conn_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.558       315       11       302       11       303         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         28.118        53      530      8997      531      8998         0         0          0  R      vtysh_read
    1          0.370        21       17        32       18        33         0         0          0  R      vtysh_accept
    0        146.025     11123       13     10263       14     10332         0         0          0    TE   work_queue_run
    1          0.506         4      126       182      127       183         0         0          0  R      zserv_accept
    0        306.787       489      627      2982      753      3529         0         0          0     E   rib_process_dplane_results
    0          0.993         1      993       993      994       994         0         0          0     E   frr_config_read_in
    0          0.069         2       34        51       35        52         0         0          0    T    if_zebra_speed_update
    0         63.932        62     1031      1745     1034      1745         0         0          0     E   zserv_process_messages
    1          0.039         4        9        13       10        13         0         0          0  R      kernel_read
    0          0.003         1        3         3        3         3         0         0          0    T    rib_sweep_route


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.161         1      161       161      161       161         0         0          0     E   dplane_incoming_request
    1          0.079         3       26        70       26        70         0         0          0  R      dplane_incoming_read
    0       1773.631       583     3042     17105    19619    987079         0         0          0     E   dplane_thread_loop


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.006         1        6         6        7         7         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.037         1       37        37       38        38         0         0          0  R      zserv_read
    0          0.034         2       17        29       17        30         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.284         9       31        62       32        63         0         0          0  R      zserv_read
    0         86.796      9396        9      2657       16      3499         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.032         1       32        32       33        33         0         0          0  R      zserv_read
    0          0.012         1       12        12       12        12         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1         95.428        51     1871      2166     1872      2166         0         0          0  R      zserv_read
    0         97.256     11772        8       825       13       934         0         0          0   W     zserv_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    8       2600.598     33581       77     17105      371    987079         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          1.112        48       23       129       23       129         0         0          0   W     vtysh_write
    0          0.083         2       41        59       70       117         0         0          0     E   bgp_event
    0          0.157         1      157       157      158       158         0         0          0    T    bgp_route_map_update_timer
    0          0.669        22       30       280       50       694         0         0          0     E   bgp_process_packet
    2        278.705     50027        5      3954        7      5230         0         0          0  R      zclient_read
    0          0.034         5        6        10        7        11         0         0          0    T    update_group_refresh_default_originate_route_map
    0         17.320       141      122      1478      124      1479         0         0          0    T    (bgp_generate_updgrp_packets)
    0        138.702        61     2273     31157     2986     34123         0         0          0    T    work_queue_run
    0          0.055         2       27        42       28        43         0         0          0     E   zclient_connect
    0         64.411        61     1055     60749     1056     60749         0         0          0  R      vtysh_read
    0          0.002         2        1         1        2         2         0         0          0    T    (bgp_routeadv_timer)
    0          0.016         1       16        16       17        17         0         0          0    T    subgroup_coalesce_timer
    1          0.331        21       15        36       16        36         0         0          0  R      vtysh_accept
    2          0.093         1       93        93      176       176         0         0          0  R      bgp_accept
    0         16.053         1    16053     16053    16052     16052         0         0          0     E   frr_config_read_in


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          3.475        81       42        93       43        94         0         0          0   W     bgp_process_writes
    1          0.512        22       23        46       24        48         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6        521.730     50499       10     60749       12     60749         0         0          0  RWTEX  TOTAL

Thread statistics for sharpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1         95.237     50017        1        50        2      1194         0         0          0  R      zclient_read
    1          0.350        21       16        33       17        34         0         0          0  R      vtysh_accept
    0          0.049         1       49        49       49        49         0         0          0     E   frr_config_read_in
    0         58.501         5    11700     20661    13136     24980         0         0          0   W     zclient_flush_data
    0          0.053         1       53        53       54        54         0         0          0     E   zclient_connect
    0         11.628        51      228      9691      228      9692         0         0          0  R      vtysh_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2        165.818     50096        3     20661        4     24980         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.066         1       66        66       67        67         0         0          0     E   zclient_connect
    0          1.898        50       37       142       38       143         0         0          0  R      vtysh_read
    0          0.005         1        5         5        5         5         0         0          0   W     mgmt_be_client_write
    1          0.353        21       16        61       17        61         0         0          0  R      vtysh_accept
    1          0.059        17        3        11        4        11         0         0          0  R      zclient_read
    0          0.060         1       60        60       61        61         0         0          0    T    mgmt_be_client_conn_timeout


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.441        91       26       142       27       143         0         0          0  RWTEX  TOTAL:
R:163  ce1    BGPd heap: 7488 KiB --&gt; 40 MiB (0.6502 KiB/vpn route)    1    0
Tue Oct 31 07:36:00 2023 (#164) scripts/scale_up.py:0 COMMAND:ce1:vtysh -c "show thread cpu":.:pass:Zebra heap: 5200 KiB --&gt; 35 MiB (0.596 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.068         1       68        68       69        69         0         0          0    T    mgmt_fe_client_conn_timeout
    0          0.030         1       30        30       30        30         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.013         1       13        13       14        14         0         0          0  R      mgmt_fe_conn_accept
    0          0.258        42        6        29        6        30         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    1          0.010         1       10        10       10        10         0         0          0  R      mgmt_be_adapter_read
    0          0.021        41        0         2        1         2         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.162        42        3         8        4         8         0         0          0  R      mgmt_fe_adapter_read
    1          0.108        41        2         5        3         6         0         0          0  R      mgmt_fe_client_read
    0          0.302         1      302       302      303       303         0         0          0     E   frr_config_read_in
    0          0.087        42        2         9        2         9         0         0          0   W     mgmt_fe_client_write
    0          0.040        41        0         2        1         2         0         0          0   W     mgmt_fe_adapter_write
    1          0.424        22       19        38       20        40         0         0          0  R      vtysh_accept
    0          2.097        53       39       160       40       161         0         0          0  R      vtysh_read
    0          0.006         1        6         6        6         6         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.076         1       76        76       76        76         0         0          0  R      mgmt_be_conn_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.702       331       11       302       11       303         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         28.297        56      505      8997      506      8998         0         0          0  R      vtysh_read
    1          0.380        22       17        32       18        33         0         0          0  R      vtysh_accept
    0        146.025     11123       13     10263       14     10332         0         0          0    TE   work_queue_run
    1          0.506         4      126       182      127       183         0         0          0  R      zserv_accept
    0        306.787       489      627      2982      753      3529         0         0          0     E   rib_process_dplane_results
    0          0.993         1      993       993      994       994         0         0          0     E   frr_config_read_in
    0          0.069         2       34        51       35        52         0         0          0    T    if_zebra_speed_update
    0         63.932        62     1031      1745     1034      1745         0         0          0     E   zserv_process_messages
    1          0.039         4        9        13       10        13         0         0          0  R      kernel_read
    0          0.003         1        3         3        3         3         0         0          0    T    rib_sweep_route


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.161         1      161       161      161       161         0         0          0     E   dplane_incoming_request
    1          0.079         3       26        70       26        70         0         0          0  R      dplane_incoming_read
    0       1773.631       583     3042     17105    19619    987079         0         0          0     E   dplane_thread_loop


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.006         1        6         6        7         7         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.037         1       37        37       38        38         0         0          0  R      zserv_read
    0          0.034         2       17        29       17        30         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.284         9       31        62       32        63         0         0          0  R      zserv_read
    0         86.796      9396        9      2657       16      3499         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.032         1       32        32       33        33         0         0          0  R      zserv_read
    0          0.012         1       12        12       12        12         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1         95.428        51     1871      2166     1872      2166         0         0          0  R      zserv_read
    0         97.256     11772        8       825       13       934         0         0          0   W     zserv_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    8       2600.787     33585       77     17105      371    987079         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          1.112        48       23       129       23       129         0         0          0   W     vtysh_write
    0          0.083         2       41        59       70       117         0         0          0     E   bgp_event
    0          0.157         1      157       157      158       158         0         0          0    T    bgp_route_map_update_timer
    0          0.669        22       30       280       50       694         0         0          0     E   bgp_process_packet
    2        278.705     50027        5      3954        7      5230         0         0          0  R      zclient_read
    0          0.034         5        6        10        7        11         0         0          0    T    update_group_refresh_default_originate_route_map
    0         17.320       141      122      1478      124      1479         0         0          0    T    (bgp_generate_updgrp_packets)
    0        138.702        61     2273     31157     2986     34123         0         0          0    T    work_queue_run
    0          0.055         2       27        42       28        43         0         0          0     E   zclient_connect
    0         64.525        64     1008     60749     1008     60749         0         0          0  R      vtysh_read
    0          0.002         2        1         1        2         2         0         0          0    T    (bgp_routeadv_timer)
    0          0.016         1       16        16       17        17         0         0          0    T    subgroup_coalesce_timer
    1          0.340        22       15        36       16        36         0         0          0  R      vtysh_accept
    2          0.093         1       93        93      176       176         0         0          0  R      bgp_accept
    0         16.053         1    16053     16053    16052     16052         0         0          0     E   frr_config_read_in


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          3.475        81       42        93       43        94         0         0          0   W     bgp_process_writes
    1          0.512        22       23        46       24        48         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6        521.853     50503       10     60749       12     60749         0         0          0  RWTEX  TOTAL

Thread statistics for sharpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1         95.237     50017        1        50        2      1194         0         0          0  R      zclient_read
    1          0.367        22       16        33       17        34         0         0          0  R      vtysh_accept
    0          0.049         1       49        49       49        49         0         0          0     E   frr_config_read_in
    0         58.501         5    11700     20661    13136     24980         0         0          0   W     zclient_flush_data
    0          0.053         1       53        53       54        54         0         0          0     E   zclient_connect
    0         11.733        54      217      9691      217      9692         0         0          0  R      vtysh_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2        165.940     50100        3     20661        4     24980         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.066         1       66        66       67        67         0         0          0     E   zclient_connect
    0          1.993        53       37       142       38       143         0         0          0  R      vtysh_read
    0          0.005         1        5         5        5         5         0         0          0   W     mgmt_be_client_write
    1          0.362        22       16        61       17        61         0         0          0  R      vtysh_accept
    1          0.059        17        3        11        4        11         0         0          0  R      zclient_read
    0          0.060         1       60        60       61        61         0         0          0    T    mgmt_be_client_conn_timeout


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.545        95       26       142       27       143         0         0          0  RWTEX  TOTAL:
R:164  ce1    Zebra heap: 5200 KiB --&gt; 35 MiB (0.596 KiB/vpn route)    1    0
Tue Oct 31 07:36:00 2023 (#165) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  32 MiB
  Holding block headers: 225 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  29 MiB
  Free small blocks:     3568 bytes
  Free ordinary blocks:  3646 KiB
  Ordinary blocks:       49695
  Small blocks:          85
  Holding blocks:        29
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        6     24         144        6       160
Buffer data                   :        1   4120        4120       14     57680
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4956    356928
Command Token Text            :     3541 variable    117880     3545    117960
Command Token Help            :     3541 variable     85048     3545     85144
Command Argument              :        2 variable        48        6       144
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        6    128         816        6       816
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       12 variable       960       12       960
POSIX sync primitives         :       12 variable       592       12       592
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      952 variable     46384      952     46384
Hash Bucket                   :     1039     32       41720     1043     41880
Hash Index                    :      476 variable    134144      476    134144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       41     40        1704       47      2024
Link Node                     :      524     24       12640    49209   1181912
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        6    144         912    20733   3151416
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        56
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        8 variable    189888    11584  18052944
Stream FIFO                   :        9     64         648       12       864
Route table                   :       13     56         728       13       728
Route node                    :   100030 variable  12003808   100030  12003808
Thread                        :       30    160        5040       30      5040
Thread master                 :       28 variable 117500320       28 117500320
Thread Poll Info              :       14 8388608  117497632       14 117497632
Thread stats                  :       30     96        3136       30      3136
Typed-hash bucket             :       11 variable   1053088       11   1053088
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368744    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        7  24608      172312        7    172312
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0      433    439928
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        6    144         912    20431   3105512
Nexthop Group Connected       :        5     40         200        5       200
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :    50014    152     7602144    64985   9877736
RIB destination               :    50017     88     4402408    50017   4402408
WQ wrapper                    :        0    120           0    20424   2450912
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        4   3584       14368        4     14368

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  40 MiB
  Holding block headers: 97 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  39 MiB
  Free small blocks:     1856 bytes
  Free ordinary blocks:  1378 KiB
  Ordinary blocks:       14913
  Small blocks:          54
  Holding blocks:        13
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120      782   3221840
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2513     32      100872     2517    101048
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       52     40        2128       58      2368
Link Node                     :      355     24        8568      548     13280
Temporary memory              :       38 variable      1600       48      6080
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       29   1032       29928       29     29928
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        3    120         360        3       360
Route map name                :       12 variable       288       14       336
Route map index               :        3    152         472        3       472
Route map rule                :       21     40         872       21       872
Route map rule str            :       21 variable       504       21       504
Route map compiled            :       24 variable       576       24       576
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        3     16          72        3        72
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       720
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      106     56        6000      106      6000
Route node                    :        6    120         736        6       736
Thread                        :       19    160        3208       19      3208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       22     96        2304       22      2304
Typed-hash bucket             :       12 variable   1054152       12   1054152
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        1        24
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       128
BGP attribute                 :        8    328        2624        9      2952
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :   100035    192    20007048   100035  20007048
BGP route                     :    50015    136     6802104    54695   7438584
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         760        5       760
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0     4789    344904
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :    50005     96     5200616    50005   5200616
community                     :        5     40         216        7       312
community val                 :        5 variable       120        7       168
community str                 :        2   8192       16400        3     24600
extcommunity                  :        4     40         160        6       272
extcommunity val              :        4 variable        96        6       144
extcommunity str              :        4 variable       352        5       488
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        1        56
BGP nexthop                   :        1    184         184        1       184
BGP own address               :        2     64         144        2       144
BGP redistribution            :        1     24          24        1        24
Large Community               :        6     40         256        8       352
Large Community display string:        3     35         136        4       192
Large Community value         :        6     12         144        8       192
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for sharpd:
System allocator statistics:
  Total heap allocated:  1320 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1264 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  56 KiB
  Ordinary blocks:       3
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     1490     72      107280     1496    107712
Command Token Text            :     1144 variable     38160     1149     38328
Command Token Help            :     1144 variable     27472     1149     27592
Command Argument              :        2 variable        48        8       192
Command Argument Name         :      405 variable      9720      409      9816
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       10      8         240       11       280
Graph Node                    :     1722     32       68976     1724     69056
Hash                          :      218 variable     10544      218     10544
Hash Bucket                   :      302     32       12144      302     12144
Hash Index                    :      109 variable     33080      110     33600
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       15     40         664       24      1008
Link Node                     :      126     24        3040      182      4400
Temporary memory              :        4 variable        96        9       296
Northbound Node               :      139   1192      165688      139    165688
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        3     56         168        3       168
Stream                        :        2  23728       47472        2     47472
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        7     96         728        7       728
Typed-hash bucket             :        1 variable        40        1        40
Vector                        :     3467     24       83384     3470     83456
Vector index                  :     3467 variable    111672     3470    111968
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        4     48         224        4       224
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem sharpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 07:36:00 2023 (#165) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show thread cpu":.:pass:BGPd heap: 7484 KiB --&gt; 40 MiB (0.6503 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.045         1       45        45       46        46         0         0          0  R      mgmt_be_conn_accept
    0          0.364         1      364       364      365       365         0         0          0     E   frr_config_read_in
    1          0.453        19       23        57       24        58         0         0          0  R      vtysh_accept
    1          0.156        36        4         8        4         8         0         0          0  R      mgmt_fe_adapter_read
    0          0.080        36        2         6        2         7         0         0          0   W     mgmt_fe_client_write
    0          0.033         1       33        33       33        33         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.013         1       13        13       13        13         0         0          0  R      mgmt_fe_conn_accept
    0          0.059         1       59        59       60        60         0         0          0    T    mgmt_fe_client_conn_timeout
    0          1.894        45       42       182     2712    120308         0         0          0  R      vtysh_read
    0          0.027        35        0         3        1         3         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.006         1        6         6        7         7         0         0          0  R      mgmt_be_adapter_read
    0          0.283        36        7        35        8        35         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.003         1        3         3        4         4         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          0.038        35        1         2        1         2         0         0          0   W     mgmt_fe_adapter_write
    1          0.101        35        2         6        3         6         0         0          0  R      mgmt_fe_client_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.555       284       12       364      436    120308         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          1.051         1     1051      1051     1052      1052         0         0          0     E   frr_config_read_in
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route
    0         12.492        46      271      8648      386      8717         0         0          0  R      vtysh_read
    1          0.542         4      135       157      135       158         0         0          0  R      zserv_accept
    0          0.134         2       67        99       68       101         0         0          0    T    if_zebra_speed_update
    1          0.393        19       20        88       21        90         0         0          0  R      vtysh_accept
    0        240.290     11886       20     12175       21     12255         0         0          0    TE   work_queue_run
    0        351.971       491      716      3434      848      3893         0         0          0     E   rib_process_dplane_results
    0        158.042      9192       17      1597       17      1646         0         0          0     E   zserv_process_messages
    1          0.076         4       19        39       20        40         0         0          0  R      kernel_read


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.109         3       36       101       46       130         0         0          0  R      dplane_incoming_read
    0          0.106         1      106       106      106       106         0         0          0     E   dplane_incoming_request
    0       1732.432       624     2776     52509    19692    987391         0         0          0     E   dplane_thread_loop


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.011         1       11        11       13        13         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.030         2       15        26       19        34         0         0          0   W     zserv_write
    1          0.031         1       31        31       32        32         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         87.897     11514        7       474       15      1111         0         0          0   W     zserv_write
    1        226.682     13746       16      2020       17      4433         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.012         1       12        12       12        12         0         0          0   W     zserv_write
    1          0.028         1       28        28       29        29         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         93.704     14139        6       689       10       919         0         0          0   W     zserv_write
    1        100.530        76     1322      2291     1323      2292         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    8       3006.566     61755       48     52509      223    987391         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.135         2       67        92      375       707         0         0          0     E   bgp_event
    0          0.002         2        1         1        1         1         0         0          0    T    (bgp_routeadv_timer)
    0          0.122         1      122       122      123       123         0         0          0    T    bgp_route_map_update_timer
    0         75.983       108      703     10962      708     10970         0         0          0     E   bgp_process_packet
    0          1.220        48       25       163       26       163         0         0          0   W     vtysh_write
    0        343.415       114     3012     24571     3036     24592         0         0          0    T    work_queue_run
    0         19.267       157      122      1943      129      2844         0         0          0    T    (bgp_generate_updgrp_packets)
    0          0.038         6        6         8        6         8         0         0          0    T    update_group_refresh_default_originate_route_map
    2        265.072     51838        5      1928        5      1935         0         0          0  R      zclient_read
    1          0.402        19       21        71       21        71         0         0          0  R      vtysh_accept
    0         16.398         1    16398     16398    16399     16399         0         0          0     E   frr_config_read_in
    2          0.192         1      192       192      193       193         0         0          0  R      bgp_accept
    0          0.065         2       32        48       33        48         0         0          0     E   zclient_connect
    0         64.675        57     1134     60624     1135     60622         0         0          0  R      vtysh_read
    0          0.011         1       11        11       12        12         0         0          0    T    subgroup_coalesce_timer


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          3.316       111       29       106       30       107         0         0          0  R      bgp_process_reads
    0          4.627        88       52       161       53       162         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6        794.940     52556       15     60624       15     60622         0         0          0  RWTEX  TOTAL

Thread statistics for sharpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         13.723        46      298     11871      298     11872         0         0          0  R      vtysh_read
    0          0.053         1       53        53       54        54         0         0          0     E   zclient_connect
    0         66.214         7     9459     18259     9743     20173         0         0          0   W     zclient_flush_data
    1        128.281     51828        2      1891        3      5000         0         0          0  R      zclient_read
    1          0.323        19       17        41       17        42         0         0          0  R      vtysh_accept
    0          0.035         1       35        35       35        35         0         0          0     E   frr_config_read_in


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2        208.629     51902        4     18259        4     20173         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          1.917        45       42       187       43       187         0         0          0  R      vtysh_read
    0          0.063         1       63        63       64        64         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.006         1        6         6        6         6         0         0          0   W     mgmt_be_client_write
    1          0.074        17        4        18        4        18         0         0          0  R      zclient_read
    0          0.079         1       79        79       81        81         0         0          0     E   zclient_connect
    1          0.438        19       23        78       24        79         0         0          0  R      vtysh_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.577        84       30       187       31       187         0         0          0  RWTEX  TOTAL:
R:165  ce2    BGPd heap: 7484 KiB --&gt; 40 MiB (0.6503 KiB/vpn route)    1    0
Tue Oct 31 07:36:00 2023 (#166) scripts/scale_up.py:0 COMMAND:ce2:vtysh -c "show thread cpu":.:pass:Zebra heap: 5340 KiB --&gt; 32 MiB (0.5332 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.045         1       45        45       46        46         0         0          0  R      mgmt_be_conn_accept
    0          0.364         1      364       364      365       365         0         0          0     E   frr_config_read_in
    1          0.463        20       23        57       24        58         0         0          0  R      vtysh_accept
    1          0.162        38        4         8        4         8         0         0          0  R      mgmt_fe_adapter_read
    0          0.082        38        2         6        2         7         0         0          0   W     mgmt_fe_client_write
    0          0.033         1       33        33       33        33         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.013         1       13        13       13        13         0         0          0  R      mgmt_fe_conn_accept
    0          0.059         1       59        59       60        60         0         0          0    T    mgmt_fe_client_conn_timeout
    0          2.004        48       41       182     2545    120308         0         0          0  R      vtysh_read
    0          0.027        37        0         3        1         3         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.006         1        6         6        7         7         0         0          0  R      mgmt_be_adapter_read
    0          0.290        38        7        35        8        35         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.003         1        3         3        4         4         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          0.040        37        1         2        1         2         0         0          0   W     mgmt_fe_adapter_write
    1          0.105        37        2         6        3         6         0         0          0  R      mgmt_fe_client_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.696       300       12       364      413    120308         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          1.051         1     1051      1051     1052      1052         0         0          0     E   frr_config_read_in
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route
    0         12.630        49      257      8648      365      8717         0         0          0  R      vtysh_read
    1          0.542         4      135       157      135       158         0         0          0  R      zserv_accept
    0          0.134         2       67        99       68       101         0         0          0    T    if_zebra_speed_update
    1          0.404        20       20        88       20        90         0         0          0  R      vtysh_accept
    0        240.290     11886       20     12175       21     12255         0         0          0    TE   work_queue_run
    0        351.971       491      716      3434      848      3893         0         0          0     E   rib_process_dplane_results
    0        158.042      9192       17      1597       17      1646         0         0          0     E   zserv_process_messages
    1          0.076         4       19        39       20        40         0         0          0  R      kernel_read


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.109         3       36       101       46       130         0         0          0  R      dplane_incoming_read
    0          0.106         1      106       106      106       106         0         0          0     E   dplane_incoming_request
    0       1732.432       624     2776     52509    19692    987391         0         0          0     E   dplane_thread_loop


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.011         1       11        11       13        13         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.030         2       15        26       19        34         0         0          0   W     zserv_write
    1          0.031         1       31        31       32        32         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         87.897     11514        7       474       15      1111         0         0          0   W     zserv_write
    1        226.682     13746       16      2020       17      4433         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.012         1       12        12       12        12         0         0          0   W     zserv_write
    1          0.028         1       28        28       29        29         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         93.704     14139        6       689       10       919         0         0          0   W     zserv_write
    1        100.530        76     1322      2291     1323      2292         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    8       3006.715     61759       48     52509      223    987391         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.135         2       67        92      375       707         0         0          0     E   bgp_event
    0          0.002         2        1         1        1         1         0         0          0    T    (bgp_routeadv_timer)
    0          0.122         1      122       122      123       123         0         0          0    T    bgp_route_map_update_timer
    0         75.983       108      703     10962      708     10970         0         0          0     E   bgp_process_packet
    0          1.220        48       25       163       26       163         0         0          0   W     vtysh_write
    0        343.415       114     3012     24571     3036     24592         0         0          0    T    work_queue_run
    0         19.267       157      122      1943      129      2844         0         0          0    T    (bgp_generate_updgrp_packets)
    0          0.038         6        6         8        6         8         0         0          0    T    update_group_refresh_default_originate_route_map
    2        265.072     51838        5      1928        5      1935         0         0          0  R      zclient_read
    1          0.411        20       20        71       21        71         0         0          0  R      vtysh_accept
    0         16.398         1    16398     16398    16399     16399         0         0          0     E   frr_config_read_in
    2          0.192         1      192       192      193       193         0         0          0  R      bgp_accept
    0          0.065         2       32        48       33        48         0         0          0     E   zclient_connect
    0         64.810        60     1080     60624     1080     60622         0         0          0  R      vtysh_read
    0          0.011         1       11        11       12        12         0         0          0    T    subgroup_coalesce_timer


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          3.316       111       29       106       30       107         0         0          0  R      bgp_process_reads
    0          4.627        88       52       161       53       162         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6        795.084     52560       15     60624       15     60622         0         0          0  RWTEX  TOTAL

Thread statistics for sharpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0         13.822        49      282     11871      282     11872         0         0          0  R      vtysh_read
    0          0.053         1       53        53       54        54         0         0          0     E   zclient_connect
    0         66.214         7     9459     18259     9743     20173         0         0          0   W     zclient_flush_data
    1        128.281     51828        2      1891        3      5000         0         0          0  R      zclient_read
    1          0.330        20       16        41       17        42         0         0          0  R      vtysh_accept
    0          0.035         1       35        35       35        35         0         0          0     E   frr_config_read_in


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2        208.735     51906        4     18259        4     20173         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          2.007        48       41       187       42       187         0         0          0  R      vtysh_read
    0          0.063         1       63        63       64        64         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.006         1        6         6        6         6         0         0          0   W     mgmt_be_client_write
    1          0.074        17        4        18        4        18         0         0          0  R      zclient_read
    0          0.079         1       79        79       81        81         0         0          0     E   zclient_connect
    1          0.446        20       22        78       23        79         0         0          0  R      vtysh_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.675        88       30       187       31       187         0         0          0  RWTEX  TOTAL:
R:166  ce2    Zebra heap: 5340 KiB --&gt; 32 MiB (0.5332 KiB/vpn route)   1    0
Tue Oct 31 07:36:00 2023 (#167) scripts/scale_up.py:0 COMMAND:ce3:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1764 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  135 KiB
  Ordinary blocks:       4
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       12     28864
MGMTD Frontend session        :        1     40          40        1        56
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  37 MiB
  Holding block headers: 193 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  29 MiB
  Free small blocks:     183 KiB
  Free ordinary blocks:  8641 KiB
  Ordinary blocks:       72888
  Small blocks:          1995
  Holding blocks:        25
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        5     24         120        5       136
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     4952     72      356640     4955    356856
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        5    128         680        5       680
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       10 variable       800       10       800
POSIX sync primitives         :       10 variable       496       10       496
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :      746 variable     36432      746     36432
Hash Bucket                   :     1032     32       41456     1034     41536
Hash Index                    :      373 variable    107144      373    107144
Interface                     :        2    272         560        2       560
Intf Desc                     :        1      6          24        1        24
Connected                     :        3     48         168        4       224
Link List                     :       40     40        1680       43      1848
Link Node                     :      418     24       10128    21741    521880
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :        5    144         760    14883   2262216
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        56
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        3     56         168        4       224
Privilege information         :        4 variable       160        4       160
Stream                        :        6 variable    142416     1938    312432
Stream FIFO                   :        7     64         504        9       648
Route table                   :       13     56         728       13       728
Route node                    :   100030 variable  12003712   100030  12003712
Thread                        :       27    160        4536       27      4536
Thread master                 :       24 variable 100714560       24 100714560
Thread Poll Info              :       12 8388608  100712256       12 100712256
Thread stats                  :       27     96        2824       27      2824
Typed-hash bucket             :       11 variable   1053088       11   1053088
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368744    11634    369072
VRF                           :        1    216         216        1       216
VRF bit-map                   :        2      8          48        2        48
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        1        24
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        6  24608      147696        6    147696
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     76         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        2    608        1232        2      1232
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0      523    531368
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
Nexthop Group Entry           :        5    144         776    14581   2216328
Nexthop Group Connected       :        4     40         176        4       176
Zebra Name Space              :        1    480         488        1       488
PTM BFD process registration table.:        1     32          40        1        40
Route Entry                   :    50014    152     7602128    57575   8751400
RIB destination               :    50017     88     4401640    50017   4401640
WQ wrapper                    :        0    120           0    14575   1749000
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        1    248         248        1       248
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        1     80          88        1        88
ZClients                      :        3   3584       10776        3     10776

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  34 MiB
  Holding block headers: 97 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  33 MiB
  Free small blocks:     1952 bytes
  Free ordinary blocks:  478 KiB
  Ordinary blocks:       8
  Small blocks:          52
  Holding blocks:        13
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        5       120
Buffer data                   :        1 variable      4120      782   3221840
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325944
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
Access List                   :        1     56          56        1        56
Access List Str               :        1      7          24        1        24
Access Filter                 :        1    112         120        1       120
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      579 variable     28424      579     28424
Hash Bucket                   :     2502     32      100416     2505    100552
Hash Index                    :      290 variable    435056      291    435192
Interface                     :        2    272         576        2       576
Connected                     :        3     48         168        3       168
Link List                     :       49     40        2008       55      2264
Link Node                     :      352     24        8496      545     13320
Temporary memory              :       31 variable      1208       41      5688
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        1    144         152        1       152
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:       20   1032       20640       20     20640
Prefix                        :        3     56         168        3       168
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        4 variable    196704        6    295056
Route map                     :        2    120         240        2       240
Route map name                :        9 variable       216       11       264
Route map index               :        2    152         320        2       320
Route map rule                :       14     40         560       14       560
Route map rule str            :       14 variable       336       14       336
Route map compiled            :       16 variable       384       16       384
Route map dependency          :        1     24          24        1        24
Route map dependency data     :        2     16          48        2        48
Skip List                     :        2     56         128        2       128
Skip Node                     :        2    160         336        2       336
Skiplist Counters             :        2     68         144        2       144
Socket union                  :        3    112         360        6       736
Stream                        :        7 variable    293720       10    359400
Stream FIFO                   :        4     64         288        6       432
Route table                   :      104     56        5888      104      5888
Route node                    :        4    120         480        4       480
Thread                        :       19    160        3224       19      3224
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       23     96        2424       23      2424
Typed-hash bucket             :       10 variable   1054104       10   1054104
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        2        48
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     75         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        1     24          24        1        24
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        2     16          48        2        48
Mac Hash Entry Intf String    :        2 variable        48        3        72
BGP instance                  :        4 variable     10768        4     10768
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        3  20864       62616        4     83488
BGP peer hostname             :        5 variable       120        7       168
BGP peer af                   :        1     80          88        2       176
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        1       248
BGP packet                    :        1     56          56        2       112
BGP attribute                 :        8    328        2624        9      2952
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       87     56        4920       87      4920
BGP node                      :   100035    192    20007064   100035  20007064
BGP route                     :    50013    136     6801800    50013   6801800
BGP connected                 :        2      4          48        2        48
BGP static                    :        5    152         776        5       776
BGP adv attr                  :        0     24           0        2        48
BGP adv                       :        0     64           0        4       288
BGP synchronise               :        1     48          56        1        56
BGP adj out                   :        5     96         536        5       536
community                     :        4     40         160        6       240
community val                 :        4 variable        96        6       144
community str                 :        2   8192       16400        3     24600
extcommunity                  :        4     40         176        6       256
extcommunity val              :        4 variable        96        6       144
extcommunity str              :        4 variable       416        5       552
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        2        80
BGP nexthop                   :        1    184         184        1       184
BGP own address               :        2     64         144        2       144
Large Community               :        5     40         200        7       296
Large Community display string:        3     35         152        4       192
Large Community value         :        5     12         120        7       168
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        1     34          40        1        40
BGP Martian Addr Intf String  :        2 variable        48        2        48
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        2      4          48        2        48
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1368 KiB
  Free small blocks:     1424 bytes
  Free ordinary blocks:  96 KiB
  Ordinary blocks:       2
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        2    272         560        2       560
Connected                     :        3     48         168        3       168
Link List                     :       13     40         568       18       768
Link Node                     :      126     24        3056      178      4336
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        3     56         168        3       168
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        40        1        40
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109064     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     78         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 07:36:00 2023 (#167) scripts/scale_up.py:0 COMMAND:ce3:vtysh -c "show thread cpu":.:pass:BGPd heap: 7464 KiB --&gt; 34 MiB (0.5307 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.032        29        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    0          0.028         1       28        28       28        28         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.080        29        2         5        3         6         0         0          0  R      mgmt_fe_client_read
    0          0.342         1      342       342      343       343         0         0          0     E   frr_config_read_in
    0          0.003         1        3         3        3         3         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.005         1        5         5        6         6         0         0          0  R      mgmt_be_adapter_read
    1          0.041         1       41        41       41        41         0         0          0  R      mgmt_be_conn_accept
    1          0.125        30        4        10        4        11         0         0          0  R      mgmt_fe_adapter_read
    0          0.063        30        2         7        2         7         0         0          0   W     mgmt_fe_client_write
    0          0.020        29        0         3        1         3         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          0.196        30        6        20        6        21         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    1          0.009         1        9         9       10        10         0         0          0  R      mgmt_fe_conn_accept
    0          0.047         1       47        47       48        48         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.381        17       22        62       23        63         0         0          0  R      vtysh_accept
    0          1.741        41       42       191       43       192         0         0          0  R      vtysh_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.113       242       12       342       13       343         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        231.626      8952       25     37196       28     45459         0         0          0     E   zserv_process_messages
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route
    1          0.376         3      125       145      126       146         0         0          0  R      zserv_accept
    0        314.808     12100       26     34027       28     39687         0         0          0    TE   work_queue_run
    0          0.076         2       38        58       39        60         0         0          0    T    if_zebra_speed_update
    0        150.924       720      209     31593      222     36506         0         0          0     E   rib_process_dplane_results
    1          0.050         4       12        16       13        17         0         0          0  R      kernel_read
    0          7.959        41      194      6138      194      6144         0         0          0  R      vtysh_read
    1          0.354        17       20       112       21       113         0         0          0  R      vtysh_accept
    0          1.020         1     1020      1020     1021      1021         0         0          0     E   frr_config_read_in


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.066         3       22        55       22        56         0         0          0  R      dplane_incoming_read
    0       1779.037       768     2316     12941    16364    986656         0         0          0     E   dplane_thread_loop
    0          0.172         1      172       172      173       173         0         0          0     E   dplane_incoming_request


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.004         1        4         4        4         4         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.031         2       15        27       22        40         0         0          0   W     zserv_write
    1          0.036         1       36        36       38        38         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.026         3        8        12        9        13         0         0          0   W     zserv_write
    1        268.688     10142       26     44148       28     51550         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.017         1       17        17       18        18         0         0          0   W     zserv_write
    1          0.053         1       53        53       56        56         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    7       2755.326     32764       84     44148      415    986656         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    2          0.103         1      103       103      103       103         0         0          0  R      bgp_accept
    0          0.002         2        1         1        1         2         0         0          0    T    (bgp_routeadv_timer)
    1          0.288        17       16        28       17        29         0         0          0  R      vtysh_accept
    0          0.010         1       10        10       10        10         0         0          0    T    subgroup_coalesce_timer
    0          0.073        27        2        21        3        22         0         0          0    T    (bgp_generate_updgrp_packets)
    2          0.109        27        4        16        4        17         0         0          0  R      zclient_read
    0        130.250        83     1569     16245     1876     31846         0         0          0     E   bgp_process_packet
    0          0.271        11       24        50       97       789         0         0          0   W     zclient_flush_data
    0          0.069         1       69        69       70        70         0         0          0    T    bgp_route_map_update_timer
    0          8.443         1     8443      8443     8443      8443         0         0          0     E   frr_config_read_in
    0        259.238        62     4181     32649     6288     42254         0         0          0    T    work_queue_run
    0          0.080         2       40        46       74       114         0         0          0     E   bgp_event
    0          1.207        48       25       133       25       134         0         0          0   W     vtysh_write
    0          0.036         6        6        10        6        12         0         0          0    T    update_group_refresh_default_originate_route_map
    0          0.053         2       26        43       28        45         0         0          0     E   zclient_connect
    0         63.792        53     1203     60313     1205     60387         0         0          0  R      vtysh_read


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          1.830        84       21        54       22        55         0         0          0  R      bgp_process_reads
    0          0.845        23       36        80       37        80         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6        466.699       451     1034     60313     1383     60387         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.055         1       55        55       55        55         0         0          0    T    mgmt_be_client_conn_timeout
    1          0.067        17        3        12        4        13         0         0          0  R      zclient_read
    0          1.709        41       41       165       42       165         0         0          0  R      vtysh_read
    0          0.081         1       81        81       82        82         0         0          0     E   zclient_connect
    0          0.006         1        6         6        7         7         0         0          0   W     mgmt_be_client_write
    1          0.326        17       19        52       20        54         0         0          0  R      vtysh_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.244        78       28       165       29       165         0         0          0  RWTEX  TOTAL:
R:167  ce3    BGPd heap: 7464 KiB --&gt; 34 MiB (0.5307 KiB/vpn route)    1    0
Tue Oct 31 07:36:00 2023 (#168) scripts/scale_up.py:0 COMMAND:ce3:vtysh -c "show thread cpu":.:pass:Zebra heap: 4928 KiB --&gt; 37 MiB (0.6414 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.034        31        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    0          0.028         1       28        28       28        28         0         0          0    T    mgmt_be_adapter_conn_init
    1          0.084        31        2         5        3         6         0         0          0  R      mgmt_fe_client_read
    0          0.342         1      342       342      343       343         0         0          0     E   frr_config_read_in
    0          0.003         1        3         3        3         3         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.005         1        5         5        6         6         0         0          0  R      mgmt_be_adapter_read
    1          0.041         1       41        41       41        41         0         0          0  R      mgmt_be_conn_accept
    1          0.131        32        4        10        4        11         0         0          0  R      mgmt_fe_adapter_read
    0          0.066        32        2         7        2         7         0         0          0   W     mgmt_fe_client_write
    0          0.020        31        0         3        1         3         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          0.203        32        6        20        6        21         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    1          0.009         1        9         9       10        10         0         0          0  R      mgmt_fe_conn_accept
    0          0.047         1       47        47       48        48         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.391        18       21        62       22        63         0         0          0  R      vtysh_accept
    0          1.853        44       42       191       42       192         0         0          0  R      vtysh_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.257       258       12       342       13       343         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        231.626      8952       25     37196       28     45459         0         0          0     E   zserv_process_messages
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route
    1          0.376         3      125       145      126       146         0         0          0  R      zserv_accept
    0        314.808     12100       26     34027       28     39687         0         0          0    TE   work_queue_run
    0          0.076         2       38        58       39        60         0         0          0    T    if_zebra_speed_update
    0        150.924       720      209     31593      222     36506         0         0          0     E   rib_process_dplane_results
    1          0.050         4       12        16       13        17         0         0          0  R      kernel_read
    0          8.115        44      184      6138      185      6144         0         0          0  R      vtysh_read
    1          0.363        18       20       112       21       113         0         0          0  R      vtysh_accept
    0          1.020         1     1020      1020     1021      1021         0         0          0     E   frr_config_read_in


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.066         3       22        55       22        56         0         0          0  R      dplane_incoming_read
    0       1779.037       768     2316     12941    16364    986656         0         0          0     E   dplane_thread_loop
    0          0.172         1      172       172      173       173         0         0          0     E   dplane_incoming_request


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.004         1        4         4        4         4         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.031         2       15        27       22        40         0         0          0   W     zserv_write
    1          0.036         1       36        36       38        38         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.026         3        8        12        9        13         0         0          0   W     zserv_write
    1        268.688     10142       26     44148       28     51550         0         0          0  R      zserv_read


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.017         1       17        17       18        18         0         0          0   W     zserv_write
    1          0.053         1       53        53       56        56         0         0          0  R      zserv_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    7       2755.491     32768       84     44148      415    986656         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    2          0.103         1      103       103      103       103         0         0          0  R      bgp_accept
    0          0.002         2        1         1        1         2         0         0          0    T    (bgp_routeadv_timer)
    1          0.303        18       16        28       17        29         0         0          0  R      vtysh_accept
    0          0.010         1       10        10       10        10         0         0          0    T    subgroup_coalesce_timer
    0          0.073        27        2        21        3        22         0         0          0    T    (bgp_generate_updgrp_packets)
    2          0.109        27        4        16        4        17         0         0          0  R      zclient_read
    0        130.250        83     1569     16245     1876     31846         0         0          0     E   bgp_process_packet
    0          0.271        11       24        50       97       789         0         0          0   W     zclient_flush_data
    0          0.069         1       69        69       70        70         0         0          0    T    bgp_route_map_update_timer
    0          8.443         1     8443      8443     8443      8443         0         0          0     E   frr_config_read_in
    0        259.238        62     4181     32649     6288     42254         0         0          0    T    work_queue_run
    0          0.080         2       40        46       74       114         0         0          0     E   bgp_event
    0          1.207        48       25       133       25       134         0         0          0   W     vtysh_write
    0          0.036         6        6        10        6        12         0         0          0    T    update_group_refresh_default_originate_route_map
    0          0.053         2       26        43       28        45         0         0          0     E   zclient_connect
    0         63.929        56     1141     60313     1143     60387         0         0          0  R      vtysh_read


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          1.830        84       21        54       22        55         0         0          0  R      bgp_process_reads
    0          0.845        23       36        80       37        80         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6        466.851       455     1026     60313     1371     60387         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.055         1       55        55       55        55         0         0          0    T    mgmt_be_client_conn_timeout
    1          0.067        17        3        12        4        13         0         0          0  R      zclient_read
    0          1.798        44       40       165       41       165         0         0          0  R      vtysh_read
    0          0.081         1       81        81       82        82         0         0          0     E   zclient_connect
    0          0.006         1        6         6        7         7         0         0          0   W     mgmt_be_client_write
    1          0.334        18       18        52       19        54         0         0          0  R      vtysh_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.341        82       28       165       29       165         0         0          0  RWTEX  TOTAL:
R:168  ce3    Zebra heap: 4928 KiB --&gt; 37 MiB (0.6414 KiB/vpn route)   1    0
Tue Oct 31 07:36:00 2023 (#169) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1780 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  152 KiB
  Ordinary blocks:       6
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117896
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       488
Link Node                     :       26     24         656       79      1960
Temporary memory              :        4 variable        96       16     45280
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1664       16      1664
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  32 MiB
  Holding block headers: 289 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  29 MiB
  Free small blocks:     124 KiB
  Free ordinary blocks:  2748 KiB
  Ordinary blocks:       23860
  Small blocks:          1370
  Holding blocks:        37
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         192        8       192
Buffer data                   :        1   4120        4120        4     16480
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356624     4955    356840
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231584     5785    231784
Hash                          :     1372 variable     66736     1372     66736
Hash Bucket                   :     1088     32       43696     1092     43872
Hash Index                    :      686 variable    188816      687    188952
Hook entry                    :        9     48         504        9       504
Interface                     :        4    272        1120        4      1120
Intf Desc                     :        2      7          48        2        48
Connected                     :        5     48         280        5       280
Link List                     :       61     40        2552       65      2712
Link Node                     :      750     24       18096     9007    216264
Temporary memory              :        4 variable        96        7       344
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       35    144        5320     7077   1075704
Nexthop label                 :       21 variable       504       39       952
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        3   1032        3096        3      3096
Prefix                        :        5     56         296        5       296
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832     1308    688456
Stream FIFO                   :       13     64         936       16      1152
Route table                   :       25     56        1400       25      1400
Route node                    :   100071 variable  12008744   100071  12008744
ASCII table                   :        0 variable         0       14       544
Thread                        :       37    160        6216       37      6216
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       18 variable   1053608       18   1053608
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279432    11634    279648
Vector index                  :    11625 variable    368728    11634    369056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        6       144
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        4    608        2464        4      2464
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0      479    486664
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        6     80         528        6       528
MPLS nexthop object           :        6     48         400       11       680
Nexthop Group Entry           :       25    144        3816     6662   1012640
Nexthop Group Connected       :       24     40         960       24       960
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :    50034    152     7605184    50034   7605184
RIB destination               :    50035     88     4403176    50035   4403176
WQ wrapper                    :        0 variable         0     6636    796320
RIB table info                :        8     24         192        8       192
Zebra VRF table               :        8     56         448        8       448
Nexthop tracking object       :        5    248        1240        5      1240
ZEBRA VRF                     :        2   5072       10160        2     10160
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        2     80         176        2       176
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2463 KiB
  Free small blocks:     1632 bytes
  Free ordinary blocks:  101 KiB
  Ordinary blocks:       4
  Small blocks:          45
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     4296     72      309392     4299    309624
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      824     32       33104      824     33104
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         280        5       280
Informational Link Parameters :        0    120           0        1       120
Link List                     :       62     40        2528       78      3168
Link Node                     :      195     24        4696      242      5856
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        1   1032        1032        1      1032
Prefix                        :        5     56         296        5       296
Privilege information         :        3 variable       136        3       136
Stream                        :        6 variable    160608        9    165208
Route table                   :      148     56        8336      150      8448
Route node                    :       38    120        4576       42      5072
Thread                        :       16    160        2704       16      2704
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       22     96        2320       22      2320
Typed-hash bucket             :       13 variable       776       15       840
Skiplist overflow             :        0 variable         0        1        24
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        2    304         624        2       624
OSPF neighbor                 :        3   1520        4584        3      4584
OSPF route                    :       11     64         792       13       936
OSPF LSA                      :        7    128         952        9      1240
OSPF LSA data                 :        7 variable       376        9       472
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        1     24          24        4        96
OSPF FIFO queue               :        2     24          48        2        48
OSPF vertex                   :        0     80           0        7       616
OSPF vertex parent            :        0     32           0        6       240
OSPF nexthop                  :        0      8           0       11       264
OSPF path                     :       11     48         616       13       728
OSPF if info                  :        4     40         160        4       160
OSPF if params                :        4    120         480        4       480
OSPF MPLS parameters          :        4    248         992        4       992
OSPF Extended parameters      :        4    136         544        4       544
OSPF opaque function table    :        6    112         736        6       736
OSPF External route table     :        1     16          24        1        24
OSPF Redistriute              :        1     32          40        1        40

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1584 KiB
  Free small blocks:     1536 bytes
  Free ordinary blocks:  92 KiB
  Ordinary blocks:       5
  Small blocks:          43
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156304
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         296        5       296
Link List                     :       17     40         712       22       912
Link Node                     :      142     24        3472      196      4816
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        5     56         296        5       296
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1040       10      1040
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163880     5182    164128
VRF                           :        2    216         432        2       432
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  230 MiB
  Holding block headers: 100 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  228 MiB
  Free small blocks:     1872 bytes
  Free ordinary blocks:  2705 KiB
  Ordinary blocks:       67636
  Small blocks:          54
  Holding blocks:        16
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       112
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      627 variable     30776      627     30776
Hash Bucket                   :     2518     32      101120     2520    101200
Hash Index                    :      314 variable    480432      314    480432
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         312        5       312
Link List                     :       65     40        2680       73      3000
Link Node                     :      382     24        9216      623     15112
Temporary memory              :   100041 variable  13603704   100046  13603904
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        5    144         760        6       912
Nexthop label                 :        3      8          72        3        72
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        5     56         296        5       296
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        8 variable    393408       10    491760
Skip List                     :    50013     56     2952280    50014   2952336
Skip Node                     :   100028 variable  10403168   100029  10403336
Skiplist Counters             :    50013     68     3600952    50014   3601024
Socket union                  :        6    112         720        9      1080
Stream                        :        9 variable    425896       21    688720
Stream FIFO                   :        8     64         576       10       720
Route table                   :      170     56        9584      170      9584
Thread                        :       22    160        3696       22      3696
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       23     96        2440       23      2440
Typed-hash bucket             :       13 variable   4212248       13   4212248
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966984    30687    967176
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
VTY output buffer             :        0 variable         0        1      1288
Work queue                    :        4    144         608        5       760
Work queue item               :        0     24           0        2        48
Work queue name string        :        4 variable        96        5       120
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        2     24          48        2        48
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        4     16          96        4        96
Mac Hash Entry Intf String    :        4 variable        96        5       120
BGP instance                  :       10 variable     21584       10     21584
BGP listen socket details     :        6 variable       672        6       672
BGP peer                      :        6  20864      125232        7    146104
BGP peer hostname             :       10 variable       240       12       288
BGP peer af                   :        2     80         176        4       352
BGP update group              :        2    104         208        2       208
BGP update subgroup           :        2    240         496        2       496
BGP packet                    :        2     56         128        3       200
BGP attribute                 :       31    328       10168       31     10168
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :      157     56        8904      157      8904
BGP node                      :   300070    192    60014064   300070  60014064
BGP route                     :   250055    136    34007992   250055  34007992
BGP ancillary route info      :   200050    432    88022032   200050  88022032
BGP connected                 :        3      4          72        3        72
BGP adv attr                  :        0     24           0        3        72
BGP adv                       :        0     64           0     8112    584064
BGP synchronise               :        2     48         112        2       112
BGP adj out                   :    50012     96     5201504    50012   5201504
community                     :        3     40         120        4       160
community val                 :        3      4          72        4        96
community str                 :        3   8192       24600        3     24600
extcommunity                  :        9     40         408       10       464
extcommunity val              :        9 variable       216       10       240
extcommunity str              :        7 variable       776        8       928
community-list handler        :        1    120         136        1       136
Cluster list                  :        1     24          24        1        24
Cluster list val              :        1      4          24        1        24
BGP Process queue             :        0     32           0        2        96
BGP nexthop                   :        5    184         920        5       920
BGP own address               :        3     64         216        3       216
Large Community               :        7     40         280        8       320
Large Community display string:        7     35         312        7       312
Large Community value         :        7     12         168        8       192
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        2     34          80        2        80
BGP Martian Addr Intf String  :        3 variable        72        3        72
BGP PBR Context               :        2     32          80        2        80
BGP interface context         :        4      4          96        4        96
BGP EVPN instance information :        2     56         112        2       112
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :    50015     40     2000696    50015   2000696
RFAPI IT Extra                :    50013     40     2009816    50013   2009816

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1370 KiB
  Free small blocks:     1408 bytes
  Free ordinary blocks:  94 KiB
  Ordinary blocks:       2
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      290     32       11648      290     11648
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        4    272        1120        4      1120
Connected                     :        5     48         296        5       296
Link List                     :       17     40         728       22       928
Link Node                     :      128     24        3104      179      4344
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        5     56         296        5       296
Stream                        :        3 variable     63896        4     80320
Route table                   :        8     56         448        8       448
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        72        1        72
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :       10 variable       720       10       720:
Tue Oct 31 07:36:00 2023 (#169) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show thread cpu":.:pass:BGPd heap: 7860 KiB --&gt; 230 MiB (4.4428 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.003         1        3         3        4         4         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.006         1        6         6        6         6         0         0          0  R      mgmt_be_adapter_read
    0          0.075        71        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    1          0.034         1       34        34       34        34         0         0          0  R      mgmt_be_conn_accept
    0          0.573        72        7        25        8        25         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.396         1      396       396      397       397         0         0          0     E   frr_config_read_in
    1          0.220        71        3        17        3        18         0         0          0  R      mgmt_fe_client_read
    1          0.017         1       17        17       18        18         0         0          0  R      mgmt_fe_conn_accept
    0          0.040         1       40        40       40        40         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.770        37       20        71       21        74         0         0          0  R      vtysh_accept
    0          0.026         1       26        26       27        27         0         0          0    T    mgmt_be_adapter_conn_init
    0          2.451        81       30       123       30       123         0         0          0  R      vtysh_read
    0          0.062        71        0         4        1         4         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.317        72        4        11        4        12         0         0          0  R      mgmt_fe_adapter_read
    0          0.190        72        2        19        3        11         0         0          0   W     mgmt_fe_client_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          5.180       554        9       396        9       397         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.428         5       85       163       86       163         0         0          0    T    if_zebra_speed_update
    1          0.075         8        9        18       10        19         0         0          0  R      kernel_read
    0          4.562        82       55      1799       56      1799         0         0          0  R      vtysh_read
    1          0.568        37       15        91       16        93         0         0          0  R      vtysh_accept
    1          0.664         6      110       130      110       130         0         0          0  R      zserv_accept
    0        107.974       524      206     22770      212     25744         0         0          0     E   rib_process_dplane_results
    0        220.704     12540       17     22859       18     26102         0         0          0    TE   work_queue_run
    0         83.212      6571       12      2164       13      2703         0         0          0     E   zserv_process_messages
    0          1.365         1     1365      1365     1366      1366         0         0          0     E   frr_config_read_in
    0          0.004         1        4         4        5         5         0         0          0    T    rib_sweep_route


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.161         6       26        70       27        71         0         0          0  R      dplane_incoming_read
    0       1778.447       565     3147     10814    22725    823697         0         0          0     E   dplane_thread_loop
    0          0.218         1      218       218      219       219         0         0          0     E   dplane_incoming_request


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.026         4        6        10        7        11         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.086         2       43        59       45        62         0         0          0  R      zserv_read
    0          0.158         6       26        56       31        56         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.352        17       20        45       21        46         0         0          0  R      zserv_read
    0          0.134         5       26        46       33        70         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1        142.820      8970       15      2151       17      2151         0         0          0  R      zserv_read
    0          0.175        14       12        34       12        34         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.030         1       30        30       32        32         0         0          0  R      zserv_read
    0          0.050         4       12        20       13        22         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.208         5       41        81       42        83         0         0          0  R      zserv_read
    0          0.238        10       23        58       24        60         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.096         3       32        51       33        54         0         0          0  R      zserv_read
    0          0.054         3       18        28       18        29         0         0          0   W     zserv_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10       2342.809     29391       79     22859      457    823697         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          1.292        39       33        71       33        71         0         0          0   W     ospf_write
    1          0.580        39       14        33       15        34         0         0          0  R      ospf_read
    0          0.131         7       18        52       39       191         0         0          0    T    ospf_spf_calculate_schedule_worker
    1          0.015         5        3         5        3         6         0         0          0    T    ospf_lsa_refresh_walker
    1          0.027         9        3         9        3        11         0         0          0    T    (ospf_ls_upd_timer)
    1          0.135        47        2        15        3        17         0         0          0    T    (ospf_ls_ack_timer)
    0          0.009         3        3         6        3         7         0         0          0    T    ospf_ase_calculate_timer
    1          0.197        42        4        25        5        25         0         0          0  R      zclient_read
    0          0.008         4        2         3        2         3         0         0          0     E   ospf_ls_upd_send_queue_event
    1          0.611        37       16        26       17        26         0         0          0  R      vtysh_accept
    1          0.005         9        0         1        1         2         0         0          0    T    (ospf_ls_req_timer)
    1          0.008         1        8         8       10        10         0         0          0    T    ospf_lsa_maxage_walker
    1          0.309        29       10        27       11        28         0         0          0    T    (ospf_hello_timer)
    0          0.107         4       26        42       27        42         0         0          0     E   ospf_ism_event
    0          0.070         1       70        70       71        71         0         0          0     E   zclient_connect
    0          2.178        81       26       122       27       123         0         0          0  R      vtysh_read
    0          0.684         1      684       684      684       684         0         0          0     E   frr_config_read_in
    0          0.003         1        3         3        4         4         0         0          0    T    (ospf_wait_timer)
    0          0.230        63        3        51        4        90         0         0          0     EX  ospf_nsm_event


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    9          6.599       422       15       684       16       684         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.067         1       67        67       69        69         0         0          0     E   zclient_connect
    0          0.008         1        8         8        9         9         0         0          0     E   ldp_config_fork_apply
    1          0.450        37       12        24       12        25         0         0          0  R      vtysh_accept
    0          0.328         1      328       328      328       328         0         0          0     E   frr_config_read_in
    0          2.533        81       31       105       31       106         0         0          0  R      vtysh_read
    1          0.222        43        5        25        5        27         0         0          0  R      zclient_read
    0          0.187        46        4        19        4        19         0         0          0   W     iev-&gt;handler_write
    2          0.136         6       22        55       23        56         0         0          0  R      iev_lde-&gt;handler_read
    2          0.206         8       25        50       26        51         0         0          0  R      iev_ldpe-&gt;handler_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.137       224       18       328       19       328         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.061         2       30        48       32        50         0         0          0     E   zclient_connect
    0          0.005         4        1         2        1         2         0         0          0    T    (bgp_routeadv_timer)
    0          0.001         1        1         1        2         2         0         0          0    T    update_subgroup_merge_check_thread_cb
    0        331.101       170     1947     39065     2383     44037         0         0          0    T    work_queue_run
    2          0.499        63        7       136        8       137         0         0          0  R      zclient_read
    0        548.354       162     3384     47576     3487     47602         0         0          0     E   bgp_process_packet
    0         10.145       112       90      3368       91      3369         0         0          0  R      vtysh_read
    4          0.087         1       87        87       87        87         0         0          0  R      bgp_accept
    1          0.592        37       16        50       16        51         0         0          0  R      vtysh_accept
    0          0.343         9       38        70       62       114         0         0          0     E   bgp_event
    0          1.475         1     1475      1475     1476      1476         0         0          0     E   frr_config_read_in
    0          0.039         2       19        22       20        23         0         0          0    T    subgroup_coalesce_timer
    0          0.007         1        7         7        7         7         0         0          0   W     bgp_connect_check
    0         19.095       144      132      2880      339      9449         0         0          0    T    (bgp_generate_updgrp_packets)
    0          0.059         9        6         9        7        10         0         0          0    T    update_group_refresh_default_originate_route_map
    0          0.030         1       30        30       32        32         0         0          0    T    (bgp_start_timer)


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    2          4.519       177       25        99       26       100         0         0          0  R      bgp_process_reads
    0          4.402        89       49       109       55       538         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    9        920.814       985      934     47576     1058     47602         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.055         1       55        55       56        56         0         0          0    T    mgmt_be_client_conn_timeout
    0          2.328        81       28       143       29       144         0         0          0  R      vtysh_read
    1          0.169        36        4        28        5        28         0         0          0  R      zclient_read
    1          0.543        37       14        34       15        36         0         0          0  R      vtysh_accept
    0          0.060         1       60        60       62        62         0         0          0     E   zclient_connect
    0          0.006         1        6         6        7         7         0         0          0   W     mgmt_be_client_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          3.161       157       20       143       20       144         0         0          0  RWTEX  TOTAL:
R:169  r1     BGPd heap: 7860 KiB --&gt; 230 MiB (4.4428 KiB/vpn route)   1    0
Tue Oct 31 07:36:00 2023 (#170) scripts/scale_up.py:0 COMMAND:r1:vtysh -c "show thread cpu":.:pass:Zebra heap: 5884 KiB --&gt; 32 MiB (0.5223 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.003         1        3         3        4         4         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.006         1        6         6        6         6         0         0          0  R      mgmt_be_adapter_read
    0          0.077        73        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    1          0.034         1       34        34       34        34         0         0          0  R      mgmt_be_conn_accept
    0          0.591        74        7        25        8        25         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.396         1      396       396      397       397         0         0          0     E   frr_config_read_in
    1          0.226        73        3        17        3        18         0         0          0  R      mgmt_fe_client_read
    1          0.017         1       17        17       18        18         0         0          0  R      mgmt_fe_conn_accept
    0          0.040         1       40        40       40        40         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.796        38       20        71       22        74         0         0          0  R      vtysh_accept
    0          0.026         1       26        26       27        27         0         0          0    T    mgmt_be_adapter_conn_init
    0          2.569        84       30       123       31       123         0         0          0  R      vtysh_read
    0          0.065        73        0         4        1         4         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.327        74        4        11        4        12         0         0          0  R      mgmt_fe_adapter_read
    0          0.196        74        2        19        3        11         0         0          0   W     mgmt_fe_client_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          5.369       570        9       396        9       397         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.428         5       85       163       86       163         0         0          0    T    if_zebra_speed_update
    1          0.075         8        9        18       10        19         0         0          0  R      kernel_read
    0          4.708        85       55      1799       55      1799         0         0          0  R      vtysh_read
    1          0.577        38       15        91       15        93         0         0          0  R      vtysh_accept
    1          0.664         6      110       130      110       130         0         0          0  R      zserv_accept
    0        107.974       524      206     22770      212     25744         0         0          0     E   rib_process_dplane_results
    0        220.704     12540       17     22859       18     26102         0         0          0    TE   work_queue_run
    0         83.212      6571       12      2164       13      2703         0         0          0     E   zserv_process_messages
    0          1.365         1     1365      1365     1366      1366         0         0          0     E   frr_config_read_in
    0          0.004         1        4         4        5         5         0         0          0    T    rib_sweep_route


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.161         6       26        70       27        71         0         0          0  R      dplane_incoming_read
    0       1778.447       565     3147     10814    22725    823697         0         0          0     E   dplane_thread_loop
    0          0.218         1      218       218      219       219         0         0          0     E   dplane_incoming_request


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.026         4        6        10        7        11         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.086         2       43        59       45        62         0         0          0  R      zserv_read
    0          0.158         6       26        56       31        56         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.352        17       20        45       21        46         0         0          0  R      zserv_read
    0          0.134         5       26        46       33        70         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1        142.820      8970       15      2151       17      2151         0         0          0  R      zserv_read
    0          0.175        14       12        34       12        34         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.030         1       30        30       32        32         0         0          0  R      zserv_read
    0          0.050         4       12        20       13        22         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.208         5       41        81       42        83         0         0          0  R      zserv_read
    0          0.238        10       23        58       24        60         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.096         3       32        51       33        54         0         0          0  R      zserv_read
    0          0.054         3       18        28       18        29         0         0          0   W     zserv_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10       2342.964     29395       79     22859      457    823697         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          1.339        40       33        71       33        71         0         0          0   W     ospf_write
    1          0.580        39       14        33       15        34         0         0          0  R      ospf_read
    0          0.131         7       18        52       39       191         0         0          0    T    ospf_spf_calculate_schedule_worker
    1          0.015         5        3         5        3         6         0         0          0    T    ospf_lsa_refresh_walker
    1          0.027         9        3         9        3        11         0         0          0    T    (ospf_ls_upd_timer)
    1          0.136        48        2        15        3        17         0         0          0    T    (ospf_ls_ack_timer)
    0          0.009         3        3         6        3         7         0         0          0    T    ospf_ase_calculate_timer
    1          0.197        42        4        25        5        25         0         0          0  R      zclient_read
    0          0.008         4        2         3        2         3         0         0          0     E   ospf_ls_upd_send_queue_event
    1          0.627        38       16        26       17        26         0         0          0  R      vtysh_accept
    1          0.005         9        0         1        1         2         0         0          0    T    (ospf_ls_req_timer)
    1          0.008         1        8         8       10        10         0         0          0    T    ospf_lsa_maxage_walker
    1          0.317        30       10        27       11        28         0         0          0    T    (ospf_hello_timer)
    0          0.107         4       26        42       27        42         0         0          0     E   ospf_ism_event
    0          0.070         1       70        70       71        71         0         0          0     E   zclient_connect
    0          2.298        84       27       122       28       123         0         0          0  R      vtysh_read
    0          0.684         1      684       684      684       684         0         0          0     E   frr_config_read_in
    0          0.003         1        3         3        4         4         0         0          0    T    (ospf_wait_timer)
    0          0.230        63        3        51        4        90         0         0          0     EX  ospf_nsm_event


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    9          6.791       429       15       684       16       684         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.067         1       67        67       69        69         0         0          0     E   zclient_connect
    0          0.008         1        8         8        9         9         0         0          0     E   ldp_config_fork_apply
    1          0.460        38       12        24       12        25         0         0          0  R      vtysh_accept
    0          0.328         1      328       328      328       328         0         0          0     E   frr_config_read_in
    0          2.638        84       31       105       31       106         0         0          0  R      vtysh_read
    1          0.222        43        5        25        5        27         0         0          0  R      zclient_read
    0          0.187        46        4        19        4        19         0         0          0   W     iev-&gt;handler_write
    2          0.136         6       22        55       23        56         0         0          0  R      iev_lde-&gt;handler_read
    2          0.206         8       25        50       26        51         0         0          0  R      iev_ldpe-&gt;handler_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.252       228       18       328       19       328         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.061         2       30        48       32        50         0         0          0     E   zclient_connect
    0          0.005         4        1         2        1         2         0         0          0    T    (bgp_routeadv_timer)
    0          0.001         1        1         1        2         2         0         0          0    T    update_subgroup_merge_check_thread_cb
    0        331.101       170     1947     39065     2383     44037         0         0          0    T    work_queue_run
    2          0.499        63        7       136        8       137         0         0          0  R      zclient_read
    0        548.354       162     3384     47576     3487     47602         0         0          0     E   bgp_process_packet
    0         10.266       115       89      3368       89      3369         0         0          0  R      vtysh_read
    4          0.087         1       87        87       87        87         0         0          0  R      bgp_accept
    1          0.599        38       15        50       16        51         0         0          0  R      vtysh_accept
    0          0.343         9       38        70       62       114         0         0          0     E   bgp_event
    0          1.475         1     1475      1475     1476      1476         0         0          0     E   frr_config_read_in
    0          0.039         2       19        22       20        23         0         0          0    T    subgroup_coalesce_timer
    0          0.007         1        7         7        7         7         0         0          0   W     bgp_connect_check
    0         19.095       144      132      2880      339      9449         0         0          0    T    (bgp_generate_updgrp_packets)
    0          0.059         9        6         9        7        10         0         0          0    T    update_group_refresh_default_originate_route_map
    0          0.030         1       30        30       32        32         0         0          0    T    (bgp_start_timer)


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    2          4.519       177       25        99       26       100         0         0          0  R      bgp_process_reads
    0          4.402        89       49       109       55       538         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    9        920.942       989      931     47576     1053     47602         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.055         1       55        55       56        56         0         0          0    T    mgmt_be_client_conn_timeout
    0          2.414        84       28       143       29       144         0         0          0  R      vtysh_read
    1          0.169        36        4        28        5        28         0         0          0  R      zclient_read
    1          0.559        38       14        34       15        36         0         0          0  R      vtysh_accept
    0          0.060         1       60        60       62        62         0         0          0     E   zclient_connect
    0          0.006         1        6         6        7         7         0         0          0   W     mgmt_be_client_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          3.263       161       20       143       20       144         0         0          0  RWTEX  TOTAL:
R:170  r1     Zebra heap: 5884 KiB --&gt; 32 MiB (0.5223 KiB/vpn route)   1    0
Tue Oct 31 07:36:00 2023 (#171) scripts/scale_up.py:0 COMMAND:r2:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1796 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1392 bytes
  Free ordinary blocks:  168 KiB
  Ordinary blocks:       6
  Small blocks:          40
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12984      323     12984
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       80      2048
Temporary memory              :        4 variable        96       20     61696
MGMTD Frontend session        :        1     40          40        1        40
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1664       16      1664
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  5756 KiB
  Holding block headers: 288 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  4595 KiB
  Free small blocks:     2912 bytes
  Free ordinary blocks:  1161 KiB
  Ordinary blocks:       13
  Small blocks:          74
  Holding blocks:        36
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         208        8       240
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356640     4955    356840
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231552     5785    231752
Hash                          :     1364 variable     66256     1364     66256
Hash Bucket                   :     1085     32       43544     1085     43544
Hash Index                    :      682 variable    188544      683    188680
Hook entry                    :        8     48         448        8       448
Interface                     :        4    272        1120        4      1120
Intf Desc                     :        3      7          72        3        72
Connected                     :        7     48         392        7       392
Link List                     :       60     40        2448       63      2568
Link Node                     :      748     24       18080      814     19712
Temporary memory              :        4 variable        96        7       312
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       31    144        4712       37      5624
Nexthop label                 :       14      8         336       16       400
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        40
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        4   1032        4128        4      4128
Prefix                        :        7     56         408        7       408
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832       33    597000
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       15     56         840       15       840
Route node                    :       42 variable      5120       42      5120
Thread                        :       38    160        6384       38      6384
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3880       37      3880
Typed-hash bucket             :       14 variable       864       14       864
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279416    11634    279632
Vector index                  :    11625 variable    368776    11634    369088
VRF                           :        1    216         216        1       216
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        3        72
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        4    608        2464        4      2464
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0       24     24384
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        3     80         280        3       280
MPLS nexthop object           :        4     48         240        6       368
Nexthop Group Entry           :       24    144        3648       25      3800
Nexthop Group Connected       :       27     40        1080       29      1160
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :       24    152        3648       24      3648
RIB destination               :       17     88        1512       17      1512
WQ wrapper                    :        0 variable         0       10    181568
RIB table info                :        4     24          96        4        96
Zebra VRF table               :        4     56         224        4       224
Nexthop tracking object       :        3    248         744        3       744
ZEBRA VRF                     :        1   5072        5080        1      5080
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        4     80         352        4       352
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2494 KiB
  Free small blocks:     1648 bytes
  Free ordinary blocks:  70 KiB
  Ordinary blocks:       9
  Small blocks:          45
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     4296     72      309392     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      826     32       33200      826     33200
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Informational Link Parameters :        0    120           0        1       120
Link List                     :       80     40        3280      101      4168
Link Node                     :      214     24        5152      257      6296
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        3   1032        3096        3      3096
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Stream                        :        9 variable    160888       13    168392
Route table                   :      316     56       17840      318     17952
Route node                    :       62    120        7488       75      9048
Thread                        :       30    160        5040       30      5040
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       23     96        2408       23      2408
Typed-hash bucket             :       19 variable      1144       27      1376
Skiplist overflow             :        0     48           0        1        56
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        4    304        1248        4      1248
OSPF neighbor                 :        8   1520       12224        8     12224
OSPF route                    :       18     64        1296       24      1728
OSPF LSA                      :        7    128         952       11      1496
OSPF LSA data                 :        7 variable       376       11       600
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        4     24          96        8       192
OSPF FIFO queue               :        4     24          96        4        96
OSPF vertex                   :        0     80           0        7       616
OSPF vertex parent            :        0     32           0        7       280
OSPF nexthop                  :        0      8           0       14       368
OSPF path                     :       22     48        1232       28      1568
OSPF if info                  :        4     40         160        4       160
OSPF if params                :        5    120         600        5       600
OSPF MPLS parameters          :        4    248         992        4       992
OSPF Extended parameters      :        4    136         544        4       544
OSPF opaque function table    :        6    112         736        6       736

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1584 KiB
  Free small blocks:     1520 bytes
  Free ordinary blocks:  92 KiB
  Ordinary blocks:       5
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156304
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Link List                     :       17     40         712       22       912
Link Node                     :      144     24        3520      199      4888
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1056       10      1056
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124408     5182    124560
Vector index                  :     5175 variable    163864     5182    164128
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  215 MiB
  Holding block headers: 99 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  211 MiB
  Free small blocks:     1856 bytes
  Free ordinary blocks:  3844 KiB
  Ordinary blocks:       102907
  Small blocks:          54
  Holding blocks:        15
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      577 variable     28328      579     28424
Hash Bucket                   :     2505     32      100648     2507    100744
Hash Index                    :      289 variable    434984      290    437040
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Link List                     :       53     40        2168       59      2408
Link Node                     :      357     24        8616      547     13304
Temporary memory              :   100045 variable  13604264   100046  13604304
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        4    144         640        6       928
Nexthop label                 :        4      8          96        4        96
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        8 variable    393408       10    491776
Skip List                     :    50014     56     2984960    50015   2985032
Skip Node                     :   150034 variable  12427120   150035  12427288
Skiplist Counters             :    50014     68     3601008    50015   3601080
Socket union                  :        9    112        1080       10      1200
Stream                        :        7 variable    293720       23    951584
Stream FIFO                   :        8     64         576       10       720
Route table                   :      104     56        5888      104      5888
Thread                        :       25    160        4200       25      4200
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       22     96        2320       22      2320
Typed-hash bucket             :       11 variable   3159632       11   3159632
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
Work queue                    :        3    144         456        4       608
Work queue item               :        0     24           0        2        48
Work queue name string        :        3 variable        72        4        96
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        3     24          72        3        72
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        4     16          96        4        96
Mac Hash Entry Intf String    :        4 variable        96        5       120
BGP instance                  :        6 variable     10816        6     10816
BGP listen socket details     :        2    144         304        2       304
BGP peer                      :        5  20864      104360        6    125232
BGP peer hostname             :        9 variable       216       10       240
BGP peer af                   :        3     80         264        5       440
BGP update group              :        1    104         104        1       104
BGP update subgroup           :        1    240         248        2       496
BGP packet                    :        1     56          72        8       448
BGP attribute                 :       24    328        7888       24      7888
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :       91     56        5144       91      5144
BGP node                      :   200050    192    40010032   200050  40010032
BGP route                     :   200040    136    27205824   200040  27205824
BGP ancillary route info      :   200040    432    88017616   200040  88017616
BGP connected                 :        4      4          96        4        96
BGP adv attr                  :        0     24           0       10       240
BGP adv                       :        0     64           0    12299    885528
BGP synchronise               :        1     48          56        2       112
BGP adj out                   :   100020     96    10402528   100020  10402528
community                     :        3     40         136        4       176
community val                 :        3      4          72        4        96
community str                 :        3   8192       24600        3     24600
extcommunity                  :        4     40         176        5       216
extcommunity val              :        4 variable        96        5       120
extcommunity str              :        4 variable       480        4       480
community-list handler        :        1    120         136        1       136
BGP Process queue             :        0     32           0        2        80
BGP nexthop                   :        3    184         552        3       552
BGP own address               :        4     64         288        4       288
Large Community               :        7     40         328        8       368
Large Community display string:        7     35         296        7       296
Large Community value         :        7     12         168        8       192
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        3     34         120        3       120
BGP Martian Addr Intf String  :        4 variable        96        4        96
BGP PBR Context               :        1     32          40        1        40
BGP interface context         :        4      4          96        4        96
BGP EVPN instance information :        1     56          56        1        56
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :   100020     40     4001408   100020   4001408
RFAPI IT Extra                :    50015     40     2006840    50015   2006840

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1369 KiB
  Free small blocks:     1392 bytes
  Free ordinary blocks:  95 KiB
  Ordinary blocks:       2
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      287     32       11528      287     11528
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        4    272        1120        4      1120
Connected                     :        7     48         392        7       392
Link List                     :       17     40         728       22       928
Link Node                     :      130     24        3152      182      4448
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        7     56         392        7       392
Stream                        :        3 variable     63896        4     80320
Route table                   :        4     56         224        4       224
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        72        1        72
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        1    216         216        1       216
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :        5 variable       360        5       360:
Tue Oct 31 07:36:00 2023 (#171) scripts/scale_up.py:0 COMMAND:r2:vtysh -c "show thread cpu":.:pass:BGPd heap: 7636 KiB --&gt; 215 MiB (4.1473 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.019         1       19        19       19        19         0         0          0  R      mgmt_fe_conn_accept
    0          0.037        31        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    0          0.024        31        0         4        1         4         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.010         1       10        10       10        10         0         0          0  R      mgmt_be_adapter_read
    0          0.027         1       27        27       28        28         0         0          0    T    mgmt_be_adapter_conn_init
    0          0.229        32        7        32        7        33         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    1          0.173        32        5        14        5        15         0         0          0  R      mgmt_fe_adapter_read
    0          0.068         1       68        68       69        69         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.058         1       58        58       59        59         0         0          0  R      mgmt_be_conn_accept
    0          0.402         1      402       402      403       403         0         0          0     E   frr_config_read_in
    1          0.392        17       23        42       23        43         0         0          0  R      vtysh_accept
    0          1.678        41       40       131       41       132         0         0          0  R      vtysh_read
    0          0.073        32        2         9        2         9         0         0          0   W     mgmt_fe_client_write
    0          0.010         1       10        10       10        10         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.103        31        3         6        3         7         0         0          0  R      mgmt_fe_client_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.303       254       13       402       13       403         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.175         4       43        88       44        88         0         0          0    T    if_zebra_speed_update
    0          0.461        38       12        64       12        65         0         0          0     E   rib_process_dplane_results
    0          0.373        16       23        72       55       441         0         0          0    T    work_queue_run
    1          0.666         6      111       122      111       123         0         0          0  R      zserv_accept
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route
    0          1.771        41       43       150       43       151         0         0          0  R      vtysh_read
    0          1.674         1     1674      1674     1675      1675         0         0          0     E   frr_config_read_in
    0          1.121        54       20        86       23       112         0         0          0     E   zserv_process_messages
    1          0.102        11        9        14       10        15         0         0          0  R      kernel_read
    1          0.279        17       16        31       17        32         0         0          0  R      vtysh_accept


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          4.304        46       93       252       96       253         0         0          0     E   dplane_thread_loop
    0          0.144         1      144       144      145       145         0         0          0     E   dplane_incoming_request
    1          0.108         7       15        66       16        66         0         0          0  R      dplane_incoming_read


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.031         5        6        10        7        10         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.040         1       40        40       42        42         0         0          0  R      zserv_read
    0          0.088         5       17        37       17        37         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.625        30       20        39       21        40         0         0          0  R      zserv_read
    0          0.066         8        8        17        9        18         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.296        10       29        52       30        52         0         0          0  R      zserv_read
    0          0.176        11       16        29       16        30         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.041         1       41        41       42        42         0         0          0  R      zserv_read
    0          0.028         3        9        19        9        20         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.294        10       29        53       30        55         0         0          0  R      zserv_read
    0          0.204        12       17        42       21        64         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.078         3       26        33       26        34         0         0          0  R      zserv_read
    0          0.040         3       13        15       14        16         0         0          0   W     zserv_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10         13.188       345       38      1674       41      1675         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.009         5        1         2        2         3         0         0          0    T    ospf_lsa_refresh_walker
    0          0.202        11       18        53       18        53         0         0          0     E   ospf_ism_event
    4          0.003        36        0         1        0         2         0         0          0    T    (ospf_ls_req_timer)
    1          0.160        45        3        15        3        16         0         0          0  R      zclient_read
    0          0.750         1      750       750      751       751         0         0          0     E   frr_config_read_in
    0          0.041        22        1         4        2         4         0         0          0     E   ospf_ls_upd_send_queue_event
    4          0.051        36        1         8        2        10         0         0          0    T    (ospf_ls_upd_timer)
    1          0.008         1        8         8        9         9         0         0          0    T    ospf_lsa_maxage_walker
    0          0.539       250        2        33        2        34         0         0          0     EX  ospf_nsm_event
    3          0.080       141        0         8        1         9         0         0          0    T    (ospf_ls_ack_timer)
    3          0.297        87        3        18        4        20         0         0          0    T    (ospf_hello_timer)
    0          3.139        72       43       134       46       186         0         0          0   W     ospf_write
    0          0.250         8       31        72       50       143         0         0          0    T    ospf_spf_calculate_schedule_worker
    0          0.003         3        1         2        1         3         0         0          0    T    (ospf_wait_timer)
    0          1.486        41       36       112       41       113         0         0          0  R      vtysh_read
    0          0.059         1       59        59       60        60         0         0          0     E   zclient_connect
    0          0.007         4        1         3        2         4         0         0          0    T    ospf_ase_calculate_timer
    1          2.061       122       16        47       17        49         0         0          0  R      ospf_read
    1          0.240        17       14        30       14        30         0         0          0  R      vtysh_accept
    0          0.006         3        2         3        2         4         0         0          0     E   ospf_ls_ack_send_event


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   19          9.391       906       10       750       11       751         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    2          0.235        11       21        51       21        52         0         0          0  R      iev_lde-&gt;handler_read
    0          1.496        41       36       113       37       114         0         0          0  R      vtysh_read
    0          0.013         1       13        13       14        14         0         0          0     E   ldp_config_fork_apply
    1          0.226        45        5        23        5        24         0         0          0  R      zclient_read
    0          0.071         1       71        71       72        72         0         0          0     E   zclient_connect
    2          0.586        21       27        84       28        86         0         0          0  R      iev_ldpe-&gt;handler_read
    1          0.242        17       14        21       14        23         0         0          0  R      vtysh_accept
    0          0.218        51        4        24        4        24         0         0          0   W     iev-&gt;handler_write
    0          0.500         1      500       500      500       500         0         0          0     E   frr_config_read_in


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.587       189       18       500       19       500         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.474        12       39        90       59       108         0         0          0     E   bgp_event
    0         37.943       438       86      4489       89      4490         0         0          0    T    (bgp_generate_updgrp_packets)
    2          0.301        58        5        30        5        31         0         0          0  R      zclient_read
    0          0.005         6        0         1        1         2         0         0          0    T    (bgp_routeadv_timer)
    0          0.004         2        2         2        2         3         0         0          0   W     bgp_connect_check
    0          1.537         1     1537      1537     1537      1537         0         0          0     E   frr_config_read_in
    0        459.905       151     3045     36209     3073     36415         0         0          0     E   bgp_process_packet
    0          0.039         4        9        12       10        13         0         0          0    T    update_group_refresh_default_originate_route_map
    1          0.321        17       18        33       19        34         0         0          0  R      vtysh_accept
    2          0.069         1       69        69       69        69         0         0          0  R      bgp_accept
    0          9.104        53      171      5843      172      5843         0         0          0  R      vtysh_read
    0        165.732        66     2511     21042     2527     21042         0         0          0    T    work_queue_run
    0          0.076         2       38        62       39        63         0         0          0     E   zclient_connect
    0          0.033         3       11        28       11        29         0         0          0    T    (bgp_start_timer)
    0          0.072         2       36        47       36        48         0         0          0    T    subgroup_coalesce_timer


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    3          3.774       169       22        84       22        85         0         0          0  R      bgp_process_reads
    0          9.861       242       40       140       41       141         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    8        689.250      1227      561     36209      567     36415         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          1.363        41       33       139       33       140         0         0          0  R      vtysh_read
    0          0.062         1       62        62       62        62         0         0          0     E   zclient_connect
    1          0.281        17       16        24       17        25         0         0          0  R      vtysh_accept
    0          0.008         1        8         8        9         9         0         0          0   W     mgmt_be_client_write
    1          0.114        31        3        20        4        20         0         0          0  R      zclient_read
    0          0.072         1       72        72       73        73         0         0          0    T    mgmt_be_client_conn_timeout


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          1.900        92       20       139       21       140         0         0          0  RWTEX  TOTAL:
R:171  r2     BGPd heap: 7636 KiB --&gt; 215 MiB (4.1473 KiB/vpn route)   1    0
Tue Oct 31 07:36:00 2023 (#172) scripts/scale_up.py:0 COMMAND:r2:vtysh -c "show thread cpu":.:pass:Zebra heap: 5756 KiB --&gt; 5756 KiB (0.0 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.019         1       19        19       19        19         0         0          0  R      mgmt_fe_conn_accept
    0          0.039        33        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    0          0.024        33        0         4        1         4         0         0          0    T    mgmt_fe_client_proc_msgbufs
    1          0.010         1       10        10       10        10         0         0          0  R      mgmt_be_adapter_read
    0          0.027         1       27        27       28        28         0         0          0    T    mgmt_be_adapter_conn_init
    0          0.236        34        6        32        7        33         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    1          0.179        34        5        14        5        15         0         0          0  R      mgmt_fe_adapter_read
    0          0.068         1       68        68       69        69         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.058         1       58        58       59        59         0         0          0  R      mgmt_be_conn_accept
    0          0.402         1      402       402      403       403         0         0          0     E   frr_config_read_in
    1          0.402        18       22        42       22        43         0         0          0  R      vtysh_accept
    0          1.794        44       40       131       41       132         0         0          0  R      vtysh_read
    0          0.075        34        2         9        2         9         0         0          0   W     mgmt_fe_client_write
    0          0.010         1       10        10       10        10         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.108        33        3         6        3         7         0         0          0  R      mgmt_fe_client_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.451       270       12       402       13       403         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.175         4       43        88       44        88         0         0          0    T    if_zebra_speed_update
    0          0.461        38       12        64       12        65         0         0          0     E   rib_process_dplane_results
    0          0.373        16       23        72       55       441         0         0          0    T    work_queue_run
    1          0.666         6      111       122      111       123         0         0          0  R      zserv_accept
    0          0.003         1        3         3        4         4         0         0          0    T    rib_sweep_route
    0          1.902        44       43       150       43       151         0         0          0  R      vtysh_read
    0          1.674         1     1674      1674     1675      1675         0         0          0     E   frr_config_read_in
    0          1.121        54       20        86       23       112         0         0          0     E   zserv_process_messages
    1          0.102        11        9        14       10        15         0         0          0  R      kernel_read
    1          0.287        18       15        31       16        32         0         0          0  R      vtysh_accept


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          4.304        46       93       252       96       253         0         0          0     E   dplane_thread_loop
    0          0.144         1      144       144      145       145         0         0          0     E   dplane_incoming_request
    1          0.108         7       15        66       16        66         0         0          0  R      dplane_incoming_read


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.031         5        6        10        7        10         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.040         1       40        40       42        42         0         0          0  R      zserv_read
    0          0.088         5       17        37       17        37         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.625        30       20        39       21        40         0         0          0  R      zserv_read
    0          0.066         8        8        17        9        18         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.296        10       29        52       30        52         0         0          0  R      zserv_read
    0          0.176        11       16        29       16        30         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.041         1       41        41       42        42         0         0          0  R      zserv_read
    0          0.028         3        9        19        9        20         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.294        10       29        53       30        55         0         0          0  R      zserv_read
    0          0.204        12       17        42       21        64         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.078         3       26        33       26        34         0         0          0  R      zserv_read
    0          0.040         3       13        15       14        16         0         0          0   W     zserv_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10         13.327       349       38      1674       41      1675         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.009         5        1         2        2         3         0         0          0    T    ospf_lsa_refresh_walker
    0          0.202        11       18        53       18        53         0         0          0     E   ospf_ism_event
    4          0.003        36        0         1        0         2         0         0          0    T    (ospf_ls_req_timer)
    1          0.160        45        3        15        3        16         0         0          0  R      zclient_read
    0          0.750         1      750       750      751       751         0         0          0     E   frr_config_read_in
    0          0.041        22        1         4        2         4         0         0          0     E   ospf_ls_upd_send_queue_event
    4          0.051        36        1         8        2        10         0         0          0    T    (ospf_ls_upd_timer)
    1          0.008         1        8         8        9         9         0         0          0    T    ospf_lsa_maxage_walker
    0          0.539       250        2        33        2        34         0         0          0     EX  ospf_nsm_event
    3          0.080       141        0         8        1         9         0         0          0    T    (ospf_ls_ack_timer)
    3          0.297        87        3        18        4        20         0         0          0    T    (ospf_hello_timer)
    0          3.139        72       43       134       46       186         0         0          0   W     ospf_write
    0          0.250         8       31        72       50       143         0         0          0    T    ospf_spf_calculate_schedule_worker
    0          0.003         3        1         2        1         3         0         0          0    T    (ospf_wait_timer)
    0          1.603        44       36       112       41       113         0         0          0  R      vtysh_read
    0          0.059         1       59        59       60        60         0         0          0     E   zclient_connect
    0          0.007         4        1         3        2         4         0         0          0    T    ospf_ase_calculate_timer
    1          2.061       122       16        47       17        49         0         0          0  R      ospf_read
    1          0.254        18       14        30       14        30         0         0          0  R      vtysh_accept
    0          0.006         3        2         3        2         4         0         0          0     E   ospf_ls_ack_send_event


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   19          9.522       910       10       750       11       751         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    2          0.235        11       21        51       21        52         0         0          0  R      iev_lde-&gt;handler_read
    0          1.612        44       36       113       37       114         0         0          0  R      vtysh_read
    0          0.013         1       13        13       14        14         0         0          0     E   ldp_config_fork_apply
    1          0.226        45        5        23        5        24         0         0          0  R      zclient_read
    0          0.071         1       71        71       72        72         0         0          0     E   zclient_connect
    2          0.586        21       27        84       28        86         0         0          0  R      iev_ldpe-&gt;handler_read
    1          0.254        18       14        21       14        23         0         0          0  R      vtysh_accept
    0          0.218        51        4        24        4        24         0         0          0   W     iev-&gt;handler_write
    0          0.500         1      500       500      500       500         0         0          0     E   frr_config_read_in


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          3.715       193       19       500       19       500         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.474        12       39        90       59       108         0         0          0     E   bgp_event
    0         37.943       438       86      4489       89      4490         0         0          0    T    (bgp_generate_updgrp_packets)
    2          0.301        58        5        30        5        31         0         0          0  R      zclient_read
    0          0.005         6        0         1        1         2         0         0          0    T    (bgp_routeadv_timer)
    0          0.004         2        2         2        2         3         0         0          0   W     bgp_connect_check
    0          1.537         1     1537      1537     1537      1537         0         0          0     E   frr_config_read_in
    0        459.905       151     3045     36209     3073     36415         0         0          0     E   bgp_process_packet
    0          0.039         4        9        12       10        13         0         0          0    T    update_group_refresh_default_originate_route_map
    1          0.334        18       18        33       19        34         0         0          0  R      vtysh_accept
    2          0.069         1       69        69       69        69         0         0          0  R      bgp_accept
    0          9.251        56      165      5843      165      5843         0         0          0  R      vtysh_read
    0        165.732        66     2511     21042     2527     21042         0         0          0    T    work_queue_run
    0          0.076         2       38        62       39        63         0         0          0     E   zclient_connect
    0          0.033         3       11        28       11        29         0         0          0    T    (bgp_start_timer)
    0          0.072         2       36        47       36        48         0         0          0    T    subgroup_coalesce_timer


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    3          3.774       169       22        84       22        85         0         0          0  R      bgp_process_reads
    0          9.861       242       40       140       41       141         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    8        689.410      1231      560     36209      565     36415         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          1.463        44       33       139       33       140         0         0          0  R      vtysh_read
    0          0.062         1       62        62       62        62         0         0          0     E   zclient_connect
    1          0.296        18       16        24       17        25         0         0          0  R      vtysh_accept
    0          0.008         1        8         8        9         9         0         0          0   W     mgmt_be_client_write
    1          0.114        31        3        20        4        20         0         0          0  R      zclient_read
    0          0.072         1       72        72       73        73         0         0          0    T    mgmt_be_client_conn_timeout


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.015        96       20       139       21       140         0         0          0  RWTEX  TOTAL:
R:172  r2     Zebra heap: 5756 KiB --&gt; 5756 KiB (0.0 KiB/vpn route)    1    0
Tue Oct 31 07:36:00 2023 (#173) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1796 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1628 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  168 KiB
  Ordinary blocks:       5
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       12968      323     12968
Hash Index                    :       16 variable     11904       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       80      2048
Temporary memory              :        4 variable        96       20     61696
MGMTD Frontend session        :        1     40          40        1        56
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1664       16      1664
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  35 MiB
  Holding block headers: 289 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  29 MiB
  Free small blocks:     109 KiB
  Free ordinary blocks:  6384 KiB
  Ordinary blocks:       65629
  Small blocks:          1210
  Holding blocks:        37
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         208        8       240
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356640     4955    356856
Command Token Text            :     3541 variable    117880     3543    117952
Command Token Help            :     3541 variable     85048     3543     85096
Command Argument              :        2 variable        48        5       120
Command Argument Name         :     1198 variable     28752     1200     28800
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1280       16      1280
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231600     5785    231800
Hash                          :     1372 variable     66800     1372     66800
Hash Bucket                   :     1112     32       44672     1116     44848
Hash Index                    :      686 variable    189344      687    189608
Hook entry                    :       11     48         616       11       616
Interface                     :        5    272        1400        5      1400
Intf Desc                     :        3      7          72        3        72
Connected                     :        7     48         392        7       392
Link List                     :       68     40        2784       72      2944
Link Node                     :      754     24       18192    16547    397224
Temporary memory              :        4 variable        96        7       696
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       56    144        8528    11752   1786320
Nexthop label                 :       35 variable       840     8752    210048
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        56
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        4   1032        4128        4      4128
Prefix                        :        7     56         408        7       408
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832     1134    587720
Stream FIFO                   :       13     64         936       15      1080
Route table                   :       26     56        1456       26      1456
Route node                    :   100076 variable  12009392   100076  12009392
ASCII table                   :        0 variable         0       49      2056
Thread                        :       39    160        6552       39      6552
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       19 variable   1053680       19   1053680
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279448    11634    279664
Vector index                  :    11625 variable    368744    11634    369072
VRF                           :        2    216         432        2       432
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        5       120
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        5    608        3080        5      3080
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0      622    631952
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        5     80         440        5       440
MPLS nexthop object           :        8     48         464       15       872
Nexthop Group Entry           :       37    144        5640    11130   1691776
Nexthop Group Connected       :       48     40        1936       48      1936
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :    50038    152     7605808    54468   8279168
RIB destination               :    50036     88     4403312    50036   4403312
WQ wrapper                    :        0 variable         0    11091   1330920
RIB table info                :        8     24         192        8       192
Zebra VRF table               :        8     56         448        8       448
Nexthop tracking object       :        5    248        1240        5      1240
ZEBRA VRF                     :        2   5072       10160        2     10160
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        4     80         352        4       352
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2484 KiB
  Free small blocks:     1680 bytes
  Free ordinary blocks:  80 KiB
  Ordinary blocks:       6
  Small blocks:          44
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :     4296     72      309392     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      826     32       33168      826     33168
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         392        7       392
Informational Link Parameters :        0    120           0        1       136
Link List                     :       77     40        3112       97      3912
Link Node                     :      214     24        5184      257      6376
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        2   1032        2064        2      2064
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Stream                        :        8 variable    160816       11    165384
Route table                   :      251     56       14248      253     14360
Route node                    :       54    120        6496       67      8056
Thread                        :       26    160        4384       26      4384
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       23     96        2408       23      2408
Typed-hash bucket             :       17 variable      1016       23      1232
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        2    216         432        2       432
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        3    304         936        3       936
OSPF neighbor                 :        6   1520        9168        6      9168
OSPF route                    :       16     64        1152       21      1512
OSPF LSA                      :        7    128         952       11      1512
OSPF LSA data                 :        7 variable       392       11       624
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        3     24          72        6       160
OSPF FIFO queue               :        3     24          72        3        72
OSPF vertex                   :        0     80           0        7       632
OSPF vertex parent            :        0     32           0        9       360
OSPF nexthop                  :        0      8           0       16       400
OSPF path                     :       22     48        1232       27      1512
OSPF if info                  :        5     40         200        5       200
OSPF if params                :        6    120         720        6       720
OSPF MPLS parameters          :        5    248        1240        5      1240
OSPF Extended parameters      :        5    136         680        5       680
OSPF opaque function table    :        6    112         736        6       736
OSPF External route table     :        1     16          24        1        24
OSPF Redistriute              :        1     32          40        1        40

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1585 KiB
  Free small blocks:     1488 bytes
  Free ordinary blocks:  91 KiB
  Ordinary blocks:       5
  Small blocks:          41
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156304
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         392        7       392
Link List                     :       19     40         792       24       992
Link Node                     :      144     24        3520      199      4904
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1056       10      1056
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124408     5182    124560
Vector index                  :     5175 variable    163880     5182    164128
VRF                           :        2    216         448        2       448
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  231 MiB
  Holding block headers: 100 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  228 MiB
  Free small blocks:     1856 bytes
  Free ordinary blocks:  2730 KiB
  Ordinary blocks:       60450
  Small blocks:          54
  Holding blocks:        16
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       112
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937912
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      627 variable     30776      627     30776
Hash Bucket                   :     2522     32      101296     2524    101376
Hash Index                    :      314 variable    480432      314    480432
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         424        7       424
Link List                     :       69     40        2840       77      3192
Link Node                     :      386     24        9328      627     15240
Temporary memory              :   100041 variable  13603720   100046  13603920
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        7    144        1064        7      1064
Nexthop label                 :        5      8         120        5       120
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         408        7       408
Privilege information         :        3 variable       136        3       136
Ring buffer                   :        8 variable    393408        8    393408
Skip List                     :    50013     56     3008616    50014   3008672
Skip Node                     :   100028 variable  10412160   100029  10412328
Skiplist Counters             :    50013     68     3600952    50014   3601024
Socket union                  :        6    112         720        6       720
Stream                        :        9 variable    425896       18    688720
Stream FIFO                   :        8     64         576        8       576
Route table                   :      170     56        9600      170      9600
Thread                        :       25    160        4200       25      4200
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       23     96        2456       23      2456
Typed-hash bucket             :       13 variable   4212280       13   4212280
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
VTY output buffer             :        0 variable         0        1      1288
Work queue                    :        4    144         608        4       608
Work queue item               :        0     24           0        2        48
Work queue name string        :        4 variable        96        4        96
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       368
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        2     24          48        2        48
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        5     16         120        5       120
Mac Hash Entry Intf String    :        5 variable       120        6       144
BGP instance                  :       10 variable     21584       10     21584
BGP listen socket details     :        6 variable       672        6       672
BGP peer                      :        6  20864      125232        6    125232
BGP peer hostname             :       10 variable       240       11       264
BGP peer af                   :        2     80         176        2       176
BGP update group              :        2    104         208        2       208
BGP update subgroup           :        2    240         496        2       496
BGP packet                    :        2     56         144        3       216
BGP attribute                 :       33    328       10840       33     10840
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :      157     56        8920      157      8920
BGP node                      :   300072    192    60014496   300072  60014496
BGP route                     :   250055    136    34008088   250055  34008088
BGP ancillary route info      :   200050    432    88022048   200050  88022048
BGP connected                 :        4      4          96        4        96
BGP adv attr                  :        0     24           0        3        72
BGP adv                       :        0     64           0    12646    910512
BGP synchronise               :        2     48         128        2       128
BGP adj out                   :    50015     96     5201752    51496   5355776
community                     :        3     40         120        4       160
community val                 :        3      4          72        4        96
community str                 :        3   8192       24600        3     24600
extcommunity                  :        9     40         408       10       464
extcommunity val              :        9 variable       216       10       240
extcommunity str              :        7 variable       776        8       928
community-list handler        :        1    120         136        1       136
Cluster list                  :        1     24          24        1        24
Cluster list val              :        1      4          24        1        24
BGP Process queue             :        0     32           0        2        96
BGP nexthop                   :        5    184         920        5       920
BGP own address               :        4     64         288        4       288
Large Community               :        7     40         296        8       336
Large Community display string:        7     35         312        7       312
Large Community value         :        7     12         168        8       192
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        2     34          80        2        80
BGP Martian Addr Intf String  :        4 variable        96        4        96
BGP PBR Context               :        2     32          80        2        80
BGP interface context         :        5      4         120        5       120
BGP EVPN instance information :        2     56         112        2       112
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :    50015     40     2049688    50015   2049688
RFAPI IT Extra                :    50013     40     2009976    50013   2009976

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1371 KiB
  Free small blocks:     1424 bytes
  Free ordinary blocks:  93 KiB
  Ordinary blocks:       2
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3        88
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      290     32       11648      290     11648
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        5    272        1400        5      1400
Connected                     :        7     48         392        7       392
Link List                     :       19     40         808       24      1008
Link Node                     :      130     24        3152      182      4416
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        7     56         392        7       392
Stream                        :        3 variable     63896        4     80320
Route table                   :        8     56         448        8       448
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable        72        1        72
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        2    216         432        2       432
VRF bit-map                   :        6      8         144        6       144
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :       10 variable       720       10       720:
Tue Oct 31 07:36:00 2023 (#173) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show thread cpu":.:pass:BGPd heap: 7744 KiB --&gt; 231 MiB (4.4651 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.250        62        4        10        4        10         0         0          0  R      mgmt_fe_adapter_read
    0          0.038        61        0         4        1         5         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          2.519        71       35       130       36       131         0         0          0  R      vtysh_read
    1          0.006         1        6         6        6         6         0         0          0  R      mgmt_be_adapter_read
    0          0.388         1      388       388      389       389         0         0          0     E   frr_config_read_in
    0          0.028         1       28        28       29        29         0         0          0    T    mgmt_be_adapter_conn_init
    0          0.353        62        5        35        6        35         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.066        61        1         2        1         2         0         0          0   W     mgmt_fe_adapter_write
    1          0.013         1       13        13       13        13         0         0          0  R      mgmt_fe_conn_accept
    1          0.603        32       18        62       19        63         0         0          0  R      vtysh_accept
    0          0.122        62        1         8        2         9         0         0          0   W     mgmt_fe_client_write
    1          0.172        61        2         7        3         7         0         0          0  R      mgmt_fe_client_read
    0          0.048         1       48        48       49        49         0         0          0    T    mgmt_fe_client_conn_timeout
    0          0.003         1        3         3        3         3         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.033         1       33        33       34        34         0         0          0  R      mgmt_be_conn_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.642       479        9       388       10       389         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.004         1        4         4        4         4         0         0          0    T    rib_sweep_route
    1          0.615        32       19       184       20       185         0         0          0  R      vtysh_accept
    0        153.514       677      226      1534      227      1534         0         0          0     E   rib_process_dplane_results
    0        331.816     12549       26     10992       27     10992         0         0          0    TE   work_queue_run
    1          0.686         6      114       129      114       129         0         0          0  R      zserv_accept
    0          9.277        72      128      6702      129      6703         0         0          0  R      vtysh_read
    1          0.112         9       12        27       13        28         0         0          0  R      kernel_read
    0          1.677         1     1677      1677     1678      1678         0         0          0     E   frr_config_read_in
    0        198.325     20735        9      1829       10      1830         0         0          0     E   zserv_process_messages
    0          0.296         6       49       106       50       106         0         0          0    T    if_zebra_speed_update


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.137         1      137       137      138       138         0         0          0     E   dplane_incoming_request
    1          0.136         7       19        74       19        74         0         0          0  R      dplane_incoming_read
    0       1932.903       734     2633     11226    17666    985986         0         0          0     E   dplane_thread_loop


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.023         4        5        10        6        10         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.053         2       26        37       27        38         0         0          0  R      zserv_read
    0          0.114         5       22        41       26        56         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.561        25       22        42       23        44         0         0          0  R      zserv_read
    0          0.098         4       24        37       28        50         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1        391.869     26200       14     23245       16     25143         0         0          0  R      zserv_read
    0          0.173        13       13        23       13        24         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.026         1       26        26       27        27         0         0          0  R      zserv_read
    0          0.042         3       14        21       14        22         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.196         8       24        51       25        52         0         0          0  R      zserv_read
    0          0.175        14       12        31       13        31         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.069         3       23        29       23        30         0         0          0  R      zserv_read
    0          0.036         3       12        15       13        16         0         0          0   W     zserv_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10       3022.933     61115       49     23245      230    985986         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.016         5        3         5        4         6         0         0          0    T    ospf_lsa_refresh_walker
    0          0.005         3        1         2        2         3         0         0          0     E   ospf_ls_ack_send_event
    3          0.006        27        0         1        0         2         0         0          0    T    (ospf_ls_req_timer)
    2          0.098        94        1        12        1        13         0         0          0    T    (ospf_ls_ack_timer)
    0          0.273         8       34        82       34        83         0         0          0    T    ospf_spf_calculate_schedule_worker
    0          0.175         7       25        41       25        42         0         0          0     E   ospf_ism_event
    1          0.197        56        3        19        3        20         0         0          0  R      zclient_read
    1          1.459        94       15        46       16        47         0         0          0  R      ospf_read
    0          0.004         2        2         4        2         4         0         0          0    T    (ospf_wait_timer)
    1          0.500        32       15        45       16        46         0         0          0  R      vtysh_accept
    0          0.012         4        3         5        3         6         0         0          0    T    ospf_ase_calculate_timer
    2          0.306        58        5        29        5        31         0         0          0    T    (ospf_hello_timer)
    0          0.437       184        2        42        2        43         0         0          0     EX  ospf_nsm_event
    0          0.032        15        2         4        2         5         0         0          0     E   ospf_ls_upd_send_queue_event
    0          2.651        54       49       118       49       118         0         0          0   W     ospf_write
    3          0.061        27        2         7        2         9         0         0          0    T    (ospf_ls_upd_timer)
    1          0.008         1        8         8        9         9         0         0          0    T    ospf_lsa_maxage_walker
    0          0.708         1      708       708      709       709         0         0          0     E   frr_config_read_in
    0          2.343        71       33       136       33       137         0         0          0  R      vtysh_read
    0          0.064         1       64        64       65        65         0         0          0     E   zclient_connect


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   15          9.355       744       12       708       13       709         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.231        57        4        19        4        20         0         0          0   W     iev-&gt;handler_write
    1          0.253        54        4        20        5        21         0         0          0  R      zclient_read
    0          0.389         1      389       389      389       389         0         0          0     E   frr_config_read_in
    2          0.269        11       24        69       25        70         0         0          0  R      iev_lde-&gt;handler_read
    1          0.398        32       12        26       13        27         0         0          0  R      vtysh_accept
    2          0.378        14       27        67       27        68         0         0          0  R      iev_ldpe-&gt;handler_read
    0          2.166        71       30       126       30       126         0         0          0  R      vtysh_read
    0          0.009         1        9         9        9         9         0         0          0     E   ldp_config_fork_apply
    0          0.050         1       50        50       52        52         0         0          0     E   zclient_connect


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.143       242       17       389       17       389         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.357         9       39        65       62       121         0         0          0     E   bgp_event
    0          0.051         2       25        37       26        38         0         0          0    T    subgroup_coalesce_timer
    0          0.063         2       31        49       32        51         0         0          0     E   zclient_connect
    0        549.407       175     3139     42886     4166     42886         0         0          0    T    work_queue_run
    0          0.026         1       26        26       27        27         0         0          0    T    (bgp_start_timer)
    0          9.662        97       99      3465      100      3466         0         0          0  R      vtysh_read
    0          0.060        10        6         8        6         9         0         0          0    T    update_group_refresh_default_originate_route_map
    0          0.000         1        0         0        1         1         0         0          0    T    update_subgroup_merge_check_thread_cb
    2          0.457        76        6       141        6       141         0         0          0  R      zclient_read
    0          0.036         2       18        34       10        18         0         0          0   W     bgp_connect_check
    0         42.410       322      131      2971      132      2971         0         0          0    T    (bgp_generate_updgrp_packets)
    0        555.310       170     3266     69405     3305     69404         0         0          0     E   bgp_process_packet
    1          0.543        32       16        39       17        40         0         0          0  R      vtysh_accept
    0          0.007         4        1         3        2         4         0         0          0    T    (bgp_routeadv_timer)
    0          1.441         1     1441      1441     1442      1442         0         0          0     E   frr_config_read_in


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          7.270       177       41       117       41       117         0         0          0   W     bgp_process_writes
    2          4.070       181       22        80       23        81         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    5       1171.170      1262      928     69405     1076     69404         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.179        46        3        29        4        29         0         0          0  R      zclient_read
    1          0.439        32       13        25       14        27         0         0          0  R      vtysh_accept
    0          0.065         1       65        65       65        65         0         0          0     E   zclient_connect
    0          2.218        71       31       151       31       152         0         0          0  R      vtysh_read
    0          0.057         1       57        57       57        57         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.005         1        5         5        5         5         0         0          0   W     mgmt_be_client_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          2.963       152       19       151       20       152         0         0          0  RWTEX  TOTAL:
R:173  r3     BGPd heap: 7744 KiB --&gt; 231 MiB (4.4651 KiB/vpn route)   1    0
Tue Oct 31 07:36:00 2023 (#174) scripts/scale_up.py:0 COMMAND:r3:vtysh -c "show thread cpu":.:pass:Zebra heap: 6012 KiB --&gt; 35 MiB (0.5798 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.256        64        4        10        4        10         0         0          0  R      mgmt_fe_adapter_read
    0          0.038        63        0         4        1         5         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          2.623        74       35       130       36       131         0         0          0  R      vtysh_read
    1          0.006         1        6         6        6         6         0         0          0  R      mgmt_be_adapter_read
    0          0.388         1      388       388      389       389         0         0          0     E   frr_config_read_in
    0          0.028         1       28        28       29        29         0         0          0    T    mgmt_be_adapter_conn_init
    0          0.360        64        5        35        6        35         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.068        63        1         2        1         2         0         0          0   W     mgmt_fe_adapter_write
    1          0.013         1       13        13       13        13         0         0          0  R      mgmt_fe_conn_accept
    1          0.612        33       18        62       19        63         0         0          0  R      vtysh_accept
    0          0.124        64        1         8        2         9         0         0          0   W     mgmt_fe_client_write
    1          0.176        63        2         7        3         7         0         0          0  R      mgmt_fe_client_read
    0          0.048         1       48        48       49        49         0         0          0    T    mgmt_fe_client_conn_timeout
    0          0.003         1        3         3        3         3         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    1          0.033         1       33        33       34        34         0         0          0  R      mgmt_be_conn_accept


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.776       495        9       388       10       389         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.004         1        4         4        4         4         0         0          0    T    rib_sweep_route
    1          0.623        33       18       184       19       185         0         0          0  R      vtysh_accept
    0        153.514       677      226      1534      227      1534         0         0          0     E   rib_process_dplane_results
    0        331.816     12549       26     10992       27     10992         0         0          0    TE   work_queue_run
    1          0.686         6      114       129      114       129         0         0          0  R      zserv_accept
    0          9.428        75      125      6702      126      6703         0         0          0  R      vtysh_read
    1          0.112         9       12        27       13        28         0         0          0  R      kernel_read
    0          1.677         1     1677      1677     1678      1678         0         0          0     E   frr_config_read_in
    0        198.325     20735        9      1829       10      1830         0         0          0     E   zserv_process_messages
    0          0.296         6       49       106       50       106         0         0          0    T    if_zebra_speed_update


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.137         1      137       137      138       138         0         0          0     E   dplane_incoming_request
    1          0.136         7       19        74       19        74         0         0          0  R      dplane_incoming_read
    0       1932.903       734     2633     11226    17666    985986         0         0          0     E   dplane_thread_loop


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.023         4        5        10        6        10         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.053         2       26        37       27        38         0         0          0  R      zserv_read
    0          0.114         5       22        41       26        56         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.561        25       22        42       23        44         0         0          0  R      zserv_read
    0          0.098         4       24        37       28        50         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1        391.869     26200       14     23245       16     25143         0         0          0  R      zserv_read
    0          0.173        13       13        23       13        24         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.026         1       26        26       27        27         0         0          0  R      zserv_read
    0          0.042         3       14        21       14        22         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.196         8       24        51       25        52         0         0          0  R      zserv_read
    0          0.175        14       12        31       13        31         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.069         3       23        29       23        30         0         0          0  R      zserv_read
    0          0.036         3       12        15       13        16         0         0          0   W     zserv_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10       3023.092     61119       49     23245      230    985986         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.016         5        3         5        4         6         0         0          0    T    ospf_lsa_refresh_walker
    0          0.005         3        1         2        2         3         0         0          0     E   ospf_ls_ack_send_event
    3          0.006        27        0         1        0         2         0         0          0    T    (ospf_ls_req_timer)
    2          0.098        94        1        12        1        13         0         0          0    T    (ospf_ls_ack_timer)
    0          0.273         8       34        82       34        83         0         0          0    T    ospf_spf_calculate_schedule_worker
    0          0.175         7       25        41       25        42         0         0          0     E   ospf_ism_event
    1          0.197        56        3        19        3        20         0         0          0  R      zclient_read
    1          1.459        94       15        46       16        47         0         0          0  R      ospf_read
    0          0.004         2        2         4        2         4         0         0          0    T    (ospf_wait_timer)
    1          0.510        33       15        45       16        46         0         0          0  R      vtysh_accept
    0          0.012         4        3         5        3         6         0         0          0    T    ospf_ase_calculate_timer
    2          0.306        58        5        29        5        31         0         0          0    T    (ospf_hello_timer)
    0          0.437       184        2        42        2        43         0         0          0     EX  ospf_nsm_event
    0          0.032        15        2         4        2         5         0         0          0     E   ospf_ls_upd_send_queue_event
    0          2.651        54       49       118       49       118         0         0          0   W     ospf_write
    3          0.061        27        2         7        2         9         0         0          0    T    (ospf_ls_upd_timer)
    1          0.008         1        8         8        9         9         0         0          0    T    ospf_lsa_maxage_walker
    0          0.708         1      708       708      709       709         0         0          0     E   frr_config_read_in
    0          2.461        74       33       136       33       137         0         0          0  R      vtysh_read
    0          0.064         1       64        64       65        65         0         0          0     E   zclient_connect


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   15          9.483       748       12       708       13       709         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.231        57        4        19        4        20         0         0          0   W     iev-&gt;handler_write
    1          0.253        54        4        20        5        21         0         0          0  R      zclient_read
    0          0.389         1      389       389      389       389         0         0          0     E   frr_config_read_in
    2          0.269        11       24        69       25        70         0         0          0  R      iev_lde-&gt;handler_read
    1          0.406        33       12        26       12        27         0         0          0  R      vtysh_accept
    2          0.378        14       27        67       27        68         0         0          0  R      iev_ldpe-&gt;handler_read
    0          2.256        74       30       126       30       126         0         0          0  R      vtysh_read
    0          0.009         1        9         9        9         9         0         0          0     E   ldp_config_fork_apply
    0          0.050         1       50        50       52        52         0         0          0     E   zclient_connect


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.241       246       17       389       17       389         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.357         9       39        65       62       121         0         0          0     E   bgp_event
    0          0.051         2       25        37       26        38         0         0          0    T    subgroup_coalesce_timer
    0          0.063         2       31        49       32        51         0         0          0     E   zclient_connect
    0        549.407       175     3139     42886     4166     42886         0         0          0    T    work_queue_run
    0          0.026         1       26        26       27        27         0         0          0    T    (bgp_start_timer)
    0          9.794       100       97      3465       98      3466         0         0          0  R      vtysh_read
    0          0.060        10        6         8        6         9         0         0          0    T    update_group_refresh_default_originate_route_map
    0          0.000         1        0         0        1         1         0         0          0    T    update_subgroup_merge_check_thread_cb
    2          0.457        76        6       141        6       141         0         0          0  R      zclient_read
    0          0.036         2       18        34       10        18         0         0          0   W     bgp_connect_check
    0         42.410       322      131      2971      132      2971         0         0          0    T    (bgp_generate_updgrp_packets)
    0        555.310       170     3266     69405     3305     69404         0         0          0     E   bgp_process_packet
    1          0.553        33       16        39       17        40         0         0          0  R      vtysh_accept
    0          0.007         4        1         3        2         4         0         0          0    T    (bgp_routeadv_timer)
    0          1.441         1     1441      1441     1442      1442         0         0          0     E   frr_config_read_in


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          7.270       177       41       117       41       117         0         0          0   W     bgp_process_writes
    2          4.070       181       22        80       23        81         0         0          0  R      bgp_process_reads


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    5       1171.312      1266      925     69405     1073     69404         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.179        46        3        29        4        29         0         0          0  R      zclient_read
    1          0.447        33       13        25       14        27         0         0          0  R      vtysh_accept
    0          0.065         1       65        65       65        65         0         0          0     E   zclient_connect
    0          2.310        74       31       151       31       152         0         0          0  R      vtysh_read
    0          0.057         1       57        57       57        57         0         0          0    T    mgmt_be_client_conn_timeout
    0          0.005         1        5         5        5         5         0         0          0   W     mgmt_be_client_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          3.063       156       19       151       20       152         0         0          0  RWTEX  TOTAL:
R:174  r3     Zebra heap: 6012 KiB --&gt; 35 MiB (0.5798 KiB/vpn route)   1    0
Tue Oct 31 07:36:00 2023 (#175) scripts/scale_up.py:0 COMMAND:r4:vtysh -c "show memory":zebra: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*) .*bgpd: System allocator statistics:   Total heap allocated: *(\d*) ([A-Za-z]*):none:collect bgpd memory stats:
COMMAND OUTPUT:Memory statistics for mgmtd:
System allocator statistics:
  Total heap allocated:  1796 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1629 KiB
  Free small blocks:     1440 bytes
  Free ordinary blocks:  168 KiB
  Ordinary blocks:       5
  Small blocks:          42
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        2     24          48        2        48
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     1634     72      117664     1637    117880
Command Token Text            :     1221 variable     39624     1223     39696
Command Token Help            :     1221 variable     29368     1223     29416
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      455 variable     10936      457     10984
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       11      8         264       12       288
Graph Node                    :     1880     32       75392     1883     75512
Hash                          :       32 variable      1616       32      1616
Hash Bucket                   :      323     32       13000      323     13000
Hash Index                    :       16 variable     11920       17     12104
Link List                     :        6     40         272       11       472
Link Node                     :       26     24         656       80      2064
Temporary memory              :        4 variable        96       20     61696
MGMTD Frontend session        :        1     40          40        1        56
Northbound Node               :      193   1192      230056      193    230056
Northbound Configuration      :        3     24          72        3        72
Privilege information         :        2 variable        96        2        96
Stream                        :        3 variable     34488        5     52552
Thread                        :       10    160        1680       10      1680
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       16     96        1696       16      1696
Typed-hash bucket             :        1     16          24        1        24
Typed-heap array              :        0    576           0        1       584
Vector                        :     3785     24       90984     3790     91104
Vector index                  :     3785 variable    122200     3790    122352
VRF                           :        1    216         216        1       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         136        3       136
YANG module                   :        6     48         336        6       336
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem mgmt ---
Type                          : Current#   Size       Total     Max#  MaxBytes
MGMTD backend adapter         :        1 131512      131512        1    131512
MGMTD Frontend adapter        :        1    712         712        1       712
MGMTD Frontend Client Session :        1     80          88        1        88

Memory statistics for zebra:
System allocator statistics:
  Total heap allocated:  70 MiB
  Holding block headers: 290 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  53 MiB
  Free small blocks:     460 KiB
  Free ordinary blocks:  17 MiB
  Ordinary blocks:       150363
  Small blocks:          4955
  Holding blocks:        38
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        8     24         192        8       192
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        7 variable       296        7       296
Command Tokens                :     4952     72      356656     4958    357088
Command Token Text            :     3541 variable    117896     3547    118056
Command Token Help            :     3541 variable     85048     3547     85192
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     1198 variable     28752     1202     28848
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        8    128        1088        8      1088
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :       16 variable      1296       16      1296
POSIX sync primitives         :       16 variable       784       16       784
Graph                         :       31      8         760       32       784
Graph Node                    :     5780     32      231632     5785    231832
Hash                          :     1380 variable     66976     1380     66976
Hash Bucket                   :     1112     32       44784     1116     44944
Hash Index                    :      690 variable    189136      691    189272
Hook entry                    :       14     48         784       14       784
Interface                     :        6    272        1680        6      1680
Intf Desc                     :        3      7          72        3        72
Connected                     :        7     48         392        8       448
Link List                     :       76     40        3168       83      3432
Link Node                     :      760     24       18400    50597   1214488
Temporary memory              :        4 variable        96        7       696
Bitfield memory               :        1   2052        2056        1      2056
Nexthop                       :       55    144        8360    29810   4531120
Nexthop label                 :       22 variable       528    29777    714648
NetNS Context                 :        2 variable       128        2       128
NetNS Name                    :        1     18          24        1        24
Nexthop Group                 :        0     32           0        1        56
Northbound Node               :      676   1192      805792      676    805792
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        4   1032        4128        4      4128
Prefix                        :        7     56         392        8       448
Privilege information         :        4 variable       160        4       160
Stream                        :       12 variable    284832     4892    784808
Stream FIFO                   :       13     64         936       16      1152
Route table                   :       37     56        2072       37      2072
Route node                    :   200110 variable  24013456   200110  24013456
ASCII table                   :        0 variable         0       49      2056
Thread                        :       40    160        6720       40      6720
Thread master                 :       36 variable 151071840       36 151071840
Thread Poll Info              :       18 8388608  151068384       18 151068384
Thread stats                  :       37     96        3864       37      3864
Typed-hash bucket             :       24 variable   2106608       24   2106608
Typed-heap array              :        1    576         584        1       584
Vector                        :    11625     24      279400    11634    279616
Vector index                  :    11625 variable    368760    11634    369088
VRF                           :        3    216         648        3       648
VRF bit-map                   :       11      8         264       11       264
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
Work queue                    :        3 variable       408        3       408
Work queue item               :        0     24           0        6       144
Work queue name string        :        2 variable        48        2        48
YANG module                   :        8     48         448        8       448
YANG data structure           :        0   1032           0        1      1032
log thread-local buffer       :        9  24608      221544        9    221544
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem Label Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Label Manager Chunk           :        2     20          48        2        48
--- qmem Table Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Table Manager Context         :        1     16          24        1        24
--- qmem SRv6 Manager ---
Type                          : Current#   Size       Total     Max#  MaxBytes
--- qmem zebra ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Zebra Interface Information   :        6    608        3696        6      3696
Zebra Netlink buffers         :        5 variable    270376        5    270376
Zebra DPlane Ctx              :        0   1008           0     1206   1225296
Zebra DPlane Provider         :        1    248         248        1       248
DPlane NSes                   :        1     48          56        1        56
MPLS LSP object               :        7     80         616        7       616
MPLS nexthop object           :        8     48         464       14       800
Nexthop Group Entry           :       37    144        5624    29189   4436728
Nexthop Group Connected       :       44     40        1856       44      1856
Zebra Name Space              :        1    480         488        1       488
ZAPI Opaque Information       :        6     32         240        6       240
PTM BFD process registration table.:        2     32          80        2        80
Route Entry                   :   100052    152    15207936   115174  17506480
RIB destination               :   100055     88     8804936   100055   8804936
WQ wrapper                    :        0 variable         0    29150   3498000
RIB table info                :       12     24         288       12       288
Zebra VRF table               :       12     56         672       12       672
Nexthop tracking object       :        7    248        1736        7      1736
ZEBRA VRF                     :        3   5072       15240        3     15240
MH global info                :        1    128         136        1       136
Zebra neigh table             :        1      8          24        1        24
Zebra neigh entry             :        4     80         352        4       352
ZClients                      :        6   3584       21552        6     21552

Memory statistics for ospfd:
System allocator statistics:
  Total heap allocated:  2564 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  2474 KiB
  Free small blocks:     1648 bytes
  Free ordinary blocks:  90 KiB
  Ordinary blocks:       6
  Small blocks:          45
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4        96
Buffer data                   :        1   4120        4120        2      8240
Host config                   :        6 variable       272        6       272
Command Tokens                :     4296     72      309392     4299    309608
Command Token Text            :     2995 variable     96200     2997     96272
Command Token Help            :     2995 variable     71992     2997     72040
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      813 variable     19512      815     19560
Lexer token (temporary)       :        0 variable         0        2        64
Graph                         :       20      8         480       21       504
Graph Node                    :     5008     32      200880     5011    201000
Hash                          :      258 variable     12560      258     12560
Hash Bucket                   :      825     32       33128      825     33128
Hash Index                    :      129 variable     45320      130     45456
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Informational Link Parameters :        0    120           0        1       120
Link List                     :       76     40        3104       98      3984
Link Node                     :      210     24        5072      253      6216
Temporary memory              :        4 variable        96        8      4368
Bitfield memory               :        0      8           0        1        24
Northbound Node               :      141   1192      168072      141    168072
Northbound Configuration      :        2     24          48        2        48
Northbound Configuration Entry:        1   1032        1032        1      1032
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Stream                        :        7 variable    160728       11    166904
Route table                   :      185     56       10440      187     10552
Route node                    :       50    120        6016       63      7576
Thread                        :       22    160        3696       22      3696
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       23     96        2392       23      2392
Typed-hash bucket             :       15 variable       952       20      1136
Skiplist overflow             :        0     16           0        1        24
Typed-heap array              :        1    576         584        1       584
Vector                        :    10059     24      241720    10064    241840
Vector index                  :    10059 variable    330840    10064    331056
VRF                           :        3    216         648        3       648
VRF bit-map                   :        4      8          96        4        96
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
YANG data structure           :        0   1032           0        1      1032
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     75         176        2       176
--- qmem ospfd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
OSPF top                      :        2 variable      3984        2      3984
OSPF area                     :        1    328         328        1       328
OSPF network                  :        1      8          24        1        24
OSPF interface                :        2    304         624        2       624
OSPF neighbor                 :        4   1520        6112        4      6112
OSPF route                    :       16     64        1152       23      1656
OSPF LSA                      :        7    128         968       16      2192
OSPF LSA data                 :        7 variable       392       16       640
OSPF LSDB                     :        2    408         816        2       816
OSPF packet                   :        2     24          48        6       144
OSPF FIFO queue               :        2     24          48        2        48
OSPF vertex                   :        0     80           0        7       616
OSPF vertex parent            :        0     32           0        7       280
OSPF nexthop                  :        0      8           0       13       312
OSPF path                     :       18     48        1024       25      1416
OSPF if info                  :        6     40         240        6       240
OSPF if params                :        7    120         840        7       840
OSPF MPLS parameters          :        6    248        1488        6      1488
OSPF Extended parameters      :        6    136         816        6       816
OSPF opaque function table    :        6    112         736        6       736
OSPF External route table     :        1     16          24        1        24
OSPF Redistriute              :        1     32          40        1        40

Memory statistics for ldpd:
System allocator statistics:
  Total heap allocated:  1676 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1585 KiB
  Free small blocks:     1552 bytes
  Free ordinary blocks:  91 KiB
  Ordinary blocks:       5
  Small blocks:          43
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          72        3        72
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        7 variable       296        7       296
Command Tokens                :     2167     72      156072     2170    156288
Command Token Text            :     1629 variable     53528     1631     53616
Command Token Help            :     1629 variable     39112     1631     39160
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      486 variable     11664      488     11712
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       20      8         480       21       504
Graph Node                    :     2566     32      102848     2570    103008
Hash                          :      238 variable     11616      238     11616
Hash Bucket                   :      472     32       18960      472     18960
Hash Index                    :      119 variable     35256      120     35344
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Link List                     :       21     40         872       26      1088
Link Node                     :      144     24        3536      199      4936
Temporary memory              :        4 variable        96        7      4312
Northbound Node               :       64   1192       76288       64     76288
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       104        3       104
Stream                        :        2  23728       47472        2     47472
Thread                        :       12    160        2016       12      2016
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :       10     96        1040       10      1040
Typed-hash bucket             :        1 variable       136        1       136
Vector                        :     5175     24      124392     5182    124560
Vector index                  :     5175 variable    163880     5182    164128
VRF                           :        3    216         664        3       664
VRF bit-map                   :        3      8          72        3        72
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        2     48         112        2       112
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     74         176        2       176

Memory statistics for bgpd:
System allocator statistics:
  Total heap allocated:  368 MiB
  Holding block headers: 101 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  364 MiB
  Free small blocks:     1872 bytes
  Free ordinary blocks:  4156 KiB
  Ordinary blocks:       102768
  Small blocks:          54
  Holding blocks:        17
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        4     24          96        4       112
Buffer data                   :        1   4120        4120        3     12360
Host config                   :        7 variable       296        7       296
Command Tokens                :    13011     72      937480    13017    937928
Command Token Text            :     9328 variable    325632     9334    325824
Command Token Help            :     9328 variable    224848     9334    224992
Command Argument              :        2 variable        48        8       192
Command Argument Name         :     2257 variable     54200     2261     54296
Lexer token (temporary)       :        0 variable         0        2        64
RCU thread                    :        2    128         272        2       272
RCU sequence barrier          :        1     32          40        2        80
FRR POSIX Thread              :        4 variable       320        4       320
POSIX sync primitives         :        4 variable       192        4       192
Graph                         :       41      8         984       42      1008
Graph Node                    :    15299     32      613896    15301    613976
Hash                          :      677 variable     33224      677     33224
Hash Bucket                   :     2542     32      102032     2546    102224
Hash Index                    :      339 variable    525880      339    525880
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Link List                     :       85     40        3480       93      3816
Link Node                     :      417     24       10056      658     15920
Temporary memory              :   100031 variable  13602344   100035  13602504
Bitfield memory               :        2 variable     10256        2     10256
Nexthop                       :        7    144        1064        7      1064
Nexthop label                 :        3      8          72        3        72
Northbound Node               :      258   1192      307536      258    307536
Northbound Configuration      :        2     24          48        2        48
Prefix                        :        7     56         392        7       392
Privilege information         :        3 variable       136        3       136
Ring buffer                   :       12 variable    590112       14    688464
Skip List                     :    50008     56     2998192    50009   2998264
Skip Node                     :   150018 variable  12429888   150019  12430056
Skiplist Counters             :    50008     68     3600576    50009   3600648
Socket union                  :        9    112        1080       12      1440
Stream                        :       11 variable    558072       20    820896
Stream FIFO                   :       12     64         864       14      1008
Route table                   :      236     56       13312      236     13312
Thread                        :       31    160        5208       31      5208
Thread master                 :       12 variable  50357280       12  50357280
Thread Poll Info              :        6 8388608   50356128        6  50356128
Thread stats                  :       23     96        2424       23      2424
Typed-hash bucket             :       15 variable   5265056       15   5265056
Typed-heap array              :        1    576         584        1       584
Vector                        :    30683     24      737736    30687    737832
Vector index                  :    30683 variable    966968    30687    967176
VRF                           :        3    216         648        3       648
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         152        3       152
VTY output buffer             :        0 variable         0        1      1304
Work queue                    :        5    144         760        6       912
Work queue item               :        0     24           0        6       144
Work queue name string        :        5 variable       120        6       144
YANG module                   :        5     48         280        5       280
Zclient                       :        2   3144        6288        2      6288
Redistribution instance IDs   :        6      2         144        6       144
log thread-local buffer       :        2  24608       49232        2     49232
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        2     88         176        4       352
log file name                 :        2     74         176        2       176
--- qmem bgpd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Peer KeepAlive Timer          :        3     24          72        3        72
BGP Peer pthread Conditional  :        1     48          56        1        56
BGP Peer pthread Mutex        :        1     40          40        1        40
Mac Hash Entry                :        6     16         160        6       160
Mac Hash Entry Intf String    :        6 variable       144        7       168
BGP instance                  :       16 variable     32400       16     32400
BGP listen socket details     :       10 variable      1008       10      1008
BGP peer                      :        9  20864      187848       10    208720
BGP peer hostname             :       15 variable       360       17       408
BGP peer af                   :        3     80         280        5       456
BGP update group              :        3    104         328        3       328
BGP update subgroup           :        3    240         744        3       744
BGP packet                    :        3     56         184        4       272
BGP attribute                 :       47    328       15416       47     15416
BGP aspath                    :        1     40          40        1        40
BGP aspath str                :        1      1          24        2        48
BGP table                     :      223     56       12600      223     12600
BGP node                      :   400094    192    80018896   400094  80018896
BGP route                     :   400070    136    54409728   400070  54409728
BGP ancillary route info      :   400060    432   176026448   400060 176026448
BGP connected                 :        4      4          96        4        96
BGP adv attr                  :        0     24           0        4        96
BGP adv                       :        0     64           0    24566   1768752
BGP synchronise               :        3     48         168        3       168
BGP adj out                   :   100027     96    10402856   100027  10402856
BGP multipath info            :        8     48         448        8       448
community                     :        3     40         120        4       160
community val                 :        3      4          72        4        96
community str                 :        3   8192       24600        3     24600
extcommunity                  :       10     40         416       11       456
extcommunity val              :       10 variable       240       11       264
extcommunity str              :        6 variable       688        6       688
community-list handler        :        1    120         136        1       136
Cluster list                  :        1     24          24        1        24
Cluster list val              :        1      4          24        1        24
BGP Process queue             :        0     32           0        6       240
BGP nexthop                   :        7    184        1288        7      1288
BGP own address               :        4     64         288        4       288
Large Community               :        7     40         296        8       336
Large Community display string:        7     35         312        7       312
Large Community value         :        7     12         168        8       192
BGP EVPN MH Information       :        1     56          56        1        56
Software Version              :        3     34         120        3       120
BGP Martian Addr Intf String  :        4 variable        96        4        96
BGP PBR Context               :        3     32         120        3       120
BGP interface context         :        6      4         144        6       144
BGP EVPN instance information :        3     56         168        3       168
--- qmem rfapi ---
Type                          : Current#   Size       Total     Max#  MaxBytes
NVE Configuration             :        1   2984        2984        1      2984
RFAPI Generic                 :        1    296         296        1       296
RFAPI Import Table            :        1    208         216        1       216
RFAPI Monitor Encap           :   100010     40     4000752   100010   4000752
RFAPI IT Extra                :    50008     40     2014960    50008   2014960

Memory statistics for staticd:
System allocator statistics:
  Total heap allocated:  1464 KiB
  Holding block headers: 32 MiB
  Used small blocks:     0 bytes
  Used ordinary blocks:  1372 KiB
  Free small blocks:     1392 bytes
  Free ordinary blocks:  92 KiB
  Ordinary blocks:       2
  Small blocks:          39
  Holding blocks:        4
(see system documentation for 'mallinfo' for meaning)
--- qmem libfrr ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Buffer                        :        3     24          88        3       104
Buffer data                   :        1   4120        4120        1      4120
Host config                   :        6 variable       272        6       272
Command Tokens                :     1433     72      103176     1436    103392
Command Token Text            :     1074 variable     34704     1076     34776
Command Token Help            :     1074 variable     25808     1076     25856
Command Argument              :        2 variable        48        5       120
Command Argument Name         :      384 variable      9216      386      9264
Lexer token (temporary)       :        0 variable         0        2        48
Graph                         :       11      8         264       12       288
Graph Node                    :     1649     32       66152     1654     66352
Hash                          :      220 variable     10640      220     10640
Hash Bucket                   :      293     32       11768      293     11768
Hash Index                    :      110 variable     32816      111     32952
Interface                     :        6    272        1680        6      1680
Connected                     :        7     48         392        7       392
Link List                     :       21     40         888       26      1088
Link Node                     :      130     24        3152      182      4432
Temporary memory              :        4 variable        96        6       208
Northbound Node               :      132   1192      157344      132    157344
Northbound Configuration      :        3     24          72        3        72
Prefix                        :        7     56         392        7       392
Stream                        :        3 variable     63896        4     80320
Route table                   :       12     56         672       12       672
Thread                        :        6    160        1008        6      1008
Thread master                 :        4 variable  16785760        4  16785760
Thread Poll Info              :        2 8388608   16785376        2  16785376
Thread stats                  :        8     96         832        8       832
Typed-hash bucket             :        1 variable       136        1       136
Typed-heap array              :        0    576           0        1       584
Vector                        :     3323     24       79896     3332     80112
Vector index                  :     3323 variable    109048     3332    109360
VRF                           :        3    216         648        3       648
VRF bit-map                   :        9      8         216        9       216
VTY                           :        2 variable     30592        2     30592
VTY server                    :        3     32         120        3       120
YANG module                   :        5     48         280        5       280
Zclient                       :        1   3144        3144        1      3144
Redistribution instance IDs   :        3      2          72        3        72
log thread-local buffer       :        1  24608       24616        1     24616
--- qmem logging subsystem ---
Type                          : Current#   Size       Total     Max#  MaxBytes
log file target               :        1     88          88        2       176
log file name                 :        2     77         176        2       176
--- qmem staticd ---
Type                          : Current#   Size       Total     Max#  MaxBytes
Static Route Table Info       :       15 variable      1080       15      1080:
Tue Oct 31 07:36:00 2023 (#175) scripts/scale_up.py:0 COMMAND:r4:vtysh -c "show thread cpu":.:pass:BGPd heap: 8340 KiB --&gt; 368 MiB (7.1932 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.004         1        4         4        5         5         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          0.381        72        5        26        5        27         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.381         1      381       381      382       382         0         0          0     E   frr_config_read_in
    0          2.601        81       32       126       32       126         0         0          0  R      vtysh_read
    0          0.034        71        0         3        1         3         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          0.075        71        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    1          0.292        72        4        13        4        14         0         0          0  R      mgmt_fe_adapter_read
    0          0.068         1       68        68       68        68         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.007         1        7         7        8         8         0         0          0  R      mgmt_be_adapter_read
    1          0.205        71        2         6        3         6         0         0          0  R      mgmt_fe_client_read
    1          0.040         1       40        40       40        40         0         0          0  R      mgmt_be_conn_accept
    1          0.019         1       19        19       20        20         0         0          0  R      mgmt_fe_conn_accept
    1          0.588        37       15        37       16        37         0         0          0  R      vtysh_accept
    0          0.125        72        1         9        2        15         0         0          0   W     mgmt_fe_client_write
    0          0.046         1       46        46       47        47         0         0          0    T    mgmt_be_adapter_conn_init


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.866       554        8       381        9       382         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        192.604       941      204      2516      205      2516         0         0          0     E   rib_process_dplane_results
    0          0.004         1        4         4        5         5         0         0          0    T    rib_sweep_route
    0         18.523        84      220     15513      221     15514         0         0          0  R      vtysh_read
    1          0.126        12       10        24       11        25         0         0          0  R      kernel_read
    0        525.371     13426       39     13959       39     13972         0         0          0    TE   work_queue_run
    0          1.718         1     1718      1718     1719      1719         0         0          0     E   frr_config_read_in
    0        337.473     51918        6      1523        7      1523         0         0          0     E   zserv_process_messages
    1          0.661        37       17       213       18       214         0         0          0  R      vtysh_accept
    1          0.662         6      110       119      110       119         0         0          0  R      zserv_accept
    0          0.535         8       66       183       67       183         0         0          0    T    if_zebra_speed_update


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0       2925.171      1176     2487     11600    11834    986641         0         0          0     E   dplane_thread_loop
    0          0.141         1      141       141      142       142         0         0          0     E   dplane_incoming_request
    1          0.098         5       19        78       19        78         0         0          0  R      dplane_incoming_read


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.017         4        4         6        5         7         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.058         2       29        37       30        39         0         0          0  R      zserv_read
    0          0.091         5       18        43       23        68         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.574        21       27        48       28        49         0         0          0  R      zserv_read
    0          0.092         5       18        29       25        54         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1        664.938     74766        8      2084        9      6775         0         0          0  R      zserv_read
    0          0.184        17       10        26       12        36         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.037         1       37        37       38        38         0         0          0  R      zserv_read
    0          0.042         3       14        24       15        25         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.193         9       21        38       22        39         0         0          0  R      zserv_read
    0          0.137        14        9        21       10        21         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.112         3       37        70       42        83         0         0          0  R      zserv_read
    0          0.051         3       17        20       17        21         0         0          0   W     zserv_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10       4669.613    142469       32     15513      110    986641         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    2          0.023        18        1         9        1        10         0         0          0    T    (ospf_ls_upd_timer)
    1          0.079        46        1         6        2         9         0         0          0    T    (ospf_ls_ack_timer)
    1          1.369        77       17        84       18        85         0         0          0  R      ospf_read
    0          2.127        40       53       127       53       127         0         0          0   W     ospf_write
    0          2.508        81       30       133       31       134         0         0          0  R      vtysh_read
    1          0.008         1        8         8       10        10         0         0          0    T    ospf_lsa_maxage_walker
    0          0.217         7       31        64       31        64         0         0          0    T    ospf_spf_calculate_schedule_worker
    0          0.014         4        3         6        4         8         0         0          0    T    ospf_ase_calculate_timer
    0          0.137         4       34        89       34        89         0         0          0     E   ospf_ism_event
    0          0.013         5        2         3        3         4         0         0          0     E   ospf_ls_upd_send_queue_event
    0          0.402       119        3        40        3        40         0         0          0     EX  ospf_nsm_event
    0          0.636         1      636       636      637       637         0         0          0     E   frr_config_read_in
    0          0.005         1        5         5        6         6         0         0          0    T    (ospf_wait_timer)
    1          0.266        29        9        33        9        35         0         0          0    T    (ospf_hello_timer)
    2          0.005        18        0         4        0         5         0         0          0    T    (ospf_ls_req_timer)
    0          0.073         1       73        73       74        74         0         0          0     E   zclient_connect
    1          0.014         5        2         4        3         6         0         0          0    T    ospf_lsa_refresh_walker
    0          0.001         1        1         1        2         2         0         0          0     E   ospf_ls_ack_send_event
    1          0.557        37       15        49       16        55         0         0          0  R      vtysh_accept
    1          0.196        67        2        16        3        16         0         0          0  R      zclient_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   11          8.650       562       15       636       16       637         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.008         1        8         8        9         9         0         0          0     E   ldp_config_fork_apply
    1          0.403        37       10        20       11        21         0         0          0  R      vtysh_accept
    0          2.336        81       28       148       29       148         0         0          0  R      vtysh_read
    0          0.065         1       65        65       66        66         0         0          0     E   zclient_connect
    1          0.259        63        4        16        4        17         0         0          0  R      zclient_read
    2          0.466        20       23        52       24        53         0         0          0  R      iev_ldpe-&gt;handler_read
    0          0.206        65        3        19        3        19         0         0          0   W     iev-&gt;handler_write
    0          0.330         1      330       330      330       330         0         0          0     E   frr_config_read_in
    2          0.252        10       25        56       25        57         0         0          0  R      iev_lde-&gt;handler_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.325       279       15       330       16       330         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.015         2        7        12        8        13         0         0          0   W     bgp_connect_check
    2          0.727        99        7       153        8       185         0         0          0  R      zclient_read
    0          0.483        15       32        60       62       201         0         0          0     E   bgp_event
    0         12.659       110      115      5142      115      5142         0         0          0  R      vtysh_read
    0          0.033         1       33        33       35        35         0         0          0    T    (bgp_start_timer)
    0          0.061         3       20        39       21        40         0         0          0    T    subgroup_coalesce_timer
    0          0.059         2       29        47       30        47         0         0          0     E   zclient_connect
    0        863.048       126     6849    165677     6855    165718         0         0          0     E   bgp_process_packet
    0        982.082       196     5010     65817     5124     65874         0         0          0    TE   work_queue_run
    0          0.000         1        0         0        0         0         0         0          0    T    update_subgroup_merge_check_thread_cb
    0          0.007         6        1         2        1         2         0         0          0    T    (bgp_routeadv_timer)
    6          0.192         2       96        99       97       101         0         0          0  R      bgp_accept
    0          0.114        15        7        12        8        14         0         0          0    T    update_group_refresh_default_originate_route_map
    1          0.623        37       16        40       17        40         0         0          0  R      vtysh_accept
    0          1.822         1     1822      1822     1823      1823         0         0          0     E   frr_config_read_in
    0         71.137       311      228      4700      229      4698         0         0          0    T    (bgp_generate_updgrp_packets)


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    3          3.646       142       25        77       26        78         0         0          0  R      bgp_process_reads
    0          7.496       183       40       132       42       133         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   12       1944.204      1252     1552    165677     1572    165718         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.187        61        3        25        3        26         0         0          0  R      zclient_read
    0          2.308        81       28       150       29       150         0         0          0  R      vtysh_read
    0          0.060         1       60        60       62        62         0         0          0     E   zclient_connect
    1          0.473        37       12        31       13        32         0         0          0  R      vtysh_accept
    0          0.013         1       13        13       14        14         0         0          0   W     mgmt_be_client_write
    0          0.089         1       89        89       90        90         0         0          0    T    mgmt_be_client_conn_timeout


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          3.130       182       17       150       17       150         0         0          0  RWTEX  TOTAL:
R:175  r4     BGPd heap: 8340 KiB --&gt; 368 MiB (7.1932 KiB/vpn route)   1    0
Tue Oct 31 07:36:00 2023 (#176) scripts/scale_up.py:0 COMMAND:r4:vtysh -c "show thread cpu":.:pass:Zebra heap: 5840 KiB --&gt; 70 MiB (1.2832 KiB/vpn route):
COMMAND OUTPUT:Thread statistics for mgmtd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.004         1        4         4        5         5         0         0          0    T    mgmt_be_adapter_proc_msgbufs
    0          0.389        74        5        26        5        27         0         0          0    T    mgmt_fe_adapter_proc_msgbufs
    0          0.381         1      381       381      382       382         0         0          0     E   frr_config_read_in
    0          2.708        84       32       126       32       126         0         0          0  R      vtysh_read
    0          0.035        73        0         3        1         3         0         0          0    T    mgmt_fe_client_proc_msgbufs
    0          0.077        73        1         2        1         3         0         0          0   W     mgmt_fe_adapter_write
    1          0.301        74        4        13        4        14         0         0          0  R      mgmt_fe_adapter_read
    0          0.068         1       68        68       68        68         0         0          0    T    mgmt_fe_client_conn_timeout
    1          0.007         1        7         7        8         8         0         0          0  R      mgmt_be_adapter_read
    1          0.210        73        2         6        3         6         0         0          0  R      mgmt_fe_client_read
    1          0.040         1       40        40       40        40         0         0          0  R      mgmt_be_conn_accept
    1          0.019         1       19        19       20        20         0         0          0  R      mgmt_fe_conn_accept
    1          0.602        38       15        37       16        37         0         0          0  R      vtysh_accept
    0          0.128        74        1         9        2        15         0         0          0   W     mgmt_fe_client_write
    0          0.046         1       46        46       47        47         0         0          0    T    mgmt_be_adapter_conn_init


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          5.015       570        8       381        9       382         0         0          0  RWTEX  TOTAL

Thread statistics for zebra:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0        192.604       941      204      2516      205      2516         0         0          0     E   rib_process_dplane_results
    0          0.004         1        4         4        5         5         0         0          0    T    rib_sweep_route
    0         18.696        87      214     15513      215     15514         0         0          0  R      vtysh_read
    1          0.126        12       10        24       11        25         0         0          0  R      kernel_read
    0        525.371     13426       39     13959       39     13972         0         0          0    TE   work_queue_run
    0          1.718         1     1718      1718     1719      1719         0         0          0     E   frr_config_read_in
    0        337.473     51918        6      1523        7      1523         0         0          0     E   zserv_process_messages
    1          0.672        38       17       213       18       214         0         0          0  R      vtysh_accept
    1          0.662         6      110       119      110       119         0         0          0  R      zserv_accept
    0          0.535         8       66       183       67       183         0         0          0    T    if_zebra_speed_update


Showing statistics for pthread Zebra dplane thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0       2925.171      1176     2487     11600    11834    986641         0         0          0     E   dplane_thread_loop
    0          0.141         1      141       141      142       142         0         0          0     E   dplane_incoming_request
    1          0.098         5       19        78       19        78         0         0          0  R      dplane_incoming_read


Showing statistics for pthread Zebra Opaque thread
--------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.017         4        4         6        5         7         0         0          0     E   process_messages


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.058         2       29        37       30        39         0         0          0  R      zserv_read
    0          0.091         5       18        43       23        68         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.574        21       27        48       28        49         0         0          0  R      zserv_read
    0          0.092         5       18        29       25        54         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1        664.938     74766        8      2084        9      6775         0         0          0  R      zserv_read
    0          0.184        17       10        26       12        36         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.037         1       37        37       38        38         0         0          0  R      zserv_read
    0          0.042         3       14        24       15        25         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.193         9       21        38       22        39         0         0          0  R      zserv_read
    0          0.137        14        9        21       10        21         0         0          0   W     zserv_write


Showing statistics for pthread Zebra API client thread
------------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.112         3       37        70       42        83         0         0          0  R      zserv_read
    0          0.051         3       17        20       17        21         0         0          0   W     zserv_write


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   10       4669.797    142473       32     15513      110    986641         0         0          0  RWTEX  TOTAL

Thread statistics for ospfd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    2          0.023        18        1         9        1        10         0         0          0    T    (ospf_ls_upd_timer)
    1          0.079        46        1         6        2         9         0         0          0    T    (ospf_ls_ack_timer)
    1          1.369        77       17        84       18        85         0         0          0  R      ospf_read
    0          2.127        40       53       127       53       127         0         0          0   W     ospf_write
    0          2.623        84       31       133       31       134         0         0          0  R      vtysh_read
    1          0.008         1        8         8       10        10         0         0          0    T    ospf_lsa_maxage_walker
    0          0.217         7       31        64       31        64         0         0          0    T    ospf_spf_calculate_schedule_worker
    0          0.014         4        3         6        4         8         0         0          0    T    ospf_ase_calculate_timer
    0          0.137         4       34        89       34        89         0         0          0     E   ospf_ism_event
    0          0.013         5        2         3        3         4         0         0          0     E   ospf_ls_upd_send_queue_event
    0          0.402       119        3        40        3        40         0         0          0     EX  ospf_nsm_event
    0          0.636         1      636       636      637       637         0         0          0     E   frr_config_read_in
    0          0.005         1        5         5        6         6         0         0          0    T    (ospf_wait_timer)
    1          0.266        29        9        33        9        35         0         0          0    T    (ospf_hello_timer)
    2          0.005        18        0         4        0         5         0         0          0    T    (ospf_ls_req_timer)
    0          0.073         1       73        73       74        74         0         0          0     E   zclient_connect
    1          0.014         5        2         4        3         6         0         0          0    T    ospf_lsa_refresh_walker
    0          0.001         1        1         1        2         2         0         0          0     E   ospf_ls_ack_send_event
    1          0.571        38       15        49       16        55         0         0          0  R      vtysh_accept
    1          0.196        67        2        16        3        16         0         0          0  R      zclient_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   11          8.779       566       15       636       16       637         0         0          0  RWTEX  TOTAL

Thread statistics for ldpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.008         1        8         8        9         9         0         0          0     E   ldp_config_fork_apply
    1          0.416        38       10        20       11        21         0         0          0  R      vtysh_accept
    0          2.447        84       29       148       29       148         0         0          0  R      vtysh_read
    0          0.065         1       65        65       66        66         0         0          0     E   zclient_connect
    1          0.259        63        4        16        4        17         0         0          0  R      zclient_read
    2          0.466        20       23        52       24        53         0         0          0  R      iev_ldpe-&gt;handler_read
    0          0.206        65        3        19        3        19         0         0          0   W     iev-&gt;handler_write
    0          0.330         1      330       330      330       330         0         0          0     E   frr_config_read_in
    2          0.252        10       25        56       25        57         0         0          0  R      iev_lde-&gt;handler_read


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    6          4.449       283       15       330       16       330         0         0          0  RWTEX  TOTAL

Thread statistics for bgpd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    0          0.015         2        7        12        8        13         0         0          0   W     bgp_connect_check
    2          0.727        99        7       153        8       185         0         0          0  R      zclient_read
    0          0.483        15       32        60       62       201         0         0          0     E   bgp_event
    0         12.800       113      113      5142      113      5142         0         0          0  R      vtysh_read
    0          0.033         1       33        33       35        35         0         0          0    T    (bgp_start_timer)
    0          0.061         3       20        39       21        40         0         0          0    T    subgroup_coalesce_timer
    0          0.059         2       29        47       30        47         0         0          0     E   zclient_connect
    0        863.048       126     6849    165677     6855    165718         0         0          0     E   bgp_process_packet
    0        982.082       196     5010     65817     5124     65874         0         0          0    TE   work_queue_run
    0          0.000         1        0         0        0         0         0         0          0    T    update_subgroup_merge_check_thread_cb
    0          0.007         6        1         2        1         2         0         0          0    T    (bgp_routeadv_timer)
    6          0.192         2       96        99       97       101         0         0          0  R      bgp_accept
    0          0.114        15        7        12        8        14         0         0          0    T    update_group_refresh_default_originate_route_map
    1          0.632        38       16        40       17        40         0         0          0  R      vtysh_accept
    0          1.822         1     1822      1822     1823      1823         0         0          0     E   frr_config_read_in
    0         71.137       311      228      4700      229      4698         0         0          0    T    (bgp_generate_updgrp_packets)


Showing statistics for pthread BGP I/O thread
---------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    3          3.646       142       25        77       26        78         0         0          0  R      bgp_process_reads
    0          7.496       183       40       132       42       133         0         0          0   W     bgp_process_writes


Showing statistics for pthread BGP Keepalives thread
----------------------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
No data to display yet.


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
   12       1944.354      1256     1548    165677     1567    165718         0         0          0  RWTEX  TOTAL

Thread statistics for staticd:

Showing statistics for pthread default
--------------------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn Starv_Warn Type   Thread
    1          0.187        61        3        25        3        26         0         0          0  R      zclient_read
    0          2.404        84       28       150       29       150         0         0          0  R      vtysh_read
    0          0.060         1       60        60       62        62         0         0          0     E   zclient_connect
    1          0.493        38       12        31       13        32         0         0          0  R      vtysh_accept
    0          0.013         1       13        13       14        14         0         0          0   W     mgmt_be_client_write
    0          0.089         1       89        89       90        90         0         0          0    T    mgmt_be_client_conn_timeout


Total thread statistics
-------------------------
                               CPU (user+system): Real (wall-clock):
Active   Runtime(ms)   Invoked Avg uSec Max uSecs Avg uSec Max uSecs  CPU_Warn Wall_Warn  Type  Thread
    2          3.246       186       17       150       18       150         0         0          0  RWTEX  TOTAL:
R:176  r4     Zebra heap: 5840 KiB --&gt; 70 MiB (1.2832 KiB/vpn route)   1    0

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase><testcase classname="bgp_l3vpn_to_bgp_vrf.test_bgp_l3vpn_to_bgp_vrf" name="test_check_scale_down" time="42.272"><system-out>--------------------------------- Captured Log ---------------------------------

--------------------------------- Captured Out ---------------------------------
FILE: scripts/scale_down.py
luInclude: execfile /home/cnic/frr-pr/tests/topotests/bgp_l3vpn_to_bgp_vrf/scripts/scale_down.py
Tue Oct 31 07:36:01 2023 (#177) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show ip route" | grep -c \ 10\.\*/32:(.*):pass:Looking for sharp routes:
COMMAND OUTPUT:50000:
R:177  ce1    Looking for sharp routes                                 1    0
Tue Oct 31 07:36:01 2023 (#178) scripts/scale_down.py:0 COMMAND:ce3:vtysh -c "show bgp sum":.:pass:See 50000 sharp routes:
COMMAND OUTPUT:
IPv4 Unicast Summary (VRF default):
BGP router identifier 99.0.0.3, local AS number 5227 vrf-id 0
BGP table version 95001
RIB entries 100023, using 18 MiB of memory
Peers 1, using 20 KiB of memory

Neighbor        V         AS   MsgRcvd   MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd   PfxSnt Desc
192.168.1.1     4       5227       126        24    95001    0    0 00:00:55        50008        5 N/A

Total number of neighbors 1:
R:178  ce3    See 50000 sharp routes                                   1    0
Tue Oct 31 07:36:01 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni" | grep Display:.:none:BGP routes pre remove:
COMMAND OUTPUT:Displayed  50012 routes and 50012 total paths:
Tue Oct 31 07:36:01 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:ip route show | cat -n | tail:.:none:Linux routes pre remove:
COMMAND OUTPUT: 49999	10.0.195.74 nhid 10 via 99.0.0.1 dev lo proto 194 metric 20 
 50000	10.0.195.75 nhid 10 via 99.0.0.1 dev lo proto 194 metric 20 
 50001	10.0.195.76 nhid 10 via 99.0.0.1 dev lo proto 194 metric 20 
 50002	10.0.195.77 nhid 10 via 99.0.0.1 dev lo proto 194 metric 20 
 50003	10.0.195.78 nhid 10 via 99.0.0.1 dev lo proto 194 metric 20 
 50004	10.0.195.79 nhid 10 via 99.0.0.1 dev lo proto 194 metric 20 
 50005	99.0.0.2 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
 50006	99.0.0.3 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
 50007	99.0.0.4 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
 50008	192.168.1.0/24 dev ce1-eth0 proto kernel scope link src 192.168.1.2:
Tue Oct 31 07:36:02 2023 (#179) scripts/scale_down.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni" | grep Display:.:none:BGP routes pre remove:
COMMAND OUTPUT:Displayed  50012 routes and 50015 total paths:
Tue Oct 31 07:36:02 2023 (#179) scripts/scale_down.py:0 COMMAND:ce2:ip route show | cat -n | tail:.:none:Linux routes pre remove:
COMMAND OUTPUT: 49999	10.0.195.74 nhid 11 via 99.0.0.2 dev lo proto 194 metric 20 
 50000	10.0.195.75 nhid 11 via 99.0.0.2 dev lo proto 194 metric 20 
 50001	10.0.195.76 nhid 11 via 99.0.0.2 dev lo proto 194 metric 20 
 50002	10.0.195.77 nhid 11 via 99.0.0.2 dev lo proto 194 metric 20 
 50003	10.0.195.78 nhid 11 via 99.0.0.2 dev lo proto 194 metric 20 
 50004	10.0.195.79 nhid 11 via 99.0.0.2 dev lo proto 194 metric 20 
 50005	99.0.0.1 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
 50006	99.0.0.3 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
 50007	99.0.0.4 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
 50008	192.168.1.0/24 dev ce2-eth0 proto kernel scope link src 192.168.1.2:
Tue Oct 31 07:36:03 2023 (#179) scripts/scale_down.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni" | grep Display:.:none:BGP routes pre remove:
COMMAND OUTPUT:Displayed  50012 routes and 50013 total paths:
Tue Oct 31 07:36:03 2023 (#179) scripts/scale_down.py:0 COMMAND:ce3:ip route show | cat -n | tail:.:none:Linux routes pre remove:
COMMAND OUTPUT: 49999	10.0.195.74 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50000	10.0.195.75 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50001	10.0.195.76 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50002	10.0.195.77 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50003	10.0.195.78 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50004	10.0.195.79 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50005	99.0.0.1 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50006	99.0.0.2 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50007	99.0.0.4 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
 50008	192.168.1.0/24 dev ce3-eth0 proto kernel scope link src 192.168.1.2:
Tue Oct 31 07:36:05 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "sharp remove routes 10.0.0.0 50000":.:none:Removing 50000 routes:
COMMAND OUTPUT:&lt;no output&gt;:
Tue Oct 31 07:36:05 2023 (#179) scripts/scale_down.py:0 COMMAND:ce2:vtysh -c "sharp remove routes 10.0.0.0 50000":.:none:Removing 50000 routes:
COMMAND OUTPUT:&lt;no output&gt;:
scripts/scale_down.py:0 WAIT:ce1:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:200.0:10:
Tue Oct 31 07:36:05 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:
COMMAND OUTPUT:Displayed  47840 routes and 47840 total paths:
Tue Oct 31 07:36:15 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:
COMMAND OUTPUT:Displayed  14339 routes and 14339 total paths:
Tue Oct 31 07:36:25 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:
COMMAND OUTPUT:Displayed  4351 routes and 4351 total paths:
Tue Oct 31 07:36:35 2023 (#179) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:
COMMAND OUTPUT:Displayed  12 routes and 12 total paths:
R:179  ce1    BGP routes removed +30.29 secs                           1    0
Done after 4 loops, time=30.29108190536499, Found= 12 route
Tue Oct 31 07:36:35 2023 (#180) scripts/scale_down.py:0 COMMAND:ce1:vtysh -c "show bgp ipv4 uni":.:none:BGP routes post remove:
COMMAND OUTPUT:BGP table version is 175480, local router ID is 99.0.0.1, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt; 5.1.0.0/24       99.0.0.1                98    123  32768 i
 *&gt; 5.1.1.0/24       99.0.0.1                98    123  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 *&gt; 6.0.1.0/24       99.0.0.1                98    123  32768 i
 *&gt; 6.0.2.0/24       99.0.0.1               100    100  32768 i
 *&gt; 99.0.0.1/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 12 total paths:
scripts/scale_down.py:0 WAIT:ce2:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:200.0:10:
Tue Oct 31 07:36:35 2023 (#180) scripts/scale_down.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:
COMMAND OUTPUT:Displayed  12 routes and 15 total paths:
R:180  ce2    BGP routes removed +0.03 secs                            1    0
Done after 1 loops, time=0.03383684158325195, Found= 12 route
Tue Oct 31 07:36:35 2023 (#181) scripts/scale_down.py:0 COMMAND:ce2:vtysh -c "show bgp ipv4 uni":.:none:BGP routes post remove:
COMMAND OUTPUT:BGP table version is 204774, local router ID is 99.0.0.2, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 * i5.1.0.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 * i5.1.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 *&gt;i5.1.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.1.3.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.2               100    100  32768 i
 *&gt; 6.0.2.0/24       99.0.0.2               100    100  32768 i
 *&gt;i99.0.0.1/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.2/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.3/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 15 total paths:
scripts/scale_down.py:0 WAIT:ce3:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:200.0:10:
Tue Oct 31 07:36:35 2023 (#181) scripts/scale_down.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni" | grep Display: 12 route:wait:BGP routes removed:
COMMAND OUTPUT:Displayed  12 routes and 13 total paths:
R:181  ce3    BGP routes removed +0.03 secs                            1    0
Done after 1 loops, time=0.03307485580444336, Found= 12 route
Tue Oct 31 07:36:35 2023 (#182) scripts/scale_down.py:0 COMMAND:ce3:vtysh -c "show bgp ipv4 uni":.:none:BGP routes post remove:
COMMAND OUTPUT:BGP table version is 162257, local router ID is 99.0.0.3, vrf id 0
Default local pref 100, local AS 5227
Status codes:  s suppressed, d damped, h history, * valid, &gt; best, = multipath,
               i internal, r RIB-failure, S Stale, R Removed
Nexthop codes: @NNN nexthop's vrf id, &lt; announce-nh-self
Origin codes:  i - IGP, e - EGP, ? - incomplete
RPKI validation codes: V valid, I invalid, N Not found

    Network          Next Hop            Metric LocPrf Weight Path
 *&gt;i5.1.0.0/24       192.168.1.1             98    123      0 i
 *&gt;i5.1.1.0/24       192.168.1.1             98    123      0 i
 *&gt; 5.1.2.0/24       99.0.0.3               200     50  32768 i
 *&gt; 5.1.3.0/24       99.0.0.3               200     50  32768 i
 *&gt;i5.4.2.0/24       192.168.1.1            200     50      0 i
 *&gt;i5.4.3.0/24       192.168.1.1            200     50      0 i
 * i6.0.1.0/24       192.168.1.1             98    123      0 i
 *&gt;                  99.0.0.3               200     50  32768 i
 *&gt; 6.0.2.0/24       99.0.0.3               100    100  32768 i
 *&gt;i99.0.0.1/32      192.168.1.1              0    100      0 i
 *&gt;i99.0.0.2/32      192.168.1.1              0    100      0 i
 *&gt; 99.0.0.3/32      0.0.0.0                  0         32768 i
 *&gt;i99.0.0.4/32      192.168.1.1              0    100      0 i

Displayed  12 routes and 13 total paths:
scripts/scale_down.py:0 WAIT:ce1:ip route show | grep -c \^10\.:^0$:wait:Linux routes removed:200.0:10:
Tue Oct 31 07:36:35 2023 (#182) scripts/scale_down.py:0 COMMAND:ce1:ip route show | grep -c \^10\.:^0$:wait:Linux routes removed:
COMMAND OUTPUT:0:
R:182  ce1    Linux routes removed +0.01 secs                          1    0
Done after 1 loops, time=0.005736112594604492, Found=0
Tue Oct 31 07:36:35 2023 (#183) scripts/scale_down.py:0 COMMAND:ce1:ip route show:.:none:Linux routes post remove:
COMMAND OUTPUT:5.1.2.0/24 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
5.1.3.0/24 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
5.4.2.0/24 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
5.4.3.0/24 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
99.0.0.2 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
99.0.0.3 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
99.0.0.4 nhid 8 via 192.168.1.1 dev ce1-eth0 proto bgp metric 20 
192.168.1.0/24 dev ce1-eth0 proto kernel scope link src 192.168.1.2:
scripts/scale_down.py:0 WAIT:ce2:ip route show | grep -c \^10\.:^0$:wait:Linux routes removed:200.0:10:
Tue Oct 31 07:36:35 2023 (#183) scripts/scale_down.py:0 COMMAND:ce2:ip route show | grep -c \^10\.:^0$:wait:Linux routes removed:
COMMAND OUTPUT:0:
R:183  ce2    Linux routes removed +0.01 secs                          1    0
Done after 1 loops, time=0.00786590576171875, Found=0
Tue Oct 31 07:36:35 2023 (#184) scripts/scale_down.py:0 COMMAND:ce2:ip route show:.:none:Linux routes post remove:
COMMAND OUTPUT:5.1.2.0/24 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
5.1.3.0/24 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
5.4.2.0/24 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
5.4.3.0/24 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
99.0.0.1 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
99.0.0.3 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
99.0.0.4 nhid 8 via 192.168.1.1 dev ce2-eth0 proto bgp metric 20 
192.168.1.0/24 dev ce2-eth0 proto kernel scope link src 192.168.1.2:
scripts/scale_down.py:0 WAIT:ce3:ip route show | grep -c \^10\.:^0$:wait:Linux routes removed:200.0:10:
Tue Oct 31 07:36:35 2023 (#184) scripts/scale_down.py:0 COMMAND:ce3:ip route show | grep -c \^10\.:^0$:wait:Linux routes removed:
COMMAND OUTPUT:0:
R:184  ce3    Linux routes removed +0.01 secs                          1    0
Done after 1 loops, time=0.006073713302612305, Found=0
Tue Oct 31 07:36:35 2023 (#185) scripts/scale_down.py:0 COMMAND:ce3:ip route show:.:none:Linux routes post remove:
COMMAND OUTPUT:5.1.0.0/24 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
5.1.1.0/24 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
5.4.2.0/24 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
5.4.3.0/24 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
99.0.0.1 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
99.0.0.2 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
99.0.0.4 nhid 8 via 192.168.1.1 dev ce3-eth0 proto bgp metric 20 
192.168.1.0/24 dev ce3-eth0 proto kernel scope link src 192.168.1.2:
scripts/scale_down.py:0 WAIT:r1:ip route show vrf r1-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:200.0:10:
Tue Oct 31 07:36:35 2023 (#185) scripts/scale_down.py:0 COMMAND:r1:ip route show vrf r1-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:
COMMAND OUTPUT:0:
R:185  r1     VRF route removed +0.01 secs                             1    0
Done after 1 loops, time=0.0065975189208984375, Found=0
scripts/scale_down.py:0 WAIT:r3:ip route show vrf r3-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:200.0:10:
Tue Oct 31 07:36:35 2023 (#186) scripts/scale_down.py:0 COMMAND:r3:ip route show vrf r3-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:
COMMAND OUTPUT:0:
R:186  r3     VRF route removed +0.01 secs                             1    0
Done after 1 loops, time=0.005761623382568359, Found=0
scripts/scale_down.py:0 WAIT:r4:ip route show vrf r4-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:200.0:10:
Tue Oct 31 07:36:35 2023 (#187) scripts/scale_down.py:0 COMMAND:r4:ip route show vrf r4-cust1 | grep -c \^10\.:^0$:wait:VRF route removed:
COMMAND OUTPUT:0:
R:187  r4     VRF route removed +0.01 secs                             1    0
Done after 1 loops, time=0.006394147872924805, Found=0
******************************************************************************
Total 187                                                            187  0
******************************************************************************

</system-out><system-err>--------------------------------- Captured Err ---------------------------------

</system-err></testcase></testsuite></testsuites>